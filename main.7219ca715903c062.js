(self.webpackChunkangular_starter=self.webpackChunkangular_starter||[]).push([[179],{316:(Ga,ge,ee)=>{"use strict";function P(t){return"function"==typeof t}function W(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const R=W(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,o)=>`${o+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function V(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class H{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const l of e)l.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(P(i))try{i()}catch(l){n=l instanceof R?l.errors:[l]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const l of o)try{B(l)}catch(d){n=n??[],d instanceof R?n=[...n,...d.errors]:n.push(d)}}if(n)throw new R(n)}}add(n){var e;if(n&&n!==this)if(this.closed)B(n);else{if(n instanceof H){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&V(e,n)}remove(n){const{_finalizers:e}=this;e&&V(e,n),n instanceof H&&n._removeParent(this)}}H.EMPTY=(()=>{const t=new H;return t.closed=!0,t})();const $=H.EMPTY;function Y(t){return t instanceof H||t&&"closed"in t&&P(t.remove)&&P(t.add)&&P(t.unsubscribe)}function B(t){P(t)?t():t.unsubscribe()}const U={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},F={setTimeout(t,n,...e){const{delegate:i}=F;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=F;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function T(t){F.setTimeout(()=>{const{onUnhandledError:n}=U;if(!n)throw t;n(t)})}function D(){}const C=f("C",void 0,void 0);function f(t,n,e){return{kind:t,value:n,error:e}}let _=null;function g(t){if(U.useDeprecatedSynchronousErrorHandling){const n=!_;if(n&&(_={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=_;if(_=null,e)throw i}}else t()}class y extends H{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Y(n)&&n.add(this)):this.destination=te}static create(n,e,i){return new M(n,e,i)}next(n){this.isStopped?q(function I(t){return f("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?q(function E(t){return f("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?q(C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function v(t,n){return O.call(t,n)}class w{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){L(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){L(i)}else L(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){L(e)}}}class M extends y{constructor(n,e,i){let o;if(super(),P(n)||!n)o={next:n??void 0,error:e??void 0,complete:i??void 0};else{let l;this&&U.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&v(n.next,l),error:n.error&&v(n.error,l),complete:n.complete&&v(n.complete,l)}):o=n}this.destination=new w(o)}}function L(t){U.useDeprecatedSynchronousErrorHandling?function p(t){U.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=t)}(t):T(t)}function q(t,n){const{onStoppedNotification:e}=U;e&&F.setTimeout(()=>e(t,n))}const te={closed:!0,next:D,error:function X(t){throw t},complete:D},ie="function"==typeof Symbol&&Symbol.observable||"@@observable";function oe(t){return t}function Ce(t){return 0===t.length?oe:1===t.length?t[0]:function(e){return t.reduce((i,o)=>o(i),e)}}let De=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,o){const l=function st(t){return t&&t instanceof y||function Ye(t){return t&&P(t.next)&&P(t.error)&&P(t.complete)}(t)&&Y(t)}(e)?e:new M(e,i,o);return g(()=>{const{operator:d,source:x}=this;l.add(d?d.call(l,x):x?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Ae(i))((o,l)=>{const d=new M({next:x=>{try{e(x)}catch(k){l(k),d.unsubscribe()}},error:l,complete:o});this.subscribe(d)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ie](){return this}pipe(...e){return Ce(e)(this)}toPromise(e){return new(e=Ae(e))((i,o)=>{let l;this.subscribe(d=>l=d,d=>o(d),()=>i(l))})}}return t.create=n=>new t(n),t})();function Ae(t){var n;return null!==(n=t??U.Promise)&&void 0!==n?n:Promise}const it=W(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let We=(()=>{class t extends De{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new we(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new it}next(e){g(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){g(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){g(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:o,observers:l}=this;return i||o?$:(this.currentObservers=null,l.push(e),new H(()=>{this.currentObservers=null,V(l,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:o,isStopped:l}=this;i?e.error(o):l&&e.complete()}asObservable(){const e=new De;return e.source=this,e}}return t.create=(n,e)=>new we(n,e),t})();class we extends We{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:$}}function Oe(t){return P(t?.lift)}function Le(t){return n=>{if(Oe(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(t,n,e,i,o){return new pt(t,n,e,i,o)}class pt extends y{constructor(n,e,i,o,l,d){super(n),this.onFinalize=l,this.shouldUnsubscribe=d,this._next=e?function(x){try{e(x)}catch(k){n.error(k)}}:super._next,this._error=o?function(x){try{o(x)}catch(k){n.error(k)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(x){n.error(x)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function nt(t,n){return Le((e,i)=>{let o=0;e.subscribe(Qe(i,l=>{i.next(t.call(n,l,o++))}))})}function tr(t){return this instanceof tr?(this.v=t,this):new tr(t)}function Yi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Wt(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(l){e[l]=t[l]&&function(d){return new Promise(function(x,k){!function o(l,d,x,k){Promise.resolve(k).then(function(K){l({value:K,done:x})},d)}(x,k,(d=t[l](d)).done,d.value)})}}}const ls=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ot(t){return P(t?.then)}function Bl(t){return P(t[ie])}function Cn(t){return Symbol.asyncIterator&&P(t?.[Symbol.asyncIterator])}function ho(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ys=function Ni(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function vd(t){return P(t?.[Ys])}function Ks(t){return function _c(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=e.apply(t,n||[]),l=[];return o={},d("next"),d("throw"),d("return"),o[Symbol.asyncIterator]=function(){return this},o;function d(xe){i[xe]&&(o[xe]=function(Ee){return new Promise(function(ke,Ne){l.push([xe,Ee,ke,Ne])>1||x(xe,Ee)})})}function x(xe,Ee){try{!function k(xe){xe.value instanceof tr?Promise.resolve(xe.value.v).then(K,ne):le(l[0][2],xe)}(i[xe](Ee))}catch(ke){le(l[0][3],ke)}}function K(xe){x("next",xe)}function ne(xe){x("throw",xe)}function le(xe,Ee){xe(Ee),l.shift(),l.length&&x(l[0][0],l[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:o}=yield tr(e.read());if(o)return yield tr(void 0);yield yield tr(i)}}finally{e.releaseLock()}})}function Ya(t){return P(t?.getReader)}function Ft(t){if(t instanceof De)return t;if(null!=t){if(Bl(t))return function Gt(t){return new De(n=>{const e=t[ie]();if(P(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ls(t))return function yd(t){return new De(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Ot(t))return function Mo(t){return new De(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,T)})}(t);if(Cn(t))return bi(t);if(vd(t))return function xc(t){return new De(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(Ya(t))return function ya(t){return bi(Ks(t))}(t)}throw ho(t)}function bi(t){return new De(n=>{(function bd(t,n){var e,i,o,l;return function ti(t,n,e,i){return new(e||(e=Promise))(function(l,d){function x(ne){try{K(i.next(ne))}catch(le){d(le)}}function k(ne){try{K(i.throw(ne))}catch(le){d(le)}}function K(ne){ne.done?l(ne.value):function o(l){return l instanceof e?l:new e(function(d){d(l)})}(ne.value).then(x,k)}K((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Yi(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(d){o={error:d}}finally{try{i&&!i.done&&(l=e.return)&&(yield l.call(e))}finally{if(o)throw o.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function yr(t,n,e,i=0,o=!1){const l=n.schedule(function(){e(),o?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(l),!o)return l}function Ci(t,n,e=1/0){return P(n)?Ci((i,o)=>nt((l,d)=>n(i,l,o,d))(Ft(t(i,o))),e):("number"==typeof n&&(e=n),Le((i,o)=>function To(t,n,e,i,o,l,d,x){const k=[];let K=0,ne=0,le=!1;const xe=()=>{le&&!k.length&&!K&&n.complete()},Ee=Ne=>K<i?ke(Ne):k.push(Ne),ke=Ne=>{l&&n.next(Ne),K++;let He=!1;Ft(e(Ne,ne++)).subscribe(Qe(n,et=>{o?.(et),l?Ee(et):n.next(et)},()=>{He=!0},void 0,()=>{if(He)try{for(K--;k.length&&K<i;){const et=k.shift();d?yr(n,d,()=>ke(et)):ke(et)}xe()}catch(et){n.error(et)}}))};return t.subscribe(Qe(n,Ee,()=>{le=!0,xe()})),()=>{x?.()}}(i,o,t,e)))}function Fi(t=1/0){return Ci(oe,t)}const Hi=new De(t=>t.complete());function Ec(t){return t&&P(t.schedule)}function Ko(t){return t[t.length-1]}function Ao(t){return P(Ko(t))?t.pop():void 0}function Br(t){return Ec(Ko(t))?t.pop():void 0}function Cc(t,n=0){return Le((e,i)=>{e.subscribe(Qe(i,o=>yr(i,t,()=>i.next(o),n),()=>yr(i,t,()=>i.complete(),n),o=>yr(i,t,()=>i.error(o),n)))})}function ba(t,n=0){return Le((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function zr(t,n){if(!t)throw new Error("Iterable cannot be null");return new De(e=>{yr(e,n,()=>{const i=t[Symbol.asyncIterator]();yr(e,n,()=>{i.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function hi(t,n){return n?function Xs(t,n){if(null!=t){if(Bl(t))return function Sc(t,n){return Ft(t).pipe(ba(n),Cc(n))}(t,n);if(ls(t))return function Oo(t,n){return new De(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(Ot(t))return function Ka(t,n){return Ft(t).pipe(ba(n),Cc(n))}(t,n);if(Cn(t))return zr(t,n);if(vd(t))return function qr(t,n){return new De(e=>{let i;return yr(e,n,()=>{i=t[Ys](),yr(e,n,()=>{let o,l;try{({value:o,done:l}=i.next())}catch(d){return void e.error(d)}l?e.complete():e.next(o)},0,!0)}),()=>P(i?.return)&&i.return()})}(t,n);if(Ya(t))return function ui(t,n){return zr(Ks(t),n)}(t,n)}throw ho(t)}(t,n):Ft(t)}function Ir(...t){const n=Br(t),e=function zl(t,n){return"number"==typeof Ko(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?Ft(i[0]):Fi(e)(hi(i,n)):Hi}function Xa(t={}){const{connector:n=(()=>new We),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:o=!0}=t;return l=>{let d,x,k,K=0,ne=!1,le=!1;const xe=()=>{x?.unsubscribe(),x=void 0},Ee=()=>{xe(),d=k=void 0,ne=le=!1},ke=()=>{const Ne=d;Ee(),Ne?.unsubscribe()};return Le((Ne,He)=>{K++,!le&&!ne&&xe();const et=k=k??n();He.add(()=>{K--,0===K&&!le&&!ne&&(x=Za(ke,o))}),et.subscribe(He),!d&&K>0&&(d=new M({next:Ge=>et.next(Ge),error:Ge=>{le=!0,xe(),x=Za(Ee,e,Ge),et.error(Ge)},complete:()=>{ne=!0,xe(),x=Za(Ee,i),et.complete()}}),Ft(Ne).subscribe(d))})(l)}}function Za(t,n,...e){if(!0===n)return void t();if(!1===n)return;const i=new M({next:()=>{i.unsubscribe(),t()}});return Ft(n(...e)).subscribe(i)}function Gn(t){for(let n in t)if(t[n]===Gn)return n;throw Error("Could not find renamed property on target object.")}function Jr(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Ki(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ki).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Io(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Zs=Gn({__forward_ref__:Gn});function qt(t){return t.__forward_ref__=qt,t.toString=function(){return Ki(this())},t}function on(t){return _a(t)?t():t}function _a(t){return"function"==typeof t&&t.hasOwnProperty(Zs)&&t.__forward_ref__===qt}function fo(t){return t&&!!t.\u0275providers}const Qa="https://g.co/ng/security#xss";class Je extends Error{constructor(n,e){super(function Si(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function rn(t){return"string"==typeof t?t:null==t?"":String(t)}function qe(t,n){throw new Je(-201,!1)}function Po(t,n){null==t&&function si(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(n,t,null,"!=")}function xt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ai(t){return{providers:t.providers||[],imports:t.imports||[]}}function wd(t){return xd(t,el)||xd(t,bm)}function xd(t,n){return t.hasOwnProperty(n)?t[n]:null}function ym(t){return t&&(t.hasOwnProperty($u)||t.hasOwnProperty(_m))?t[$u]:null}const el=Gn({\u0275prov:Gn}),$u=Gn({\u0275inj:Gn}),bm=Gn({ngInjectableDef:Gn}),_m=Gn({ngInjectorDef:Gn});var tn=(()=>((tn=tn||{})[tn.Default=0]="Default",tn[tn.Host=1]="Host",tn[tn.Self=2]="Self",tn[tn.SkipSelf=4]="SkipSelf",tn[tn.Optional=8]="Optional",tn))();let Wu;function li(t){const n=Wu;return Wu=t,n}function Vl(t,n,e){const i=wd(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&tn.Optional?null:void 0!==n?n:void qe(Ki(t))}const Ii=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ro={},Ut="__NG_DI_FLAG__",No="ngTempTokenPath",Jt=/\n/gm,Yu="__source";let Ss;function Ea(t){const n=Ss;return Ss=t,n}function Qv(t,n=tn.Default){if(void 0===Ss)throw new Je(-203,!1);return null===Ss?Vl(t,void 0,n):Ss.get(t,n&tn.Optional?null:void 0,n)}function je(t,n=tn.Default){return(function Gu(){return Wu}()||Qv)(on(t),n)}function It(t,n=tn.Default){return je(t,eo(n))}function eo(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Tc(t){const n=[];for(let e=0;e<t.length;e++){const i=on(t[e]);if(Array.isArray(i)){if(0===i.length)throw new Je(900,!1);let o,l=tn.Default;for(let d=0;d<i.length;d++){const x=i[d],k=xm(x);"number"==typeof k?-1===k?o=x.token:l|=k:o=x}n.push(je(o,l))}else n.push(je(i))}return n}function tl(t,n){return t[Ut]=n,t.prototype[Ut]=n,t}function xm(t){return t[Ut]}function Ca(t){return{toString:t}.toString()}var Fo=(()=>((Fo=Fo||{})[Fo.OnPush=0]="OnPush",Fo[Fo.Default=1]="Default",Fo))(),to=(()=>{return(t=to||(to={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",to;var t})();const Ds={},fi=[],Hl=Gn({\u0275cmp:Gn}),Ku=Gn({\u0275dir:Gn}),il=Gn({\u0275pipe:Gn}),kc=Gn({\u0275mod:Gn}),Qs=Gn({\u0275fac:Gn}),jl=Gn({__NG_ELEMENT_ID__:Gn}),yf=Gn({__NG_ENV_ID__:Gn});function bf(t,n,e){let i=t.length;for(;;){const o=t.indexOf(n,e);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const l=n.length;if(o+l===i||t.charCodeAt(o+l)<=32)return o}e=o+1}}function pi(t,n,e){let i=0;for(;i<e.length;){const o=e[i];if("number"==typeof o){if(0!==o)break;i++;const l=e[i++],d=e[i++],x=e[i++];t.setAttribute(n,d,x,l)}else{const l=o,d=e[++i];po(l)?t.setProperty(n,l,d):t.setAttribute(n,l,d),i++}}return i}function Cm(t){return 3===t||4===t||6===t}function po(t){return 64===t.charCodeAt(0)}function qs(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const o=n[i];"number"==typeof o?e=o:0===e||Ed(t,e,o,null,-1===e||2===e?n[++i]:null)}}return t}function Ed(t,n,e,i,o){let l=0,d=t.length;if(-1===n)d=-1;else for(;l<t.length;){const x=t[l++];if("number"==typeof x){if(x===n){d=-1;break}if(x>n){d=l-1;break}}}for(;l<t.length;){const x=t[l];if("number"==typeof x)break;if(x===e){if(null===i)return void(null!==o&&(t[l+1]=o));if(i===t[l+1])return void(t[l+2]=o)}l++,null!==i&&l++,null!==o&&l++}-1!==d&&(t.splice(d,0,n),l=d+1),t.splice(l++,0,e),null!==i&&t.splice(l++,0,i),null!==o&&t.splice(l++,0,o)}const Xu="ng-template";function Lo(t,n,e){let i=0,o=!0;for(;i<t.length;){let l=t[i++];if("string"==typeof l&&o){const d=t[i++];if(e&&"class"===l&&-1!==bf(d.toLowerCase(),n,0))return!0}else{if(1===l){for(;i<t.length&&"string"==typeof(l=t[i++]);)if(l.toLowerCase()===n)return!0;return!1}"number"==typeof l&&(o=!1)}}return!1}function Ul(t){return 4===t.type&&t.value!==Xu}function Xo(t,n,e){return n===(4!==t.type||e?t.value:Xu)}function Sm(t,n,e){let i=4;const o=t.attrs||[],l=function _f(t){for(let n=0;n<t.length;n++)if(Cm(t[n]))return n;return t.length}(o);let d=!1;for(let x=0;x<n.length;x++){const k=n[x];if("number"!=typeof k){if(!d)if(4&i){if(i=2|1&i,""!==k&&!Xo(t,k,e)||""===k&&1===n.length){if(Ms(i))return!1;d=!0}}else{const K=8&i?k:n[++x];if(8&i&&null!==t.attrs){if(!Lo(t.attrs,K,e)){if(Ms(i))return!1;d=!0}continue}const le=Zu(8&i?"class":k,o,Ul(t),e);if(-1===le){if(Ms(i))return!1;d=!0;continue}if(""!==K){let xe;xe=le>l?"":o[le+1].toLowerCase();const Ee=8&i?xe:null;if(Ee&&-1!==bf(Ee,K,0)||2&i&&K!==xe){if(Ms(i))return!1;d=!0}}}}else{if(!d&&!Ms(i)&&!Ms(k))return!1;if(d&&Ms(k))continue;d=!1,i=k|1&i}}return Ms(i)||d}function Ms(t){return 0==(1&t)}function Zu(t,n,e,i){if(null===n)return-1;let o=0;if(i||!e){let l=!1;for(;o<n.length;){const d=n[o];if(d===t)return o;if(3===d||6===d)l=!0;else{if(1===d||2===d){let x=n[++o];for(;"string"==typeof x;)x=n[++o];continue}if(4===d)break;if(0===d){o+=4;continue}}o+=l?1:2}return-1}return function qv(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function Sa(t,n,e=!1){for(let i=0;i<n.length;i++)if(Sm(t,n[i],e))return!0;return!1}function Qu(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let o=0;o<t.length;o++)if(t[o]!==i[o])continue e;return!0}}return!1}function Ac(t,n){return t?":not("+n.trim()+")":n}function Sd(t){let n=t[0],e=1,i=2,o="",l=!1;for(;e<t.length;){let d=t[e];if("string"==typeof d)if(2&i){const x=t[++e];o+="["+d+(x.length>0?'="'+x+'"':"")+"]"}else 8&i?o+="."+d:4&i&&(o+=" "+d);else""!==o&&!Ms(d)&&(n+=Ac(l,o),o=""),i=d,l=l||!Ms(i);e++}return""!==o&&(n+=Ac(l,o)),n}function _i(t){return Ca(()=>{const n=$l(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Fo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||to.Emulated,styles:t.styles||fi,_:null,schemas:t.schemas||null,tView:null,id:""};qu(e);const i=t.dependencies;return e.directiveDefs=ol(i,!1),e.pipeDefs=ol(i,!0),e.id=function wf(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const o of e)n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function Mm(t){return ni(t)||no(t)}function Oc(t){return null!==t}function mi(t){return Ca(()=>({type:t.type,bootstrap:t.bootstrap||fi,declarations:t.declarations||fi,imports:t.imports||fi,exports:t.exports||fi,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Tm(t,n){if(null==t)return Ds;const e={};for(const i in t)if(t.hasOwnProperty(i)){let o=t[i],l=o;Array.isArray(o)&&(l=o[1],o=o[0]),e[o]=i,n&&(n[o]=l)}return e}function Mt(t){return Ca(()=>{const n=$l(t);return qu(n),n})}function go(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ni(t){return t[Hl]||null}function no(t){return t[Ku]||null}function Di(t){return t[il]||null}function vo(t,n){const e=t[kc]||null;if(!e&&!0===n)throw new Error(`Type ${Ki(t)} does not have '\u0275mod' property.`);return e}function $l(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||fi,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tm(t.inputs,n),outputs:Tm(t.outputs)}}function qu(t){t.features?.forEach(n=>n(t))}function ol(t,n){if(!t)return null;const e=n?Di:Mm;return()=>("function"==typeof t?t():t).map(i=>e(i)).filter(Oc)}const xr=0,Lt=1,Sn=2,Qi=3,Ts=4,Js=5,Vr=6,Wl=7,ir=8,Qo=9,Hr=10,Dn=11,Da=12,Ju=13,ks=14,qi=15,Gl=16,Ma=17,Xi=18,sl=19,al=20,As=21,Ta=22,Dd=23,eh=24,Qn=25,th=1,km=2,ea=7,Md=8,ll=9,Er=11;function io(t){return Array.isArray(t)&&"object"==typeof t[th]}function qo(t){return Array.isArray(t)&&!0===t[th]}function xf(t){return 0!=(4&t.flags)}function Yl(t){return t.componentOffset>-1}function cl(t){return 1==(1&t.flags)}function Is(t){return!!t.template}function Ef(t){return 0!=(512&t[Sn])}function Xl(t,n){return t.hasOwnProperty(Qs)?t[Qs]:null}let Ic=Ii.WeakRef??class oh{constructor(n){this.ref=n}deref(){return this.ref}},Sf=0,ds=null,kd=!1;function Jn(t){const n=ds;return ds=t,n}class Pc{constructor(){this.id=Sf++,this.ref=function Zl(t){return new Ic(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,e]of this.producers){const i=e.producerNode.deref();if(void 0!==i&&e.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(e.seenValueVersion))return!0}else this.producers.delete(n),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=kd;kd=!0;try{for(const[e,i]of this.consumers){const o=i.consumerNode.deref();void 0!==o&&o.trackingVersion===i.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(e),o?.producers.delete(this.id))}}finally{kd=n}}producerAccessed(){if(kd)throw new Error("");if(null===ds)return;let n=ds.producers.get(this.id);void 0===n?(n={consumerNode:ds.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ds.trackingVersion},ds.producers.set(this.id,n),this.consumers.set(ds.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=ds.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ds?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let hl=null;const Im=()=>{};class ly extends Pc{constructor(n,e,i){super(),this.watch=n,this.schedule=e,this.dirty=!1,this.cleanupFn=Im,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=Jn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Im,this.watch(this.registerOnCleanup)}finally{Jn(n)}}cleanup(){this.cleanupFn()}}class cy{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Rr(){return us}function us(t){return t.type.prototype.ngOnChanges&&(t.setInput=Pm),na}function na(){const t=Rm(this),n=t?.current;if(n){const e=t.previous;if(e===Ds)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function Pm(t,n,e,i){const o=this.declaredInputs[e],l=Rm(t)||function Nm(t,n){return t[ia]=n}(t,{previous:Ds,current:null}),d=l.current||(l.current={}),x=l.previous,k=x[o];d[o]=new cy(k&&k.currentValue,n,x===Ds),t[i]=n}Rr.ngInherit=!0;const ia="__ngSimpleChanges__";function Rm(t){return t[ia]||null}const ur=function(t,n,e){},Rc="svg";function z(t){for(;Array.isArray(t);)t=t[xr];return t}function he(t,n){return z(n[t])}function pe(t,n){return z(n[t.index])}function Xe(t,n){return t.data[n]}function ot(t,n){return t[n]}function en(t,n){const e=n[t];return io(e)?e:e[xr]}function Ji(t){return 128==(128&t[Sn])}function zo(t,n){return null==n?null:t[n]}function Ql(t){t[Ma]=0}function dy(t){1024&t[Sn]||(t[Sn]|=1024,ah(t,1))}function hs(t){1024&t[Sn]&&(t[Sn]&=-1025,ah(t,-1))}function ah(t,n){let e=t[Qi];if(null===e)return;e[Js]+=n;let i=e;for(e=e[Qi];null!==e&&(1===n&&1===i[Js]||-1===n&&0===i[Js]);)e[Js]+=n,i=e,e=e[Qi]}const gn={lFrame:by(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vt(){return gn.bindingsEnabled}function dt(){return gn.lFrame.lView}function gi(){return gn.lFrame.tView}function Ur(t){return gn.lFrame.contextLView=t,t[ir]}function bo(t){return gn.lFrame.contextLView=null,t}function $r(){let t=py();for(;null!==t&&64===t.type;)t=t.parent;return t}function py(){return gn.lFrame.currentTNode}function Aa(t,n){const e=gn.lFrame;e.currentTNode=t,e.isParent=n}function my(){return gn.lFrame.isParent}function gy(){gn.lFrame.isParent=!1}function ro(){const t=gn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ns(){return gn.lFrame.bindingIndex++}function ql(t){const n=gn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function F0(t,n){const e=gn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Cr(n)}function Cr(t){gn.lFrame.currentDirectiveIndex=t}function Of(){return gn.lFrame.currentQueryIndex}function yy(t){gn.lFrame.currentQueryIndex=t}function oo(t){const n=t[Lt];return 2===n.type?n.declTNode:1===n.type?t[Vr]:null}function Id(t,n,e){if(e&tn.SkipSelf){let o=n,l=t;for(;!(o=o.parent,null!==o||e&tn.Host||(o=oo(l),null===o||(l=l[ks],10&o.type))););if(null===o)return!1;n=o,t=l}const i=gn.lFrame=L0();return i.currentTNode=n,i.lView=t,!0}function If(t){const n=L0(),e=t[Lt];gn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function L0(){const t=gn.lFrame,n=null===t?null:t.child;return null===n?by(t):n}function by(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function _y(){const t=gn.lFrame;return gn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const B0=_y;function uh(){const t=_y();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Wr(){return gn.lFrame.selectedIndex}function _o(t){gn.lFrame.selectedIndex=t}function hr(){const t=gn.lFrame;return Xe(t.tView,t.selectedIndex)}function Nc(){gn.lFrame.currentNamespace=Rc}function hh(){!function QC(){gn.lFrame.currentNamespace=null}()}let Oa=!0;function Pf(){return Oa}function ra(t){Oa=t}function pl(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const l=t.data[e].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:x,ngAfterViewInit:k,ngAfterViewChecked:K,ngOnDestroy:ne}=l;d&&(t.contentHooks??=[]).push(-e,d),x&&((t.contentHooks??=[]).push(e,x),(t.contentCheckHooks??=[]).push(e,x)),k&&(t.viewHooks??=[]).push(-e,k),K&&((t.viewHooks??=[]).push(e,K),(t.viewCheckHooks??=[]).push(e,K)),null!=ne&&(t.destroyHooks??=[]).push(e,ne)}}function Rf(t,n,e){Bm(t,n,3,e)}function Pd(t,n,e,i){(3&t[Sn])===e&&Bm(t,n,e,i)}function Nf(t,n){let e=t[Sn];(3&e)===n&&(e&=4095,e+=1,t[Sn]=e)}function Bm(t,n,e,i){const l=i??-1,d=n.length-1;let x=0;for(let k=void 0!==i?65535&t[Ma]:0;k<d;k++)if("number"==typeof n[k+1]){if(x=n[k],null!=i&&x>=i)break}else n[k]<0&&(t[Ma]+=65536),(x<l||-1==l)&&(Ey(t,e,n,k),t[Ma]=(4294901760&t[Ma])+k+2),k++}function xy(t,n){ur(4,t,n);const e=Jn(null);try{n.call(t)}finally{Jn(e),ur(5,t,n)}}function Ey(t,n,e,i){const o=e[i]<0,l=e[i+1],x=t[o?-e[i]:e[i]];o?t[Sn]>>12<t[Ma]>>16&&(3&t[Sn])===n&&(t[Sn]+=4096,xy(x,l)):xy(x,l)}const fh=-1;class Rd{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Lf(t){return t!==fh}function kn(t){return 32767&t}function Fc(t,n){let e=function $0(t){return t>>16}(t),i=n;for(;e>0;)i=i[ks],e--;return i}let zm=!0;function Bf(t){const n=zm;return zm=t,n}const Dy=255,W0=5;let Lc=0;const Ia={};function Nd(t,n){const e=zf(t,n);if(-1!==e)return e;const i=n[Lt];i.firstCreatePass&&(t.injectorIndex=n.length,ph(i.data,t),ph(n,null),ph(i.blueprint,null));const o=Fd(t,n),l=t.injectorIndex;if(Lf(o)){const d=kn(o),x=Fc(o,n),k=x[Lt].data;for(let K=0;K<8;K++)n[l+K]=x[d+K]|k[d+K]}return n[l+8]=o,l}function ph(t,n){t.push(0,0,0,0,0,0,0,0,n)}function zf(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Fd(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,o=n;for(;null!==o;){if(i=Iy(o),null===i)return fh;if(e++,o=o[ks],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return fh}function Vm(t,n,e){!function G0(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(jl)&&(i=e[jl]),null==i&&(i=e[jl]=Lc++);const o=i&Dy;n.data[t+(o>>W0)]|=1<<o}(t,n,e)}function Vf(t,n,e){if(e&tn.Optional||void 0!==t)return t;qe()}function My(t,n,e,i){if(e&tn.Optional&&void 0===i&&(i=null),!(e&(tn.Self|tn.Host))){const o=t[Qo],l=li(void 0);try{return o?o.get(n,i,e&tn.Optional):Vl(n,i,e&tn.Optional)}finally{li(l)}}return Vf(i,0,e)}function Ty(t,n,e,i=tn.Default,o){if(null!==t){if(2048&n[Sn]){const d=function Q0(t,n,e,i,o){let l=t,d=n;for(;null!==l&&null!==d&&2048&d[Sn]&&!(512&d[Sn]);){const x=ky(l,d,e,i|tn.Self,Ia);if(x!==Ia)return x;let k=l.parent;if(!k){const K=d[al];if(K){const ne=K.get(e,Ia,i);if(ne!==Ia)return ne}k=Iy(d),d=d[ks]}l=k}return o}(t,n,e,i,Ia);if(d!==Ia)return d}const l=ky(t,n,e,i,Ia);if(l!==Ia)return l}return My(n,e,i,o)}function ky(t,n,e,i,o){const l=function X0(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(jl)?t[jl]:void 0;return"number"==typeof n?n>=0?n&Dy:Z0:n}(e);if("function"==typeof l){if(!Id(n,t,i))return i&tn.Host?Vf(o,0,i):My(n,e,i,o);try{const d=l(i);if(null!=d||i&tn.Optional)return d;qe()}finally{B0()}}else if("number"==typeof l){let d=null,x=zf(t,n),k=fh,K=i&tn.Host?n[qi][Vr]:null;for((-1===x||i&tn.SkipSelf)&&(k=-1===x?Fd(t,n):n[x+8],k!==fh&&Ay(i,!1)?(d=n[Lt],x=kn(k),n=Fc(k,n)):x=-1);-1!==x;){const ne=n[Lt];if(Hm(l,x,ne.data)){const le=K0(x,n,e,d,i,K);if(le!==Ia)return le}k=n[x+8],k!==fh&&Ay(i,n[Lt].data[x+8]===K)&&Hm(l,x,n)?(d=ne,x=kn(k),n=Fc(k,n)):x=-1}}return o}function K0(t,n,e,i,o,l){const d=n[Lt],x=d.data[t+8],ne=Ld(x,d,e,null==i?Yl(x)&&zm:i!=d&&0!=(3&x.type),o&tn.Host&&l===x);return null!==ne?Bc(n,d,ne,x):Ia}function Ld(t,n,e,i,o){const l=t.providerIndexes,d=n.data,x=1048575&l,k=t.directiveStart,ne=l>>20,xe=o?x+ne:t.directiveEnd;for(let Ee=i?x:x+ne;Ee<xe;Ee++){const ke=d[Ee];if(Ee<k&&e===ke||Ee>=k&&ke.type===e)return Ee}if(o){const Ee=d[k];if(Ee&&Is(Ee)&&Ee.type===e)return k}return null}function Bc(t,n,e,i){let o=t[e];const l=n.data;if(function j0(t){return t instanceof Rd}(o)){const d=o;d.resolving&&function ye(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Je(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Yn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():rn(t)}(l[e]));const x=Bf(d.canSeeViewProviders);d.resolving=!0;const k=d.injectImpl?li(d.injectImpl):null;Id(t,i,tn.Default);try{o=t[e]=d.factory(void 0,l,t,i),n.firstCreatePass&&e>=i.directiveStart&&function H0(t,n,e){const{ngOnChanges:i,ngOnInit:o,ngDoCheck:l}=n.type.prototype;if(i){const d=us(n);(e.preOrderHooks??=[]).push(t,d),(e.preOrderCheckHooks??=[]).push(t,d)}o&&(e.preOrderHooks??=[]).push(0-t,o),l&&((e.preOrderHooks??=[]).push(t,l),(e.preOrderCheckHooks??=[]).push(t,l))}(e,l[e],n)}finally{null!==k&&li(k),Bf(x),d.resolving=!1,B0()}}return o}function Hm(t,n,e){return!!(e[n+(t>>W0)]&1<<t)}function Ay(t,n){return!(t&tn.Self||t&tn.Host&&n)}class mh{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return Ty(this._tNode,this._lView,n,eo(i),e)}}function Z0(){return new mh($r(),dt())}function fr(t){return Ca(()=>{const n=t.prototype.constructor,e=n[Qs]||Oy(n),i=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==i;){const l=o[Qs]||Oy(o);if(l&&l!==e)return l;o=Object.getPrototypeOf(o)}return l=>new l})}function Oy(t){return _a(t)?()=>{const n=Oy(on(t));return n&&n()}:Xl(t)}function Iy(t){const n=t[Lt],e=n.type;return 2===e?n.declTNode:1===e?t[Vr]:null}function Bd(t){return function Y0(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let o=0;for(;o<i;){const l=e[o];if(Cm(l))break;if(0===l)o+=2;else if("number"==typeof l)for(o++;o<i&&"string"==typeof e[o];)o++;else{if(l===n)return e[o+1];o+=2}}}return null}($r(),t)}const rr="__parameters__";function gl(t,n,e){return Ca(()=>{const i=function Sr(t){return function(...e){if(t){const i=t(...e);for(const o in i)this[o]=i[o]}}}(n);function o(...l){if(this instanceof o)return i.apply(this,l),this;const d=new o(...l);return x.annotation=d,x;function x(k,K,ne){const le=k.hasOwnProperty(rr)?k[rr]:Object.defineProperty(k,rr,{value:[]})[rr];for(;le.length<=ne;)le.push(null);return(le[ne]=le[ne]||[]).push(d),k}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function jf(t,n){t.forEach(e=>Array.isArray(e)?jf(e,n):n(e))}function Uf(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function gh(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Vd(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}function Bs(t,n,e){let i=Hd(t,n);return i>=0?t[1|i]=e:(i=~i,function Um(t,n,e,i){let o=t.length;if(o==n)t.push(e,i);else if(1===o)t.push(i,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function Fy(t,n){const e=Hd(t,n);if(e>=0)return t[1|e]}function Hd(t,n){return function pr(t,n,e){let i=0,o=t.length>>e;for(;o!==i;){const l=i+(o-i>>1),d=t[l<<e];if(n===d)return l<<e;d>n?o=l:i=l+1}return~(o<<e)}(t,n,1)}const yl=tl(gl("Optional"),8),Vc=tl(gl("SkipSelf"),4);var ps=(()=>((ps=ps||{})[ps.Important=1]="Important",ps[ps.DashCase=2]="DashCase",ps))();const lw=/^>|^->|<!--|-->|--!>|<!-$/g,cw=/(<|>)/,Ud="\u200b$1\u200b";const $d=new Map;let Wy=0;const qm="__ngContext__";function wo(t,n){io(n)?(t[qm]=n[sl],function dw(t){$d.set(t[sl],t)}(n)):t[qm]=n}let mr;function eg(t,n){return mr(t,n)}function Dh(t){const n=t[Qi];return qo(n)?n[Qi]:n}function tg(t){return Qy(t[Da])}function Zf(t){return Qy(t[Ts])}function Qy(t){for(;null!==t&&!qo(t);)t=t[Ts];return t}function Wd(t,n,e,i,o){if(null!=i){let l,d=!1;qo(i)?l=i:io(i)&&(d=!0,i=i[xr]);const x=z(i);0===t&&null!==e?null==o?nb(n,e,x):Uc(n,e,x,o||null,!0):1===t&&null!==e?Uc(n,e,x,o||null,!0):2===t?function ip(t,n,e){const i=ep(t,n);i&&function yw(t,n,e,i){t.removeChild(n,e,i)}(t,i,n,e)}(n,x,d):3===t&&n.destroyNode(x),null!=l&&function ob(t,n,e,i,o){const l=e[ea];l!==z(e)&&Wd(n,t,i,l,o);for(let x=Er;x<e.length;x++){const k=e[x];Kd(k[Lt],k,t,n,i,l)}}(n,t,l,e,o)}}function Pa(t,n){return t.createComment(function jc(t){return t.replace(lw,n=>n.replace(cw,Ud))}(n))}function ig(t,n,e){return t.createElement(n,e)}function Jy(t,n){const e=t[ll],i=e.indexOf(n);hs(n),e.splice(i,1)}function eb(t,n){if(t.length<=Er)return;const e=Er+n,i=t[e];if(i){const o=i[Gl];null!==o&&o!==t&&Jy(o,i),n>0&&(t[e-1][Ts]=i[Ts]);const l=gh(t,Er+n);!function mw(t,n){Kd(t,n,n[Dn],2,null,null),n[xr]=null,n[Vr]=null}(i[Lt],i);const d=l[Xi];null!==d&&d.detachView(l[Lt]),i[Qi]=null,i[Ts]=null,i[Sn]&=-129}return i}function vw(t,n){if(!(256&n[Sn])){const e=n[Dn];n[Dd]?.destroy(),n[eh]?.destroy(),e.destroyNode&&Kd(t,n,e,3,null,null),function qf(t){let n=t[Da];if(!n)return ec(t[Lt],t);for(;n;){let e=null;if(io(n))e=n[Da];else{const i=n[Er];i&&(e=i)}if(!e){for(;n&&!n[Ts]&&n!==t;)io(n)&&ec(n[Lt],n),n=n[Qi];null===n&&(n=t),io(n)&&ec(n[Lt],n),e=n&&n[Ts]}n=e}}(n)}}function ec(t,n){if(!(256&n[Sn])){n[Sn]&=-129,n[Sn]|=256,function wS(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const o=n[e[i]];if(!(o instanceof Rd)){const l=e[i+1];if(Array.isArray(l))for(let d=0;d<l.length;d+=2){const x=o[l[d]],k=l[d+1];ur(4,x,k);try{k.call(x)}finally{ur(5,x,k)}}else{ur(4,o,l);try{l.call(o)}finally{ur(5,o,l)}}}}}(t,n),function Jf(t,n){const e=t.cleanup,i=n[Wl];if(null!==e)for(let l=0;l<e.length-1;l+=2)if("string"==typeof e[l]){const d=e[l+3];d>=0?i[d]():i[-d].unsubscribe(),l+=2}else e[l].call(i[e[l+1]]);null!==i&&(n[Wl]=null);const o=n[As];if(null!==o){for(let l=0;l<o.length;l++)(0,o[l])();n[As]=null}}(t,n),1===n[Lt].type&&n[Dn].destroy();const e=n[Gl];if(null!==e&&qo(n[Qi])){e!==n[Qi]&&Jy(e,n);const i=n[Xi];null!==i&&i.detachView(t)}!function Zm(t){$d.delete(t[sl])}(n)}}function rg(t,n,e){return function tb(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[xr];{const{componentOffset:o}=i;if(o>-1){const{encapsulation:l}=t.data[i.directiveStart+o];if(l===to.None||l===to.Emulated)return null}return pe(i,e)}}(t,n.parent,e)}function Uc(t,n,e,i,o){t.insertBefore(n,e,i,o)}function nb(t,n,e){t.appendChild(n,e)}function ib(t,n,e,i,o){null!==i?Uc(t,n,e,i,o):nb(t,n,e)}function ep(t,n){return t.parentNode(n)}function Mh(t,n,e){return sg(t,n,e)}let Gd,Xd,ab,sg=function bw(t,n,e){return 40&t.type?pe(t,e):null};function tp(t,n,e,i){const o=rg(t,i,n),l=n[Dn],x=Mh(i.parent||n[Vr],i,n);if(null!=o)if(Array.isArray(e))for(let k=0;k<e.length;k++)ib(l,o,e[k],x,!1);else ib(l,o,e,x,!1);void 0!==Gd&&Gd(l,i,n,e,o)}function Th(t,n){if(null!==n){const e=n.type;if(3&e)return pe(n,t);if(4&e)return np(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return Th(t,i);{const o=t[n.index];return qo(o)?np(-1,o):z(o)}}if(32&e)return eg(n,t)()||z(t[n.index]);{const i=_w(t,n);return null!==i?Array.isArray(i)?i[0]:Th(Dh(t[qi]),i):Th(t,n.next)}}return null}function _w(t,n){return null!==n?t[qi][Vr].projection[n.projection]:null}function np(t,n){const e=Er+t+1;if(e<n.length){const i=n[e],o=i[Lt].firstChild;if(null!==o)return Th(i,o)}return n[ea]}function Yd(t,n,e,i,o,l,d){for(;null!=e;){const x=i[e.index],k=e.type;if(d&&0===n&&(x&&wo(z(x),i),e.flags|=2),32!=(32&e.flags))if(8&k)Yd(t,n,e.child,i,o,l,!1),Wd(n,t,o,x,l);else if(32&k){const K=eg(e,i);let ne;for(;ne=K();)Wd(n,t,o,ne,l);Wd(n,t,o,x,l)}else 16&k?rb(t,n,i,e,o,l):Wd(n,t,o,x,l);e=d?e.projectionNext:e.next}}function Kd(t,n,e,i,o,l){Yd(e,i,t.firstChild,n,o,l,!1)}function rb(t,n,e,i,o,l){const d=e[qi],k=d[Vr].projection[i.projection];if(Array.isArray(k))for(let K=0;K<k.length;K++)Wd(n,t,o,k[K],l);else Yd(t,n,k,d[Qi],o,l,!0)}function Cw(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function sb(t,n,e){const{mergedAttrs:i,classes:o,styles:l}=e;null!==i&&pi(t,n,i),null!==o&&Cw(t,n,o),null!==l&&function ES(t,n,e){t.setAttribute(n,"style",e)}(t,n,l)}function Zd(t){return function ag(){if(void 0===Xd&&(Xd=null,Ii.trustedTypes))try{Xd=Ii.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xd}()?.createHTML(t)||t}class Qd{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qa})`}}class MS extends Qd{getTypeName(){return"HTML"}}class TS extends Qd{getTypeName(){return"Style"}}class kS extends Qd{getTypeName(){return"Script"}}class ca extends Qd{getTypeName(){return"URL"}}class AS extends Qd{getTypeName(){return"ResourceURL"}}function Ho(t){return t instanceof Qd?t.changingThisBreaksApplicationSecurity:t}function zs(t,n){const e=function Tw(t){return t instanceof Qd&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Qa})`)}return e===n}class kh{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(Zd(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class dg{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=Zd(n),e}}const Na=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ug(t){return(t=String(t)).match(Na)?t:"unsafe:"+t}function Vs(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Ah(...t){const n={};for(const e of t)for(const i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}const Ow=Vs("area,br,col,hr,img,wbr"),Iw=Vs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wl=Vs("rp,rt"),Jd=Ah(Ow,Ah(Iw,Vs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ah(wl,Vs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ah(wl,Iw)),ub=Vs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hg=Ah(ub,Vs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),RS=Vs("script,style,template");class fg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!Jd.hasOwnProperty(e))return this.sanitizedSomething=!0,!RS.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=n.attributes;for(let o=0;o<i.length;o++){const l=i.item(o),d=l.name,x=d.toLowerCase();if(!hg.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let k=l.value;ub[x]&&(k=ug(k)),this.buf.push(" ",d,'="',pg(k),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();Jd.hasOwnProperty(e)&&!Ow.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(pg(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const NS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pw=/([^\#-~ |!])/g;function pg(t){return t.replace(/&/g,"&amp;").replace(NS,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Pw,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let La;function ap(t,n){let e=null;try{La=La||function Aw(t){const n=new dg(t);return function qd(){try{return!!(new window.DOMParser).parseFromString(Zd(""),"text/html")}catch{return!1}}()?new kh(n):n}(t);let i=n?String(n):"";e=La.getInertBodyElement(i);let o=5,l=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=l,l=e.innerHTML,e=La.getInertBodyElement(i)}while(i!==l);return Zd((new fg).sanitizeChildren(mg(e)||e))}finally{if(e){const i=mg(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function mg(t){return"content"in t&&function Rw(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ii=(()=>((ii=ii||{})[ii.NONE=0]="NONE",ii[ii.HTML=1]="HTML",ii[ii.STYLE=2]="STYLE",ii[ii.SCRIPT=3]="SCRIPT",ii[ii.URL=4]="URL",ii[ii.RESOURCE_URL=5]="RESOURCE_URL",ii))();class ht{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=xt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Oh=new ht("ENVIRONMENT_INITIALIZER"),mb=new ht("INJECTOR",-1),Lw=new ht("INJECTOR_DEF_TYPES");class Bw{get(n,e=Ro){if(e===Ro){const i=new Error(`NullInjectorError: No provider for ${Ki(n)}!`);throw i.name="NullInjectorError",i}return e}}function zS(...t){return{\u0275providers:Ih(0,t),\u0275fromNgModule:!0}}function Ih(t,...n){const e=[],i=new Set;let o;return jf(n,l=>{const d=l;vb(d,e,[],i)&&(o||=[],o.push(d))}),void 0!==o&&gb(o,e),e}function gb(t,n){for(let e=0;e<t.length;e++){const{providers:o}=t[e];yg(o,l=>{n.push(l)})}}function vb(t,n,e,i){if(!(t=on(t)))return!1;let o=null,l=ym(t);const d=!l&&ni(t);if(l||d){if(d&&!d.standalone)return!1;o=t}else{const k=t.ngModule;if(l=ym(k),!l)return!1;o=k}const x=i.has(o);if(d){if(x)return!1;if(i.add(o),d.dependencies){const k="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const K of k)vb(K,n,e,i)}}else{if(!l)return!1;{if(null!=l.imports&&!x){let K;i.add(o);try{jf(l.imports,ne=>{vb(ne,n,e,i)&&(K||=[],K.push(ne))})}finally{}void 0!==K&&gb(K,n)}if(!x){const K=Xl(o)||(()=>new o);n.push({provide:o,useFactory:K,deps:fi},{provide:Lw,useValue:o,multi:!0},{provide:Oh,useValue:()=>je(o),multi:!0})}const k=l.providers;null==k||x||yg(k,ne=>{n.push(ne)})}}return o!==t&&void 0!==t.providers}function yg(t,n){for(let e of t)fo(e)&&(e=e.\u0275providers),Array.isArray(e)?yg(e,n):n(e)}const zw=Gn({provide:String,useValue:Gn});function bg(t){return null!==t&&"object"==typeof t&&zw in t}function ms(t){return"function"==typeof t}const eu=new ht("Set Injector scope."),Ph={},Uw={};let _g;function dp(){return void 0===_g&&(_g=new Bw),_g}class xl{}class yb extends xl{get destroyed(){return this._destroyed}constructor(n,e,i,o){super(),this.parent=e,this.source=i,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hp(n,d=>this.processProvider(d)),this.records.set(mb,$c(void 0,this)),o.has("environment")&&this.records.set(xl,$c(void 0,this));const l=this.records.get(eu);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Lw.multi,fi,tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Ea(this),i=li(void 0);try{return n()}finally{Ea(e),li(i)}}get(n,e=Ro,i=tn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(yf))return n[yf](this);i=eo(i);const o=Ea(this),l=li(void 0);try{if(!(i&tn.SkipSelf)){let x=this.records.get(n);if(void 0===x){const k=function $w(t){return"function"==typeof t||"object"==typeof t&&t instanceof ht}(n)&&wd(n);x=k&&this.injectableDefInScope(k)?$c(up(n),Ph):null,this.records.set(n,x)}if(null!=x)return this.hydrate(n,x)}return(i&tn.Self?dp():this.parent).get(n,e=i&tn.Optional&&e===Ro?null:e)}catch(d){if("NullInjectorError"===d.name){if((d[No]=d[No]||[]).unshift(Ki(n)),o)throw d;return function Em(t,n,e,i){const o=t[No];throw n[Yu]&&o.unshift(n[Yu]),t.message=function nl(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=Ki(n);if(Array.isArray(n))o=n.map(Ki).join(" -> ");else if("object"==typeof n){let l=[];for(let d in n)if(n.hasOwnProperty(d)){let x=n[d];l.push(d+":"+("string"==typeof x?JSON.stringify(x):Ki(x)))}o=`{${l.join(", ")}}`}return`${e}${i?"("+i+")":""}[${o}]: ${t.replace(Jt,"\n  ")}`}("\n"+t.message,o,e,i),t.ngTokenPath=o,t[No]=null,t}(d,n,"R3InjectorError",this.source)}throw d}finally{li(l),Ea(o)}}resolveInjectorInitializers(){const n=Ea(this),e=li(void 0);try{const i=this.get(Oh.multi,fi,tn.Self);for(const o of i)o()}finally{Ea(n),li(e)}}toString(){const n=[],e=this.records;for(const i of e.keys())n.push(Ki(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(n){let e=ms(n=on(n))?n:on(n&&n.provide);const i=function bb(t){return bg(t)?$c(void 0,t.useValue):$c(_b(t),Ph)}(n);if(ms(n)||!0!==n.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=$c(void 0,Ph,!0),o.factory=()=>Tc(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,i)}hydrate(n,e){return e.value===Ph&&(e.value=Uw,e.value=e.factory()),"object"==typeof e.value&&e.value&&function xg(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=on(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function up(t){const n=wd(t),e=null!==n?n.factory:Xl(t);if(null!==e)return e;if(t instanceof ht)throw new Je(204,!1);if(t instanceof Function)return function wg(t){const n=t.length;if(n>0)throw Vd(n,"?"),new Je(204,!1);const e=function Uu(t){return t&&(t[el]||t[bm])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Je(204,!1)}function _b(t,n,e){let i;if(ms(t)){const o=on(t);return Xl(o)||up(o)}if(bg(t))i=()=>on(t.useValue);else if(function Hw(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...Tc(t.deps||[]));else if(function Vw(t){return!(!t||!t.useExisting)}(t))i=()=>je(on(t.useExisting));else{const o=on(t&&(t.useClass||t.provide));if(!function wb(t){return!!t.deps}(t))return Xl(o)||up(o);i=()=>new o(...Tc(t.deps))}return i}function $c(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function hp(t,n){for(const e of t)Array.isArray(e)?hp(e,n):e&&fo(e)?hp(e.\u0275providers,n):n(e)}const Rh=new ht("AppId",{providedIn:"root",factory:()=>xb}),xb="ng",Eb=new ht("Platform Initializer"),Wc=new ht("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gs=new ht("AnimationModuleType"),Eg=new ht("CSP nonce",{providedIn:"root",factory:()=>function rp(){return void 0!==ab?ab:typeof document<"u"?document:void 0}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Xw=(t,n)=>null;function Fh(t,n){return Xw(t,n)}class Tb{}class tx{}class Ob{resolveComponentFactory(n){throw function kb(t){const n=Error(`No component factory found for ${Ki(t)}.`);return n.ngComponent=t,n}(n)}}let tc=(()=>{class t{static#e=this.NULL=new Ob}return t})();function nx(){return nc($r(),dt())}function nc(t,n){return new Hn(pe(t,n))}let Hn=(()=>{class t{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=nx}return t})();function US(t){return t instanceof Hn?t.nativeElement:t}class iu{}let El=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=()=>function Ib(){const t=dt(),e=en($r().index,t);return(io(e)?e:t)[Dn]}()}return t})(),Pb=(()=>{class t{static#e=this.\u0275prov=xt({token:t,providedIn:"root",factory:()=>null})}return t})();class da{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Rb=new da("16.0.0"),bp={};function Kc(t){for(;t;){t[Sn]|=64;const n=Dh(t);if(Ef(t)&&!n)return t;t=n}return null}function ru(t){return t.ngOriginalError}class vs{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&ru(n);for(;e&&ru(e);)e=ru(e);return e||null}}const ox=new ht("",{providedIn:"root",factory:()=>!1});function Cl(t){return t instanceof Function?t():t}class Lg extends Pc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){Kc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,e,i){const o=Jn(this);this.trackingVersion++;try{n(e,i)}finally{Jn(o)}}destroy(){this.trackingVersion++}}let Bh=null;function Bg(){return Bh??=new Lg,Bh}function dx(t,n){return t[n]??Bg()}function ux(t,n){const e=Bg();e.hasReadASignal&&(t[n]=Bh,e.lView=t,Bh=new Lg)}const Tn={};function yt(t){zg(gi(),dt(),Wr()+t,!1)}function zg(t,n,e,i){if(!i)if(3==(3&n[Sn])){const l=t.preOrderCheckHooks;null!==l&&Rf(n,l,e)}else{const l=t.preOrderHooks;null!==l&&Pd(n,l,0,e)}_o(e)}function hx(t,n=null,e=null,i){const o=fx(t,n,e,i);return o.resolveInjectorInitializers(),o}function fx(t,n=null,e=null,i,o=new Set){const l=[e||fi,zS(t)];return i=i||("object"==typeof t?void 0:Ki(t)),new yb(l,n||dp(),i||null,o)}let ys=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ro;static#t=this.NULL=new Bw;static create(e,i){if(Array.isArray(e))return hx({name:""},i,e,"");{const o=e.name??"";return hx({name:o},e.parent,e.providers,o)}}static#n=this.\u0275prov=xt({token:t,providedIn:"any",factory:()=>je(mb)});static#i=this.__NG_ELEMENT_ID__=-1}return t})();function Re(t,n=tn.Default){const e=dt();return null===e?je(t,n):Ty($r(),e,on(t),n)}function jg(){throw new Error("invalid")}function Ep(t,n,e,i,o,l,d,x,k,K,ne){const le=n.blueprint.slice();return le[xr]=o,le[Sn]=140|i,(null!==K||t&&2048&t[Sn])&&(le[Sn]|=2048),Ql(le),le[Qi]=le[ks]=t,le[ir]=e,le[Hr]=d||t&&t[Hr],le[Dn]=x||t&&t[Dn],le[Qo]=k||t&&t[Qo]||null,le[Vr]=l,le[sl]=function Xm(){return Wy++}(),le[Ta]=ne,le[al]=K,le[qi]=2==n.type?t[qi]:le,le}function lu(t,n,e,i,o){let l=t.data[n];if(null===l)l=function Cp(t,n,e,i,o){const l=py(),d=my(),k=t.data[n]=function cu(t,n,e,i,o,l){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?l:l&&l.parent,e,n,i,o);return null===t.firstChild&&(t.firstChild=k),null!==l&&(d?null==l.child&&null!==k.parent&&(l.child=k):null===l.next&&(l.next=k,k.prev=l)),k}(t,n,e,i,o),function ZC(){return gn.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=e,l.value=i,l.attrs=o;const d=function ch(){const t=gn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();l.injectorIndex=null===d?-1:d.injectorIndex}return Aa(l,!0),l}function Vh(t,n,e,i){if(0===e)return-1;const o=n.length;for(let l=0;l<e;l++)n.push(i),t.blueprint.push(i),t.data.push(null);return o}function Ub(t,n,e,i,o){const l=dx(n,Dd),d=Wr(),x=2&i;try{if(_o(-1),x&&n.length>Qn&&zg(t,n,Qn,!1),ur(x?2:0,o),x)l.runInContext(e,i,o);else{const K=Jn(null);try{e(i,o)}finally{Jn(K)}}}finally{x&&null===n[Dd]&&ux(n,Dd),_o(d),ur(x?3:1,o)}}function Ug(t,n,e){if(xf(n)){const i=Jn(null);try{const l=n.directiveEnd;for(let d=n.directiveStart;d<l;d++){const x=t.data[d];x.contentQueries&&x.contentQueries(1,e[d],d)}}finally{Jn(i)}}}function $g(t,n,e){vt()&&(function Kb(t,n,e,i){const o=e.directiveStart,l=e.directiveEnd;Yl(e)&&function qS(t,n,e){const i=pe(n,t),d=Zg(t,Ep(t,Dp(e),null,e.onPush?64:16,i,n,null,t[Hr].rendererFactory.createRenderer(i,e),null,null,null));t[n.index]=d}(n,e,t.data[o+e.componentOffset]),t.firstCreatePass||Nd(e,n),wo(i,n);const d=e.initialInputs;for(let x=o;x<l;x++){const k=t.data[x],K=Bc(n,t,x,e);wo(K,n),null!==d&&ts(0,x-o,K,k,0,d),Is(k)&&(en(e.index,n)[ir]=Bc(n,t,x,e))}}(t,n,e,pe(e,n)),64==(64&e.flags)&&Xb(t,n,e))}function Sp(t,n,e=pe){const i=n.localNames;if(null!==i){let o=n.index+1;for(let l=0;l<i.length;l+=2){const d=i[l+1],x=-1===d?e(n,t):t[d];t[o++]=x}}}function Dp(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Wg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Wg(t,n,e,i,o,l,d,x,k,K,ne){const le=Qn+i,xe=le+o,Ee=function px(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:Tn);return e}(le,xe),ke="function"==typeof K?K():K;return Ee[Lt]={type:t,blueprint:Ee,template:e,queries:null,viewQuery:x,declTNode:n,data:Ee.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:k,consts:ke,incompleteFirstPass:!1,ssrId:ne}}let gx=t=>null;function Mp(t,n,e,i){for(let o in t)if(t.hasOwnProperty(o)){e=null===e?{}:e;const l=t[o];null===i?Hh(e,n,o,l):i.hasOwnProperty(o)&&Hh(e,n,i[o],l)}return e}function Hh(t,n,e,i){t.hasOwnProperty(e)?t[e].push(n,i):t[e]=[n,i]}function Mr(t,n,e,i,o,l,d,x){const k=pe(n,e);let ne,K=n.inputs;!x&&null!=K&&(ne=K[i])?(jo(t,e,ne,i,o),Yl(n)&&function vx(t,n){const e=en(n,t);16&e[Sn]||(e[Sn]|=64)}(e,n.index)):3&n.type&&(i=function ZS(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),o=null!=d?d(o,n.value||"",i):o,l.setProperty(k,i,o))}function bs(t,n,e,i){if(vt()){const o=null===i?null:{"":-1},l=function bx(t,n){const e=t.directiveRegistry;let i=null,o=null;if(e)for(let l=0;l<e.length;l++){const d=e[l];if(Sa(n,d.selectors,!1))if(i||(i=[]),Is(d))if(null!==d.findHostDirectiveDefs){const x=[];o=o||new Map,d.findHostDirectiveDefs(d,x,o),i.unshift(...x,d),Zb(t,n,x.length)}else i.unshift(d),Zb(t,n,0);else o=o||new Map,d.findHostDirectiveDefs?.(d,i,o),i.push(d)}return null===i?null:[i,o]}(t,e);let d,x;null===l?d=x=null:[d,x]=l,null!==d&&Yb(t,n,e,d,o,x),o&&function Kg(t,n,e){if(n){const i=t.localNames=[];for(let o=0;o<n.length;o+=2){const l=e[n[o+1]];if(null==l)throw new Je(-301,!1);i.push(n[o],l)}}}(e,i,o)}e.mergedAttrs=qs(e.mergedAttrs,e.attrs)}function Yb(t,n,e,i,o,l){for(let K=0;K<i.length;K++)Vm(Nd(e,n),t,i[K].type);!function or(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,i.length);for(let K=0;K<i.length;K++){const ne=i[K];ne.providersResolver&&ne.providersResolver(ne)}let d=!1,x=!1,k=Vh(t,n,i.length,null);for(let K=0;K<i.length;K++){const ne=i[K];e.mergedAttrs=qs(e.mergedAttrs,ne.hostAttrs),QS(t,e,n,k,ne),_x(k,ne,o),null!==ne.contentQueries&&(e.flags|=4),(null!==ne.hostBindings||null!==ne.hostAttrs||0!==ne.hostVars)&&(e.flags|=64);const le=ne.type.prototype;!d&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),d=!0),!x&&(le.ngOnChanges||le.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),x=!0),k++}!function Wb(t,n,e){const o=n.directiveEnd,l=t.data,d=n.attrs,x=[];let k=null,K=null;for(let ne=n.directiveStart;ne<o;ne++){const le=l[ne],xe=e?e.get(le):null,ke=xe?xe.outputs:null;k=Mp(le.inputs,ne,k,xe?xe.inputs:null),K=Mp(le.outputs,ne,K,ke);const Ne=null===k||null===d||Ul(n)?null:Zc(k,ne,d);x.push(Ne)}null!==k&&(k.hasOwnProperty("class")&&(n.flags|=8),k.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=x,n.inputs=k,n.outputs=K}(t,e,l)}function Xb(t,n,e){const i=e.directiveStart,o=e.directiveEnd,l=e.index,d=function Fs(){return gn.lFrame.currentDirectiveIndex}();try{_o(l);for(let x=i;x<o;x++){const k=t.data[x],K=n[x];Cr(x),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&Yg(k,K)}}finally{_o(-1),Cr(d)}}function Yg(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Zb(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function _x(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;Is(n)&&(e[""]=t)}}function QS(t,n,e,i,o){t.data[i]=o;const l=o.factory||(o.factory=Xl(o.type)),d=new Rd(l,Is(o),Re);t.blueprint[i]=d,e[i]=d,function yx(t,n,e,i,o){const l=o.hostBindings;if(l){let d=t.hostBindingOpCodes;null===d&&(d=t.hostBindingOpCodes=[]);const x=~n.index;(function du(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(d)!=x&&d.push(x),d.push(e,i,l)}}(t,n,i,Vh(t,e,o.hostVars,Tn),o)}function ua(t,n,e,i,o,l){const d=pe(t,n);!function Tp(t,n,e,i,o,l,d){if(null==l)t.removeAttribute(n,o,e);else{const x=null==d?rn(l):d(l,i||"",o);t.setAttribute(n,o,x,e)}}(n[Dn],d,l,t.value,e,i,o)}function ts(t,n,e,i,o,l){const d=l[n];if(null!==d)for(let x=0;x<d.length;)wx(i,e,d[x++],d[x++],d[x++])}function wx(t,n,e,i,o){const l=Jn(null);try{null!==t.setInput?t.setInput(n,o,e,i):n[i]=o}finally{Jn(l)}}function Zc(t,n,e){let i=null,o=0;for(;o<e.length;){const l=e[o];if(0!==l)if(5!==l){if("number"==typeof l)break;if(t.hasOwnProperty(l)){null===i&&(i=[]);const d=t[l];for(let x=0;x<d.length;x+=2)if(d[x]===n){i.push(l,d[x+1],e[o+1]);break}}o+=2}else o+=2;else o+=4}return i}function Xg(t,n,e,i){return[t,!0,!1,n,null,0,i,e,null,null,null]}function Qb(t,n){const e=t.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const l=e[i+1];if(-1!==l){const d=t.data[l];yy(e[i]),d.contentQueries(2,n[l],l)}}}function Zg(t,n){return t[Da]?t[Ju][Ts]=n:t[Da]=n,t[Ju]=n,n}function Qg(t,n,e){yy(0);const i=Jn(null);try{n(t,e)}finally{Jn(i)}}function qg(t){return t[Wl]||(t[Wl]=[])}function Ex(t){return t.cleanup||(t.cleanup=[])}function ns(t,n){const e=t[Qo],i=e?e.get(vs,null):null;i&&i.handleError(n)}function jo(t,n,e,i,o){for(let l=0;l<e.length;){const d=e[l++],x=e[l++];wx(t.data[d],n[d],i,x,o)}}function Cx(t,n){const e=en(n,t),i=e[Lt];!function Jg(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(i,e);const o=e[xr];null!==o&&null===e[Ta]&&(e[Ta]=Fh(o,e[Qo])),jh(i,e,e[ir])}function jh(t,n,e){If(n);try{const i=t.viewQuery;null!==i&&Qg(1,i,e);const o=t.template;null!==o&&Ub(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Qb(t,n),t.staticViewQueries&&Qg(2,t.viewQuery,e);const l=t.components;null!==l&&function ev(t,n){for(let e=0;e<n.length;e++)Cx(t,n[e])}(n,l)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[Sn]&=-5,uh()}}let ic=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(e,i,o){const l=typeof Zone>"u"?null:Zone.current,d=new ly(e,K=>{this.all.has(K)&&this.queue.set(K,l)},o);let x;this.all.add(d),d.notify();const k=()=>{d.cleanup(),x?.(),this.all.delete(d),this.queue.delete(d)};return x=i?.onDestroy(k),{destroy:k}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=xt({token:t,providedIn:"root",factory:()=>new t})}return t})();function nv(t,n,e){let i=e?t.styles:null,o=e?t.classes:null,l=0;if(null!==n)for(let d=0;d<n.length;d++){const x=n[d];"number"==typeof x?l=x:1==l?o=Io(o,x):2==l&&(i=Io(i,x+": "+n[++d]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=o:t.classesWithoutHost=o}function Ap(t,n,e,i,o=!1){for(;null!==e;){const l=n[e.index];if(null!==l&&i.push(z(l)),qo(l)){for(let x=Er;x<l.length;x++){const k=l[x],K=k[Lt].firstChild;null!==K&&Ap(k[Lt],k,K,i)}l[ea]!==l[xr]&&i.push(l[ea])}const d=e.type;if(8&d)Ap(t,n,e.child,i);else if(32&d){const x=eg(e,n);let k;for(;k=x();)i.push(k)}else if(16&d){const x=_w(n,e);if(Array.isArray(x))i.push(...x);else{const k=Dh(n[qi]);Ap(k[Lt],k,x,i,!0)}}e=o?e.projectionNext:e.next}return i}function Qc(t,n,e,i=!0){const o=n[Hr].rendererFactory;o.begin&&o.begin();try{uu(t,n,t.template,e)}catch(d){throw i&&ns(n,d),d}finally{o.end&&o.end(),n[Hr].effectManager?.flush()}}function uu(t,n,e,i){const o=n[Sn];if(256!=(256&o)){n[Hr].effectManager?.flush(),If(n);try{Ql(n),function R0(t){return gn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Ub(t,n,e,2,i);const d=3==(3&o);if(d){const K=t.preOrderCheckHooks;null!==K&&Rf(n,K,null)}else{const K=t.preOrderHooks;null!==K&&Pd(n,K,0,null),Nf(n,0)}if(function iv(t){for(let n=tg(t);null!==n;n=Zf(n)){if(!n[km])continue;const e=n[ll];for(let i=0;i<e.length;i++){dy(e[i])}}}(n),function Dx(t){for(let n=tg(t);null!==n;n=Zf(n))for(let e=Er;e<n.length;e++){const i=n[e],o=i[Lt];Ji(i)&&uu(o,i,o.template,i[ir])}}(n),null!==t.contentQueries&&Qb(t,n),d){const K=t.contentCheckHooks;null!==K&&Rf(n,K)}else{const K=t.contentHooks;null!==K&&Pd(n,K,1),Nf(n,1)}!function xp(t,n){const e=t.hostBindingOpCodes;if(null===e)return;const i=dx(n,eh);try{for(let o=0;o<e.length;o++){const l=e[o];if(l<0)_o(~l);else{const d=l,x=e[++o],k=e[++o];F0(x,d),i.runInContext(k,2,n[d])}}}finally{null===n[eh]&&ux(n,eh),_o(-1)}}(t,n);const x=t.components;null!==x&&function Pp(t,n){for(let e=0;e<n.length;e++)Jb(t,n[e])}(n,x);const k=t.viewQuery;if(null!==k&&Qg(2,k,i),d){const K=t.viewCheckHooks;null!==K&&Rf(n,K)}else{const K=t.viewHooks;null!==K&&Pd(n,K,2),Nf(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Sn]&=-73,hs(n)}finally{uh()}}}function Jb(t,n){const e=en(n,t);if(Ji(e)){const i=e[Lt];80&e[Sn]?uu(i,e,i.template,e[ir]):e[Js]>0&&Ip(e)}}function Ip(t){for(let i=tg(t);null!==i;i=Zf(i))for(let o=Er;o<i.length;o++){const l=i[o];if(Ji(l))if(1024&l[Sn]){const d=l[Lt];uu(d,l,d.template,l[ir])}else l[Js]>0&&Ip(l)}const e=t[Lt].components;if(null!==e)for(let i=0;i<e.length;i++){const o=en(e[i],t);Ji(o)&&o[Js]>0&&Ip(o)}}class qc{get rootNodes(){const n=this._lView,e=n[Lt];return Ap(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ir]}set context(n){this._lView[ir]=n}get destroyed(){return 256==(256&this._lView[Sn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Qi];if(qo(n)){const e=n[Md],i=e?e.indexOf(this):-1;i>-1&&(eb(n,i),gh(e,i))}this._attachedToViewContainer=!1}vw(this._lView[Lt],this._lView)}onDestroy(n){!function lh(t,n){if(256==(256&t[Sn]))throw new Je(911,!1);null===t[As]&&(t[As]=[]),t[As].push(n)}(this._lView,n)}markForCheck(){Kc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Sn]&=-129}reattach(){this._lView[Sn]|=128}detectChanges(){Qc(this._lView[Lt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qy(t,n){Kd(t,n,n[Dn],2,null,null)}(this._lView[Lt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=n}}class hu extends qc{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Qc(n[Lt],n,n[ir],!1)}checkNoChanges(){}get context(){return null}}class Uh extends tc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=ni(n);return new ha(e,this.ngModule)}}function e_(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class Rp{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=eo(i);const o=this.injector.get(n,bp,i);return o!==bp||e===bp?o:this.parentInjector.get(n,e,i)}}class ha extends tx{get inputs(){return e_(this.componentDef.inputs)}get outputs(){return e_(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function Dm(t){return t.map(Sd).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,o){let l=(o=o||this.ngModule)instanceof xl?o:o?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const d=l?new Rp(n,l):n,x=d.get(iu,null);if(null===x)throw new Je(407,!1);const ne={rendererFactory:x,sanitizer:d.get(Pb,null),effectManager:d.get(ic,null)},le=x.createRenderer(null,this.componentDef),xe=this.componentDef.selectors[0][0]||"div",Ee=i?function KS(t,n,e,i){const l=i.get(ox,!1)||e===to.ShadowDom,d=t.selectRootElement(n,l);return function mx(t){gx(t)}(d),d}(le,i,this.componentDef.encapsulation,d):ig(le,xe,function rc(t){const n=t.toLowerCase();return"svg"===n?Rc:"math"===n?"math":null}(xe)),ke=this.componentDef.onPush?576:528,Ne=Wg(0,null,null,1,0,null,null,null,null,null,null),He=Ep(null,Ne,null,ke,null,null,ne,le,d,null,null);let et,Ge;If(He);try{const Tt=this.componentDef;let kt,hn=null;Tt.findHostDirectiveDefs?(kt=[],hn=new Map,Tt.findHostDirectiveDefs(Tt,kt,hn),kt.push(Tt)):kt=[Tt];const lr=function Tx(t,n){const e=t[Lt],i=Qn;return t[i]=n,lu(e,i,2,"#host",null)}(He,Ee),Ar=function Jc(t,n,e,i,o,l,d){const x=o[Lt];!function rv(t,n,e,i){for(const o of t)n.mergedAttrs=qs(n.mergedAttrs,o.hostAttrs);null!==n.mergedAttrs&&(nv(n,n.mergedAttrs,!0),null!==e&&sb(i,e,n))}(i,t,n,d);let k=null;null!==n&&(k=Fh(n,o[Qo]));const K=l.rendererFactory.createRenderer(n,e),ne=Ep(o,Dp(e),null,e.onPush?64:16,o[t.index],t,l,K,null,null,k);return x.firstCreatePass&&Zb(x,t,i.length-1),Zg(o,ne),o[t.index]=ne}(lr,Ee,Tt,kt,He,ne,le);Ge=Xe(Ne,Qn),Ee&&function Ax(t,n,e,i){if(i)pi(t,e,["ng-version",Rb.full]);else{const{attrs:o,classes:l}=function mo(t){const n=[],e=[];let i=1,o=2;for(;i<t.length;){let l=t[i];if("string"==typeof l)2===o?""!==l&&n.push(l,t[++i]):8===o&&e.push(l);else{if(!Ms(o))break;o=l}i++}return{attrs:n,classes:e}}(n.selectors[0]);o&&pi(t,e,o),l&&l.length>0&&Cw(t,e,l.join(" "))}}(le,Tt,Ee,i),void 0!==e&&function Ox(t,n,e){const i=t.projection=[];for(let o=0;o<n.length;o++){const l=e[o];i.push(null!=l?Array.from(l):null)}}(Ge,this.ngContentSelectors,e),et=function kx(t,n,e,i,o,l){const d=$r(),x=o[Lt],k=pe(d,o);Yb(x,o,d,e,null,i);for(let ne=0;ne<e.length;ne++)wo(Bc(o,x,d.directiveStart+ne,d),o);Xb(x,o,d),k&&wo(k,o);const K=Bc(o,x,d.directiveStart+d.componentOffset,d);if(t[ir]=o[ir]=K,null!==l)for(const ne of l)ne(K,n);return Ug(x,d,t),K}(Ar,Tt,kt,hn,He,[ov]),jh(Ne,He,null)}finally{uh()}return new Mx(this.componentType,et,nc(Ge,He),He,Ge)}}class Mx extends Tb{constructor(n,e,i,o,l){super(),this.location=i,this._rootLView=o,this._tNode=l,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new hu(o),this.componentType=n}setInput(n,e){const i=this._tNode.inputs;let o;if(null!==i&&(o=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const l=this._rootLView;jo(l[Lt],l,o,n,e),this.previousInputValues.set(n,e),Kc(en(this._tNode.index,l))}}get injector(){return new mh(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function ov(){const t=$r();pl(dt()[Lt],t)}function nn(t){let n=function t_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let o;if(Is(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Je(903,!1);o=n.\u0275dir}if(o){if(e){i.push(o);const d=t;d.inputs=wi(t.inputs),d.declaredInputs=wi(t.declaredInputs),d.outputs=wi(t.outputs);const x=o.hostBindings;x&&tD(t,x);const k=o.viewQuery,K=o.contentQueries;if(k&&Np(t,k),K&&Ix(t,K),Jr(t.inputs,o.inputs),Jr(t.declaredInputs,o.declaredInputs),Jr(t.outputs,o.outputs),Is(o)&&o.data.animation){const ne=t.data;ne.animation=(ne.animation||[]).concat(o.data.animation)}}const l=o.features;if(l)for(let d=0;d<l.length;d++){const x=l[d];x&&x.ngInherit&&x(t),x===nn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function n_(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const o=t[i];o.hostVars=n+=o.hostVars,o.hostAttrs=qs(o.hostAttrs,e=qs(e,o.hostAttrs))}}(i)}function wi(t){return t===Ds?{}:t===fi?[]:t}function Np(t,n){const e=t.viewQuery;t.viewQuery=e?(i,o)=>{n(i,o),e(i,o)}:n}function Ix(t,n){const e=t.contentQueries;t.contentQueries=e?(i,o,l)=>{n(i,o,l),e(i,o,l)}:n}function tD(t,n){const e=t.hostBindings;t.hostBindings=e?(i,o)=>{n(i,o),e(i,o)}:n}function ed(t){return!!fu(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function fu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Dl(t,n,e){return t[n]=e}function $o(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Bi(t,n,e,i){const o=dt();return $o(o,Ns(),n)&&(gi(),ua(hr(),o,t,n,e,i)),Bi}function $h(t,n,e,i){return $o(t,Ns(),e)?n+rn(e)+i:Tn}function Yt(t,n,e,i,o,l,d,x){const k=dt(),K=gi(),ne=t+Qn,le=K.firstCreatePass?function Zh(t,n,e,i,o,l,d,x,k){const K=n.consts,ne=lu(n,t,4,d||null,zo(K,x));bs(n,e,ne,zo(K,k)),pl(n,ne);const le=ne.tView=Wg(2,ne,i,o,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,K,null);return null!==n.queries&&(n.queries.template(n,ne),le.queries=n.queries.embeddedTView(ne)),ne}(ne,K,k,n,e,i,o,l,d):K.data[ne];Aa(le,!1);const xe=jx(K,k,le,t);Pf()&&tp(K,k,xe,le),wo(xe,k),Zg(k,k[ne]=Xg(xe,k,xe,le)),cl(le)&&$g(K,k,le),null!=d&&Sp(k,le,x)}let jx=function v_(t,n,e,i){return ra(!0),n[Dn].createComment("")};function js(t){return ot(function XC(){return gn.lFrame.contextLView}(),Qn+t)}function Pt(t,n,e){const i=dt();return $o(i,Ns(),n)&&Mr(gi(),hr(),i,t,n,i[Dn],e,!1),Pt}function jp(t,n,e,i,o){const d=o?"class":"style";jo(t,e,n.inputs[d],d,i)}function lt(t,n,e,i){const o=dt(),l=gi(),d=Qn+t,x=o[Dn],k=l.firstCreatePass?function hD(t,n,e,i,o,l){const d=n.consts,k=lu(n,t,2,i,zo(d,o));return bs(n,e,k,zo(d,l)),null!==k.attrs&&nv(k,k.attrs,!1),null!==k.mergedAttrs&&nv(k,k.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,k),k}(d,l,o,n,e,i):l.data[d],K=y_(l,o,k,x,n,t);o[d]=K;const ne=cl(k);return Aa(k,!0),sb(x,K,k),32!=(32&k.flags)&&Pf()&&tp(l,o,K,k),0===function Fm(){return gn.lFrame.elementDepthCount}()&&wo(K,o),function P0(){gn.lFrame.elementDepthCount++}(),ne&&($g(l,o,k),Ug(l,k,o)),null!==i&&Sp(o,k),lt}function ft(){let t=$r();my()?gy():(t=t.parent,Aa(t,!1));const n=t;(function hy(t){return gn.skipHydrationRootTNode===t})(n)&&function fy(){gn.skipHydrationRootTNode=null}(),function uy(){gn.lFrame.elementDepthCount--}();const e=gi();return e.firstCreatePass&&(pl(e,t),xf(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function JC(t){return 0!=(8&t.flags)}(n)&&jp(e,n,dt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function U0(t){return 0!=(16&t.flags)}(n)&&jp(e,n,dt(),n.stylesWithoutHost,!1),ft}function yn(t,n,e,i){return lt(t,n,e,i),ft(),yn}let y_=(t,n,e,i,o,l)=>(ra(!0),ig(i,o,function Lm(){return gn.lFrame.currentNamespace}()));function _s(t,n,e){const i=dt(),o=gi(),l=t+Qn,d=o.firstCreatePass?function Gx(t,n,e,i,o){const l=n.consts,d=zo(l,i),x=lu(n,t,8,"ng-container",d);return null!==d&&nv(x,d,!0),bs(n,e,x,zo(l,o)),null!==n.queries&&n.queries.elementStart(n,x),x}(l,o,i,n,e):o.data[l];Aa(d,!0);const x=_u(o,i,d,t);return i[l]=x,Pf()&&tp(o,i,x,d),wo(x,i),cl(d)&&($g(o,i,d),Ug(o,d,i)),null!=e&&Sp(i,d),_s}function Ml(){let t=$r();const n=gi();return my()?gy():(t=t.parent,Aa(t,!1)),n.firstCreatePass&&(pl(n,t),xf(t)&&n.queries.elementEnd(t)),Ml}function Nr(t,n,e){return _s(t,n,e),Ml(),Nr}let _u=(t,n,e,i)=>(ra(!0),Pa(n[Dn],""));function sc(){return dt()}function ac(t){return!!t&&"function"==typeof t.then}function b_(t){return!!t&&"function"==typeof t.subscribe}function bn(t,n,e,i){const o=dt(),l=gi(),d=$r();return function __(t,n,e,i,o,l,d){const x=cl(i),K=t.firstCreatePass&&Ex(t),ne=n[ir],le=qg(n);let xe=!0;if(3&i.type||d){const Ne=pe(i,n),He=d?d(Ne):Ne,et=le.length,Ge=d?kt=>d(z(kt[i.index])):i.index;let Tt=null;if(!d&&x&&(Tt=function dn(t,n,e,i){const o=t.cleanup;if(null!=o)for(let l=0;l<o.length-1;l+=2){const d=o[l];if(d===e&&o[l+1]===i){const x=n[Wl],k=o[l+2];return x.length>k?x[k]:null}"string"==typeof d&&(l+=2)}return null}(t,n,o,i.index)),null!==Tt)(Tt.__ngLastListenerFn__||Tt).__ngNextListenerFn__=l,Tt.__ngLastListenerFn__=l,xe=!1;else{l=gv(i,n,ne,l,!1);const kt=e.listen(He,o,l);le.push(l,kt),K&&K.push(o,Ge,et,et+1)}}else l=gv(i,n,ne,l,!1);const Ee=i.outputs;let ke;if(xe&&null!==Ee&&(ke=Ee[o])){const Ne=ke.length;if(Ne)for(let He=0;He<Ne;He+=2){const hn=n[ke[He]][ke[He+1]].subscribe(l),lr=le.length;le.push(l,hn),K&&K.push(o,i.index,lr,-(lr+1))}}}(l,o,o[Dn],d,t,n,i),bn}function Xx(t,n,e,i){try{return ur(6,n,e),!1!==e(i)}catch(o){return ns(t,o),!1}finally{ur(7,n,e)}}function gv(t,n,e,i,o){return function l(d){if(d===Function)return i;Kc(t.componentOffset>-1?en(t.index,n):n);let k=Xx(n,e,i,d),K=l.__ngNextListenerFn__;for(;K;)k=Xx(n,e,K,d)&&k,K=K.__ngNextListenerFn__;return o&&!1===k&&(d.preventDefault(),d.returnValue=!1),k}}function Ln(t=1){return function z0(t){return(gn.lFrame.contextLView=function V0(t,n){for(;t>0;)n=n[ks],t--;return n}(t,gn.lFrame.contextLView))[ir]}(t)}function Zx(t,n){let e=null;const i=function Cd(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let o=0;o<n.length;o++){const l=n[o];if("*"!==l){if(null===i?Sa(t,l,!0):Qu(i,l))return o}else e=o}return e}function lc(t){const n=dt()[qi][Vr];if(!n.projection){const i=n.projection=Vd(t?t.length:1,null),o=i.slice();let l=n.child;for(;null!==l;){const d=t?Zx(l,t):0;null!==d&&(o[d]?o[d].projectionNext=l:i[d]=l,o[d]=l),l=l.next}}}function Wi(t,n=0,e){const i=dt(),o=gi(),l=lu(o,Qn+t,16,null,e||null);null===l.projection&&(l.projection=n),gy(),(!i[Ta]||function Rs(){return null!==gn.skipHydrationRootTNode}())&&32!=(32&l.flags)&&function xw(t,n,e){rb(n[Dn],0,n,e,rg(t,e,n),Mh(e.parent||n[Vr],e,n))}(o,i,l)}function j(t,n){return t<<17|n<<2}function G(t){return t>>17&32767}function re(t){return 2|t}function ae(t){return(131068&t)>>2}function de(t,n){return-131069&t|n<<2}function ce(t){return 1|t}function ze(t,n,e,i,o){const l=t[e+1],d=null===n;let x=i?G(l):ae(l),k=!1;for(;0!==x&&(!1===k||d);){const ne=t[x+1];Ve(t[x],n)&&(k=!0,t[x+1]=i?ce(ne):re(ne)),x=i?G(ne):ae(ne)}k&&(t[e+1]=i?re(l):ce(l))}function Ve(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Hd(t,n)>=0}const Ke={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $t(t){return t.substring(Ke.key,Ke.keyEnd)}function at(t,n){const e=Ke.textEnd;return e===n?-1:(n=Ke.keyEnd=function tt(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,Ke.key=n,e),Fe(t,n,e))}function Fe(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function vi(t,n,e){return Bn(t,n,e,!1),vi}function fn(t,n){return Bn(t,n,null,!0),fn}function xi(t,n){for(let e=function Ze(t){return function ue(t){Ke.key=0,Ke.keyEnd=0,Ke.value=0,Ke.valueEnd=0,Ke.textEnd=t.length}(t),at(t,Fe(t,0,Ke.textEnd))}(n);e>=0;e=at(n,e))Bs(t,$t(n),!0)}function Bn(t,n,e,i){const o=dt(),l=gi(),d=ql(2);l.firstUpdatePass&&Gi(l,t,d,i),n!==Tn&&$o(o,d,n)&&Tl(l,l.data[Wr()],o,o[Dn],t,o[d+1]=function pD(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ki(Ho(t)))),t}(n,e),i,d)}function Gr(t,n){return n>=t.expandoStartIndex}function Gi(t,n,e,i){const o=t.data;if(null===o[e+1]){const l=o[Wr()],d=Gr(t,e);$p(l,i)&&null===n&&!d&&(n=!1),n=function is(t,n,e,i){const o=function Af(t){const n=gn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let l=i?n.residualClasses:n.residualStyles;if(null===o)0===(i?n.classBindings:n.styleBindings)&&(e=fa(e=Ti(null,t,n,e,i),n.attrs,i),l=null);else{const d=n.directiveStylingLast;if(-1===d||t[d]!==o)if(e=Ti(o,t,n,e,i),null===l){let k=function Mi(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==ae(i))return t[G(i)]}(t,n,i);void 0!==k&&Array.isArray(k)&&(k=Ti(null,t,n,k[1],i),k=fa(k,n.attrs,i),function Us(t,n,e,i){t[G(e?n.classBindings:n.styleBindings)]=i}(t,n,i,k))}else l=function _n(t,n,e){let i;const o=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<o;l++)i=fa(i,t[l].hostAttrs,e);return fa(i,n.attrs,e)}(t,n,i)}return void 0!==l&&(i?n.residualClasses=l:n.residualStyles=l),e}(o,l,n,i),function Ie(t,n,e,i,o,l){let d=l?n.classBindings:n.styleBindings,x=G(d),k=ae(d);t[i]=e;let ne,K=!1;if(Array.isArray(e)?(ne=e[1],(null===ne||Hd(e,ne)>0)&&(K=!0)):ne=e,o)if(0!==k){const xe=G(t[x+1]);t[i+1]=j(xe,x),0!==xe&&(t[xe+1]=de(t[xe+1],i)),t[x+1]=function J(t,n){return 131071&t|n<<17}(t[x+1],i)}else t[i+1]=j(x,0),0!==x&&(t[x+1]=de(t[x+1],i)),x=i;else t[i+1]=j(k,0),0===x?x=i:t[k+1]=de(t[k+1],i),k=i;K&&(t[i+1]=re(t[i+1])),ze(t,ne,i,!0),ze(t,ne,i,!1),function Ue(t,n,e,i,o){const l=o?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof n&&Hd(l,n)>=0&&(e[i+1]=ce(e[i+1]))}(n,ne,t,i,l),d=j(x,k),l?n.classBindings=d:n.styleBindings=d}(o,l,n,e,d,i)}}function Ti(t,n,e,i,o){let l=null;const d=e.directiveEnd;let x=e.directiveStylingLast;for(-1===x?x=e.directiveStart:x++;x<d&&(l=n[x],i=fa(i,l.hostAttrs,o),l!==t);)x++;return null!==t&&(e.directiveStylingLast=x),i}function fa(t,n,e){const i=e?1:2;let o=-1;if(null!==n)for(let l=0;l<n.length;l++){const d=n[l];"number"==typeof d?o=d:o===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Bs(t,d,!!e||n[++l]))}return void 0===t?null:t}function Tl(t,n,e,i,o,l,d,x){if(!(3&n.type))return;const k=t.data,K=k[x+1],ne=function se(t){return 1==(1&t)}(K)?Up(k,n,e,o,ae(K),d):void 0;vv(ne)||(vv(l)||function Z(t){return 2==(2&t)}(K)&&(l=Up(k,null,e,o,x,d)),function Ew(t,n,e,i,o){if(n)o?t.addClass(e,i):t.removeClass(e,i);else{let l=-1===i.indexOf("-")?void 0:ps.DashCase;null==o?t.removeStyle(e,i,l):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),l|=ps.Important),t.setStyle(e,i,o,l))}}(i,d,he(Wr(),e),o,l))}function Up(t,n,e,i,o,l){const d=null===n;let x;for(;o>0;){const k=t[o],K=Array.isArray(k),ne=K?k[1]:k,le=null===ne;let xe=e[o+1];xe===Tn&&(xe=le?fi:void 0);let Ee=le?Fy(xe,i):ne===i?xe:void 0;if(K&&!vv(Ee)&&(Ee=Fy(k,i)),vv(Ee)&&(x=Ee,d))return x;const ke=t[o+1];o=d?G(ke):ae(ke)}if(null!==n){let k=l?n.residualClasses:n.residualStyles;null!=k&&(x=Fy(k,i))}return x}function vv(t){return void 0!==t}function $p(t,n){return 0!=(t.flags&(n?8:16))}function sn(t,n=""){const e=dt(),i=gi(),o=t+Qn,l=i.firstCreatePass?lu(i,o,1,n,null):i.data[o],d=yv(i,e,l,n,t);e[o]=d,Pf()&&tp(i,e,d,l),Aa(l,!1)}let yv=(t,n,e,i,o)=>(ra(!0),function Qf(t,n){return t.createText(n)}(n[Dn],i));function $s(t){return wu("",t,""),$s}function wu(t,n,e){const i=dt(),o=$h(i,t,n,e);return o!==Tn&&function Uo(t,n,e){const i=he(n,t);!function ng(t,n,e){t.setValue(n,e)}(t[Dn],i,e)}(i,Wr(),o),wu}function _v(t,n,e){!function zi(t,n,e,i){const o=gi(),l=ql(2);o.firstUpdatePass&&Gi(o,null,l,i);const d=dt();if(e!==Tn&&$o(d,l,e)){const x=o.data[Wr()];if($p(x,i)&&!Gr(o,l)){let k=i?x.classesWithoutHost:x.stylesWithoutHost;null!==k&&(e=Io(k,e||"")),jp(o,x,d,e,i)}else!function cc(t,n,e,i,o,l,d,x){o===Tn&&(o=fi);let k=0,K=0,ne=0<o.length?o[0]:null,le=0<l.length?l[0]:null;for(;null!==ne||null!==le;){const xe=k<o.length?o[k+1]:void 0,Ee=K<l.length?l[K+1]:void 0;let Ne,ke=null;ne===le?(k+=2,K+=2,xe!==Ee&&(ke=le,Ne=Ee)):null===le||null!==ne&&ne<le?(k+=2,ke=ne):(K+=2,ke=le,Ne=Ee),null!==ke&&Tl(t,n,e,i,ke,Ne,d,x),ne=k<o.length?o[k]:null,le=K<l.length?l[K]:null}}(o,x,d,d[Dn],d[l+1],d[l+1]=function sd(t,n,e){if(null==e||""===e)return fi;const i=[],o=Ho(e);if(Array.isArray(o))for(let l=0;l<o.length;l++)t(i,o[l],!0);else if("object"==typeof o)for(const l in o)o.hasOwnProperty(l)&&t(i,l,o[l]);else"string"==typeof o&&n(i,o);return i}(t,n,e),i,l)}}(Bs,xi,$h(dt(),t,n,e),!0)}function uc(t,n,e){const i=dt();return $o(i,Ns(),n)&&Mr(gi(),hr(),i,t,n,i[Dn],e,!0),uc}const Du="en-US";let B1=Du;function yD(t,n,e,i,o){if(t=on(t),Array.isArray(t))for(let l=0;l<t.length;l++)yD(t[l],n,e,i,o);else{const l=gi(),d=dt();let x=ms(t)?t:on(t.provide),k=_b(t);const K=$r(),ne=1048575&K.providerIndexes,le=K.directiveStart,xe=K.providerIndexes>>20;if(ms(t)||!t.multi){const Ee=new Rd(k,o,Re),ke=_D(x,n,o?ne:ne+xe,le);-1===ke?(Vm(Nd(K,d),l,x),bD(l,t,n.length),n.push(x),K.directiveStart++,K.directiveEnd++,o&&(K.providerIndexes+=1048576),e.push(Ee),d.push(Ee)):(e[ke]=Ee,d[ke]=Ee)}else{const Ee=_D(x,n,ne+xe,le),ke=_D(x,n,ne,ne+xe),He=ke>=0&&e[ke];if(o&&!He||!o&&!(Ee>=0&&e[Ee])){Vm(Nd(K,d),l,x);const et=function DF(t,n,e,i,o){const l=new Rd(t,e,Re);return l.multi=[],l.index=n,l.componentProviders=0,ck(l,o,i&&!e),l}(o?SF:CF,e.length,o,i,k);!o&&He&&(e[ke].providerFactory=et),bD(l,t,n.length,0),n.push(x),K.directiveStart++,K.directiveEnd++,o&&(K.providerIndexes+=1048576),e.push(et),d.push(et)}else bD(l,t,Ee>-1?Ee:ke,ck(e[o?ke:Ee],k,!o&&i));!o&&i&&He&&e[ke].componentProviders++}}}function bD(t,n,e,i){const o=ms(n),l=function jw(t){return!!t.useClass}(n);if(o||l){const k=(l?on(n.useClass):n).prototype.ngOnDestroy;if(k){const K=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const ne=K.indexOf(e);-1===ne?K.push(e,[i,k]):K[ne+1].push(i,k)}else K.push(e,k)}}}function ck(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function _D(t,n,e,i){for(let o=e;o<i;o++)if(n[o]===t)return o;return-1}function CF(t,n,e,i){return wD(this.multi,[])}function SF(t,n,e,i){const o=this.multi;let l;if(this.providerFactory){const d=this.providerFactory.componentProviders,x=Bc(e,e[Lt],this.providerFactory.index,i);l=x.slice(0,d),wD(o,l);for(let k=d;k<x.length;k++)l.push(x[k])}else l=[],wD(o,l);return l}function wD(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function ki(t,n=[]){return e=>{e.providersResolver=(i,o)=>function EF(t,n,e){const i=gi();if(i.firstCreatePass){const o=Is(t);yD(e,i.data,i.blueprint,o,!0),yD(n,i.data,i.blueprint,o,!1)}}(i,o?o(t):t,n)}}class Cv{}class dk{}class xD extends Cv{constructor(n,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uh(this);const o=vo(n);this._bootstrapComponents=Cl(o.bootstrap),this._r3Injector=fx(n,e,[{provide:Cv,useValue:this},{provide:tc,useValue:this.componentFactoryResolver},...i],Ki(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class ED extends dk{constructor(n){super(),this.moduleType=n}create(n){return new xD(this.moduleType,n,[])}}class uk extends Cv{constructor(n){super(),this.componentFactoryResolver=new Uh(this),this.instance=null;const e=new yb([...n.providers,{provide:Cv,useValue:this},{provide:tc,useValue:this.componentFactoryResolver}],n.parent||dp(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function CD(t,n,e=null){return new uk({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let kF=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=Ih(0,e.type),o=i.length>0?CD([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,o)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=xt({token:t,providedIn:"environment",factory:()=>new t(je(xl))})}return t})();function hk(t){t.getStandaloneInjector=n=>n.get(kF).getOrCreateStandaloneInjector(t)}function lE(t,n,e,i){return bk(dt(),ro(),t,n,e,i)}function Sv(t,n,e,i,o){return function _k(t,n,e,i,o,l,d){const x=n+e;return function td(t,n,e,i){const o=$o(t,n,e);return $o(t,n+1,i)||o}(t,x,o,l)?Dl(t,x+2,d?i.call(d,o,l):i(o,l)):N_(t,x+2)}(dt(),ro(),t,n,e,i,o)}function N_(t,n){const e=t[n];return e===Tn?void 0:e}function bk(t,n,e,i,o,l){const d=n+e;return $o(t,d,o)?Dl(t,d+1,l?i.call(l,o):i(o)):N_(t,d+1)}function DD(t,n){const e=gi();let i;const o=t+Qn;e.firstCreatePass?(i=function GF(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}}(n,e.pipeRegistry),e.data[o]=i,i.onDestroy&&(e.destroyHooks??=[]).push(o,i.onDestroy)):i=e.data[o];const l=i.factory||(i.factory=Xl(i.type)),d=li(Re);try{const x=Bf(!1),k=l();return Bf(x),function uD(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}(e,dt(),o,k),k}finally{li(d)}}function MD(t,n,e){const i=t+Qn,o=dt(),l=ot(o,i);return function F_(t,n){return t[Lt].data[n].pure}(o,i)?bk(o,ro(),n,l.transform,e,l):l.transform(e)}function TD(t){return n=>{setTimeout(t,void 0,n)}}const Kn=class QF extends We{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,i){let o=n,l=e||(()=>null),d=i;if(n&&"object"==typeof n){const k=n;o=k.next?.bind(k),l=k.error?.bind(k),d=k.complete?.bind(k)}this.__isAsync&&(l=TD(l),o&&(o=TD(o)),d&&(d=TD(d)));const x=super.subscribe({next:o,error:l,complete:d});return n instanceof H&&n.add(x),x}};function qF(){return this._results[Symbol.iterator]()}class Mu{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Kn)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Mu.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=qF)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const i=this;i.dirty=!1;const o=function Ls(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function aS(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let o=t[i],l=n[i];if(e&&(o=e(o),l=e(l)),l!==o)return!1}return!0}(i._results,o,e))&&(i._results=o,i.length=o.length,i.last=o[this.length-1],i.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wo=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=tL}return t})();const JF=Wo,eL=class extends JF{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e,null)}createEmbeddedViewImpl(n,e,i){const o=this._declarationTContainer.tView,l=Ep(this._declarationLView,o,n,16,null,o.declTNode,null,null,null,e||null,i||null);l[Gl]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[Xi];return null!==x&&(l[Xi]=x.createEmbeddedView(o)),jh(o,l,n),new qc(l)}};function tL(){return cE($r(),dt())}function cE(t,n){return 4&t.type?new eL(n,t,nc(t,n)):null}let rs=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=lL}return t})();function lL(){return kk($r(),dt())}const cL=rs,Mk=class extends cL{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return nc(this._hostTNode,this._hostLView)}get injector(){return new mh(this._hostTNode,this._hostLView)}get parentInjector(){const n=Fd(this._hostTNode,this._hostLView);if(Lf(n)){const e=Fc(n,this._hostLView),i=kn(n);return new mh(e[Lt].data[i+8],e)}return new mh(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=Tk(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-Er}createEmbeddedView(n,e,i){let o,l;"number"==typeof i?o=i:null!=i&&(o=i.index,l=i.injector);const x=n.createEmbeddedViewImpl(e||{},l,null);return this.insertImpl(x,o,!1),x}createComponent(n,e,i,o,l){const d=n&&!function vl(t){return"function"==typeof t}(n);let x;if(d)x=e;else{const ke=e||{};x=ke.index,i=ke.injector,o=ke.projectableNodes,l=ke.environmentInjector||ke.ngModuleRef}const k=d?n:new ha(ni(n)),K=i||this.parentInjector;if(!l&&null==k.ngModule){const Ne=(d?K:this.parentInjector).get(xl,null);Ne&&(l=Ne)}ni(k.componentType??{});const Ee=k.create(K,o,null,l);return this.insertImpl(Ee.hostView,x,!1),Ee}insert(n,e){return this.insertImpl(n,e,!1)}insertImpl(n,e,i){const o=n._lView,l=o[Lt];if(function Jo(t){return qo(t[Qi])}(o)){const k=this.indexOf(n);if(-1!==k)this.detach(k);else{const K=o[Qi],ne=new Mk(K,K[Vr],K[Qi]);ne.detach(ne.indexOf(n))}}const d=this._adjustIndex(e),x=this._lContainer;if(function Ra(t,n,e,i){const o=Er+i,l=e.length;i>0&&(e[o-1][Ts]=n),i<l-Er?(n[Ts]=e[o],Uf(e,Er+i,n)):(e.push(n),n[Ts]=null),n[Qi]=e;const d=n[Gl];null!==d&&e!==d&&function aa(t,n){const e=t[ll];n[qi]!==n[Qi][Qi][qi]&&(t[km]=!0),null===e?t[ll]=[n]:e.push(n)}(d,n);const x=n[Xi];null!==x&&x.insertView(t),n[Sn]|=128}(l,o,x,d),!i){const k=np(d,x),K=o[Dn],ne=ep(K,x[ea]);null!==ne&&function gw(t,n,e,i,o,l){i[xr]=o,i[Vr]=n,Kd(t,i,e,1,o,l)}(l,x[Vr],K,o,ne,k)}return n.attachToViewContainerRef(),Uf(AD(x),d,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=Tk(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=eb(this._lContainer,e);i&&(gh(AD(this._lContainer),e),vw(i[Lt],i))}detach(n){const e=this._adjustIndex(n,-1),i=eb(this._lContainer,e);return i&&null!=gh(AD(this._lContainer),e)?new qc(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function Tk(t){return t[Md]}function AD(t){return t[Md]||(t[Md]=[])}function kk(t,n){let e;const i=n[t.index];return qo(i)?e=i:(e=Xg(i,n,null,t),n[t.index]=e,Zg(n,e)),Ak(e,n,t,i),new Mk(e,t,n)}let Ak=function Ok(t,n,e,i){if(t[ea])return;let o;o=8&e.type?z(i):function dL(t,n){const e=t[Dn],i=e.createComment(""),o=pe(n,t);return Uc(e,ep(e,o),i,function og(t,n){return t.nextSibling(n)}(e,o),!1),i}(n,e),t[ea]=o};class OD{constructor(n){this.queryList=n,this.matches=null}clone(){return new OD(this.queryList)}setDirty(){this.queryList.setDirty()}}class ID{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let l=0;l<i;l++){const d=e.getByIndex(l);o.push(this.queries[d.indexInDeclarationView].clone())}return new ID(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==Fk(n,e).matches&&this.queries[e].setDirty()}}class Ik{constructor(n,e,i=null){this.predicate=n,this.flags=e,this.read=i}}class PD{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const o=null!==e?e.length:0,l=this.getByIndex(i).embeddedTView(n,o);l&&(l.indexInDeclarationView=i,null!==e?e.push(l):e=[l])}return null!==e?new PD(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class RD{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new RD(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let o=0;o<i.length;o++){const l=i[o];this.matchTNodeWithReadOption(n,e,fL(e,l)),this.matchTNodeWithReadOption(n,e,Ld(e,n,l,!1,!1))}else i===Wo?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Ld(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const o=this.metadata.read;if(null!==o)if(o===Hn||o===rs||o===Wo&&4&e.type)this.addMatch(e.index,-2);else{const l=Ld(e,n,o,!1,!1);null!==l&&this.addMatch(e.index,l)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function fL(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function mL(t,n,e,i){return-1===e?function pL(t,n){return 11&t.type?nc(t,n):4&t.type?cE(t,n):null}(n,t):-2===e?function gL(t,n,e){return e===Hn?nc(n,t):e===Wo?cE(n,t):e===rs?kk(n,t):void 0}(t,n,i):Bc(t,t[Lt],e,n)}function Pk(t,n,e,i){const o=n[Xi].queries[i];if(null===o.matches){const l=t.data,d=e.matches,x=[];for(let k=0;k<d.length;k+=2){const K=d[k];x.push(K<0?null:mL(n,l[K],d[k+1],e.metadata.read))}o.matches=x}return o.matches}function ND(t,n,e,i){const o=t.queries.getByIndex(e),l=o.matches;if(null!==l){const d=Pk(t,n,o,e);for(let x=0;x<l.length;x+=2){const k=l[x];if(k>0)i.push(d[x/2]);else{const K=l[x+1],ne=n[-k];for(let le=Er;le<ne.length;le++){const xe=ne[le];xe[Gl]===xe[Qi]&&ND(xe[Lt],xe,K,i)}if(null!==ne[ll]){const le=ne[ll];for(let xe=0;xe<le.length;xe++){const Ee=le[xe];ND(Ee[Lt],Ee,K,i)}}}}}return i}function On(t){const n=dt(),e=gi(),i=Of();yy(i+1);const o=Fk(e,i);if(t.dirty&&function Un(t){return 4==(4&t[Sn])}(n)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const l=o.crossesNgTemplate?ND(e,n,i,[]):Pk(e,n,o,i);t.reset(l,US),t.notifyOnChanges()}return!0}return!1}function gr(t,n,e){const i=gi();i.firstCreatePass&&(Nk(i,new Ik(t,n,e),-1),2==(2&n)&&(i.staticViewQueries=!0)),Rk(i,dt(),n)}function Kr(t,n,e,i){const o=gi();if(o.firstCreatePass){const l=$r();Nk(o,new Ik(n,e,i),l.index),function yL(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(o,t),2==(2&e)&&(o.staticContentQueries=!0)}Rk(o,dt(),e)}function In(){return function vL(t,n){return t[Xi].queries[n].queryList}(dt(),Of())}function Rk(t,n,e){const i=new Mu(4==(4&e));(function XS(t,n,e,i){const o=qg(n);o.push(e),t.firstCreatePass&&Ex(t).push(i,o.length-1)})(t,n,i,i.destroy),null===n[Xi]&&(n[Xi]=new ID),n[Xi].queries.push(new OD(i))}function Nk(t,n,e){null===t.queries&&(t.queries=new PD),t.queries.track(new RD(n,e))}function Fk(t,n){return t.queries.getByIndex(n)}function L_(t,n){return cE(t,n)}const HD=new ht("Application Initializer");let jD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=It(HD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const o of this.appInits){const l=o();if(ac(l))e.push(l);else if(b_(l)){const d=new Promise((x,k)=>{l.subscribe({complete:x,error:k})});e.push(d)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(o=>{this.reject(o)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Jk=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const dd=new ht("LocaleId",{providedIn:"root",factory:()=>It(dd,tn.Optional|tn.SkipSelf)||function zL(){return typeof $localize<"u"&&$localize.locale||Du}()});class HL{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let eA=(()=>{class t{compileModuleSync(e){return new ED(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),l=Cl(vo(e).declarations).reduce((d,x)=>{const k=ni(x);return k&&d.push(new ha(k)),d},[]);return new HL(i,l)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $L=(()=>Promise.resolve(0))();function UD(t){typeof Zone>"u"?$L.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function iA(...t){}class Pn{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kn(!1),this.onMicrotaskEmpty=new Kn(!1),this.onStable=new Kn(!1),this.onError=new Kn(!1),typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&e,o.shouldCoalesceRunChangeDetection=i,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function WL(){let t=Ii.requestAnimationFrame,n=Ii.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function KL(t){const n=()=>{!function YL(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ii,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,WD(t),t.isCheckStableRunning=!0,$D(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),WD(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,o,l,d,x)=>{try{return rA(t),e.invokeTask(o,l,d,x)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),oA(t)}},onInvoke:(e,i,o,l,d,x,k)=>{try{return rA(t),e.invoke(o,l,d,x,k)}finally{t.shouldCoalesceRunChangeDetection&&n(),oA(t)}},onHasTask:(e,i,o,l)=>{e.hasTask(o,l),i===o&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,WD(t),$D(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(e,i,o,l)=>(e.handleError(o,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pn.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(Pn.isInAngularZone())throw new Je(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,o){const l=this._inner,d=l.scheduleEventTask("NgZoneEvent: "+o,n,GL,iA,iA);try{return l.runTask(d,e,i)}finally{l.cancelTask(d)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const GL={};function $D(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function WD(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function rA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function oA(t){t._nesting--,$D(t)}class XL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kn,this.onMicrotaskEmpty=new Kn,this.onStable=new Kn,this.onError=new Kn}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,o){return n.apply(e,i)}}const sA=new ht("",{providedIn:"root",factory:aA});function aA(){const t=It(Pn);let n=!0;return Ir(new De(o=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{o.next(n),o.complete()})}),new De(o=>{let l;t.runOutsideAngular(()=>{l=t.onStable.subscribe(()=>{Pn.assertNotInAngularZone(),UD(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,o.next(!0))})})});const d=t.onUnstable.subscribe(()=>{Pn.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{o.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}}).pipe(Xa()))}const lA=new ht(""),uE=new ht("");let KD,GD=(()=>{class t{constructor(e,i,o){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,KD||(function ZL(t){KD=t}(o),o.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pn.assertNotInAngularZone(),UD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())UD(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,o){let l=-1;i&&i>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==l),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:l,updateCb:o})}whenStable(e,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,o){return[]}static#e=this.\u0275fac=function(i){return new(i||t)(je(Pn),je(YD),je(uE))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})(),YD=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return KD?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),qh=null;const cA=new ht("AllowMultipleToken"),XD=new ht("PlatformDestroyListeners"),ZD=new ht("appBootstrapListener");class uA{constructor(n,e){this.name=n,this.token=e}}function fA(t,n,e=[]){const i=`Platform: ${n}`,o=new ht(i);return(l=[])=>{let d=QD();if(!d||d.injector.get(cA,!1)){const x=[...e,...l,{provide:o,useValue:!0}];t?t(x):function JL(t){if(qh&&!qh.get(cA,!1))throw new Je(400,!1);(function dA(){!function oy(t){hl=t}(()=>{throw new Je(600,!1)})})(),qh=t;const n=t.get(mA);(function hA(t){t.get(Eb,null)?.forEach(e=>e())})(t)}(function pA(t=[],n){return ys.create({name:n,providers:[{provide:eu,useValue:"platform"},{provide:XD,useValue:new Set([()=>qh=null])},...t]})}(x,i))}return function tB(t){const n=QD();if(!n)throw new Je(401,!1);return n}()}}function QD(){return qh?.get(mA)??null}let mA=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const o=function nB(t="zone.js",n){return"noop"===t?new XL:"zone.js"===t?new Pn(n):t}(i?.ngZone,function gA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const l=function TF(t,n,e){return new xD(t,n,e)}(e.moduleType,this.injector,function wA(t){return[{provide:Pn,useFactory:t},{provide:Oh,multi:!0,useFactory:()=>{const n=It(rB,{optional:!0});return()=>n.initialize()}},{provide:_A,useFactory:iB},{provide:sA,useFactory:aA}]}(()=>o)),d=l.injector.get(vs,null);return o.runOutsideAngular(()=>{const x=o.onError.subscribe({next:k=>{d.handleError(k)}});l.onDestroy(()=>{hE(this._modules,l),x.unsubscribe()})}),function vA(t,n,e){try{const i=e();return ac(i)?i.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(d,o,()=>{const x=l.injector.get(jD);return x.runInitializers(),x.donePromise.then(()=>(function z1(t){Po(t,"Expected localeId to be defined"),"string"==typeof t&&(B1=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(dd,Du)||Du),this._moduleDoBootstrap(l),l))})})}bootstrapModule(e,i=[]){const o=yA({},i);return function QL(t,n,e){const i=new ED(e);return Promise.resolve(i)}(0,0,e).then(l=>this.bootstrapModuleFactory(l,o))}_moduleDoBootstrap(e){const i=e.injector.get(Jh);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new Je(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(XD,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||t)(je(ys))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function yA(t,n){return Array.isArray(n)?n.reduce(yA,t):{...t,...n}}let Jh=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=It(_A),this.componentTypes=[],this.components=[],this.isStable=It(sA),this._injector=It(xl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const o=e instanceof tx;if(!this._injector.get(jD).done)throw!o&&function Zo(t){const n=ni(t)||no(t)||Di(t);return null!==n&&n.standalone}(e),new Je(405,!1);let d;d=o?e:this._injector.get(tc).resolveComponentFactory(e),this.componentTypes.push(d.componentType);const x=function qL(t){return t.isBoundToModule}(d)?void 0:this._injector.get(Cv),K=d.create(ys.NULL,[],i||d.selector,x),ne=K.location.nativeElement,le=K.injector.get(lA,null);return le?.registerApplication(ne),K.onDestroy(()=>{this.detachView(K.hostView),hE(this.components,K),le?.unregisterApplication(ne)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new Je(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;hE(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(ZD,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>hE(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Je(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hE(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const _A=new ht("",{providedIn:"root",factory:()=>It(vs).handleError.bind(void 0)});function iB(){const t=It(Pn),n=It(vs);return e=>t.runOutsideAngular(()=>n.handleError(e))}let rB=(()=>{class t{constructor(){this.zone=It(Pn),this.applicationRef=It(Jh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let os=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=sB}return t})();function sB(t){return function aB(t,n,e){if(Yl(t)&&!e){const i=en(t.index,n);return new qc(i,i)}return 47&t.type?new qc(n[qi],n):null}($r(),dt(),16==(16&t))}class SA{constructor(){}supports(n){return ed(n)}create(n){return new fB(n)}}const hB=(t,n)=>n;class fB{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||hB}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,o=0,l=null;for(;e||i;){const d=!i||e&&e.currentIndex<MA(i,o,l)?e:i,x=MA(d,o,l),k=d.currentIndex;if(d===i)o--,i=i._nextRemoved;else if(e=e._next,null==d.previousIndex)o++;else{l||(l=[]);const K=x-o,ne=k-o;if(K!=ne){for(let xe=0;xe<K;xe++){const Ee=xe<l.length?l[xe]:l[xe]=0,ke=Ee+xe;ne<=ke&&ke<K&&(l[xe]=Ee+1)}l[d.previousIndex]=ne-K}}x!==k&&n(d,x,k)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!ed(n))throw new Je(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,l,d,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let x=0;x<this.length;x++)l=n[x],d=this._trackByFn(x,l),null!==e&&Object.is(e.trackById,d)?(i&&(e=this._verifyReinsertion(e,l,d,x)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,d,x),i=!0),e=e._next}else o=0,function s_(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,x=>{d=this._trackByFn(o,x),null!==e&&Object.is(e.trackById,d)?(i&&(e=this._verifyReinsertion(e,x,d,o)),Object.is(e.item,x)||this._addIdentityChange(e,x)):(e=this._mismatch(e,x,d,o),i=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,o){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,l,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,o))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,l,o)):n=this._addAfter(new pB(e,i),l,o),n}_verifyReinsertion(n,e,i,o){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==l?n=this._reinsertAfter(l,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,l=n._nextRemoved;return null===o?this._removalsHead=l:o._nextRemoved=l,null===l?this._removalsTail=o:l._prevRemoved=o,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const o=null===e?this._itHead:e._next;return n._next=o,n._prev=e,null===o?this._itTail=n:o._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new DA),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DA),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class pB{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mB{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class DA{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new mB,this.map.set(e,i)),i.add(n)}get(n,e){const o=this.map.get(n);return o?o.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function MA(t,n,e){const i=t.previousIndex;if(null===i)return i;let o=0;return e&&i<e.length&&(o=e[i]),i+n+o}class TA{constructor(){}supports(n){return n instanceof Map||fu(n)}create(){return new gB}}class gB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||fu(n)))throw new Je(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,o)=>{if(e&&e.key===o)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const l=this._getOrCreateRecordForKey(o,i);e=this._insertBeforeOrAppend(e,l)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const o=this._records.get(n);this._maybeAddToChanges(o,e);const l=o._prev,d=o._next;return l&&(l._next=d),d&&(d._prev=l),o._next=null,o._prev=null,o}const i=new vB(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class vB{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kA(){return new mE([new SA])}let mE=(()=>{class t{static#e=this.\u0275prov=xt({token:t,providedIn:"root",factory:kA});constructor(e){this.factories=e}static create(e,i){if(null!=i){const o=i.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||kA()),deps:[[t,new Vc,new yl]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(null!=i)return i;throw new Je(901,!1)}}return t})();function AA(){return new z_([new TA])}let z_=(()=>{class t{static#e=this.\u0275prov=xt({token:t,providedIn:"root",factory:AA});constructor(e){this.factories=e}static create(e,i){if(i){const o=i.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||AA()),deps:[[t,new Vc,new yl]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new Je(901,!1)}}return t})();const _B=fA(null,"core",[]);let wB=(()=>{class t{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||t)(je(Jh))};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({})}return t})(),FA=(()=>{class t{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=It(Pn),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(e=>{this.resolve=e})})}add(){if(this.completed)return-1;const e=this.taskId++;return this.collection.add(e),e}remove(e){this.completed||(this.collection.delete(e),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rM=null;function ef(){return rM}class PB{}const ri=new ht("DocumentToken");let oM=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:function(){return function RB(){return je(BA)}()},providedIn:"platform"})}return t})();const NB=new ht("Location Initialized");let BA=(()=>{class t extends oM{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ef().getBaseHref(this._doc)}onPopState(e){const i=ef().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ef().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){zA()?this._history.pushState(e,i,o):this._location.hash=o}replaceState(e,i,o){zA()?this._history.replaceState(e,i,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||t)(je(ri))};static#t=this.\u0275prov=xt({token:t,factory:function(){return function FB(){return new BA(je(ri))}()},providedIn:"platform"})}return t})();function zA(){return!!window.history.pushState}function sM(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function VA(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Tu(t){return t&&"?"!==t[0]?"?"+t:t}let Qp=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:function(){return It(jA)},providedIn:"root"})}return t})();const HA=new ht("appBaseHref");let jA=(()=>{class t extends Qp{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??It(ri).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return sM(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Tu(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,l){const d=this.prepareExternalUrl(o+Tu(l));this._platformLocation.pushState(e,i,d)}replaceState(e,i,o,l){const d=this.prepareExternalUrl(o+Tu(l));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||t)(je(oM),je(HA,8))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),LB=(()=>{class t extends Qp{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=sM(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,l){let d=this.prepareExternalUrl(o+Tu(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,o,l){let d=this.prepareExternalUrl(o+Tu(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||t)(je(oM),je(HA,8))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})(),vE=(()=>{class t{constructor(e){this._subject=new Kn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function VB(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(VA(UA(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Tu(i))}normalize(e){return t.stripTrailingSlash(function zB(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,UA(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Tu(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Tu(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}static#e=this.normalizeQueryParams=Tu;static#t=this.joinWithSlash=sM;static#n=this.stripTrailingSlash=VA;static#i=this.\u0275fac=function(i){return new(i||t)(je(Qp))};static#r=this.\u0275prov=xt({token:t,factory:function(){return function BB(){return new vE(je(Qp))}()},providedIn:"root"})}return t})();function UA(t){return t.replace(/\/index.html$/,"")}function qA(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[o,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===n)return decodeURIComponent(l)}return null}const gM=/\s+/,JA=[];let eO=(()=>{class t{constructor(e,i,o,l){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=o,this._renderer=l,this.initialClasses=JA,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(gM):JA}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(gM):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],o=e[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(gM).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static#e=this.\u0275fac=function(i){return new(i||t)(Re(mE),Re(z_),Re(Hn),Re(El))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class S3{constructor(n,e,i,o){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vM=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,l,d)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new S3(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===l?void 0:l);else if(null!==l){const x=i.get(l);i.move(x,d),nO(x,o)}});for(let o=0,l=i.length;o<l;o++){const x=i.get(o).context;x.index=o,x.count=l,x.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{nO(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(Re(rs),Re(Wo),Re(mE))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function nO(t,n){t.context.$implicit=n.item}let qp=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new D3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){iO("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){iO("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(Re(rs),Re(Wo))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class D3{constructor(){this.$implicit=null,this.ngIf=null}}function iO(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ki(n)}'.`)}class yM{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let kv=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Mt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return t})(),ME=(()=>{class t{constructor(e,i,o){this.ngSwitch=o,o._addCase(),this._view=new yM(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||t)(Re(rs),Re(Wo),Re(kv,9))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return t})(),rO=(()=>{class t{constructor(e,i,o){o._addDefault(new yM(e,i))}static#e=this.\u0275fac=function(i){return new(i||t)(Re(rs),Re(Wo),Re(kv,9))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return t})(),j_=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:l,ngTemplateOutletInjector:d}=this;this._viewRef=i.createEmbeddedView(o,l,d?{injector:d}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||t)(Re(rs))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Rr]})}return t})();class k3{createSubscription(n,e){return n.subscribe({next:e,error:i=>{throw i}})}dispose(n){n.unsubscribe()}}class A3{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}}const O3=new A3,I3=new k3;let bM=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(ac(e))return O3;if(b_(e))return I3;throw function mc(t,n){return new Je(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||t)(Re(os,16))};static#t=this.\u0275pipe=go({name:"async",type:t,pure:!1,standalone:!0})}return t})(),tf=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({})}return t})();const aO="browser";function lO(t){return"server"===t}let ez=(()=>{class t{static#e=this.\u0275prov=xt({token:t,providedIn:"root",factory:()=>new tz(je(ri),window)})}return t})();class tz{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function nz(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const l=o.shadowRoot;if(l){const d=l.getElementById(n)||l.querySelector(`[name="${n}"]`);if(d)return d}o=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=cO(this.window.history)||cO(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function cO(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class dO{}class kz extends PB{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class CM extends kz{static makeCurrent(){!function IB(t){rM||(rM=t)}(new CM)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Az(){return $_=$_||document.querySelector("base"),$_?$_.getAttribute("href"):null}();return null==e?null:function Oz(t){AE=AE||document.createElement("a"),AE.setAttribute("href",t);const n=AE.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){$_=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return qA(document.cookie,n)}}let AE,$_=null,Pz=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})();const SM=new ht("EventManagerPlugins");let mO=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const o=this._plugins;for(let l=0;l<o.length;l++){const d=o[l];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}static#e=this.\u0275fac=function(i){return new(i||t)(je(SM),je(Pn))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})();class gO{constructor(n){this._doc=n}}const DM="ng-app-id";let vO=(()=>{class t{constructor(e,i,o,l={}){this.doc=e,this.appId=i,this.nonce=o,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lO(l),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(o=>o.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${DM}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(e,i){const o=this.styleRef;if(o.has(e)){const l=o.get(e);return l.usage+=i,l.usage}return o.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const o=this.styleNodesInDOM,l=o?.get(i);if(l?.parentNode===e)return o.delete(i),l.removeAttribute(DM),l;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=i,this.platformIsServer&&d.setAttribute(DM,this.appId),d}}addStyleToHost(e,i){const o=this.getStyleElement(e,i);e.appendChild(o);const l=this.styleRef,d=l.get(i)?.elements;d?d.push(o):l.set(i,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||t)(je(ri),je(Rh),je(Eg,8),je(Wc))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})();const MM={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},TM=/%COMP%/g,Lz=new ht("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function bO(t,n){return n.map(e=>e.replace(TM,t))}let kM=(()=>{class t{constructor(e,i,o,l,d,x,k,K=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestory=l,this.doc=d,this.platformId=x,this.ngZone=k,this.nonce=K,this.rendererByCompId=new Map,this.platformIsServer=lO(x),this.defaultRenderer=new AM(e,d,k,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===to.ShadowDom&&(i={...i,encapsulation:to.Emulated});const o=this.getOrCreateRenderer(e,i);return o instanceof wO?o.applyToHost(e):o instanceof OM&&o.applyStyles(),o}getOrCreateRenderer(e,i){const o=this.rendererByCompId;let l=o.get(i.id);if(!l){const d=this.doc,x=this.ngZone,k=this.eventManager,K=this.sharedStylesHost,ne=this.removeStylesOnCompDestory,le=this.platformIsServer;switch(i.encapsulation){case to.Emulated:l=new wO(k,K,i,this.appId,ne,d,x,le);break;case to.ShadowDom:return new Hz(k,K,e,i,d,x,this.nonce,le);default:l=new OM(k,K,i,ne,d,x,le)}l.onDestroy=()=>o.delete(i.id),o.set(i.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||t)(je(mO),je(vO),je(Rh),je(Lz),je(ri),je(Wc),je(Pn),je(Eg))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})();class AM{constructor(n,e,i,o){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(MM[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(_O(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(_O(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,o){if(o){e=o+":"+e;const l=MM[o];l?n.setAttributeNS(l,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const o=MM[i];o?n.removeAttributeNS(o,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,o){o&(ps.DashCase|ps.Important)?n.style.setProperty(e,i,o&ps.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&ps.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){if("string"==typeof n&&!(n=ef().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&(e.preventDefault(),e.returnValue=!1)}}}function _O(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Hz extends AM{constructor(n,e,i,o,l,d,x,k){super(n,l,d,k),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const K=bO(o.id,o.styles);for(const ne of K){const le=document.createElement("style");x&&le.setAttribute("nonce",x),le.textContent=ne,this.shadowRoot.appendChild(le)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class OM extends AM{constructor(n,e,i,o,l,d,x,k){super(n,l,d,x),this.sharedStylesHost=e,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=k?bO(k,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class wO extends OM{constructor(n,e,i,o,l,d,x,k){const K=o+"-"+i.id;super(n,e,i,l,d,x,k,K),this.contentAttr=function Bz(t){return"_ngcontent-%COMP%".replace(TM,t)}(K),this.hostAttr=function zz(t){return"_nghost-%COMP%".replace(TM,t)}(K)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let jz=(()=>{class t extends gO{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}static#e=this.\u0275fac=function(i){return new(i||t)(je(ri))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})();const xO=["alt","control","meta","shift"],Uz={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$z={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Wz=(()=>{class t extends gO{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,o){const l=t.parseEventName(i),d=t.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ef().onAndCancel(e,l.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=t._normalizeKey(i.pop());let d="",x=i.indexOf("code");if(x>-1&&(i.splice(x,1),d="code."),xO.forEach(K=>{const ne=i.indexOf(K);ne>-1&&(i.splice(ne,1),d+=K+".")}),d+=l,0!=i.length||0===l.length)return null;const k={};return k.domEventName=o,k.fullKey=d,k}static matchEventFullKeyCode(e,i){let o=Uz[e.key]||e.key,l="";return i.indexOf("code.")>-1&&(o=e.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),xO.forEach(d=>{d!==o&&(0,$z[d])(e)&&(l+=d+".")}),l+=o,l===i)}static eventCallback(e,i,o){return l=>{t.matchEventFullKeyCode(l,e)&&o.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||t)(je(ri))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})();const Xz=fA(_B,"browser",[{provide:Wc,useValue:aO},{provide:Eb,useValue:function Gz(){CM.makeCurrent()},multi:!0},{provide:ri,useFactory:function Kz(){return function DS(t){ab=t}(document),document},deps:[]}]),Zz=new ht(""),SO=[{provide:uE,useClass:class Iz{addToWindow(n){Ii.getAngularTestability=(i,o=!0)=>{const l=n.findTestabilityInTree(i,o);if(null==l)throw new Error("Could not find testability for element.");return l},Ii.getAllAngularTestabilities=()=>n.getAllTestabilities(),Ii.getAllAngularRootElements=()=>n.getAllRootElements(),Ii.frameworkStabilizers||(Ii.frameworkStabilizers=[]),Ii.frameworkStabilizers.push(i=>{const o=Ii.getAllAngularTestabilities();let l=o.length,d=!1;const x=function(k){d=d||k,l--,0==l&&i(d)};o.forEach(function(k){k.whenStable(x)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?ef().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:lA,useClass:GD,deps:[Pn,YD,uE]},{provide:GD,useClass:GD,deps:[Pn,YD,uE]}],DO=[{provide:eu,useValue:"root"},{provide:vs,useFactory:function Yz(){return new vs},deps:[]},{provide:SM,useClass:jz,multi:!0,deps:[ri,Pn,Wc]},{provide:SM,useClass:Wz,multi:!0,deps:[ri]},kM,vO,mO,{provide:iu,useExisting:kM},{provide:dO,useClass:Pz,deps:[]},[]];let MO=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Rh,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||t)(je(Zz,12))};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({providers:[...DO,...SO],imports:[tf,wB]})}return t})(),TO=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||t)(je(ri))};static#t=this.\u0275prov=xt({token:t,factory:function(i){let o=null;return o=i?new i:function qz(){return new TO(je(ri))}(),o},providedIn:"root"})}return t})();typeof window<"u"&&window;let PM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:function(i){let o=null;return o=i?new(i||t):je(OO),o},providedIn:"root"})}return t})(),OO=(()=>{class t extends PM{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case ii.NONE:return i;case ii.HTML:return zs(i,"HTML")?Ho(i):ap(this._doc,String(i)).toString();case ii.STYLE:return zs(i,"Style")?Ho(i):i;case ii.SCRIPT:if(zs(i,"Script"))return Ho(i);throw new Error("unsafe value used in a script context");case ii.URL:return zs(i,"URL")?Ho(i):ug(String(i));case ii.RESOURCE_URL:if(zs(i,"ResourceURL"))return Ho(i);throw new Error(`unsafe value used in a resource URL context (see ${Qa})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${Qa})`)}}bypassSecurityTrustHtml(e){return function lg(t){return new MS(t)}(e)}bypassSecurityTrustStyle(e){return function sp(t){return new TS(t)}(e)}bypassSecurityTrustScript(e){return function OS(t){return new kS(t)}(e)}bypassSecurityTrustUrl(e){return function kw(t){return new ca(t)}(e)}bypassSecurityTrustResourceUrl(e){return function cg(t){return new AS(t)}(e)}static#e=this.\u0275fac=function(i){return new(i||t)(je(ri))};static#t=this.\u0275prov=xt({token:t,factory:function(i){let o=null;return o=i?new i:function nV(t){return new OO(t.get(ri))}(je(ys)),o},providedIn:"root"})}return t})();function an(...t){return hi(t,Br(t))}class Ha extends We{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const{isArray:rV}=Array,{getPrototypeOf:oV,prototype:sV,keys:aV}=Object;function PO(t){if(1===t.length){const n=t[0];if(rV(n))return{args:n,keys:null};if(function lV(t){return t&&"object"==typeof t&&oV(t)===sV}(n)){const e=aV(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:cV}=Array;function RM(t){return nt(n=>function dV(t,n){return cV(n)?t(...n):t(n)}(t,n))}function RO(t,n){return t.reduce((e,i,o)=>(e[i]=n[o],e),{})}function OE(...t){const n=Br(t),e=Ao(t),{args:i,keys:o}=PO(t);if(0===i.length)return hi([],n);const l=new De(function uV(t,n,e=oe){return i=>{NO(n,()=>{const{length:o}=t,l=new Array(o);let d=o,x=o;for(let k=0;k<o;k++)NO(n,()=>{const K=hi(t[k],n);let ne=!1;K.subscribe(Qe(i,le=>{l[k]=le,ne||(ne=!0,x--),x||i.next(e(l.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,n,o?d=>RO(o,d):oe));return e?l.pipe(RM(e)):l}function NO(t,n,e){t?yr(e,t,n):n()}const IE=W(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function PE(...t){return function hV(){return Fi(1)}()(hi(t,Br(t)))}function FO(t){return new De(n=>{Ft(t()).subscribe(n)})}function Av(t,n){const e=P(t)?t:()=>t,i=o=>o.error(e());return new De(n?o=>n.schedule(i,0,o):i)}function NM(){return Le((t,n)=>{let e=null;t._refCount++;const i=Qe(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,l=e;e=null,o&&(!l||o===l)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class LO extends De{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Oe(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new H;const e=this.getSubject();n.add(this.source.subscribe(Qe(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=H.EMPTY)}return n}refCount(){return NM()(this)}}function gc(t,n){return Le((e,i)=>{let o=null,l=0,d=!1;const x=()=>d&&!o&&i.complete();e.subscribe(Qe(i,k=>{o?.unsubscribe();let K=0;const ne=l++;Ft(t(k,ne)).subscribe(o=Qe(i,le=>i.next(n?n(k,le,ne,K++):le),()=>{o=null,x()}))},()=>{d=!0,x()}))})}function ud(t){return t<=0?()=>Hi:Le((n,e)=>{let i=0;n.subscribe(Qe(e,o=>{++i<=t&&(e.next(o),t<=i&&e.complete())}))})}function Au(...t){const n=Br(t);return Le((e,i)=>{(n?PE(t,e,n):PE(t,e)).subscribe(i)})}function va(t,n){return Le((e,i)=>{let o=0;e.subscribe(Qe(i,l=>t.call(n,l,o++)&&i.next(l)))})}function RE(t){return Le((n,e)=>{let i=!1;n.subscribe(Qe(e,o=>{i=!0,e.next(o)},()=>{i||e.next(t),e.complete()}))})}function BO(t=fV){return Le((n,e)=>{let i=!1;n.subscribe(Qe(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(t())))})}function fV(){return new IE}function Jp(t,n){const e=arguments.length>=2;return i=>i.pipe(t?va((o,l)=>t(o,l,i)):oe,ud(1),e?RE(n):BO(()=>new IE))}function Ov(t,n){return P(n)?Ci(t,n,1):Ci(t,1)}function So(t,n,e){const i=P(t)||n||e?{next:t,error:n,complete:e}:t;return i?Le((o,l)=>{var d;null===(d=i.subscribe)||void 0===d||d.call(i);let x=!0;o.subscribe(Qe(l,k=>{var K;null===(K=i.next)||void 0===K||K.call(i,k),l.next(k)},()=>{var k;x=!1,null===(k=i.complete)||void 0===k||k.call(i),l.complete()},k=>{var K;x=!1,null===(K=i.error)||void 0===K||K.call(i,k),l.error(k)},()=>{var k,K;x&&(null===(k=i.unsubscribe)||void 0===k||k.call(i)),null===(K=i.finalize)||void 0===K||K.call(i)}))}):oe}function rf(t){return Le((n,e)=>{let l,i=null,o=!1;i=n.subscribe(Qe(e,void 0,void 0,d=>{l=Ft(t(d,rf(t)(n))),i?(i.unsubscribe(),i=null,l.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,l.subscribe(e))})}function FM(t){return t<=0?()=>Hi:Le((n,e)=>{let i=[];n.subscribe(Qe(e,o=>{i.push(o),t<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function NE(t){return Le((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const $n="primary",W_=Symbol("RouteTitle");class yV{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Iv(t){return new yV(t)}function bV(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const o={};for(let l=0;l<i.length;l++){const d=i[l],x=t[l];if(d.startsWith(":"))o[d.substring(1)]=x;else if(d!==x.path)return null}return{consumed:t.slice(0,i.length),posParams:o}}function hd(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let l=0;l<e.length;l++)if(o=e[l],!zO(t[o],n[o]))return!1;return!0}function zO(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((o,l)=>i[l]===o)}return t===n}function VO(t){return t.length>0?t[t.length-1]:null}function sf(t){return function iV(t){return!!t&&(t instanceof De||P(t.lift)&&P(t.subscribe))}(t)?t:ac(t)?hi(Promise.resolve(t)):an(t)}const wV={exact:function UO(t,n,e){if(!em(t.segments,n.segments)||!FE(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!UO(t.children[i],n.children[i],e))return!1;return!0},subset:$O},HO={exact:function xV(t,n){return hd(t,n)},subset:function EV(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>zO(t[e],n[e]))},ignored:()=>!0};function jO(t,n,e){return wV[e.paths](t.root,n.root,e.matrixParams)&&HO[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function $O(t,n,e){return WO(t,n,n.segments,e)}function WO(t,n,e,i){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!em(o,e)||n.hasChildren()||!FE(o,e,i))}if(t.segments.length===e.length){if(!em(t.segments,e)||!FE(t.segments,e,i))return!1;for(const o in n.children)if(!t.children[o]||!$O(t.children[o],n.children[o],i))return!1;return!0}{const o=e.slice(0,t.segments.length),l=e.slice(t.segments.length);return!!(em(t.segments,o)&&FE(t.segments,o,i)&&t.children[$n])&&WO(t.children[$n],n,l,i)}}function FE(t,n,e){return n.every((i,o)=>HO[e](t[o].parameters,i.parameters))}class Pv{constructor(n=new Zi([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iv(this.queryParams)),this._queryParamMap}toString(){return DV.serialize(this)}}class Zi{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return LE(this)}}class G_{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Iv(this.parameters)),this._parameterMap}toString(){return KO(this)}}function em(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let Y_=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:function(){return new LM},providedIn:"root"})}return t})();class LM{parse(n){const e=new LV(n);return new Pv(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${K_(n.root,!0)}`,i=function kV(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(o=>`${BE(e)}=${BE(o)}`).join("&"):`${BE(e)}=${BE(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function MV(t){return encodeURI(t)}(n.fragment)}`:""}`}}const DV=new LM;function LE(t){return t.segments.map(n=>KO(n)).join("/")}function K_(t,n){if(!t.hasChildren())return LE(t);if(n){const e=t.children[$n]?K_(t.children[$n],!1):"",i=[];return Object.entries(t.children).forEach(([o,l])=>{o!==$n&&i.push(`${o}:${K_(l,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function SV(t,n){let e=[];return Object.entries(t.children).forEach(([i,o])=>{i===$n&&(e=e.concat(n(o,i)))}),Object.entries(t.children).forEach(([i,o])=>{i!==$n&&(e=e.concat(n(o,i)))}),e}(t,(i,o)=>o===$n?[K_(t.children[$n],!1)]:[`${o}:${K_(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[$n]?`${LE(t)}/${e[0]}`:`${LE(t)}/(${e.join("//")})`}}function GO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function BE(t){return GO(t).replace(/%3B/gi,";")}function BM(t){return GO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zE(t){return decodeURIComponent(t)}function YO(t){return zE(t.replace(/\+/g,"%20"))}function KO(t){return`${BM(t.path)}${function TV(t){return Object.keys(t).map(n=>`;${BM(n)}=${BM(t[n])}`).join("")}(t.parameters)}`}const AV=/^[^\/()?;#]+/;function zM(t){const n=t.match(AV);return n?n[0]:""}const OV=/^[^\/()?;=#]+/,PV=/^[^=?&#]+/,NV=/^[^&#]+/;class LV{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zi([],{}):new Zi([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[$n]=new Zi(n,e)),i}parseSegment(){const n=zM(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Je(4009,!1);return this.capture(n),new G_(zE(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function IV(t){const n=t.match(OV);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=zM(this.remaining);o&&(i=o,this.capture(i))}n[zE(e)]=zE(i)}parseQueryParam(n){const e=function RV(t){const n=t.match(PV);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function FV(t){const n=t.match(NV);return n?n[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const o=YO(e),l=YO(i);if(n.hasOwnProperty(o)){let d=n[o];Array.isArray(d)||(d=[d],n[o]=d),d.push(l)}else n[o]=l}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=zM(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new Je(4010,!1);let l;i.indexOf(":")>-1?(l=i.slice(0,i.indexOf(":")),this.capture(l),this.capture(":")):n&&(l=$n);const d=this.parseChildren();e[l]=1===Object.keys(d).length?d[$n]:new Zi([],d),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Je(4011,!1)}}function XO(t){return t.segments.length>0?new Zi([],{[$n]:t}):t}function ZO(t){const n={};for(const i of Object.keys(t.children)){const l=ZO(t.children[i]);if(i===$n&&0===l.segments.length&&l.hasChildren())for(const[d,x]of Object.entries(l.children))n[d]=x;else(l.segments.length>0||l.hasChildren())&&(n[i]=l)}return function BV(t){if(1===t.numberOfChildren&&t.children[$n]){const n=t.children[$n];return new Zi(t.segments.concat(n.segments),n.children)}return t}(new Zi(t.segments,n))}function tm(t){return t instanceof Pv}function QO(t){let n;const o=XO(function e(l){const d={};for(const k of l.children){const K=e(k);d[k.outlet]=K}const x=new Zi(l.url,d);return l===t&&(n=x),x}(t.root));return n??o}function qO(t,n,e,i){let o=t;for(;o.parent;)o=o.parent;if(0===n.length)return VM(o,o,o,e,i);const l=function VV(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new eI(!0,0,t);let n=0,e=!1;const i=t.reduce((o,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const x={};return Object.entries(l.outlets).forEach(([k,K])=>{x[k]="string"==typeof K?K.split("/"):K}),[...o,{outlets:x}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===d?(l.split("/").forEach((x,k)=>{0==k&&"."===x||(0==k&&""===x?e=!0:".."===x?n++:""!=x&&o.push(x))}),o):[...o,l]},[]);return new eI(e,n,i)}(n);if(l.toRoot())return VM(o,o,new Zi([],{}),e,i);const d=function HV(t,n,e){if(t.isAbsolute)return new HE(n,!0,0);if(!e)return new HE(n,!1,NaN);if(null===e.parent)return new HE(e,!0,0);const i=VE(t.commands[0])?0:1;return function jV(t,n,e){let i=t,o=n,l=e;for(;l>o;){if(l-=o,i=i.parent,!i)throw new Je(4005,!1);o=i.segments.length}return new HE(i,!1,o-l)}(e,e.segments.length-1+i,t.numberOfDoubleDots)}(l,o,t),x=d.processChildren?Z_(d.segmentGroup,d.index,l.commands):tI(d.segmentGroup,d.index,l.commands);return VM(o,d.segmentGroup,x,e,i)}function VE(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function X_(t){return"object"==typeof t&&null!=t&&t.outlets}function VM(t,n,e,i,o){let d,l={};i&&Object.entries(i).forEach(([k,K])=>{l[k]=Array.isArray(K)?K.map(ne=>`${ne}`):`${K}`}),d=t===n?e:JO(t,n,e);const x=XO(ZO(d));return new Pv(x,l,o)}function JO(t,n,e){const i={};return Object.entries(t.children).forEach(([o,l])=>{i[o]=l===n?e:JO(l,n,e)}),new Zi(t.segments,i)}class eI{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&VE(i[0]))throw new Je(4003,!1);const o=i.find(X_);if(o&&o!==VO(i))throw new Je(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class HE{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function tI(t,n,e){if(t||(t=new Zi([],{})),0===t.segments.length&&t.hasChildren())return Z_(t,n,e);const i=function $V(t,n,e){let i=0,o=n;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(i>=e.length)return l;const d=t.segments[o],x=e[i];if(X_(x))break;const k=`${x}`,K=i<e.length-1?e[i+1]:null;if(o>0&&void 0===k)break;if(k&&K&&"object"==typeof K&&void 0===K.outlets){if(!iI(k,K,d))return l;i+=2}else{if(!iI(k,{},d))return l;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,n,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const l=new Zi(t.segments.slice(0,i.pathIndex),{});return l.children[$n]=new Zi(t.segments.slice(i.pathIndex),t.children),Z_(l,0,o)}return i.match&&0===o.length?new Zi(t.segments,{}):i.match&&!t.hasChildren()?HM(t,n,e):i.match?Z_(t,0,o):HM(t,n,e)}function Z_(t,n,e){if(0===e.length)return new Zi(t.segments,{});{const i=function UV(t){return X_(t[0])?t[0].outlets:{[$n]:t}}(e),o={};if(!i[$n]&&t.children[$n]&&1===t.numberOfChildren&&0===t.children[$n].segments.length){const l=Z_(t.children[$n],n,e);return new Zi(t.segments,l.children)}return Object.entries(i).forEach(([l,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(o[l]=tI(t.children[l],n,d))}),Object.entries(t.children).forEach(([l,d])=>{void 0===i[l]&&(o[l]=d)}),new Zi(t.segments,o)}}function HM(t,n,e){const i=t.segments.slice(0,n);let o=0;for(;o<e.length;){const l=e[o];if(X_(l)){const k=WV(l.outlets);return new Zi(i,k)}if(0===o&&VE(e[0])){i.push(new G_(t.segments[n].path,nI(e[0]))),o++;continue}const d=X_(l)?l.outlets[$n]:`${l}`,x=o<e.length-1?e[o+1]:null;d&&x&&VE(x)?(i.push(new G_(d,nI(x))),o+=2):(i.push(new G_(d,{})),o++)}return new Zi(i,{})}function WV(t){const n={};return Object.entries(t).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[e]=HM(new Zi([],{}),0,i))}),n}function nI(t){const n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function iI(t,n,e){return t==e.path&&hd(n,e.parameters)}const Q_="imperative";class fd{constructor(n,e){this.id=n,this.url=e}}class jM extends fd{constructor(n,e,i="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nm extends fd{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jE extends fd{constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class q_ extends fd{constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o,this.type=16}}class UM extends fd{constructor(n,e,i,o){super(n,e),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class GV extends fd{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YV extends fd{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KV extends fd{constructor(n,e,i,o,l){super(n,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XV extends fd{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZV extends fd{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QV{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qV{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class JV{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eH{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tH{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nH{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rI{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class iH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new J_,this.attachRef=null}}let J_=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new iH,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class oI{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=$M(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=$M(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=WM(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return WM(n,this._root).map(e=>e.value)}}function $M(t,n){if(t===n.value)return n;for(const e of n.children){const i=$M(t,e);if(i)return i}return null}function WM(t,n){if(t===n.value)return[n];for(const e of n.children){const i=WM(t,e);if(i.length)return i.unshift(n),i}return[]}class Ou{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Rv(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class sI extends oI{constructor(n,e){super(n),this.snapshot=e,GM(this,n)}toString(){return this.snapshot.toString()}}function aI(t,n){const e=function rH(t,n){const d=new UE([],{},{},"",{},$n,n,null,{});return new cI("",new Ou(d,[]))}(0,n),i=new Ha([new G_("",{})]),o=new Ha({}),l=new Ha({}),d=new Ha({}),x=new Ha(""),k=new Nv(i,o,d,x,l,$n,n,e.root);return k.snapshot=e.root,new sI(new Ou(k,[]),e)}class Nv{constructor(n,e,i,o,l,d,x,k){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=l,this.outlet=d,this.component=x,this._futureSnapshot=k,this.title=this.dataSubject?.pipe(nt(K=>K[W_]))??an(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(nt(n=>Iv(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(nt(n=>Iv(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lI(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const o=e[i],l=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(l.component)break;i--}}return function oH(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class UE{get title(){return this.data?.[W_]}constructor(n,e,i,o,l,d,x,k,K){this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=l,this.outlet=d,this.component=x,this.routeConfig=k,this._resolve=K}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Iv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cI extends oI{constructor(n,e){super(e),this.url=n,GM(this,e)}toString(){return dI(this._root)}}function GM(t,n){n.value._routerState=t,n.children.forEach(e=>GM(t,e))}function dI(t){const n=t.children.length>0?` { ${t.children.map(dI).join(", ")} } `:"";return`${t.value}${n}`}function YM(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,hd(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),hd(n.params,e.params)||t.paramsSubject.next(e.params),function _V(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!hd(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),hd(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function KM(t,n){const e=hd(t.params,n.params)&&function CV(t,n){return em(t,n)&&t.every((e,i)=>hd(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||KM(t.parent,n.parent))}let XM=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=$n,this.activateEvents=new Kn,this.deactivateEvents=new Kn,this.attachEvents=new Kn,this.detachEvents=new Kn,this.parentContexts=It(J_),this.location=It(rs),this.changeDetector=It(os),this.environmentInjector=It(xl),this.inputBinder=It($E,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Je(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Je(4013,!1);this._activatedRoute=e;const o=this.location,d=e.snapshot.component,x=this.parentContexts.getOrCreateContext(this.name).children,k=new sH(e,x,o.injector);this.activated=o.createComponent(d,{index:o.length,injector:k,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Mt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rr]})}return t})();class sH{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Nv?this.route:n===J_?this.childContexts:this.parent.get(n,e)}}const $E=new ht("");let uI=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,o=OE([i.queryParams,i.params,i.data]).pipe(gc(([l,d,x],k)=>(x={...l,...d,...x},0===k?an(x):Promise.resolve(x)))).subscribe(l=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const d=function OB(t){const n=ni(t);if(!n)return null;const e=new ha(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone}}}(i.component);if(d)for(const{templateName:x}of d.inputs)e.activatedComponentRef.setInput(x,l[x]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})();function e0(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const o=function lH(t,n,e){return n.children.map(i=>{for(const o of e.children)if(t.shouldReuseRoute(i.value,o.value.snapshot))return e0(t,i,o);return e0(t,i)})}(t,n,e);return new Ou(i,o)}{if(t.shouldAttach(n.value)){const l=t.retrieve(n.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=n.value,d.children=n.children.map(x=>e0(t,x)),d}}const i=function cH(t){return new Nv(new Ha(t.url),new Ha(t.params),new Ha(t.queryParams),new Ha(t.fragment),new Ha(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(l=>e0(t,l));return new Ou(i,o)}}const ZM="ngNavigationCancelingError";function hI(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=tm(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=fI(!1,0,n);return o.url=e,o.navigationBehaviorOptions=i,o}function fI(t,n,e){const i=new Error("NavigationCancelingError: "+(t||""));return i[ZM]=!0,i.cancellationCode=n,e&&(i.url=e),i}function pI(t){return mI(t)&&tm(t.url)}function mI(t){return t&&t[ZM]}let gI=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=_i({type:t,selectors:[["ng-component"]],standalone:!0,features:[hk],decls:1,vars:0,template:function(i,o){1&i&&yn(0,"router-outlet")},dependencies:[XM],encapsulation:2})}return t})();function QM(t){const n=t.children&&t.children.map(QM),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==$n&&(e.component=gI),e}function vc(t){return t.outlet||$n}function t0(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class gH{constructor(n,e,i,o,l){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=l}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),YM(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const o=Rv(e);n.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,o[d],i),delete o[d]}),Object.values(o).forEach(l=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(n,e,i){const o=n.value,l=e?e.value:null;if(o===l)if(o.component){const d=i.getContext(o.outlet);d&&this.deactivateChildRoutes(n,e,d.children)}else this.deactivateChildRoutes(n,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,l=Rv(n);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);if(i&&i.outlet){const d=i.outlet.detach(),x=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:d,route:n,contexts:x})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,l=Rv(n);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){const o=Rv(e);n.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],i),this.forwardEvent(new nH(l.value.snapshot))}),n.children.length&&this.forwardEvent(new eH(n.value.snapshot))}activateRoutes(n,e,i){const o=n.value,l=e?e.value:null;if(YM(o),o===l)if(o.component){const d=i.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,d.children)}else this.activateChildRoutes(n,e,i);else if(o.component){const d=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const x=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(x.contexts),d.attachRef=x.componentRef,d.route=x.route.value,d.outlet&&d.outlet.attach(x.componentRef,x.route.value),YM(x.route.value),this.activateChildRoutes(n,null,d.children)}else{const x=t0(o.snapshot);d.attachRef=null,d.route=o,d.injector=x,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(n,null,d.children)}}else this.activateChildRoutes(n,null,i)}}class vI{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class WE{constructor(n,e){this.component=n,this.route=e}}function vH(t,n,e){const i=t._root;return n0(i,n?n._root:null,e,[i.value])}function Fv(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||function Ja(t){return null!==wd(t)}(t)?n.get(t):t:i}function n0(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Rv(n);return t.children.forEach(d=>{(function bH(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=t.value,d=n?n.value:null,x=e?e.getContext(t.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const k=function _H(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!em(t.url,n.url);case"pathParamsOrQueryParamsChange":return!em(t.url,n.url)||!hd(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!KM(t,n)||!hd(t.queryParams,n.queryParams);default:return!KM(t,n)}}(d,l,l.routeConfig.runGuardsAndResolvers);k?o.canActivateChecks.push(new vI(i)):(l.data=d.data,l._resolvedData=d._resolvedData),n0(t,n,l.component?x?x.children:null:e,i,o),k&&x&&x.outlet&&x.outlet.isActivated&&o.canDeactivateChecks.push(new WE(x.outlet.component,d))}else d&&r0(n,x,o),o.canActivateChecks.push(new vI(i)),n0(t,null,l.component?x?x.children:null:e,i,o)})(d,l[d.value.outlet],e,i.concat([d.value]),o),delete l[d.value.outlet]}),Object.entries(l).forEach(([d,x])=>r0(x,e.getContext(d),o)),o}function r0(t,n,e){const i=Rv(t),o=t.value;Object.entries(i).forEach(([l,d])=>{r0(d,o.component?n?n.children.getContext(l):null:n,e)}),e.canDeactivateChecks.push(new WE(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function o0(t){return"function"==typeof t}function yI(t){return t instanceof IE||"EmptyError"===t?.name}const GE=Symbol("INITIAL_VALUE");function Lv(){return gc(t=>OE(t.map(n=>n.pipe(ud(1),Au(GE)))).pipe(nt(n=>{for(const e of n)if(!0!==e){if(e===GE)return GE;if(!1===e||e instanceof Pv)return e}return!0}),va(n=>n!==GE),ud(1)))}function bI(t){return function fe(...t){return Ce(t)}(So(n=>{if(tm(n))throw hI(0,n)}),nt(n=>!0===n))}class YE{constructor(n){this.segmentGroup=n||null}}class _I{constructor(n){this.urlTree=n}}function Bv(t){return Av(new YE(t))}function wI(t){return Av(new _I(t))}class VH{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new Je(4002,!1)}lineralizeSegments(n,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return an(i);if(o.numberOfChildren>1||!o.children[$n])return Av(new Je(4e3,!1));o=o.children[$n]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreateUrlTree(n,e,i,o){const l=this.createSegmentGroup(n,e.root,i,o);return new Pv(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Object.entries(n).forEach(([o,l])=>{if("string"==typeof l&&l.startsWith(":")){const x=l.substring(1);i[o]=e[x]}else i[o]=l}),i}createSegmentGroup(n,e,i,o){const l=this.createSegments(n,e.segments,i,o);let d={};return Object.entries(e.children).forEach(([x,k])=>{d[x]=this.createSegmentGroup(n,k,i,o)}),new Zi(l,d)}createSegments(n,e,i,o){return e.map(l=>l.path.startsWith(":")?this.findPosParam(n,l,o):this.findOrReturn(l,i))}findPosParam(n,e,i){const o=i[e.path.substring(1)];if(!o)throw new Je(4001,!1);return o}findOrReturn(n,e){let i=0;for(const o of e){if(o.path===n.path)return e.splice(i),o;i++}return n}}const qM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HH(t,n,e,i,o){const l=JM(t,n,e);return l.matched?(i=function dH(t,n){return t.providers&&!t._injector&&(t._injector=CD(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,i),function LH(t,n,e,i){const o=n.canMatch;return o&&0!==o.length?an(o.map(d=>{const x=Fv(d,t);return sf(function DH(t){return t&&o0(t.canMatch)}(x)?x.canMatch(n,e):t.runInContext(()=>x(n,e)))})).pipe(Lv(),bI()):an(!0)}(i,n,e).pipe(nt(d=>!0===d?l:{...qM}))):an(l)}function JM(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...qM}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||bV)(e,t,n);if(!o)return{...qM};const l={};Object.entries(o.posParams??{}).forEach(([x,k])=>{l[x]=k.path});const d=o.consumed.length>0?{...l,...o.consumed[o.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function xI(t,n,e,i){return e.length>0&&function $H(t,n,e){return e.some(i=>KE(t,n,i)&&vc(i)!==$n)}(t,e,i)?{segmentGroup:new Zi(n,UH(i,new Zi(e,t.children))),slicedSegments:[]}:0===e.length&&function WH(t,n,e){return e.some(i=>KE(t,n,i))}(t,e,i)?{segmentGroup:new Zi(t.segments,jH(t,0,e,i,t.children)),slicedSegments:e}:{segmentGroup:new Zi(t.segments,t.children),slicedSegments:e}}function jH(t,n,e,i,o){const l={};for(const d of i)if(KE(t,e,d)&&!o[vc(d)]){const x=new Zi([],{});l[vc(d)]=x}return{...o,...l}}function UH(t,n){const e={};e[$n]=n;for(const i of t)if(""===i.path&&vc(i)!==$n){const o=new Zi([],{});e[vc(i)]=o}return e}function KE(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class XH{constructor(n,e,i,o,l,d,x){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=l,this.paramsInheritanceStrategy=d,this.urlSerializer=x,this.allowRedirects=!0,this.applyRedirects=new VH(this.urlSerializer,this.urlTree)}noMatchError(n){return new Je(4002,!1)}recognize(){const n=xI(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,$n).pipe(rf(e=>{if(e instanceof _I)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof YE?this.noMatchError(e):e}),nt(e=>{const i=new UE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$n,this.rootComponentType,null,{}),o=new Ou(i,e),l=new cI("",o),d=function zV(t,n,e=null,i=null){return qO(QO(t),n,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(l._root),{state:l,tree:d}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,$n).pipe(rf(i=>{throw i instanceof YE?this.noMatchError(i):i}))}inheritParamsAndData(n){const e=n.value,i=lI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,o,!0)}processChildren(n,e,i){const o=[];for(const l of Object.keys(i.children))"primary"===l?o.unshift(l):o.push(l);return hi(o).pipe(Ov(l=>{const d=i.children[l],x=function pH(t,n){const e=t.filter(i=>vc(i)===n);return e.push(...t.filter(i=>vc(i)!==n)),e}(e,l);return this.processSegmentGroup(n,x,d,l)}),function mV(t,n){return Le(function pV(t,n,e,i,o){return(l,d)=>{let x=e,k=n,K=0;l.subscribe(Qe(d,ne=>{const le=K++;k=x?t(k,ne,le):(x=!0,ne),i&&d.next(k)},o&&(()=>{x&&d.next(k),d.complete()})))}}(t,n,arguments.length>=2,!0))}((l,d)=>(l.push(...d),l)),RE(null),function gV(t,n){const e=arguments.length>=2;return i=>i.pipe(t?va((o,l)=>t(o,l,i)):oe,FM(1),e?RE(n):BO(()=>new IE))}(),Ci(l=>{if(null===l)return Bv(i);const d=EI(l);return function ZH(t){t.sort((n,e)=>n.value.outlet===$n?-1:e.value.outlet===$n?1:n.value.outlet.localeCompare(e.value.outlet))}(d),an(d)}))}processSegment(n,e,i,o,l,d){return hi(e).pipe(Ov(x=>this.processSegmentAgainstRoute(x._injector??n,e,x,i,o,l,d).pipe(rf(k=>{if(k instanceof YE)return an(null);throw k}))),Jp(x=>!!x),rf(x=>{if(yI(x))return function YH(t,n,e){return 0===n.length&&!t.children[e]}(i,o,l)?an([]):Bv(i);throw x}))}processSegmentAgainstRoute(n,e,i,o,l,d,x){return function GH(t,n,e,i){return!!(vc(t)===i||i!==$n&&KE(n,e,t))&&("**"===t.path||JM(n,t,e).matched)}(i,o,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,o,i,l,d,x):x&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,i,l,d):Bv(o):Bv(o)}expandSegmentAgainstRouteUsingRedirect(n,e,i,o,l,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,o,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,o){const l=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?wI(l):this.applyRedirects.lineralizeSegments(i,l).pipe(Ci(d=>{const x=new Zi(d,{});return this.processSegment(n,e,x,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,o,l,d){const{matched:x,consumedSegments:k,remainingSegments:K,positionalParamSegments:ne}=JM(e,o,l);if(!x)return Bv(e);const le=this.applyRedirects.applyRedirectCommands(k,o.redirectTo,ne);return o.redirectTo.startsWith("/")?wI(le):this.applyRedirects.lineralizeSegments(o,le).pipe(Ci(xe=>this.processSegment(n,i,e,xe.concat(K),d,!1)))}matchSegmentAgainstRoute(n,e,i,o,l,d){let x;if("**"===i.path){const k=o.length>0?VO(o).parameters:{};x=an({snapshot:new UE(o,k,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,CI(i),vc(i),i.component??i._loadedComponent??null,i,SI(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else x=HH(e,i,o,n).pipe(nt(({matched:k,consumedSegments:K,remainingSegments:ne,parameters:le})=>k?{snapshot:new UE(K,le,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,CI(i),vc(i),i.component??i._loadedComponent??null,i,SI(i)),consumedSegments:K,remainingSegments:ne}:null));return x.pipe(gc(k=>null===k?Bv(e):this.getChildConfig(n=i._injector??n,i,o).pipe(gc(({routes:K})=>{const ne=i._loadedInjector??n,{snapshot:le,consumedSegments:xe,remainingSegments:Ee}=k,{segmentGroup:ke,slicedSegments:Ne}=xI(e,xe,Ee,K);if(0===Ne.length&&ke.hasChildren())return this.processChildren(ne,K,ke).pipe(nt(et=>null===et?null:[new Ou(le,et)]));if(0===K.length&&0===Ne.length)return an([new Ou(le,[])]);const He=vc(i)===l;return this.processSegment(ne,K,ke,Ne,He?$n:l,!0).pipe(nt(et=>[new Ou(le,et)]))}))))}getChildConfig(n,e,i){return e.children?an({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?an({routes:e._loadedRoutes,injector:e._loadedInjector}):function FH(t,n,e,i){const o=n.canLoad;return void 0===o||0===o.length?an(!0):an(o.map(d=>{const x=Fv(d,t);return sf(function xH(t){return t&&o0(t.canLoad)}(x)?x.canLoad(n,e):t.runInContext(()=>x(n,e)))})).pipe(Lv(),bI())}(n,e,i).pipe(Ci(o=>o?this.configLoader.loadChildren(n,e).pipe(So(l=>{e._loadedRoutes=l.routes,e._loadedInjector=l.injector})):function zH(t){return Av(fI(!1,3))}())):an({routes:[],injector:n})}}function QH(t){const n=t.value.routeConfig;return n&&""===n.path}function EI(t){const n=[],e=new Set;for(const i of t){if(!QH(i)){n.push(i);continue}const o=n.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):n.push(i)}for(const i of e){const o=EI(i.children);n.push(new Ou(i.value,o))}return n.filter(i=>!e.has(i))}function CI(t){return t.data||{}}function SI(t){return t.resolve||{}}function DI(t){return"string"==typeof t.title||null===t.title}function eT(t){return gc(n=>{const e=t(n);return e?hi(e).pipe(nt(()=>n)):an(n)})}const zv=new ht("ROUTES");let tT=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=It(eA)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return an(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=sf(e.loadComponent()).pipe(nt(MI),So(l=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=l}),NE(()=>{this.componentLoaders.delete(e)})),o=new LO(i,()=>new We).pipe(NM());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return an({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(nt(x=>{this.onLoadEndListener&&this.onLoadEndListener(i);let k,K;return Array.isArray(x)?K=x:(k=x.create(e).injector,K=k.get(zv,[],tn.Self|tn.Optional).flat()),{routes:K.map(QM),injector:k}}),NE(()=>{this.childrenLoaders.delete(i)})),d=new LO(l,()=>new We).pipe(NM());return this.childrenLoaders.set(i,d),d}loadModuleFactoryOrRoutes(e){return sf(e()).pipe(nt(MI),Ci(i=>i instanceof dk||Array.isArray(i)?an(i):hi(this.compiler.compileModuleAsync(i))))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function MI(t){return function o5(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let XE=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new We,this.configLoader=It(tT),this.environmentInjector=It(xl),this.urlSerializer=It(Y_),this.rootContexts=It(J_),this.inputBindingEnabled=null!==It($E,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>an(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new qV(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new QV(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Ha({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Q_,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(va(i=>0!==i.id),nt(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),gc(i=>{let o=!1,l=!1;return an(i).pipe(So(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),gc(d=>{const x=e.browserUrlTree.toString(),k=!e.navigated||d.extractedUrl.toString()!==x||x!==e.currentUrlTree.toString();if(!k&&"reload"!==(d.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const ne="";return this.events.next(new q_(d.id,e.serializeUrl(i.rawUrl),ne,0)),e.rawUrlTree=d.rawUrl,d.resolve(null),Hi}if(e.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return TI(d.source)&&(e.browserUrlTree=d.extractedUrl),an(d).pipe(gc(ne=>{const le=this.transitions?.getValue();return this.events.next(new jM(ne.id,this.urlSerializer.serialize(ne.extractedUrl),ne.source,ne.restoredState)),le!==this.transitions?.getValue()?Hi:Promise.resolve(ne)}),function qH(t,n,e,i,o,l){return Ci(d=>function KH(t,n,e,i,o,l,d="emptyOnly"){return new XH(t,n,e,i,o,d,l).recognize()}(t,n,e,i,d.extractedUrl,o,l).pipe(nt(({state:x,tree:k})=>({...d,targetSnapshot:x,urlAfterRedirects:k}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),So(ne=>{if(i.targetSnapshot=ne.targetSnapshot,i.urlAfterRedirects=ne.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ne.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!ne.extras.skipLocationChange){const xe=e.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl);e.setBrowserUrl(xe,ne)}e.browserUrlTree=ne.urlAfterRedirects}const le=new GV(ne.id,this.urlSerializer.serialize(ne.extractedUrl),this.urlSerializer.serialize(ne.urlAfterRedirects),ne.targetSnapshot);this.events.next(le)}));if(k&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:ne,extractedUrl:le,source:xe,restoredState:Ee,extras:ke}=d,Ne=new jM(ne,this.urlSerializer.serialize(le),xe,Ee);this.events.next(Ne);const He=aI(0,this.rootComponentType).snapshot;return an(i={...d,targetSnapshot:He,urlAfterRedirects:le,extras:{...ke,skipLocationChange:!1,replaceUrl:!1}})}{const ne="";return this.events.next(new q_(d.id,e.serializeUrl(i.extractedUrl),ne,1)),e.rawUrlTree=d.rawUrl,d.resolve(null),Hi}}),So(d=>{const x=new YV(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(x)}),nt(d=>i={...d,guards:vH(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function TH(t,n){return Ci(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:d}}=e;return 0===d.length&&0===l.length?an({...e,guardsResult:!0}):function kH(t,n,e,i){return hi(t).pipe(Ci(o=>function NH(t,n,e,i,o){const l=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return l&&0!==l.length?an(l.map(x=>{const k=t0(n)??o,K=Fv(x,k);return sf(function SH(t){return t&&o0(t.canDeactivate)}(K)?K.canDeactivate(t,n,e,i):k.runInContext(()=>K(t,n,e,i))).pipe(Jp())})).pipe(Lv()):an(!0)}(o.component,o.route,e,n,i)),Jp(o=>!0!==o,!0))}(d,i,o,t).pipe(Ci(x=>x&&function wH(t){return"boolean"==typeof t}(x)?function AH(t,n,e,i){return hi(n).pipe(Ov(o=>PE(function IH(t,n){return null!==t&&n&&n(new JV(t)),an(!0)}(o.route.parent,i),function OH(t,n){return null!==t&&n&&n(new tH(t)),an(!0)}(o.route,i),function RH(t,n,e){const i=n[n.length-1],l=n.slice(0,n.length-1).reverse().map(d=>function yH(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(d)).filter(d=>null!==d).map(d=>FO(()=>an(d.guards.map(k=>{const K=t0(d.node)??e,ne=Fv(k,K);return sf(function CH(t){return t&&o0(t.canActivateChild)}(ne)?ne.canActivateChild(i,t):K.runInContext(()=>ne(i,t))).pipe(Jp())})).pipe(Lv())));return an(l).pipe(Lv())}(t,o.path,e),function PH(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return an(!0);const o=i.map(l=>FO(()=>{const d=t0(n)??e,x=Fv(l,d);return sf(function EH(t){return t&&o0(t.canActivate)}(x)?x.canActivate(n,t):d.runInContext(()=>x(n,t))).pipe(Jp())}));return an(o).pipe(Lv())}(t,o.route,e))),Jp(o=>!0!==o,!0))}(i,l,t,n):an(x)),nt(x=>({...e,guardsResult:x})))})}(this.environmentInjector,d=>this.events.next(d)),So(d=>{if(i.guardsResult=d.guardsResult,tm(d.guardsResult))throw hI(0,d.guardsResult);const x=new KV(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(x)}),va(d=>!!d.guardsResult||(e.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),eT(d=>{if(d.guards.canActivateChecks.length)return an(d).pipe(So(x=>{const k=new XV(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(k)}),gc(x=>{let k=!1;return an(x).pipe(function JH(t,n){return Ci(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return an(e);let l=0;return hi(o).pipe(Ov(d=>function e5(t,n,e,i){const o=t.routeConfig,l=t._resolve;return void 0!==o?.title&&!DI(o)&&(l[W_]=o.title),function t5(t,n,e,i){const o=function n5(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return an({});const l={};return hi(o).pipe(Ci(d=>function r5(t,n,e,i){const o=t0(n)??i,l=Fv(t,o);return sf(l.resolve?l.resolve(n,e):o.runInContext(()=>l(n,e)))}(t[d],n,e,i).pipe(Jp(),So(x=>{l[d]=x}))),FM(1),function vV(t){return nt(()=>t)}(l),rf(d=>yI(d)?Hi:Av(d)))}(l,t,n,i).pipe(nt(d=>(t._resolvedData=d,t.data=lI(t,e).resolve,o&&DI(o)&&(t.data[W_]=o.title),null)))}(d.route,i,t,n)),So(()=>l++),FM(1),Ci(d=>l===o.length?an(e):Hi))})}(e.paramsInheritanceStrategy,this.environmentInjector),So({next:()=>k=!0,complete:()=>{k||(e.restoreHistory(x),this.cancelNavigationTransition(x,"",2))}}))}),So(x=>{const k=new ZV(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(k)}))}),eT(d=>{const x=k=>{const K=[];k.routeConfig?.loadComponent&&!k.routeConfig._loadedComponent&&K.push(this.configLoader.loadComponent(k.routeConfig).pipe(So(ne=>{k.component=ne}),nt(()=>{})));for(const ne of k.children)K.push(...x(ne));return K};return OE(x(d.targetSnapshot.root)).pipe(RE(),ud(1))}),eT(()=>this.afterPreactivation()),nt(d=>{const x=function aH(t,n,e){const i=e0(t,n._root,e?e._root:void 0);return new sI(i,n)}(e.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return i={...d,targetRouterState:x}}),So(d=>{e.currentUrlTree=d.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),e.routerState=d.targetRouterState,"deferred"===e.urlUpdateStrategy&&(d.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,d),e.browserUrlTree=d.urlAfterRedirects)}),((t,n,e,i)=>nt(o=>(new gH(n,o.targetRouterState,o.currentRouterState,e,i).activate(t),o)))(this.rootContexts,e.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),ud(1),So({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new nm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),NE(()=>{o||l||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),rf(d=>{if(l=!0,mI(d)){pI(d)||(e.navigated=!0,e.restoreHistory(i,!0));const x=new jE(i.id,this.urlSerializer.serialize(i.extractedUrl),d.message,d.cancellationCode);if(this.events.next(x),pI(d)){const k=e.urlHandlingStrategy.merge(d.url,e.rawUrlTree),K={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||TI(i.source)};e.scheduleNavigation(k,Q_,null,K,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const x=new UM(i.id,this.urlSerializer.serialize(i.extractedUrl),d,i.targetSnapshot??void 0);this.events.next(x);try{i.resolve(e.errorHandler(d))}catch(k){i.reject(k)}}return Hi}))}))}cancelNavigationTransition(e,i,o){const l=new jE(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(l),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function TI(t){return t!==Q_}let kI=(()=>{class t{buildTitle(e){let i,o=e.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(l=>l.outlet===$n);return i}getResolvedTitleForRoute(e){return e.data[W_]}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:function(){return It(s5)},providedIn:"root"})}return t})(),s5=(()=>{class t extends kI{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||t)(je(TO))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),a5=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:function(){return It(c5)},providedIn:"root"})}return t})();class l5{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let c5=(()=>{class t extends l5{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=fr(t)))(o||t)}}();static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ZE=new ht("",{providedIn:"root",factory:()=>({})});let d5=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:function(){return It(u5)},providedIn:"root"})}return t})(),u5=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ja=(()=>((ja=ja||{})[ja.COMPLETE=0]="COMPLETE",ja[ja.FAILED=1]="FAILED",ja[ja.REDIRECTING=2]="REDIRECTING",ja))();function AI(t,n){t.events.pipe(va(e=>e instanceof nm||e instanceof jE||e instanceof UM||e instanceof q_),nt(e=>e instanceof nm||e instanceof q_?ja.COMPLETE:e instanceof jE&&(0===e.code||1===e.code)?ja.REDIRECTING:ja.FAILED),va(e=>e!==ja.REDIRECTING),ud(1)).subscribe(()=>{n()})}function h5(t){throw t}function f5(t,n,e){return n.parse("/")}const p5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},m5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ol=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=It(Jk),this.isNgZoneEnabled=!1,this.options=It(ZE,{optional:!0})||{},this.pendingTasks=It(FA),this.errorHandler=this.options.errorHandler||h5,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||f5,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=It(d5),this.routeReuseStrategy=It(a5),this.titleStrategy=It(kI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=It(zv,{optional:!0})?.flat()??[],this.navigationTransitions=It(XE),this.urlSerializer=It(Y_),this.location=It(vE),this.componentInputBindingEnabled=!!It($E,{optional:!0}),this.isNgZoneEnabled=It(Pn)instanceof Pn&&Pn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pv,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=aI(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Q_,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,o){const l={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const k={...o};delete k.navigationId,delete k.\u0275routerPageId,0!==Object.keys(k).length&&(l.state=k)}const x=this.parseUrl(e);this.scheduleNavigation(x,i,d,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(QM),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:o,queryParams:l,fragment:d,queryParamsHandling:x,preserveFragment:k}=i,K=k?this.currentUrlTree.fragment:d;let le,ne=null;switch(x){case"merge":ne={...this.currentUrlTree.queryParams,...l};break;case"preserve":ne=this.currentUrlTree.queryParams;break;default:ne=l||null}null!==ne&&(ne=this.removeEmptyProps(ne));try{le=QO(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),le=this.currentUrlTree.root}return qO(le,e,ne,K??null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=tm(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,Q_,null,i)}navigate(e,i={skipLocationChange:!1}){return function g5(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new Je(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?{...p5}:!1===i?{...m5}:i,tm(e))return jO(this.currentUrlTree,e,o);const l=this.parseUrl(e);return jO(this.currentUrlTree,l,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const l=e[o];return null!=l&&(i[o]=l),i},{})}scheduleNavigation(e,i,o,l,d){if(this.disposed)return Promise.resolve(!1);let x,k,K;d?(x=d.resolve,k=d.reject,K=d.promise):K=new Promise((le,xe)=>{x=le,k=xe});const ne=this.pendingTasks.add();return AI(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(ne))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:l,resolve:x,reject:k,promise:K,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),K.catch(le=>Promise.reject(le))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const d={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",d)}else{const l={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(o,"",l)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-(this.browserPageId??this.currentPageId);0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class OI{}let b5=(()=>{class t{constructor(e,i,o,l,d){this.router=e,this.injector=o,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(va(e=>e instanceof nm),Ov(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const l of i){l.providers&&!l._injector&&(l._injector=CD(l.providers,e,`Route: ${l.path}`));const d=l._injector??e,x=l._loadedInjector??d;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&o.push(this.preloadConfig(d,l)),(l.children||l._loadedRoutes)&&o.push(this.processRoutes(x,l.children??l._loadedRoutes))}return hi(o).pipe(Fi())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):an(null);const l=o.pipe(Ci(d=>null===d?an(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));return i.loadComponent&&!i._loadedComponent?hi([l,this.loader.loadComponent(i)]).pipe(Fi()):l})}static#e=this.\u0275fac=function(i){return new(i||t)(je(Ol),je(eA),je(xl),je(OI),je(tT))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const iT=new ht("");let II=(()=>{class t{constructor(e,i,o,l,d={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=l,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof jM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof nm?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof q_&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof rI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){jg()};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})();function Iu(t,n){return{\u0275kind:t,\u0275providers:n}}function RI(){const t=It(ys);return n=>{const e=t.get(Jh);if(n!==e.components[0])return;const i=t.get(Ol),o=t.get(NI);1===t.get(rT)&&i.initialNavigation(),t.get(FI,null,tn.Optional)?.setUpPreloading(),t.get(iT,null,tn.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const NI=new ht("",{factory:()=>new We}),rT=new ht("",{providedIn:"root",factory:()=>1}),FI=new ht("");function E5(t){return Iu(0,[{provide:FI,useExisting:b5},{provide:OI,useExisting:t}])}const LI=new ht("ROUTER_FORROOT_GUARD"),S5=[vE,{provide:Y_,useClass:LM},Ol,J_,{provide:Nv,useFactory:function PI(t){return t.routerState.root},deps:[Ol]},tT,[]];function D5(){return new uA("Router",Ol)}let M5=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[S5,[],{provide:zv,multi:!0,useValue:e},{provide:LI,useFactory:O5,deps:[[Ol,new yl,new Vc]]},{provide:ZE,useValue:i||{}},i?.useHash?{provide:Qp,useClass:LB}:{provide:Qp,useClass:jA},{provide:iT,useFactory:()=>{const t=It(ez),n=It(Pn),e=It(ZE),i=It(XE),o=It(Y_);return e.scrollOffset&&t.setOffset(e.scrollOffset),new II(o,i,t,n,e)}},i?.preloadingStrategy?E5(i.preloadingStrategy).\u0275providers:[],{provide:uA,multi:!0,useFactory:D5},i?.initialNavigation?I5(i):[],i?.bindToComponentInputs?Iu(8,[uI,{provide:$E,useExisting:uI}]).\u0275providers:[],[{provide:BI,useFactory:RI},{provide:ZD,multi:!0,useExisting:BI}]]}}static forChild(e){return{ngModule:t,providers:[{provide:zv,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||t)(je(LI,8))};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({})}return t})();function O5(t){return"guarded"}function I5(t){return["disabled"===t.initialNavigation?Iu(3,[{provide:HD,multi:!0,useFactory:()=>{const n=It(Ol);return()=>{n.setUpLocationChangeListener()}}},{provide:rT,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Iu(2,[{provide:rT,useValue:0},{provide:HD,multi:!0,deps:[ys],useFactory:n=>{const e=n.get(NB,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const o=n.get(Ol),l=n.get(NI);AI(o,()=>{i(!0)}),n.get(XE).afterPreactivation=()=>(i(!0),l.closed?an(void 0):l),o.initialNavigation()}))}}]).\u0275providers:[]]}const BI=new ht("");let R5=(()=>{class t{constructor(){this.title="angular-starter"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=_i({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){1&i&&yn(0,"router-outlet")},dependencies:[XM],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#404243;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#125699}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}.tabGroup[_ngcontent-%COMP%]{font-weight:700}#text-input[_ngcontent-%COMP%]{width:80vw}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']})}return t})();class zI{}class N5{}const Pu="*";function Vv(t,n){return{type:7,name:t,definitions:n,options:{}}}function af(t,n=null){return{type:4,styles:n,timings:t}}function VI(t,n=null){return{type:2,steps:t,options:n}}function Go(t){return{type:6,styles:t,offset:null}}function yc(t,n,e){return{type:0,name:t,styles:n,options:e}}function Ru(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}function HI(t){Promise.resolve().then(t)}class s0{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){HI(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class jI{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,o=0;const l=this.players.length;0==l?HI(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==l&&this._onFinish()}),d.onDestroy(()=>{++i==l&&this._onDestroy()}),d.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,x)=>Math.max(d,x.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(o)})}getPosition(){const n=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const oT="!";function UI(t){return new Je(3e3,!1)}function lf(t){switch(t.length){case 0:return new s0;case 1:return t[0];default:return new jI(t)}}function $I(t,n,e,i,o=new Map,l=new Map){const d=[],x=[];let k=-1,K=null;if(i.forEach(ne=>{const le=ne.get("offset"),xe=le==k,Ee=xe&&K||new Map;ne.forEach((ke,Ne)=>{let He=Ne,et=ke;if("offset"!==Ne)switch(He=n.normalizePropertyName(He,d),et){case oT:et=o.get(Ne);break;case Pu:et=l.get(Ne);break;default:et=n.normalizeStyleValue(Ne,He,et,d)}Ee.set(He,et)}),xe||x.push(Ee),K=Ee,k=le}),d.length)throw function sj(t){return new Je(3502,!1)}();return x}function sT(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&aT(e,"start",t)));break;case"done":t.onDone(()=>i(e&&aT(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&aT(e,"destroy",t)))}}function aT(t,n,e){const l=lT(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),d=t._data;return null!=d&&(l._data=d),l}function lT(t,n,e,i,o="",l=0,d){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:o,totalTime:l,disabled:!!d}}function Ua(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function WI(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const yj=(()=>typeof document>"u"?null:document.documentElement)();function cT(t){const n=t.parentNode||t.host||null;return n===yj?null:n}let im=null,GI=!1;function YI(t,n){for(;n;){if(n===t)return!0;n=cT(n)}return!1}function KI(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const i=t.querySelector(n);return i?[i]:[]}let XI=(()=>{class t{validateStyleProperty(e){return function _j(t){im||(im=function wj(){return typeof document<"u"?document.body:null}()||{},GI=!!im.style&&"WebkitAppearance"in im.style);let n=!0;return im.style&&!function bj(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in im.style,!n&&GI&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in im.style)),n}(e)}matchesElement(e,i){return!1}containsElement(e,i){return YI(e,i)}getParentElement(e){return cT(e)}query(e,i,o){return KI(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,l,d,x=[],k){return new s0(o,l)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})(),dT=(()=>{class t{static#e=this.NOOP=new XI}return t})();const xj=1e3,uT="ng-enter",QE="ng-leave",qE="ng-trigger",JE=".ng-trigger",QI="ng-animating",hT=".ng-animating";function Nu(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:fT(parseFloat(n[1]),n[2])}function fT(t,n){return"s"===n?t*xj:t}function eC(t,n,e){return t.hasOwnProperty("duration")?t:function Cj(t,n,e){let o,l=0,d="";if("string"==typeof t){const x=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===x)return n.push(UI()),{duration:0,delay:0,easing:""};o=fT(parseFloat(x[1]),x[2]);const k=x[3];null!=k&&(l=fT(parseFloat(k),x[4]));const K=x[5];K&&(d=K)}else o=t;if(!e){let x=!1,k=n.length;o<0&&(n.push(function B5(){return new Je(3100,!1)}()),x=!0),l<0&&(n.push(function z5(){return new Je(3101,!1)}()),x=!0),x&&n.splice(k,0,UI())}return{duration:o,delay:l,easing:d}}(t,n,e)}function a0(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function qI(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function cf(t,n=new Map,e){if(e)for(let[i,o]of e)n.set(i,o);for(let[i,o]of t)n.set(i,o);return n}function pd(t,n,e){n.forEach((i,o)=>{const l=mT(o);e&&!e.has(o)&&e.set(o,t.style[l]),t.style[l]=i})}function rm(t,n){n.forEach((e,i)=>{const o=mT(i);t.style[o]=""})}function l0(t){return Array.isArray(t)?1==t.length?t[0]:VI(t):t}const pT=new RegExp("{{\\s*(.+?)\\s*}}","g");function eP(t){let n=[];if("string"==typeof t){let e;for(;e=pT.exec(t);)n.push(e[1]);pT.lastIndex=0}return n}function c0(t,n,e){const i=t.toString(),o=i.replace(pT,(l,d)=>{let x=n[d];return null==x&&(e.push(function H5(t){return new Je(3003,!1)}()),x=""),x.toString()});return o==i?t:o}function tC(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const Mj=/-+([a-z0-9])/g;function mT(t){return t.replace(Mj,(...n)=>n[1].toUpperCase())}function $a(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function j5(t){return new Je(3004,!1)}()}}function tP(t,n){return window.getComputedStyle(t)[n]}const nC="*";function Aj(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function Oj(t,n,e){if(":"==t[0]){const k=function Ij(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function nj(t){return new Je(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof k)return void n.push(k);t=k}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function tj(t){return new Je(3015,!1)}()),n;const o=i[1],l=i[2],d=i[3];n.push(nP(o,d));"<"==l[0]&&!(o==nC&&d==nC)&&n.push(nP(d,o))}(i,e,n)):e.push(t),e}const iC=new Set(["true","1"]),rC=new Set(["false","0"]);function nP(t,n){const e=iC.has(t)||rC.has(t),i=iC.has(n)||rC.has(n);return(o,l)=>{let d=t==nC||t==o,x=n==nC||n==l;return!d&&e&&"boolean"==typeof o&&(d=o?iC.has(t):rC.has(t)),!x&&i&&"boolean"==typeof l&&(x=l?iC.has(n):rC.has(n)),d&&x}}const Pj=new RegExp("s*:selfs*,?","g");function gT(t,n,e,i){return new Rj(t).build(n,e,i)}class Rj{constructor(n){this._driver=n}build(n,e,i){const o=new Lj(e);return this._resetContextStyleTimingState(o),$a(this,l0(n),o)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,o=e.depCount=0;const l=[],d=[];return"@"==n.name.charAt(0)&&e.errors.push(function $5(){return new Je(3006,!1)}()),n.definitions.forEach(x=>{if(this._resetContextStyleTimingState(e),0==x.type){const k=x,K=k.name;K.toString().split(/\s*,\s*/).forEach(ne=>{k.name=ne,l.push(this.visitState(k,e))}),k.name=K}else if(1==x.type){const k=this.visitTransition(x,e);i+=k.queryCount,o+=k.depCount,d.push(k)}else e.errors.push(function W5(){return new Je(3007,!1)}())}),{type:7,name:n.name,states:l,transitions:d,queryCount:i,depCount:o,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),o=n.options&&n.options.params||null;if(i.containsDynamicStyles){const l=new Set,d=o||{};i.styles.forEach(x=>{x instanceof Map&&x.forEach(k=>{eP(k).forEach(K=>{d.hasOwnProperty(K)||l.add(K)})})}),l.size&&(tC(l.values()),e.errors.push(function G5(t,n){return new Je(3008,!1)}()))}return{type:0,name:n.name,style:i,options:o?{params:o}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=$a(this,l0(n.animation),e);return{type:1,matchers:Aj(n.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:om(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(i=>$a(this,i,e)),options:om(n.options)}}visitGroup(n,e){const i=e.currentTime;let o=0;const l=n.steps.map(d=>{e.currentTime=i;const x=$a(this,d,e);return o=Math.max(o,e.currentTime),x});return e.currentTime=o,{type:3,steps:l,options:om(n.options)}}visitAnimate(n,e){const i=function zj(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return vT(eC(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=vT(0,0,"");return l.dynamic=!0,l.strValue=e,l}const o=eC(e,n);return vT(o.duration,o.delay,o.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let o,l=n.styles?n.styles:Go({});if(5==l.type)o=this.visitKeyframes(l,e);else{let d=n.styles,x=!1;if(!d){x=!0;const K={};i.easing&&(K.easing=i.easing),d=Go(K)}e.currentTime+=i.duration+i.delay;const k=this.visitStyle(d,e);k.isEmptyStep=x,o=k}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],o=Array.isArray(n.styles)?n.styles:[n.styles];for(let x of o)"string"==typeof x?x===Pu?i.push(x):e.errors.push(new Je(3002,!1)):i.push(qI(x));let l=!1,d=null;return i.forEach(x=>{if(x instanceof Map&&(x.has("easing")&&(d=x.get("easing"),x.delete("easing")),!l))for(let k of x.values())if(k.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:i,easing:d,offset:n.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let o=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),n.styles.forEach(d=>{"string"!=typeof d&&d.forEach((x,k)=>{const K=e.collectedStyles.get(e.currentQuerySelector),ne=K.get(k);let le=!0;ne&&(l!=o&&l>=ne.startTime&&o<=ne.endTime&&(e.errors.push(function K5(t,n,e,i,o){return new Je(3010,!1)}()),le=!1),l=ne.startTime),le&&K.set(k,{startTime:l,endTime:o}),e.options&&function Dj(t,n,e){const i=n.params||{},o=eP(t);o.length&&o.forEach(l=>{i.hasOwnProperty(l)||e.push(function V5(t){return new Je(3001,!1)}())})}(x,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function X5(){return new Je(3011,!1)}()),i;let l=0;const d=[];let x=!1,k=!1,K=0;const ne=n.steps.map(et=>{const Ge=this._makeStyleAst(et,e);let Tt=null!=Ge.offset?Ge.offset:function Bj(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(Ge.styles),kt=0;return null!=Tt&&(l++,kt=Ge.offset=Tt),k=k||kt<0||kt>1,x=x||kt<K,K=kt,d.push(kt),Ge});k&&e.errors.push(function Z5(){return new Je(3012,!1)}()),x&&e.errors.push(function Q5(){return new Je(3200,!1)}());const le=n.steps.length;let xe=0;l>0&&l<le?e.errors.push(function q5(){return new Je(3202,!1)}()):0==l&&(xe=1/(le-1));const Ee=le-1,ke=e.currentTime,Ne=e.currentAnimateTimings,He=Ne.duration;return ne.forEach((et,Ge)=>{const Tt=xe>0?Ge==Ee?1:xe*Ge:d[Ge],kt=Tt*He;e.currentTime=ke+Ne.delay+kt,Ne.duration=kt,this._validateStyleAst(et,e),et.offset=Tt,i.styles.push(et)}),i}visitReference(n,e){return{type:8,animation:$a(this,l0(n.animation),e),options:om(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:om(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:om(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,o=n.options||{};e.queryCount++,e.currentQuery=n;const[l,d]=function Nj(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(Pj,"")),t=t.replace(/@\*/g,JE).replace(/@\w+/g,e=>JE+"-"+e.slice(1)).replace(/:animating/g,hT),[t,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+l:l,Ua(e.collectedStyles,e.currentQuerySelector,new Map);const x=$a(this,l0(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:d,animation:x,originalSelector:n.selector,options:om(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function J5(){return new Je(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:eC(n.timings,e.errors,!0);return{type:12,animation:$a(this,l0(n.animation),e),timings:i,options:null}}}class Lj{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function om(t){return t?(t=a0(t)).params&&(t.params=function Fj(t){return t?a0(t):null}(t.params)):t={},t}function vT(t,n,e){return{duration:t,delay:n,easing:e}}function yT(t,n,e,i,o,l,d=null,x=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:o,delay:l,totalTime:o+l,easing:d,subTimeline:x}}class oC{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const jj=new RegExp(":enter","g"),$j=new RegExp(":leave","g");function bT(t,n,e,i,o,l=new Map,d=new Map,x,k,K=[]){return(new Wj).buildKeyframes(t,n,e,i,o,l,d,x,k,K)}class Wj{buildKeyframes(n,e,i,o,l,d,x,k,K,ne=[]){K=K||new oC;const le=new _T(n,e,K,o,l,ne,[]);le.options=k;const xe=k.delay?Nu(k.delay):0;le.currentTimeline.delayNextStep(xe),le.currentTimeline.setStyles([d],null,le.errors,k),$a(this,i,le);const Ee=le.timelines.filter(ke=>ke.containsAnimation());if(Ee.length&&x.size){let ke;for(let Ne=Ee.length-1;Ne>=0;Ne--){const He=Ee[Ne];if(He.element===e){ke=He;break}}ke&&!ke.allowOnlyTimelineStyles()&&ke.setStyles([x],null,le.errors,k)}return Ee.length?Ee.map(ke=>ke.buildKeyframes()):[yT(e,[],[],[],0,xe,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(n.options),l=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,o,o.options);l!=d&&e.transformIntoNewTimeline(d)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const o of n){const l=o?.delay;if(l){const d="number"==typeof l?l:Nu(c0(l,o?.params??{},e.errors));i.delayNextStep(d)}}}_visitSubInstructions(n,e,i){let l=e.currentTimeline.currentTime;const d=null!=i.duration?Nu(i.duration):null,x=null!=i.delay?Nu(i.delay):null;return 0!==d&&n.forEach(k=>{const K=e.appendInstructionToTimeline(k,d,x);l=Math.max(l,K.duration+K.delay)}),l}visitReference(n,e){e.updateOptions(n.options,!0),$a(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let o=e;const l=n.options;if(l&&(l.params||l.delay)&&(o=e.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=sC);const d=Nu(l.delay);o.delayNextStep(d)}n.steps.length&&(n.steps.forEach(d=>$a(this,d,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let o=e.currentTimeline.currentTime;const l=n.options&&n.options.delay?Nu(n.options.delay):0;n.steps.forEach(d=>{const x=e.createSubContext(n.options);l&&x.delayNextStep(l),$a(this,d,x),o=Math.max(o,x.currentTimeline.currentTime),i.push(x.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(o),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return eC(e.params?c0(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const l=n.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const l=o&&o.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(l):i.setStyles(n.styles,l,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,l=i.duration,x=e.createSubContext().currentTimeline;x.easing=i.easing,n.styles.forEach(k=>{x.forwardTime((k.offset||0)*l),x.setStyles(k.styles,k.easing,e.errors,e.options),x.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(x),e.transformIntoNewTimeline(o+l),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,o=n.options||{},l=o.delay?Nu(o.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=sC);let d=i;const x=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=x.length;let k=null;x.forEach((K,ne)=>{e.currentQueryIndex=ne;const le=e.createSubContext(n.options,K);l&&le.delayNextStep(l),K===e.element&&(k=le.currentTimeline),$a(this,n.animation,le),le.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,le.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),k&&(e.currentTimeline.mergeTimelineCollectedStyles(k),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,o=e.currentTimeline,l=n.timings,d=Math.abs(l.duration),x=d*(e.currentQueryTotal-1);let k=d*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":k=x-k;break;case"full":k=i.currentStaggerTime}const ne=e.currentTimeline;k&&ne.delayNextStep(k);const le=ne.currentTime;$a(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=o.currentTime-le+(o.startTime-i.currentTimeline.startTime)}}const sC={};class _T{constructor(n,e,i,o,l,d,x,k){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=l,this.errors=d,this.timelines=x,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=sC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=k||new aC(this._driver,e,0),x.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let o=this.options;null!=i.duration&&(o.duration=Nu(i.duration)),null!=i.delay&&(o.delay=Nu(i.delay));const l=i.params;if(l){let d=o.params;d||(d=this.options.params={}),Object.keys(l).forEach(x=>{(!e||!d.hasOwnProperty(x))&&(d[x]=c0(l[x],d,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return n}createSubContext(n=null,e,i){const o=e||this.element,l=new _T(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(n),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(n){return this.previousNode=sC,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const o={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},l=new Gj(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,o,n.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,o,l,d){let x=[];if(o&&x.push(this.element),n.length>0){n=(n=n.replace(jj,"."+this._enterClassName)).replace($j,"."+this._leaveClassName);let K=this._driver.query(this.element,n,1!=i);0!==i&&(K=i<0?K.slice(K.length+i,K.length):K.slice(0,i)),x.push(...K)}return!l&&0==x.length&&d.push(function ej(t){return new Je(3014,!1)}()),x}}class aC{constructor(n,e,i,o){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new aC(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Pu),this._currentKeyframe.set(e,Pu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,o){e&&this._previousKeyframe.set("easing",e);const l=o&&o.params||{},d=function Yj(t,n){const e=new Map;let i;return t.forEach(o=>{if("*"===o){i=i||n.keys();for(let l of i)e.set(l,Pu)}else cf(o,e)}),e}(n,this._globalTimelineStyles);for(let[x,k]of d){const K=c0(k,l,i);this._pendingStyles.set(x,K),this._localTimelineStyles.has(x)||this._backFill.set(x,this._globalTimelineStyles.get(x)??Pu),this._updateStyle(x,K)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((x,k)=>{const K=cf(x,new Map,this._backFill);K.forEach((ne,le)=>{ne===oT?n.add(le):ne===Pu&&e.add(le)}),i||K.set("offset",k/this.duration),o.push(K)});const l=n.size?tC(n.values()):[],d=e.size?tC(e.values()):[];if(i){const x=o[0],k=new Map(x);x.set("offset",0),k.set("offset",1),o=[x,k]}return yT(this.element,o,l,d,this.duration,this.startTime,this.easing,!1)}}class Gj extends aC{constructor(n,e,i,o,l,d,x=!1){super(n,e,d.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=x,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],d=i+e,x=e/d,k=cf(n[0]);k.set("offset",0),l.push(k);const K=cf(n[0]);K.set("offset",oP(x)),l.push(K);const ne=n.length-1;for(let le=1;le<=ne;le++){let xe=cf(n[le]);const Ee=xe.get("offset");xe.set("offset",oP((e+Ee*i)/d)),l.push(xe)}i=d,e=0,o="",n=l}return yT(this.element,n,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function oP(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class wT{}const Kj=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Xj extends wT{normalizePropertyName(n,e){return mT(n)}normalizeStyleValue(n,e,i,o){let l="";const d=i.toString().trim();if(Kj.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const x=i.match(/^[+-]?[\d\.]+([a-z]*)$/);x&&0==x[1].length&&o.push(function U5(t,n){return new Je(3005,!1)}())}return d+l}}function sP(t,n,e,i,o,l,d,x,k,K,ne,le,xe){return{type:0,element:t,triggerName:n,isRemovalTransition:o,fromState:e,fromStyles:l,toState:i,toStyles:d,timelines:x,queriedElements:k,preStyleProps:K,postStyleProps:ne,totalTime:le,errors:xe}}const xT={};class aP{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,o){return function Zj(t,n,e,i,o){return t.some(l=>l(n,e,i,o))}(this.ast.matchers,n,e,i,o)}buildStyles(n,e,i){let o=this._stateStyles.get("*");return void 0!==n&&(o=this._stateStyles.get(n?.toString())||o),o?o.buildStyles(e,i):new Map}build(n,e,i,o,l,d,x,k,K,ne){const le=[],xe=this.ast.options&&this.ast.options.params||xT,ke=this.buildStyles(i,x&&x.params||xT,le),Ne=k&&k.params||xT,He=this.buildStyles(o,Ne,le),et=new Set,Ge=new Map,Tt=new Map,kt="void"===o,hn={params:Qj(Ne,xe),delay:this.ast.options?.delay},lr=ne?[]:bT(n,e,this.ast.animation,l,d,ke,He,hn,K,le);let Ar=0;if(lr.forEach(Vu=>{Ar=Math.max(Vu.duration+Vu.delay,Ar)}),le.length)return sP(e,this._triggerName,i,o,kt,ke,He,[],[],Ge,Tt,Ar,le);lr.forEach(Vu=>{const Hu=Vu.element,kN=Ua(Ge,Hu,new Set);Vu.preStyleProps.forEach(pm=>kN.add(pm));const T0=Ua(Tt,Hu,new Set);Vu.postStyleProps.forEach(pm=>T0.add(pm)),Hu!==e&&et.add(Hu)});const Fl=tC(et.values());return sP(e,this._triggerName,i,o,kt,ke,He,lr,Fl,Ge,Tt,Ar)}}function Qj(t,n){const e=a0(n);for(const i in t)t.hasOwnProperty(i)&&null!=t[i]&&(e[i]=t[i]);return e}class qj{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,o=a0(this.defaultParams);return Object.keys(n).forEach(l=>{const d=n[l];null!==d&&(o[l]=d)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,x)=>{d&&(d=c0(d,o,e));const k=this.normalizer.normalizePropertyName(x,e);d=this.normalizer.normalizeStyleValue(x,k,d,e),i.set(x,d)})}),i}}class eU{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new qj(o.style,o.options&&o.options.params||{},i))}),lP(this.states,"true","1"),lP(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new aP(n,o,this.states))}),this.fallbackTransition=function tU(t,n,e){return new aP(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,x)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,o){return this.transitionFactories.find(d=>d.match(n,e,i,o))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function lP(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const nU=new oC;class iU{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],l=gT(this._driver,e,i,[]);if(i.length)throw function aj(t){return new Je(3503,!1)}();this._animations.set(n,l)}_buildPlayer(n,e,i){const o=n.element,l=$I(0,this._normalizer,0,n.keyframes,e,i);return this._driver.animate(o,l,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const o=[],l=this._animations.get(n);let d;const x=new Map;if(l?(d=bT(this._driver,e,l,uT,QE,new Map,new Map,i,nU,o),d.forEach(ne=>{const le=Ua(x,ne.element,new Map);ne.postStyleProps.forEach(xe=>le.set(xe,null))})):(o.push(function lj(){return new Je(3300,!1)}()),d=[]),o.length)throw function cj(t){return new Je(3504,!1)}();x.forEach((ne,le)=>{ne.forEach((xe,Ee)=>{ne.set(Ee,this._driver.computeStyle(le,Ee,Pu))})});const K=lf(d.map(ne=>{const le=x.get(ne.element);return this._buildPlayer(ne,new Map,le)}));return this._playersById.set(n,K),K.onDestroy(()=>this.destroy(n)),this.players.push(K),K}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function dj(t){return new Je(3301,!1)}();return e}listen(n,e,i,o){const l=lT(e,"","","");return sT(this._getPlayer(n),i,l,o),()=>{}}command(n,e,i,o){if("register"==i)return void this.register(n,o[0]);if("create"==i)return void this.create(n,e,o[0]||{});const l=this._getPlayer(n);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(n)}}}const cP="ng-animate-queued",ET="ng-animate-disabled",lU=[],dP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Il="__ng_removed";class CT{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function fU(t){return t??null}(i?n.value:n),i){const l=a0(n);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const d0="void",ST=new CT(d0);class dU{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Pl(e,this._hostClassName)}listen(n,e,i,o){if(!this._triggers.has(e))throw function uj(t,n){return new Je(3302,!1)}();if(null==i||0==i.length)throw function hj(t){return new Je(3303,!1)}();if(!function pU(t){return"start"==t||"done"==t}(i))throw function fj(t,n){return new Je(3400,!1)}();const l=Ua(this._elementListeners,n,[]),d={name:e,phase:i,callback:o};l.push(d);const x=Ua(this._engine.statesByElement,n,new Map);return x.has(e)||(Pl(n,qE),Pl(n,qE+"-"+e),x.set(e,ST)),()=>{this._engine.afterFlush(()=>{const k=l.indexOf(d);k>=0&&l.splice(k,1),this._triggers.has(e)||x.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function pj(t){return new Je(3401,!1)}();return e}trigger(n,e,i,o=!0){const l=this._getTrigger(e),d=new DT(this.id,e,n);let x=this._engine.statesByElement.get(n);x||(Pl(n,qE),Pl(n,qE+"-"+e),this._engine.statesByElement.set(n,x=new Map));let k=x.get(e);const K=new CT(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&k&&K.absorbOptions(k.options),x.set(e,K),k||(k=ST),K.value!==d0&&k.value===K.value){if(!function vU(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const l=e[o];if(!n.hasOwnProperty(l)||t[l]!==n[l])return!1}return!0}(k.params,K.params)){const Ne=[],He=l.matchStyles(k.value,k.params,Ne),et=l.matchStyles(K.value,K.params,Ne);Ne.length?this._engine.reportError(Ne):this._engine.afterFlush(()=>{rm(n,He),pd(n,et)})}return}const xe=Ua(this._engine.playersByElement,n,[]);xe.forEach(Ne=>{Ne.namespaceId==this.id&&Ne.triggerName==e&&Ne.queued&&Ne.destroy()});let Ee=l.matchTransition(k.value,K.value,n,K.params),ke=!1;if(!Ee){if(!o)return;Ee=l.fallbackTransition,ke=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:Ee,fromState:k,toState:K,player:d,isFallbackTransition:ke}),ke||(Pl(n,cP),d.onStart(()=>{Hv(n,cP)})),d.onDone(()=>{let Ne=this.players.indexOf(d);Ne>=0&&this.players.splice(Ne,1);const He=this._engine.playersByElement.get(n);if(He){let et=He.indexOf(d);et>=0&&He.splice(et,1)}}),this.players.push(d),xe.push(d),d}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,JE,!0);i.forEach(o=>{if(o[Il])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(d=>d.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(n,e,i,o){const l=this._engine.statesByElement.get(n),d=new Map;if(l){const x=[];if(l.forEach((k,K)=>{if(d.set(K,k.value),this._triggers.has(K)){const ne=this.trigger(n,K,d0,o);ne&&x.push(ne)}}),x.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,d),i&&lf(x).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const o=new Set;e.forEach(l=>{const d=l.name;if(o.has(d))return;o.add(d);const k=this._triggers.get(d).fallbackTransition,K=i.get(d)||ST,ne=new CT(d0),le=new DT(this.id,d,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:d,transition:k,fromState:K,toState:ne,player:le,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let o=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(n):[];if(l&&l.length)o=!0;else{let d=n;for(;d=d.parentNode;)if(i.statesByElement.get(d)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(n),o)i.markElementAsRemoved(this.id,n,!1,e);else{const l=n[Il];(!l||l===dP)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){Pl(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const l=i.element,d=this._elementListeners.get(l);d&&d.forEach(x=>{if(x.name==i.triggerName){const k=lT(l,i.triggerName,i.fromState.value,i.toState.value);k._data=n,sT(i.player,x.phase,k,x.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const l=i.transition.ast.depCount,d=o.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(i=>i.element===n)||e,e}}class uU{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new dU(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let d=!1,x=this.driver.getParentElement(e);for(;x;){const k=o.get(x);if(k){const K=i.indexOf(k);i.splice(K+1,0,n),d=!0;break}x=this.driver.getParentElement(x)}d||i.unshift(n)}else i.push(n);return o.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let o=this._namespaceLookup[n];o&&o.register(e,i)&&this.totalAnimations++}destroy(n,e){if(!n)return;const i=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[n];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let o of i.values())if(o.namespaceId){const l=this._fetchNamespace(o.namespaceId);l&&e.add(l)}return e}trigger(n,e,i,o){if(lC(e)){const l=this._fetchNamespace(n);if(l)return l.trigger(e,i,o),!0}return!1}insertNode(n,e,i,o){if(!lC(e))return;const l=e[Il];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(n){const d=this._fetchNamespace(n);d&&d.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Pl(n,ET)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Hv(n,ET))}removeNode(n,e,i,o){if(lC(e)){const l=n?this._fetchNamespace(n):null;if(l?l.removeNode(e,o):this.markElementAsRemoved(n,e,!1,o),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==n&&d.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(n,e,i,o,l){this.collectedLeaveElements.push(e),e[Il]={namespaceId:n,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(n,e,i,o,l){return lC(e)?this._fetchNamespace(n).listen(e,i,o,l):()=>{}}_buildInstruction(n,e,i,o,l){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,o,n.fromState.options,n.toState.options,e,l)}destroyInnerAnimations(n){let e=this.driver.query(n,JE,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,hT,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return lf(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Il];if(e&&e.setForRemoval){if(n[Il]=dP,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(ET)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Pl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?lf(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(n){throw function mj(t){return new Je(3402,!1)}()}_flushAnimations(n,e){const i=new oC,o=[],l=new Map,d=[],x=new Map,k=new Map,K=new Map,ne=new Set;this.disabledNodes.forEach(Xt=>{ne.add(Xt);const pn=this.driver.query(Xt,".ng-animate-queued",!0);for(let xn=0;xn<pn.length;xn++)ne.add(pn[xn])});const le=this.bodyNode,xe=Array.from(this.statesByElement.keys()),Ee=fP(xe,this.collectedEnterElements),ke=new Map;let Ne=0;Ee.forEach((Xt,pn)=>{const xn=uT+Ne++;ke.set(pn,xn),Xt.forEach(Ai=>Pl(Ai,xn))});const He=[],et=new Set,Ge=new Set;for(let Xt=0;Xt<this.collectedLeaveElements.length;Xt++){const pn=this.collectedLeaveElements[Xt],xn=pn[Il];xn&&xn.setForRemoval&&(He.push(pn),et.add(pn),xn.hasAnimation?this.driver.query(pn,".ng-star-inserted",!0).forEach(Ai=>et.add(Ai)):Ge.add(pn))}const Tt=new Map,kt=fP(xe,Array.from(et));kt.forEach((Xt,pn)=>{const xn=QE+Ne++;Tt.set(pn,xn),Xt.forEach(Ai=>Pl(Ai,xn))}),n.push(()=>{Ee.forEach((Xt,pn)=>{const xn=ke.get(pn);Xt.forEach(Ai=>Hv(Ai,xn))}),kt.forEach((Xt,pn)=>{const xn=Tt.get(pn);Xt.forEach(Ai=>Hv(Ai,xn))}),He.forEach(Xt=>{this.processLeaveNode(Xt)})});const hn=[],lr=[];for(let Xt=this._namespaceList.length-1;Xt>=0;Xt--)this._namespaceList[Xt].drainQueuedTransitions(e).forEach(xn=>{const Ai=xn.player,Yo=xn.element;if(hn.push(Ai),this.collectedEnterElements.length){const Es=Yo[Il];if(Es&&Es.setForMove){if(Es.previousTriggersValues&&Es.previousTriggersValues.has(xn.triggerName)){const mm=Es.previousTriggersValues.get(xn.triggerName),Ll=this.statesByElement.get(xn.element);if(Ll&&Ll.has(xn.triggerName)){const WC=Ll.get(xn.triggerName);WC.value=mm,Ll.set(xn.triggerName,WC)}}return void Ai.destroy()}}const md=!le||!this.driver.containsElement(le,Yo),Wa=Tt.get(Yo),pf=ke.get(Yo),Or=this._buildInstruction(xn,i,pf,Wa,md);if(Or.errors&&Or.errors.length)return void lr.push(Or);if(md)return Ai.onStart(()=>rm(Yo,Or.fromStyles)),Ai.onDestroy(()=>pd(Yo,Or.toStyles)),void o.push(Ai);if(xn.isFallbackTransition)return Ai.onStart(()=>rm(Yo,Or.fromStyles)),Ai.onDestroy(()=>pd(Yo,Or.toStyles)),void o.push(Ai);const IN=[];Or.timelines.forEach(Es=>{Es.stretchStartingKeyframe=!0,this.disabledNodes.has(Es.element)||IN.push(Es)}),Or.timelines=IN,i.append(Yo,Or.timelines),d.push({instruction:Or,player:Ai,element:Yo}),Or.queriedElements.forEach(Es=>Ua(x,Es,[]).push(Ai)),Or.preStyleProps.forEach((Es,mm)=>{if(Es.size){let Ll=k.get(mm);Ll||k.set(mm,Ll=new Set),Es.forEach((WC,D1)=>Ll.add(D1))}}),Or.postStyleProps.forEach((Es,mm)=>{let Ll=K.get(mm);Ll||K.set(mm,Ll=new Set),Es.forEach((WC,D1)=>Ll.add(D1))})});if(lr.length){const Xt=[];lr.forEach(pn=>{Xt.push(function gj(t,n){return new Je(3505,!1)}())}),hn.forEach(pn=>pn.destroy()),this.reportError(Xt)}const Ar=new Map,Fl=new Map;d.forEach(Xt=>{const pn=Xt.element;i.has(pn)&&(Fl.set(pn,pn),this._beforeAnimationBuild(Xt.player.namespaceId,Xt.instruction,Ar))}),o.forEach(Xt=>{const pn=Xt.element;this._getPreviousPlayers(pn,!1,Xt.namespaceId,Xt.triggerName,null).forEach(Ai=>{Ua(Ar,pn,[]).push(Ai),Ai.destroy()})});const Vu=He.filter(Xt=>mP(Xt,k,K)),Hu=new Map;hP(Hu,this.driver,Ge,K,Pu).forEach(Xt=>{mP(Xt,k,K)&&Vu.push(Xt)});const T0=new Map;Ee.forEach((Xt,pn)=>{hP(T0,this.driver,new Set(Xt),k,oT)}),Vu.forEach(Xt=>{const pn=Hu.get(Xt),xn=T0.get(Xt);Hu.set(Xt,new Map([...Array.from(pn?.entries()??[]),...Array.from(xn?.entries()??[])]))});const pm=[],AN=[],ON={};d.forEach(Xt=>{const{element:pn,player:xn,instruction:Ai}=Xt;if(i.has(pn)){if(ne.has(pn))return xn.onDestroy(()=>pd(pn,Ai.toStyles)),xn.disabled=!0,xn.overrideTotalTime(Ai.totalTime),void o.push(xn);let Yo=ON;if(Fl.size>1){let Wa=pn;const pf=[];for(;Wa=Wa.parentNode;){const Or=Fl.get(Wa);if(Or){Yo=Or;break}pf.push(Wa)}pf.forEach(Or=>Fl.set(Or,Yo))}const md=this._buildAnimation(xn.namespaceId,Ai,Ar,l,T0,Hu);if(xn.setRealPlayer(md),Yo===ON)pm.push(xn);else{const Wa=this.playersByElement.get(Yo);Wa&&Wa.length&&(xn.parentPlayer=lf(Wa)),o.push(xn)}}else rm(pn,Ai.fromStyles),xn.onDestroy(()=>pd(pn,Ai.toStyles)),AN.push(xn),ne.has(pn)&&o.push(xn)}),AN.forEach(Xt=>{const pn=l.get(Xt.element);if(pn&&pn.length){const xn=lf(pn);Xt.setRealPlayer(xn)}}),o.forEach(Xt=>{Xt.parentPlayer?Xt.syncPlayerEvents(Xt.parentPlayer):Xt.destroy()});for(let Xt=0;Xt<He.length;Xt++){const pn=He[Xt],xn=pn[Il];if(Hv(pn,QE),xn&&xn.hasAnimation)continue;let Ai=[];if(x.size){let md=x.get(pn);md&&md.length&&Ai.push(...md);let Wa=this.driver.query(pn,hT,!0);for(let pf=0;pf<Wa.length;pf++){let Or=x.get(Wa[pf]);Or&&Or.length&&Ai.push(...Or)}}const Yo=Ai.filter(md=>!md.destroyed);Yo.length?mU(this,pn,Yo):this.processLeaveNode(pn)}return He.length=0,pm.forEach(Xt=>{this.players.push(Xt),Xt.onDone(()=>{Xt.destroy();const pn=this.players.indexOf(Xt);this.players.splice(pn,1)}),Xt.play()}),pm}elementContainsData(n,e){let i=!1;const o=e[Il];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(n).elementContainsData(e)||i}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,o,l){let d=[];if(e){const x=this.playersByQueriedElement.get(n);x&&(d=x)}else{const x=this.playersByElement.get(n);if(x){const k=!l||l==d0;x.forEach(K=>{K.queued||!k&&K.triggerName!=o||d.push(K)})}}return(i||o)&&(d=d.filter(x=>!(i&&i!=x.namespaceId||o&&o!=x.triggerName))),d}_beforeAnimationBuild(n,e,i){const l=e.element,d=e.isRemovalTransition?void 0:n,x=e.isRemovalTransition?void 0:e.triggerName;for(const k of e.timelines){const K=k.element,ne=K!==l,le=Ua(i,K,[]);this._getPreviousPlayers(K,ne,d,x,e.toState).forEach(Ee=>{const ke=Ee.getRealPlayer();ke.beforeDestroy&&ke.beforeDestroy(),Ee.destroy(),le.push(Ee)})}rm(l,e.fromStyles)}_buildAnimation(n,e,i,o,l,d){const x=e.triggerName,k=e.element,K=[],ne=new Set,le=new Set,xe=e.timelines.map(ke=>{const Ne=ke.element;ne.add(Ne);const He=Ne[Il];if(He&&He.removedBeforeQueried)return new s0(ke.duration,ke.delay);const et=Ne!==k,Ge=function gU(t){const n=[];return pP(t,n),n}((i.get(Ne)||lU).map(Ar=>Ar.getRealPlayer())).filter(Ar=>!!Ar.element&&Ar.element===Ne),Tt=l.get(Ne),kt=d.get(Ne),hn=$I(0,this._normalizer,0,ke.keyframes,Tt,kt),lr=this._buildPlayer(ke,hn,Ge);if(ke.subTimeline&&o&&le.add(Ne),et){const Ar=new DT(n,x,Ne);Ar.setRealPlayer(lr),K.push(Ar)}return lr});K.forEach(ke=>{Ua(this.playersByQueriedElement,ke.element,[]).push(ke),ke.onDone(()=>function hU(t,n,e){let i=t.get(n);if(i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&t.delete(n)}return i}(this.playersByQueriedElement,ke.element,ke))}),ne.forEach(ke=>Pl(ke,QI));const Ee=lf(xe);return Ee.onDestroy(()=>{ne.forEach(ke=>Hv(ke,QI)),pd(k,e.toStyles)}),le.forEach(ke=>{Ua(o,ke,[]).push(Ee)}),Ee}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new s0(n.duration,n.delay)}}class DT{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new s0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>sT(n,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Ua(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function lC(t){return t&&1===t.nodeType}function uP(t,n){const e=t.style.display;return t.style.display=n??"none",e}function hP(t,n,e,i,o){const l=[];e.forEach(k=>l.push(uP(k)));const d=[];i.forEach((k,K)=>{const ne=new Map;k.forEach(le=>{const xe=n.computeStyle(K,le,o);ne.set(le,xe),(!xe||0==xe.length)&&(K[Il]=cU,d.push(K))}),t.set(K,ne)});let x=0;return e.forEach(k=>uP(k,l[x++])),d}function fP(t,n){const e=new Map;if(t.forEach(x=>e.set(x,[])),0==n.length)return e;const i=1,o=new Set(n),l=new Map;function d(x){if(!x)return i;let k=l.get(x);if(k)return k;const K=x.parentNode;return k=e.has(K)?K:o.has(K)?i:d(K),l.set(x,k),k}return n.forEach(x=>{const k=d(x);k!==i&&e.get(k).push(x)}),e}function Pl(t,n){t.classList?.add(n)}function Hv(t,n){t.classList?.remove(n)}function mU(t,n,e){lf(e).onDone(()=>t.processLeaveNode(n))}function pP(t,n){for(let e=0;e<t.length;e++){const i=t[e];i instanceof jI?pP(i.players,n):n.push(i)}}function mP(t,n,e){const i=e.get(t);if(!i)return!1;let o=n.get(t);return o?i.forEach(l=>o.add(l)):n.set(t,i),e.delete(t),!0}class cC{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new uU(n,e,i),this._timelineEngine=new iU(n,e,i),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(n,e,i,o,l){const d=n+"-"+o;let x=this._triggerCache[d];if(!x){const k=[],ne=gT(this._driver,l,k,[]);if(k.length)throw function oj(t,n){return new Je(3404,!1)}();x=function Jj(t,n,e){return new eU(t,n,e)}(o,ne,this._normalizer),this._triggerCache[d]=x}this._transitionEngine.registerTrigger(e,o,x)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,o){this._transitionEngine.insertNode(n,e,i,o)}onRemove(n,e,i,o){this._transitionEngine.removeNode(n,e,o||!1,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,o){if("@"==i.charAt(0)){const[l,d]=WI(i);this._timelineEngine.command(l,e,d,o)}else this._transitionEngine.trigger(n,e,i,o)}listen(n,e,i,o,l){if("@"==i.charAt(0)){const[d,x]=WI(i);return this._timelineEngine.listen(d,e,x,l)}return this._transitionEngine.listen(n,e,i,o,l)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let bU=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let l=t.initialStylesByElement.get(e);l||t.initialStylesByElement.set(e,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&pd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pd(this._element,this._initialStyles),this._endStyles&&(pd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(rm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rm(this._element,this._endStyles),this._endStyles=null),pd(this._element,this._initialStyles),this._state=3)}}return t})();function MT(t){let n=null;return t.forEach((e,i)=>{(function _U(t){return"display"===t||"position"===t})(i)&&(n=n||new Map,n.set(i,e))}),n}class gP{constructor(n,e,i,o){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&n.set(o,this._finished?i:tP(this.element,o))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class wU{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return YI(n,e)}getParentElement(n){return cT(n)}query(n,e,i){return KI(n,e,i)}computeStyle(n,e,i){return window.getComputedStyle(n)[e]}animate(n,e,i,o,l,d=[]){const k={duration:i,delay:o,fill:0==o?"both":"forwards"};l&&(k.easing=l);const K=new Map,ne=d.filter(Ee=>Ee instanceof gP);(function Tj(t,n){return 0===t||0===n})(i,o)&&ne.forEach(Ee=>{Ee.currentSnapshot.forEach((ke,Ne)=>K.set(Ne,ke))});let le=function Sj(t){return t.length?t[0]instanceof Map?t:t.map(n=>qI(n)):[]}(e).map(Ee=>cf(Ee));le=function kj(t,n,e){if(e.size&&n.length){let i=n[0],o=[];if(e.forEach((l,d)=>{i.has(d)||o.push(d),i.set(d,l)}),o.length)for(let l=1;l<n.length;l++){let d=n[l];o.forEach(x=>d.set(x,tP(t,x)))}}return n}(n,le,K);const xe=function yU(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=MT(n[0]),n.length>1&&(i=MT(n[n.length-1]))):n instanceof Map&&(e=MT(n)),e||i?new bU(t,e,i):null}(n,le);return new gP(n,le,k,xe)}}let xU=(()=>{class t extends zI{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:to.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?VI(e):e;return vP(this._renderer,null,i,"register",[o]),new EU(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||t)(je(iu),je(ri))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})();class EU extends N5{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new CU(this._id,n,e||{},this._renderer)}}class CU{constructor(n,e,i,o){this.id=n,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return vP(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vP(t,n,e,i,o){return t.setProperty(n,`@@${e}:${i}`,o)}const yP="@.disabled";let SU=(()=>{class t{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,d)=>{const x=d?.parentNode(l);x&&d.removeChild(x,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let ne=this._rendererCache.get(l);return ne||(ne=new bP("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,ne)),ne}const d=i.id,x=i.id+"-"+this._currentId;this._currentId++,this.engine.register(x,e);const k=ne=>{Array.isArray(ne)?ne.forEach(k):this.engine.registerTrigger(d,x,e,ne.name,ne)};return i.data.animation.forEach(k),new DU(this,x,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,x]=l;d(x)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||t)(je(iu),je(cC),je(Pn))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})();class bP{constructor(n,e,i,o){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?l=>e.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,o=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,o)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,o){this.delegate.setAttribute(n,e,i,o)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,o){this.delegate.setStyle(n,e,i,o)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==yP?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class DU extends bP{constructor(n,e,i,o,l){super(e,i,o,l),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==yP?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const o=function MU(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let l=e.slice(1),d="";return"@"!=l.charAt(0)&&([l,d]=function TU(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(l)),this.engine.listen(this.namespaceId,o,l,d,x=>{this.factory.scheduleListenerCallback(x._data||-1,i,x)})}return this.delegate.listen(n,e,i)}}const _P=[{provide:zI,useClass:xU},{provide:wT,useFactory:function AU(){return new Xj}},{provide:cC,useClass:(()=>{class t extends cC{constructor(e,i,o,l){super(e.body,i,o)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||t)(je(ri),je(dT),je(wT),je(Jh))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})()},{provide:iu,useFactory:function OU(t,n,e){return new SU(t,n,e)},deps:[kM,cC,Pn]}],TT=[{provide:dT,useFactory:()=>new wU},{provide:gs,useValue:"BrowserAnimations"},..._P],wP=[{provide:dT,useClass:XI},{provide:gs,useValue:"NoopAnimations"},..._P];let IU=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?wP:TT}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({providers:TT,imports:[MO]})}return t})();class uC{}class kT{}class Rl{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),l=o.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{let o;if(o="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(l=>l.toString()),o.length>0){const l=e.toLowerCase();this.headers.set(l,o),this.maybeSetNormalizedName(e,l)}})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Rl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Rl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Rl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const l=n.value;if(l){let d=this.headers.get(e);if(!d)return;d=d.filter(x=>-1===l.indexOf(x)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class PU{encodeKey(n){return xP(n)}encodeValue(n){return xP(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const NU=/%(\d[a-f0-9])/gi,FU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xP(t){return encodeURIComponent(t).replace(NU,(n,e)=>FU[e]??n)}function hC(t){return`${t}`}class df{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new PU,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function RU(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[d,x]=-1==l?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,l)),n.decodeValue(o.slice(l+1))],k=e.get(d)||[];k.push(x),e.set(d,k)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e],o=Array.isArray(i)?i.map(hC):[hC(i)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const o=n[i];Array.isArray(o)?o.forEach(l=>{e.push({param:i,value:l,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new df({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(hC(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const o=i.indexOf(hC(n.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class LU{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function EP(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function CP(t){return typeof Blob<"u"&&t instanceof Blob}function SP(t){return typeof FormData<"u"&&t instanceof FormData}class u0{constructor(n,e,i,o){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function BU(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,l=o):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Rl),this.context||(this.context=new LU),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const x=e.indexOf("?");this.urlWithParams=e+(-1===x?"?":x<e.length-1?"&":"")+d}}else this.params=new df,this.urlWithParams=e}serializeBody(){return null===this.body?null:EP(this.body)||CP(this.body)||SP(this.body)||function zU(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof df?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||SP(this.body)?null:CP(this.body)?this.body.type||null:EP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof df?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,l=void 0!==n.body?n.body:this.body,d=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,x=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let k=n.headers||this.headers,K=n.params||this.params;const ne=n.context??this.context;return void 0!==n.setHeaders&&(k=Object.keys(n.setHeaders).reduce((le,xe)=>le.set(xe,n.setHeaders[xe]),k)),n.setParams&&(K=Object.keys(n.setParams).reduce((le,xe)=>le.set(xe,n.setParams[xe]),K)),new u0(e,i,l,{params:K,headers:k,context:ne,reportProgress:x,responseType:o,withCredentials:d})}}var co=(()=>((co=co||{})[co.Sent=0]="Sent",co[co.UploadProgress=1]="UploadProgress",co[co.ResponseHeader=2]="ResponseHeader",co[co.DownloadProgress=3]="DownloadProgress",co[co.Response=4]="Response",co[co.User=5]="User",co))();class AT{constructor(n,e=200,i="OK"){this.headers=n.headers||new Rl,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class OT extends AT{constructor(n={}){super(n),this.type=co.ResponseHeader}clone(n={}){return new OT({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class jv extends AT{constructor(n={}){super(n),this.type=co.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new jv({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class DP extends AT{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function IT(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let h0=(()=>{class t{constructor(e){this.handler=e}request(e,i,o={}){let l;if(e instanceof u0)l=e;else{let k,K;k=o.headers instanceof Rl?o.headers:new Rl(o.headers),o.params&&(K=o.params instanceof df?o.params:new df({fromObject:o.params})),l=new u0(e,i,void 0!==o.body?o.body:null,{headers:k,context:o.context,params:K,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=an(l).pipe(Ov(k=>this.handler.handle(k)));if(e instanceof u0||"events"===o.observe)return d;const x=d.pipe(va(k=>k instanceof jv));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return x.pipe(nt(k=>{if(null!==k.body&&!(k.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return k.body}));case"blob":return x.pipe(nt(k=>{if(null!==k.body&&!(k.body instanceof Blob))throw new Error("Response is not a Blob.");return k.body}));case"text":return x.pipe(nt(k=>{if(null!==k.body&&"string"!=typeof k.body)throw new Error("Response is not a string.");return k.body}));default:return x.pipe(nt(k=>k.body))}case"response":return x;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new df).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,IT(o,i))}post(e,i,o={}){return this.request("POST",e,IT(o,i))}put(e,i,o={}){return this.request("PUT",e,IT(o,i))}static#e=this.\u0275fac=function(i){return new(i||t)(je(uC))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})();function MP(t,n){return n(t)}function VU(t,n){return(e,i)=>n.intercept(e,{handle:o=>t(o,i)})}const jU=new ht(""),f0=new ht(""),TP=new ht("");function UU(){let t=null;return(n,e)=>(null===t&&(t=(It(jU,{optional:!0})??[]).reduceRight(VU,MP)),t(n,e))}let kP=(()=>{class t extends uC{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(f0),...this.injector.get(TP,[])]));this.chain=i.reduceRight((o,l)=>function HU(t,n,e){return(i,o)=>e.runInContext(()=>n(i,l=>t(l,o)))}(o,l,this.injector),MP)}return this.chain(e,i=>this.backend.handle(i))}static#e=this.\u0275fac=function(i){return new(i||t)(je(kT),je(xl))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})();const YU=/^\)\]\}',?\n/;let OP=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new De(i=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((He,et)=>o.setRequestHeader(He,et.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const He=e.detectContentTypeHeader();null!==He&&o.setRequestHeader("Content-Type",He)}if(e.responseType){const He=e.responseType.toLowerCase();o.responseType="json"!==He?He:"text"}const l=e.serializeBody();let d=null;const x=()=>{if(null!==d)return d;const He=o.statusText||"OK",et=new Rl(o.getAllResponseHeaders()),Ge=function KU(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||e.url;return d=new OT({headers:et,status:o.status,statusText:He,url:Ge}),d},k=()=>{let{headers:He,status:et,statusText:Ge,url:Tt}=x(),kt=null;204!==et&&(kt=typeof o.response>"u"?o.responseText:o.response),0===et&&(et=kt?200:0);let hn=et>=200&&et<300;if("json"===e.responseType&&"string"==typeof kt){const lr=kt;kt=kt.replace(YU,"");try{kt=""!==kt?JSON.parse(kt):null}catch(Ar){kt=lr,hn&&(hn=!1,kt={error:Ar,text:kt})}}hn?(i.next(new jv({body:kt,headers:He,status:et,statusText:Ge,url:Tt||void 0})),i.complete()):i.error(new DP({error:kt,headers:He,status:et,statusText:Ge,url:Tt||void 0}))},K=He=>{const{url:et}=x(),Ge=new DP({error:He,status:o.status||0,statusText:o.statusText||"Unknown Error",url:et||void 0});i.error(Ge)};let ne=!1;const le=He=>{ne||(i.next(x()),ne=!0);let et={type:co.DownloadProgress,loaded:He.loaded};He.lengthComputable&&(et.total=He.total),"text"===e.responseType&&o.responseText&&(et.partialText=o.responseText),i.next(et)},xe=He=>{let et={type:co.UploadProgress,loaded:He.loaded};He.lengthComputable&&(et.total=He.total),i.next(et)};let Ee;o.addEventListener("load",k),o.addEventListener("error",K),o.addEventListener("timeout",K),o.addEventListener("abort",K),e.reportProgress&&(o.addEventListener("progress",le),null!==l&&o.upload&&o.upload.addEventListener("progress",xe));const ke=()=>{Ee??=function ZU(){const t=setTimeout(()=>{},XU);return()=>clearTimeout(t)}()},Ne=()=>{Ee?.()};return o.addEventListener("loadstart",ke),o.addEventListener("loadend",Ne),o.send(l),i.next({type:co.Sent}),()=>{o.removeEventListener("loadstart",ke),o.removeEventListener("loadend",Ne),o.removeEventListener("error",K),o.removeEventListener("abort",K),o.removeEventListener("load",k),o.removeEventListener("timeout",K),Ee?.(),e.reportProgress&&(o.removeEventListener("progress",le),null!==l&&o.upload&&o.upload.removeEventListener("progress",xe)),o.readyState!==o.DONE&&o.abort()}})}static#e=this.\u0275fac=function(i){return new(i||t)(je(dO))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})();const XU=2147483647,PT=new ht("XSRF_ENABLED"),IP=new ht("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),PP=new ht("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class RP{}let JU=(()=>{class t{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=qA(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||t)(je(ri),je(Wc),je(IP))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac})}return t})();function e4(t,n){const e=t.url.toLowerCase();if(!It(PT)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const i=It(RP).getToken(),o=It(PP);return null!=i&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,i)})),n(t)}var Qr=(()=>((Qr=Qr||{})[Qr.Interceptors=0]="Interceptors",Qr[Qr.LegacyInterceptors=1]="LegacyInterceptors",Qr[Qr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Qr[Qr.NoXsrfProtection=3]="NoXsrfProtection",Qr[Qr.JsonpSupport=4]="JsonpSupport",Qr[Qr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Qr))();function t4(...t){const n=[h0,OP,kP,{provide:uC,useExisting:kP},{provide:kT,useExisting:OP},{provide:f0,useValue:e4,multi:!0},{provide:PT,useValue:!0},{provide:RP,useClass:JU}];for(const e of t)n.push(...e.\u0275providers);return function vg(t){return{\u0275providers:t}}(n)}const NP=new ht("LEGACY_INTERCEPTOR_FN");function n4(){return function Uv(t,n){return{\u0275kind:t,\u0275providers:n}}(Qr.LegacyInterceptors,[{provide:NP,useFactory:UU},{provide:f0,useExisting:NP,multi:!0}])}let r4=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({providers:[t4(n4())]})}return t})();function FP(t,n,e,i,o,l,d){try{var x=t[l](d),k=x.value}catch(K){return void e(K)}x.done?n(k):Promise.resolve(k).then(i,o)}function LP(t){return function(){var n=this,e=arguments;return new Promise(function(i,o){var l=t.apply(n,e);function d(k){FP(l,i,o,d,x,"next",k)}function x(k){FP(l,i,o,d,x,"throw",k)}d(void 0)})}}var RT=ee(133),d4=ee(538);class fC{static displayPNMLModel(n){!function o(Ee){var ke=function xe(Ee){for(var ke=new RT.DataSet([]),Ne=new RT.DataSet([]),He=0;He<Ee.places.length;He++)Ne.add({id:Ee.places[He].id,group:"places",label:Ee.places[He].label});for(He=0;He<Ee.transitions.length;He++)Ne.add({id:Ee.transitions[He].id,group:"transitions",label:Ee.transitions[He].id,title:Ee.transitions[He].label});for(He=0;He<Ee.arcs.length;He++)ke.add({from:Ee.arcs[He].source,to:Ee.arcs[He].target,arrows:"to"});return{nodes:Ne,edges:ke}}(Ee),Ne=document.getElementById("model-container");new RT.Network(Ne,ke,{layout:{randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!0,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"LR",sortMethod:"directed"}},groups:{places:{color:{background:"#4DB6AC",border:"#00695C"},borderWidth:3,shape:"circle"},transitions:{color:{background:"#FFB74D",border:"#FB8C00"},shape:"square",borderWidth:3},andJoin:{color:{background:"#DCE775",border:"#9E9D24"},shape:"square",borderWidth:3},andSplit:{color:{background:"#DCE775",border:"#9E9D24"},shape:"square",borderWidth:3},xorSplit:{color:{background:"#9575CD",border:"#512DA8"},shape:"square",borderWidth:3,image:"/img/and_split.svg"},xorJoin:{color:{background:"#9575CD",border:"#512DA8"},shape:"square",borderWidth:3}},interaction:{zoomView:!0,dragView:!0}})}(function d(Ee){for(var ke=Ee.getElementsByTagName("place"),Ne=Ee.getElementsByTagName("transition"),He=Ee.getElementsByTagName("arc"),et={places:[],transitions:[],arcs:[]},Ge=0;Ge<He.length;Ge++){var Tt=He[Ge];et.arcs.push({id:Tt.getAttribute("id"),source:Tt.getAttribute("source"),target:Tt.getAttribute("target")})}for(Ge=0;Ge<ke.length;Ge++){var kt=ke[Ge];et.places.push({id:kt.getAttribute("id"),label:kt.getElementsByTagName("text")[0].textContent})}for(Ge=0;Ge<Ne.length;Ge++){var hn=Ne[Ge],lr=hn.getElementsByTagName("operator").length>0,Ar=void 0,Fl=void 0;lr&&(Ar=hn.getElementsByTagName("operator")[0].getAttribute("type"),Fl=hn.getElementsByTagName("operator")[0].getAttribute("id")),et.transitions.push({id:hn.getAttribute("id"),label:hn.getElementsByTagName("text")[0].textContent,isGateway:lr,gatewayType:Ar,gatewayID:Fl})}return et}(n))}static displayBPMNModel(n){document.getElementById("model-container").innerHTML="";const e=new d4({container:"#model-container"});try{e.importXML(n)}catch{}}}let pC=(()=>{class t{constructor(){this.visibility=new Ha(!1)}show(){this.visibility.next(!0)}hide(){this.visibility.next(!1)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const BP={headers:new Rl({Accept:"*/*","Content-Type":"application/json"}),responseType:"text"};let zP=(()=>{class t{constructor(e,i){this.t2phttpClient=e,this.spinnerService=i,this.urlBPMN="http://localhost:8081/t2p/generateBPMNv2",this.urlPetriNet="http://localhost:8081/t2p/generatePNML",this.domparser=new DOMParser}postT2PBPMN(e){return this.t2phttpClient.post(this.urlBPMN,e,BP).subscribe(i=>{this.spinnerService.hide(),fC.displayBPMNModel(i),this.plainDocumentForDownload=i},i=>{console.log(i),this.spinnerService.hide(),document.getElementById("error-container-text").innerHTML=i.status+" "+i.statusText+" "+i.error,document.getElementById("error-container-text").style.display="block"})}downloadModelAsText(){var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(this.plainDocumentForDownload)),i.setAttribute("download","t2p"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}postT2PPetriNet(e){return this.t2phttpClient.post(this.urlPetriNet,e,BP).subscribe(i=>{this.spinnerService.hide(),this.generatePetriNet(i),this.plainDocumentForDownload=i},i=>{this.spinnerService.hide(),document.getElementById("error-container-text").innerHTML=i.status+" "+i.statusText+" "+i.error,document.getElementById("error-container-text").style.display="block"})}generatePetriNet(e){var i=this;return LP(function*(){try{let o=i.domparser.parseFromString(e,"text/xml");fC.displayPNMLModel(o)}catch{}})()}static#e=this.\u0275fac=function(i){return new(i||t)(je(h0),je(pC))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class NT{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class u4 extends NT{constructor(n,e,i,o,l){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=o,this.projectableNodes=l}}class mC extends NT{constructor(n,e,i,o){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i,this.injector=o}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class h4 extends NT{constructor(n){super(),this.element=n instanceof Hn?n.nativeElement:n}}class VP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof u4?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof mC?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof h4?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class f4 extends VP{constructor(n,e,i,o,l){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=o,this.attachDomPortal=d=>{const x=d.element,k=this._document.createComment("dom-portal");x.parentNode.insertBefore(k,x),this.outletElement.appendChild(x),this._attachedPortal=d,super.setDisposeFn(()=>{k.parentNode&&k.parentNode.replaceChild(x,k)})},this._document=l}attachComponentPortal(n){const i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let o;return n.viewContainerRef?(o=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=i.create(n.injector||this._defaultInjector||ys.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=n,o}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(i);-1!==o&&e.remove(o)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let LT,p4=(()=>{class t extends mC{constructor(e,i){super(e,i)}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Wo),Re(rs))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[nn]})}return t})(),gC=(()=>{class t extends VP{constructor(e,i,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Kn,this.attachDomPortal=l=>{const d=l.element,x=this._document.createComment("dom-portal");l.setAttachedHost(this),d.parentNode.insertBefore(x,d),this._getRootNode().appendChild(d),this._attachedPortal=l,super.setDisposeFn(()=>{x.parentNode&&x.parentNode.replaceChild(d,x)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=i.createComponent(l,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||t)(Re(tc),Re(rs),Re(ri))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[nn]})}return t})(),FT=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({})}return t})();try{LT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{LT=!1}let $v,ss=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function J3(t){return t===aO}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!LT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||t)(je(Wc))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const HP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function jP(){if($v)return $v;if("object"!=typeof document||!document)return $v=new Set(HP),$v;let t=document.createElement("input");return $v=new Set(HP.filter(n=>(t.setAttribute("type",n),t.type===n))),$v}let m0,sm,BT;function Wv(t){return function m4(){if(null==m0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>m0=!0}))}finally{m0=m0||!1}return m0}()?t:!!t.capture}function g4(){if(null==sm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return sm=!1,sm;if("scrollBehavior"in document.documentElement.style)sm=!0;else{const t=Element.prototype.scrollTo;sm=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return sm}function uf(t){return t.composedPath?t.composedPath()[0]:t.target}function zT(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function VT(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class B4 extends H{constructor(n,e){super()}schedule(n,e=0){return this}}const yC={setInterval(t,n,...e){const{delegate:i}=yC;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=yC;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class HT extends B4{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;const o=this.id,l=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(l,o,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(l,this.id,e),this}requestAsyncId(n,e,i=0){return yC.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&yC.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,i=!1;try{this.work(n)}catch(l){i=!0,o=l||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,V(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const WP={now:()=>(WP.delegate||Date).now(),delegate:void 0};class g0{constructor(n,e=g0.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}g0.now=WP.now;class jT extends g0{constructor(n,e=g0.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}const UT=new jT(HT),z4=UT;function $T(t,n=UT){return Le((e,i)=>{let o=null,l=null,d=null;const x=()=>{if(o){o.unsubscribe(),o=null;const K=l;l=null,i.next(K)}};function k(){const K=d+t,ne=n.now();if(ne<K)return o=this.schedule(void 0,K-ne),void i.add(o);x()}e.subscribe(Qe(i,K=>{l=K,d=n.now(),o||(o=n.schedule(k,t),i.add(o))},()=>{x(),i.complete()},void 0,()=>{l=o=null}))})}function WT(t){return va((n,e)=>t<=e)}function GT(t,n=oe){return t=t??V4,Le((e,i)=>{let o,l=!0;e.subscribe(Qe(i,d=>{const x=n(d);(l||!t(o,x))&&(l=!1,o=x,i.next(d))}))})}function V4(t,n){return t===n}function as(t){return Le((n,e)=>{Ft(t).subscribe(Qe(e,()=>e.complete(),D)),!e.closed&&n.subscribe(e)})}function ar(t){return null!=t&&"false"!=`${t}`}function Nl(t,n=0){return function H4(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function bC(t){return Array.isArray(t)?t:[t]}function uo(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Fu(t){return t instanceof Hn?t.nativeElement:t}let GP=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),j4=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Fu(e);return new De(o=>{const d=this._observeElement(i).subscribe(o);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new We,o=this._mutationObserverFactory.create(l=>i.next(l));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:o}=this._observedElements.get(e);i&&i.disconnect(),o.complete(),this._observedElements.delete(e)}}static#e=this.\u0275fac=function(i){return new(i||t)(je(GP))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YP=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=ar(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Nl(e),this._subscribe()}constructor(e,i,o){this._contentObserver=e,this._elementRef=i,this._ngZone=o,this.event=new Kn,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe($T(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)(Re(j4),Re(Hn),Re(Pn))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return t})(),YT=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({providers:[GP]})}return t})();const KP=new Set;let am,U4=(()=>{class t{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):W4}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function $4(t,n){if(!KP.has(t))try{am||(am=document.createElement("style"),n&&(am.nonce=n),am.setAttribute("type","text/css"),document.head.appendChild(am)),am.sheet&&(am.sheet.insertRule(`@media ${t} {body{ }}`,0),KP.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||t)(je(ss),je(Eg,8))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function W4(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let G4=(()=>{class t{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new We}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return XP(bC(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let l=OE(XP(bC(e)).map(d=>this._registerQuery(d).observable));return l=PE(l.pipe(ud(1)),l.pipe(WT(1),$T(0))),l.pipe(nt(d=>{const x={matches:!1,breakpoints:{}};return d.forEach(({matches:k,query:K})=>{x.matches=x.matches||k,x.breakpoints[K]=k}),x}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),l={observable:new De(d=>{const x=k=>this._zone.run(()=>d.next(k));return i.addListener(x),()=>{i.removeListener(x)}}).pipe(Au(i),nt(({matches:d})=>({query:e,matches:d})),as(this._destroySubject)),mql:i};return this._queries.set(e,l),l}static#e=this.\u0275fac=function(i){return new(i||t)(je(U4),je(Pn))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XP(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}class X4{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new We,this._typeaheadSubscription=H.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new We,this.change=new We,n instanceof Mu&&(this._itemChangesSubscription=n.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(So(e=>this._pressedLetters.push(e)),$T(n),va(()=>this._pressedLetters.length>0),nt(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let o=1;o<i.length+1;o++){const l=(this._activeItemIndex+o)%i.length,d=i[l];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!n[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&o){const l=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(l>0?l:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&o){const l=this._activeItemIndex+this._pageUpAndDown.delta,d=this._getItemsArray().length;this._setActiveItemByIndex(l<d?l:d-1,-1);break}return;default:return void((o||VT(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),i="number"==typeof n?n:e.indexOf(n);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const o=(this._activeItemIndex+n*i+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(!i[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof Mu?this._items.toArray():this._items}}class qP extends X4{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}function eR(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function tR(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const t$=new ht("cdk-input-modality-detector-options"),n$={ignoreKeys:[18,17,224,91,16]},Gv=Wv({passive:!0,capture:!0});let i$=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,i,o,l){this._platform=e,this._mostRecentTarget=null,this._modality=new Ha(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(x=>x===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=uf(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(eR(d)?"keyboard":"mouse"),this._mostRecentTarget=uf(d))},this._onTouchstart=d=>{tR(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=uf(d))},this._options={...n$,...l},this.modalityDetected=this._modality.pipe(WT(1)),this.modalityChanged=this.modalityDetected.pipe(GT()),e.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Gv),o.addEventListener("mousedown",this._onMousedown,Gv),o.addEventListener("touchstart",this._onTouchstart,Gv)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gv),document.removeEventListener("mousedown",this._onMousedown,Gv),document.removeEventListener("touchstart",this._onTouchstart,Gv))}static#e=this.\u0275fac=function(i){return new(i||t)(je(ss),je(Pn),je(ri),je(t$,8))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const o$=new ht("cdk-focus-monitor-default-options"),_C=Wv({passive:!0,capture:!0});let KT=(()=>{class t{constructor(e,i,o,l,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new We,this._rootNodeFocusAndBlurListener=x=>{for(let K=uf(x);K;K=K.parentElement)"focus"===x.type?this._onFocus(x,K):this._onBlur(x,K)},this._document=l,this._detectionMode=d?.detectionMode||0}monitor(e,i=!1){const o=Fu(e);if(!this._platform.isBrowser||1!==o.nodeType)return an(null);const l=function y4(t){if(function v4(){if(null==BT){const t=typeof document<"u"?document.head:null;BT=!(!t||!t.createShadowRoot&&!t.attachShadow)}return BT}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(o)||this._getDocument(),d=this._elementInfo.get(o);if(d)return i&&(d.checkChildren=!0),d.subject;const x={checkChildren:i,subject:new We,rootNode:l};return this._elementInfo.set(o,x),this._registerGlobalListeners(x),x.subject}stopMonitoring(e){const i=Fu(e),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(e,i,o){const l=Fu(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([x,k])=>this._originChanged(x,i,k)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const o=this._elementInfo.get(i),l=uf(e);!o||!o.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),o)}_onBlur(e,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,_C),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,_C)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(as(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_C),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_C),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,o){this._setClasses(e,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((o,l)=>{(l===e||o.checkChildren&&l.contains(e))&&i.push([l,o])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const l=e.labels;if(l)for(let d=0;d<l.length;d++)if(l[d].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||t)(je(Pn),je(ss),je(i$),je(ri,8),je(o$,8))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),s$=(()=>{class t{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Kn}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(KT))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return t})();const iR="cdk-high-contrast-black-on-white",rR="cdk-high-contrast-white-on-black",XT="cdk-high-contrast-active";let oR=(()=>{class t{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=It(G4).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(XT,iR,rR),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(XT,iR):2===i&&e.add(XT,rR)}}static#e=this.\u0275fac=function(i){return new(i||t)(je(ss),je(ri))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),a$=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||t)(je(oR))};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[YT]})}return t})();const l$=new ht("cdk-dir-doc",{providedIn:"root",factory:function c$(){return It(ri)}}),d$=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Lu=(()=>{class t{constructor(e){this.value="ltr",this.change=new Kn,e&&(this.value=function u$(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?d$.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||t)(je(l$,8))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yv=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({})}return t})();function h$(t,n){1&t&&Wi(0)}const f$=["*"];let sR=(()=>{class t{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]})}return t})(),aR=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Wo))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","cdkStepLabel",""]]})}return t})(),p$=0;const lR=new ht("STEPPER_GLOBAL_OPTIONS");let ZT=(()=>{class t{get editable(){return this._editable}set editable(e){this._editable=ar(e)}get optional(){return this._optional}set optional(e){this._optional=ar(e)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=ar(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(e){this._customError=ar(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(e,i){this._stepper=e,this.interacted=!1,this.interactedStream=new Kn,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}static#e=this.\u0275fac=function(i){return new(i||t)(Re(qt(()=>v0)),Re(lR,8))};static#t=this.\u0275cmp=_i({type:t,selectors:[["cdk-step"]],contentQueries:function(i,o,l){if(1&i&&Kr(l,aR,5),2&i){let d;On(d=In())&&(o.stepLabel=d.first)}},viewQuery:function(i,o){if(1&i&&gr(Wo,7),2&i){let l;On(l=In())&&(o.content=l.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[Rr],ngContentSelectors:f$,decls:1,vars:0,template:function(i,o){1&i&&(lc(),Yt(0,h$,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return t})(),v0=(()=>{class t{get linear(){return this._linear}set linear(e){this._linear=ar(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const i=Nl(e);this.steps&&this._steps?(this._isValidIndex(i),this.selected?._markAsInteracted(),this._selectedIndex!==i&&!this._anyControlsInvalidOrPending(i)&&(i>=this._selectedIndex||this.steps.toArray()[i].editable)&&this._updateSelectedItemIndex(i)):this._selectedIndex=i}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}constructor(e,i,o){this._dir=e,this._changeDetectorRef=i,this._elementRef=o,this._destroyed=new We,this.steps=new Mu,this._sortedHeaders=new Mu,this._linear=!1,this._selectedIndex=0,this.selectionChange=new Kn,this._orientation="horizontal",this._groupId=p$++}ngAfterContentInit(){this._steps.changes.pipe(Au(this._steps),as(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(Au(this._stepHeader),as(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,o)=>i._elementRef.nativeElement.compareDocumentPosition(o._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new qP(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:an()).pipe(Au(this._layoutDirection()),as(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const i=e-this._selectedIndex;return i<0?"rtl"===this._layoutDirection()?"next":"previous":i>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,i="number"){const o=this.steps.toArray()[e],l=this._isCurrentStep(e);return o._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(o,l):this._getGuidelineLogic(o,l,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?"error":!e.completed||i?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,i,o="number"){return e._showError()&&e.hasError&&!i?"error":e.completed&&!i?"done":e.completed&&i?o:e.editable&&i?"edit":o}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const i=VT(e),o=e.keyCode,l=this._keyManager;null==l.activeItemIndex||i||32!==o&&13!==o?l.setFocusOrigin("keyboard").onKeydown(e):(this.selectedIndex=l.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some(i=>{const o=i.stepControl;return(o?o.invalid||o.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,i=function b4(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Lu,8),Re(os),Re(Hn))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(i,o,l){if(1&i&&(Kr(l,ZT,5),Kr(l,sR,5)),2&i){let d;On(d=In())&&(o._steps=d),On(d=In())&&(o._stepHeader=d)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]})}return t})(),m$=(()=>{class t{constructor(e){this._stepper=e,this.type="submit"}static#e=this.\u0275fac=function(i){return new(i||t)(Re(v0))};static#t=this.\u0275dir=Mt({type:t,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(i,o){1&i&&bn("click",function(){return o._stepper.next()}),2&i&&uc("type",o.type)},inputs:{type:"type"}})}return t})(),g$=(()=>{class t{constructor(e){this._stepper=e,this.type="button"}static#e=this.\u0275fac=function(i){return new(i||t)(Re(v0))};static#t=this.\u0275dir=Mt({type:t,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(i,o){1&i&&bn("click",function(){return o._stepper.previous()}),2&i&&uc("type",o.type)},inputs:{type:"type"}})}return t})(),v$=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[Yv]})}return t})();const b$=new ht("mat-sanity-checks",{providedIn:"root",factory:function y$(){return!0}});let kr=(()=>{class t{constructor(e,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!zT()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||t)(je(oR),je(b$,8),je(ri))};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[Yv,Yv]})}return t})();function uR(t){return class extends t{get disabled(){return this._disabled}set disabled(n){this._disabled=ar(n)}constructor(...n){super(...n),this._disabled=!1}}}function wC(t,n){return class extends t{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=n,this.color=n}}}function hR(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=ar(n)}constructor(...n){super(...n),this._disableRipple=!1}}}function _$(t,n=0){return class extends t{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Nl(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}}}function w$(t){return class extends t{updateErrorState(){const n=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==n&&(this.errorState=l,this.stateChanges.next())}constructor(...n){super(...n),this.errorState=!1}}}let xC=(()=>{class t{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[kr,kr]})}return t})();class E${constructor(n,e,i,o=!1){this._renderer=n,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const pR=Wv({passive:!0,capture:!0});class C${constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=uf(n);e&&this._events.get(n.type)?.forEach((i,o)=>{(o===e||o.contains(e))&&i.forEach(l=>l.handleEvent(n))})}}addHandler(n,e,i,o){const l=this._events.get(e);if(l){const d=l.get(i);d?d.add(o):l.set(i,new Set([o]))}else this._events.set(e,new Map([[i,new Set([o])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,pR)})}removeHandler(n,e,i){const o=this._events.get(n);if(!o)return;const l=o.get(e);l&&(l.delete(i),0===l.size&&o.delete(e),0===o.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,pR)))}}const mR={enterDuration:225,exitDuration:150},gR=Wv({passive:!0,capture:!0}),vR=["mousedown","touchstart"],yR=["mouseup","mouseleave","touchend","touchcancel"];class EC{static#e=this._eventManager=new C$;constructor(n,e,i,o){this._target=n,this._ngZone=e,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Fu(i))}fadeInRipple(n,e,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l={...mR,...i.animation};i.centered&&(n=o.left+o.width/2,e=o.top+o.height/2);const d=i.radius||function D$(t,n,e){const i=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),o=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(i*i+o*o)}(n,e,o),x=n-o.left,k=e-o.top,K=l.enterDuration,ne=document.createElement("div");ne.classList.add("mat-ripple-element"),ne.style.left=x-d+"px",ne.style.top=k-d+"px",ne.style.height=2*d+"px",ne.style.width=2*d+"px",null!=i.color&&(ne.style.backgroundColor=i.color),ne.style.transitionDuration=`${K}ms`,this._containerElement.appendChild(ne);const le=window.getComputedStyle(ne),Ee=le.transitionDuration,ke="none"===le.transitionProperty||"0s"===Ee||"0s, 0s"===Ee||0===o.width&&0===o.height,Ne=new E$(this,ne,i,ke);ne.style.transform="scale3d(1, 1, 1)",Ne.state=0,i.persistent||(this._mostRecentTransientRipple=Ne);let He=null;return!ke&&(K||l.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const et=()=>this._finishRippleTransition(Ne),Ge=()=>this._destroyRipple(Ne);ne.addEventListener("transitionend",et),ne.addEventListener("transitioncancel",Ge),He={onTransitionEnd:et,onTransitionCancel:Ge}}),this._activeRipples.set(Ne,He),(ke||!K)&&this._finishRippleTransition(Ne),Ne}fadeOutRipple(n){if(2===n.state||3===n.state)return;const e=n.element,i={...mR,...n.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=Fu(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,vR.forEach(i=>{EC._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{yR.forEach(e=>{this._triggerElement.addEventListener(e,this,gR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:i}=n.config;n.state=1,!i&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=eR(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!tR(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(vR.forEach(e=>EC._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&yR.forEach(e=>n.removeEventListener(e,this,gR)))}}const M$=new ht("mat-ripple-global-options");let CC=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,o,l,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new EC(this,i,e,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(Pn),Re(ss),Re(M$,8),Re(gs,8))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,o){2&i&&fn("mat-ripple-unbounded",o.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})(),SC=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[kr,kr]})}return t})(),T$=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[kr]})}return t})(),bR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[SC,tf,kr,T$]})}return t})();function _R(...t){const n=Ao(t),{args:e,keys:i}=PO(t),o=new De(l=>{const{length:d}=e;if(!d)return void l.complete();const x=new Array(d);let k=d,K=d;for(let ne=0;ne<d;ne++){let le=!1;Ft(e[ne]).subscribe(Qe(l,xe=>{le||(le=!0,K--),x[ne]=xe},()=>k--,void 0,()=>{(!k||!le)&&(K||l.next(i?RO(i,x):x),l.complete())}))}});return n?o.pipe(RM(n)):o}const k$=["*"];let DC;function b0(t){return function A$(){if(void 0===DC&&(DC=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(DC=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return DC}()?.createHTML(t)||t}function wR(t){return Error(`Unable to find icon with the name "${t}"`)}function xR(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function ER(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class lm{constructor(n,e,i){this.url=n,this.svgText=e,this.options=i}}let MC=(()=>{class t{constructor(e,i,o,l){this._httpClient=e,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(e,i,o){return this.addSvgIconInNamespace("",e,i,o)}addSvgIconLiteral(e,i,o){return this.addSvgIconLiteralInNamespace("",e,i,o)}addSvgIconInNamespace(e,i,o,l){return this._addSvgIconConfig(e,i,new lm(o,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,o,l){const d=this._sanitizer.sanitize(ii.HTML,o);if(!d)throw ER(o);const x=b0(d);return this._addSvgIconConfig(e,i,new lm("",x,l))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,o){return this._addSvgIconSetConfig(e,new lm(i,null,o))}addSvgIconSetLiteralInNamespace(e,i,o){const l=this._sanitizer.sanitize(ii.HTML,i);if(!l)throw ER(i);const d=b0(l);return this._addSvgIconSetConfig(e,new lm("",d,o))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(ii.RESOURCE_URL,e);if(!i)throw xR(e);const o=this._cachedIconsByUrl.get(i);return o?an(TC(o)):this._loadSvgIconFromConfig(new lm(e,null)).pipe(So(l=>this._cachedIconsByUrl.set(i,l)),nt(l=>TC(l)))}getNamedSvgIcon(e,i=""){const o=CR(i,e);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,e),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(e,d):Av(wR(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?an(TC(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(nt(i=>TC(i)))}_getSvgFromIconSetConfigs(e,i){const o=this._extractIconWithNameFromAnySet(e,i);return o?an(o):_R(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(rf(x=>{const K=`Loading icon set URL: ${this._sanitizer.sanitize(ii.RESOURCE_URL,d.url)} failed: ${x.message}`;return this._errorHandler.handleError(new Error(K)),an(null)})))).pipe(nt(()=>{const d=this._extractIconWithNameFromAnySet(e,i);if(!d)throw wR(e);return d}))}_extractIconWithNameFromAnySet(e,i){for(let o=i.length-1;o>=0;o--){const l=i[o];if(l.svgText&&l.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(l),x=this._extractSvgIconFromSet(d,e,l.options);if(x)return x}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(So(i=>e.svgText=i),nt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?an(null):this._fetchIcon(e).pipe(So(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,o){const l=e.querySelector(`[id="${i}"]`);if(!l)return null;const d=l.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,o);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),o);const x=this._svgElementFromString(b0("<svg></svg>"));return x.appendChild(d),this._setSvgAttributes(x,o)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const i=this._svgElementFromString(b0("<svg></svg>")),o=e.attributes;for(let l=0;l<o.length;l++){const{name:d,value:x}=o[l];"id"!==d&&i.setAttribute(d,x)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:o}=e,l=o?.withCredentials??!1;if(!this._httpClient)throw function O$(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const d=this._sanitizer.sanitize(ii.RESOURCE_URL,i);if(!d)throw xR(i);const x=this._inProgressUrlFetches.get(d);if(x)return x;const k=this._httpClient.get(d,{responseType:"text",withCredentials:l}).pipe(nt(K=>b0(K)),NE(()=>this._inProgressUrlFetches.delete(d)),Xa());return this._inProgressUrlFetches.set(d,k),k}_addSvgIconConfig(e,i,o){return this._svgIconConfigs.set(CR(e,i),o),this}_addSvgIconSetConfig(e,i){const o=this._iconSetConfigs.get(e);return o?o.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](i,e);if(l)return P$(l)?new lm(l.url,null,l.options):new lm(l,null)}}static#e=this.\u0275fac=function(i){return new(i||t)(je(h0,8),je(PM),je(ri,8),je(vs))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function TC(t){return t.cloneNode(!0)}function CR(t,n){return t+":"+n}function P$(t){return!(!t.url||!t.options)}const R$=wC(class{constructor(t){this._elementRef=t}}),N$=new ht("MAT_ICON_DEFAULT_OPTIONS"),F$=new ht("mat-icon-location",{providedIn:"root",factory:function L$(){const t=It(ri),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),SR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],B$=SR.map(t=>`[${t}]`).join(", "),z$=/^url\(['"]?#(.*?)['"]?\)$/;let V$=(()=>{class t extends R${get inline(){return this._inline}set inline(e){this._inline=ar(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,o,l,d,x){super(e),this._iconRegistry=i,this._location=l,this._errorHandler=d,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=H.EMPTY,x&&(x.color&&(this.color=this.defaultColor=x.color),x.fontSet&&(this.fontSet=x.fontSet)),o||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=e.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),i.forEach(o=>e.classList.add(o)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((o,l)=>{o.forEach(d=>{l.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(B$),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)SR.forEach(d=>{const x=i[l],k=x.getAttribute(d),K=k?k.match(z$):null;if(K){let ne=o.get(x);ne||(ne=[],o.set(x,ne)),ne.push({name:d,value:K[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,o]=this._splitIconName(e);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe(ud(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${l.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(MC),Bd("aria-hidden"),Re(F$),Re(vs),Re(N$,8))};static#t=this.\u0275cmp=_i({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,o){2&i&&(Bi("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),fn("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[nn],ngContentSelectors:k$,decls:1,vars:0,template:function(i,o){1&i&&(lc(),Wi(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return t})(),H$=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[kr,kr]})}return t})();function j$(t,n){if(1&t&&Nr(0,8),2&t){const e=Ln();Pt("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function U$(t,n){if(1&t&&(lt(0,"span",13),sn(1),ft()),2&t){const e=Ln(2);yt(1),$s(e._getDefaultTextForState(e.state))}}function $$(t,n){if(1&t&&(lt(0,"span",14),sn(1),ft()),2&t){const e=Ln(2);yt(1),$s(e._intl.completedLabel)}}function W$(t,n){if(1&t&&(lt(0,"span",14),sn(1),ft()),2&t){const e=Ln(2);yt(1),$s(e._intl.editableLabel)}}function G$(t,n){if(1&t&&(lt(0,"mat-icon",13),sn(1),ft()),2&t){const e=Ln(2);yt(1),$s(e._getDefaultTextForState(e.state))}}function Y$(t,n){if(1&t&&(_s(0,9),Yt(1,U$,2,1,"span",10),Yt(2,$$,2,1,"span",11),Yt(3,W$,2,1,"span",11),Yt(4,G$,2,1,"mat-icon",12),Ml()),2&t){const e=Ln();Pt("ngSwitch",e.state),yt(1),Pt("ngSwitchCase","number"),yt(1),Pt("ngIf","done"===e.state),yt(1),Pt("ngIf","edit"===e.state)}}function K$(t,n){if(1&t&&(lt(0,"div",15),Nr(1,16),ft()),2&t){const e=Ln();yt(1),Pt("ngTemplateOutlet",e._templateLabel().template)}}function X$(t,n){if(1&t&&(lt(0,"div",15),sn(1),ft()),2&t){const e=Ln();yt(1),$s(e.label)}}function Z$(t,n){if(1&t&&(lt(0,"div",17),sn(1),ft()),2&t){const e=Ln();yt(1),$s(e._intl.optionalLabel)}}function Q$(t,n){if(1&t&&(lt(0,"div",18),sn(1),ft()),2&t){const e=Ln();yt(1),$s(e.errorMessage)}}function q$(t,n){}function J$(t,n){if(1&t&&(Wi(0),Yt(1,q$,0,0,"ng-template",0)),2&t){const e=Ln();yt(1),Pt("cdkPortalOutlet",e._portal)}}const eW=["*"];function tW(t,n){1&t&&yn(0,"div",11)}const DR=function(t,n){return{step:t,i:n}};function nW(t,n){if(1&t&&(_s(0),Nr(1,9),Yt(2,tW,1,0,"div",10),Ml()),2&t){const e=n.$implicit,i=n.index,o=n.last;Ln(2);const l=js(4);yt(1),Pt("ngTemplateOutlet",l)("ngTemplateOutletContext",Sv(3,DR,e,i)),yt(1),Pt("ngIf",!o)}}const MR=function(t){return{animationDuration:t}},TR=function(t,n){return{value:t,params:n}};function iW(t,n){if(1&t){const e=sc();lt(0,"div",12),bn("@horizontalStepTransition.done",function(o){return Ur(e),bo(Ln(2)._animationDone.next(o))}),Nr(1,13),ft()}if(2&t){const e=n.$implicit,i=n.index,o=Ln(2);fn("mat-horizontal-stepper-content-inactive",o.selectedIndex!==i),Pt("@horizontalStepTransition",Sv(8,TR,o._getAnimationDirection(i),lE(6,MR,o._getAnimationDuration())))("id",o._getStepContentId(i)),Bi("aria-labelledby",o._getStepLabelId(i)),yt(1),Pt("ngTemplateOutlet",e.content)}}function rW(t,n){if(1&t&&(lt(0,"div",4)(1,"div",5),Yt(2,nW,3,6,"ng-container",6),ft(),lt(3,"div",7),Yt(4,iW,2,11,"div",8),ft()()),2&t){const e=Ln();yt(2),Pt("ngForOf",e.steps),yt(2),Pt("ngForOf",e.steps)}}function oW(t,n){if(1&t){const e=sc();lt(0,"div",15),Nr(1,9),lt(2,"div",16)(3,"div",17),bn("@verticalStepTransition.done",function(o){return Ur(e),bo(Ln(2)._animationDone.next(o))}),lt(4,"div",18),Nr(5,13),ft()()()()}if(2&t){const e=n.$implicit,i=n.index,o=n.last,l=Ln(2),d=js(4);yt(1),Pt("ngTemplateOutlet",d)("ngTemplateOutletContext",Sv(10,DR,e,i)),yt(1),fn("mat-stepper-vertical-line",!o),yt(1),fn("mat-vertical-stepper-content-inactive",l.selectedIndex!==i),Pt("@verticalStepTransition",Sv(15,TR,l._getAnimationDirection(i),lE(13,MR,l._getAnimationDuration())))("id",l._getStepContentId(i)),Bi("aria-labelledby",l._getStepLabelId(i)),yt(2),Pt("ngTemplateOutlet",e.content)}}function sW(t,n){if(1&t&&(_s(0),Yt(1,oW,6,18,"div",14),Ml()),2&t){const e=Ln();yt(1),Pt("ngForOf",e.steps)}}function aW(t,n){if(1&t){const e=sc();lt(0,"mat-step-header",19),bn("click",function(){return bo(Ur(e).step.select())})("keydown",function(o){return Ur(e),bo(Ln()._onKeydown(o))}),ft()}if(2&t){const e=n.step,i=n.i,o=Ln();fn("mat-horizontal-stepper-header","horizontal"===o.orientation)("mat-vertical-stepper-header","vertical"===o.orientation),Pt("tabIndex",o._getFocusIndex()===i?0:-1)("id",o._getStepLabelId(i))("index",i)("state",o._getIndicatorType(i,e.state))("label",e.stepLabel||e.label)("selected",o.selectedIndex===i)("active",o._stepIsNavigable(i,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",o._iconOverrides)("disableRipple",o.disableRipple||!o._stepIsNavigable(i,e))("color",e.color||o.color),Bi("aria-posinset",i+1)("aria-setsize",o.steps.length)("aria-controls",o._getStepContentId(i))("aria-selected",o.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",!o._stepIsNavigable(i,e)||null)}}let _0=(()=>{class t extends aR{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=fr(t)))(o||t)}}();static#t=this.\u0275dir=Mt({type:t,selectors:[["","matStepLabel",""]],features:[nn]})}return t})(),kC=(()=>{class t{constructor(){this.changes=new We,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const cW={provide:kC,deps:[[new yl,new Vc,kC]],useFactory:function lW(t){return t||new kC}},dW=wC(class extends sR{constructor(n){super(n)}},"primary");let kR=(()=>{class t extends dW{constructor(e,i,o,l){super(o),this._intl=e,this._focusMonitor=i,this._intlSubscription=e.changes.subscribe(()=>l.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._elementRef,e,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof _0?null:this.label}_templateLabel(){return this.label instanceof _0?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}static#e=this.\u0275fac=function(i){return new(i||t)(Re(kC),Re(KT),Re(Hn),Re(os))};static#t=this.\u0275cmp=_i({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[nn],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(i,o){1&i&&(yn(0,"div",0),lt(1,"div")(2,"div",1),Yt(3,j$,1,2,"ng-container",2),Yt(4,Y$,5,4,"ng-container",3),ft()(),lt(5,"div",4),Yt(6,K$,2,1,"div",5),Yt(7,X$,2,1,"div",5),Yt(8,Z$,2,1,"div",6),Yt(9,Q$,2,1,"div",7),ft()),2&i&&(Pt("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disableRipple),yt(1),_v("mat-step-icon-state-",o.state," mat-step-icon"),fn("mat-step-icon-selected",o.selected),yt(1),Pt("ngSwitch",!(!o.iconOverrides||!o.iconOverrides[o.state])),yt(1),Pt("ngSwitchCase",!0),yt(2),fn("mat-step-label-active",o.active)("mat-step-label-selected",o.selected)("mat-step-label-error","error"==o.state),yt(1),Pt("ngIf",o._templateLabel()),yt(1),Pt("ngIf",o._stringLabel()),yt(1),Pt("ngIf",o.optional&&"error"!=o.state),yt(1),Pt("ngIf","error"==o.state))},dependencies:[qp,j_,kv,ME,rO,V$,CC],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0})}return t})();const IR={horizontalStepTransition:Vv("horizontalStepTransition",[yc("previous",Go({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),yc("current",Go({transform:"none",visibility:"inherit"})),yc("next",Go({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Ru("* => *",af("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),{params:{animationDuration:"500ms"}})]),verticalStepTransition:Vv("verticalStepTransition",[yc("previous",Go({height:"0px",visibility:"hidden"})),yc("next",Go({height:"0px",visibility:"hidden"})),yc("current",Go({height:"*",visibility:"inherit"})),Ru("* <=> current",af("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),{params:{animationDuration:"225ms"}})])};let uW=(()=>{class t{constructor(e){this.templateRef=e}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Wo))};static#t=this.\u0275dir=Mt({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}})}return t})(),hW=(()=>{class t{constructor(e){this._template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Wo))};static#t=this.\u0275dir=Mt({type:t,selectors:[["ng-template","matStepContent",""]]})}return t})(),QT=(()=>{class t extends ZT{constructor(e,i,o,l){super(e,l),this._errorStateMatcher=i,this._viewContainerRef=o,this._isSelected=H.EMPTY,this.stepLabel=void 0}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(gc(()=>this._stepper.selectionChange.pipe(nt(e=>e.selectedStep===this),Au(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new mC(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,i){return this._errorStateMatcher.isErrorState(e,i)||!!(e&&e.invalid&&this.interacted)}static#e=this.\u0275fac=function(i){return new(i||t)(Re(qt(()=>qT)),Re(xC,4),Re(rs),Re(lR,8))};static#t=this.\u0275cmp=_i({type:t,selectors:[["mat-step"]],contentQueries:function(i,o,l){if(1&i&&(Kr(l,_0,5),Kr(l,hW,5)),2&i){let d;On(d=In())&&(o.stepLabel=d.first),On(d=In())&&(o._lazyContent=d.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[ki([{provide:xC,useExisting:t},{provide:ZT,useExisting:t}]),nn],ngContentSelectors:eW,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(i,o){1&i&&(lc(),Yt(0,J$,2,1,"ng-template"))},dependencies:[gC],encapsulation:2,changeDetection:0})}return t})(),qT=(()=>{class t extends v0{get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}constructor(e,i,o){super(e,i,o),this._stepHeader=void 0,this._steps=void 0,this.steps=new Mu,this.animationDone=new Kn,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new We,this._animationDuration="";const l=o.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===l?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:i})=>this._iconOverrides[e]=i),this.steps.changes.pipe(as(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(GT((e,i)=>e.fromState===i.fromState&&e.toState===i.toState),as(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}_stepIsNavigable(e,i){return i.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Lu,8),Re(os),Re(Hn))};static#t=this.\u0275cmp=_i({type:t,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(i,o,l){if(1&i&&(Kr(l,QT,5),Kr(l,uW,5)),2&i){let d;On(d=In())&&(o._steps=d),On(d=In())&&(o._icons=d)}},viewQuery:function(i,o){if(1&i&&gr(kR,5),2&i){let l;On(l=In())&&(o._stepHeader=l)}},hostAttrs:["role","tablist","ngSkipHydration","true"],hostVars:11,hostBindings:function(i,o){2&i&&(Bi("aria-orientation",o.orientation),fn("mat-stepper-horizontal","horizontal"===o.orientation)("mat-stepper-vertical","vertical"===o.orientation)("mat-stepper-label-position-end","horizontal"===o.orientation&&"end"==o.labelPosition)("mat-stepper-label-position-bottom","horizontal"===o.orientation&&"bottom"==o.labelPosition)("mat-stepper-header-position-bottom","bottom"===o.headerPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[ki([{provide:v0,useExisting:t}]),nn],decls:5,vars:3,consts:[[3,"ngSwitch"],["class","mat-horizontal-stepper-wrapper",4,"ngSwitchCase"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id","mat-horizontal-stepper-content-inactive",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(i,o){1&i&&(_s(0,0),Yt(1,rW,5,2,"div",1),Yt(2,sW,2,1,"ng-container",2),Ml(),Yt(3,aW,1,23,"ng-template",null,3,L_)),2&i&&(Pt("ngSwitch",o.orientation),yt(1),Pt("ngSwitchCase","horizontal"),yt(1),Pt("ngSwitchCase","vertical"))},dependencies:[vM,qp,j_,kv,ME,kR],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[IR.horizontalStepTransition,IR.verticalStepTransition]},changeDetection:0})}return t})(),PR=(()=>{class t extends m${static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=fr(t)))(o||t)}}();static#t=this.\u0275dir=Mt({type:t,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(i,o){2&i&&uc("type",o.type)},inputs:{type:"type"},features:[nn]})}return t})(),RR=(()=>{class t extends g${static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=fr(t)))(o||t)}}();static#t=this.\u0275dir=Mt({type:t,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(i,o){2&i&&uc("type",o.type)},inputs:{type:"type"},features:[nn]})}return t})(),fW=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({providers:[cW,xC],imports:[kr,tf,FT,v$,H$,SC,kr]})}return t})();const pW=["matFormFieldNotchedOutline",""],mW=["*"],gW=["textField"],vW=["iconPrefixContainer"],yW=["textPrefixContainer"];function bW(t,n){1&t&&yn(0,"span",19)}function _W(t,n){if(1&t){const e=sc();lt(0,"label",17),bn("cdkObserveContent",function(){return Ur(e),bo(Ln(2)._refreshOutlineNotchWidth())}),Wi(1,1),Yt(2,bW,1,0,"span",18),ft()}if(2&t){const e=Ln(2);Pt("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),Bi("for",e._control.id)("aria-owns",e._control.id),yt(2),Pt("ngIf",!e.hideRequiredMarker&&e._control.required)}}function wW(t,n){1&t&&Yt(0,_W,3,6,"label",16),2&t&&Pt("ngIf",Ln()._hasFloatingLabel())}function xW(t,n){1&t&&yn(0,"div",20)}function EW(t,n){}function CW(t,n){1&t&&Yt(0,EW,0,0,"ng-template",22),2&t&&(Ln(2),Pt("ngTemplateOutlet",js(1)))}function SW(t,n){if(1&t&&(lt(0,"div",21),Yt(1,CW,1,1,"ng-template",9),ft()),2&t){const e=Ln();Pt("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),yt(1),Pt("ngIf",!e._forceDisplayInfixLabel())}}function DW(t,n){1&t&&(lt(0,"div",23,24),Wi(2,2),ft())}function MW(t,n){1&t&&(lt(0,"div",25,26),Wi(2,3),ft())}function TW(t,n){}function kW(t,n){1&t&&Yt(0,TW,0,0,"ng-template",22),2&t&&(Ln(),Pt("ngTemplateOutlet",js(1)))}function AW(t,n){1&t&&(lt(0,"div",27),Wi(1,4),ft())}function OW(t,n){1&t&&(lt(0,"div",28),Wi(1,5),ft())}function IW(t,n){1&t&&yn(0,"div",29)}function PW(t,n){1&t&&(lt(0,"div",30),Wi(1,6),ft()),2&t&&Pt("@transitionMessages",Ln()._subscriptAnimationState)}function RW(t,n){if(1&t&&(lt(0,"mat-hint",34),sn(1),ft()),2&t){const e=Ln(2);Pt("id",e._hintLabelId),yt(1),$s(e.hintLabel)}}function NW(t,n){if(1&t&&(lt(0,"div",31),Yt(1,RW,2,2,"mat-hint",32),Wi(2,7),yn(3,"div",33),Wi(4,8),ft()),2&t){const e=Ln();Pt("@transitionMessages",e._subscriptAnimationState),yt(1),Pt("ngIf",e.hintLabel)}}const FW=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],LW=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let JT=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Mt({type:t,selectors:[["mat-label"]]})}return t})();const BW=new ht("MatError");let zW=0,NR=(()=>{class t{constructor(){this.align="start",this.id="mat-mdc-hint-"+zW++}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Mt({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,o){2&i&&(uc("id",o.id),Bi("align",null),fn("mat-mdc-form-field-hint-end","end"===o.align))},inputs:{align:"align",id:"id"}})}return t})();const VW=new ht("MatPrefix"),HW=new ht("MatSuffix");let FR=(()=>{class t{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function jW(t){if(null!==t.offsetParent)return t.scrollWidth;const e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn))};static#t=this.\u0275dir=Mt({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,o){2&i&&fn("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating"}})}return t})();const LR="mdc-line-ripple--active",AC="mdc-line-ripple--deactivating";let BR=(()=>{class t{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=o=>{const l=this._elementRef.nativeElement.classList,d=l.contains(AC);"opacity"===o.propertyName&&d&&l.remove(LR,AC)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(AC),e.add(LR)}deactivate(){this._elementRef.nativeElement.classList.add(AC)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(Pn))};static#t=this.\u0275dir=Mt({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return t})(),zR=(()=>{class t{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(Pn))};static#t=this.\u0275cmp=_i({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,o){2&i&&fn("mdc-notched-outline--notched",o.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:pW,ngContentSelectors:mW,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(i,o){1&i&&(lc(),yn(0,"div",0),lt(1,"div",1),Wi(2),ft(),yn(3,"div",2)),2&i&&(yt(1),vi("width",o._getNotchWidth()))},encapsulation:2,changeDetection:0})}return t})();const UW={transitionMessages:Vv("transitionMessages",[yc("enter",Go({opacity:1,transform:"translateY(0%)"})),Ru("void => enter",[Go({opacity:0,transform:"translateY(-5px)"}),af("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let VR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Mt({type:t})}return t})();const HR=new ht("MatFormField"),jR=new ht("MAT_FORM_FIELD_DEFAULT_OPTIONS");let UR=0,GW=(()=>{class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ar(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,o,l,d,x,k,K){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=o,this._dir=l,this._platform=d,this._defaults=x,this._animationMode=k,this._document=K,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+UR++,this._hintLabelId="mat-mdc-hint-"+UR++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new We,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,x&&(x.appearance&&(this.appearance=x.appearance),this._hideRequiredMarker=!!x?.hideRequiredMarker,x.color&&(this.color=x.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(as(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ir(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(as(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(as(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,o=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,l=i?.getBoundingClientRect().width??0,d=o?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${l+d}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(os),Re(Pn),Re(Lu),Re(ss),Re(jR,8),Re(gs,8),Re(ri))};static#t=this.\u0275cmp=_i({type:t,selectors:[["mat-form-field"]],contentQueries:function(i,o,l){if(1&i&&(Kr(l,JT,5),Kr(l,JT,7),Kr(l,VR,5),Kr(l,VW,5),Kr(l,HW,5),Kr(l,BW,5),Kr(l,NR,5)),2&i){let d;On(d=In())&&(o._labelChildNonStatic=d.first),On(d=In())&&(o._labelChildStatic=d.first),On(d=In())&&(o._formFieldControl=d.first),On(d=In())&&(o._prefixChildren=d),On(d=In())&&(o._suffixChildren=d),On(d=In())&&(o._errorChildren=d),On(d=In())&&(o._hintChildren=d)}},viewQuery:function(i,o){if(1&i&&(gr(gW,5),gr(vW,5),gr(yW,5),gr(FR,5),gr(zR,5),gr(BR,5)),2&i){let l;On(l=In())&&(o._textField=l.first),On(l=In())&&(o._iconPrefixContainer=l.first),On(l=In())&&(o._textPrefixContainer=l.first),On(l=In())&&(o._floatingLabel=l.first),On(l=In())&&(o._notchedOutline=l.first),On(l=In())&&(o._lineRipple=l.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,o){2&i&&fn("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===o._animationMode)("mat-form-field-appearance-fill","fill"==o.appearance)("mat-form-field-appearance-outline","outline"==o.appearance)("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary","accent"!==o.color&&"warn"!==o.color)("mat-accent","accent"===o.color)("mat-warn","warn"===o.color)("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[ki([{provide:HR,useExisting:t}])],ngContentSelectors:LW,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,o){1&i&&(lc(FW),Yt(0,wW,1,1,"ng-template",null,0,L_),lt(2,"div",1,2),bn("click",function(d){return o._control.onContainerClick(d)}),Yt(4,xW,1,0,"div",3),lt(5,"div",4),Yt(6,SW,2,3,"div",5),Yt(7,DW,3,0,"div",6),Yt(8,MW,3,0,"div",7),lt(9,"div",8),Yt(10,kW,1,1,"ng-template",9),Wi(11),ft(),Yt(12,AW,2,0,"div",10),Yt(13,OW,2,0,"div",11),ft(),Yt(14,IW,1,0,"div",12),ft(),lt(15,"div",13),Yt(16,PW,2,1,"div",14),Yt(17,NW,5,2,"div",15),ft()),2&i&&(yt(2),fn("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),yt(2),Pt("ngIf",!o._hasOutline()&&!o._control.disabled),yt(2),Pt("ngIf",o._hasOutline()),yt(1),Pt("ngIf",o._hasIconPrefix),yt(1),Pt("ngIf",o._hasTextPrefix),yt(2),Pt("ngIf",!o._hasOutline()||o._forceDisplayInfixLabel()),yt(2),Pt("ngIf",o._hasTextSuffix),yt(1),Pt("ngIf",o._hasIconSuffix),yt(1),Pt("ngIf",!o._hasOutline()),yt(1),fn("mat-mdc-form-field-subscript-dynamic-size","dynamic"===o.subscriptSizing),Pt("ngSwitch",o._getDisplayedMessages()),yt(1),Pt("ngSwitchCase","error"),yt(1),Pt("ngSwitchCase","hint"))},dependencies:[qp,j_,kv,ME,YP,NR,FR,zR,BR],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[UW.transitionMessages]},changeDetection:0})}return t})(),OC=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[kr,tf,YT,kr]})}return t})();const YW=["addListener","removeListener"],KW=["addEventListener","removeEventListener"],XW=["on","off"];function cm(t,n,e,i){if(P(e)&&(i=e,e=void 0),i)return cm(t,n,e).pipe(RM(i));const[o,l]=function qW(t){return P(t.addEventListener)&&P(t.removeEventListener)}(t)?KW.map(d=>x=>t[d](n,x,e)):function ZW(t){return P(t.addListener)&&P(t.removeListener)}(t)?YW.map(GR(t,n)):function QW(t){return P(t.on)&&P(t.off)}(t)?XW.map(GR(t,n)):[];if(!o&&ls(t))return Ci(d=>cm(d,n,e))(Ft(t));if(!o)throw new TypeError("Invalid event target");return new De(d=>{const x=(...k)=>d.next(1<k.length?k:k[0]);return o(x),()=>l(x)})}function GR(t,n){return e=>i=>t[e](n,i)}function YR(t=0,n,e=z4){let i=-1;return null!=n&&(Ec(n)?e=n:i=n),new De(o=>{let l=function eG(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;l<0&&(l=0);let d=0;return e.schedule(function(){o.closed||(o.next(d++),0<=i?this.schedule(void 0,i):o.complete())},l)})}function e1(t,n=UT){return function JW(t){return Le((n,e)=>{let i=!1,o=null,l=null,d=!1;const x=()=>{if(l?.unsubscribe(),l=null,i){i=!1;const K=o;o=null,e.next(K)}d&&e.complete()},k=()=>{l=null,d&&e.complete()};n.subscribe(Qe(e,K=>{i=!0,o=K,l||Ft(t(K)).subscribe(l=Qe(e,x,k))},()=>{d=!0,(!i||!l||l.closed)&&e.complete()}))})}(()=>YR(t,n))}const KR=Wv({passive:!0});let tG=(()=>{class t{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Hi;const i=Fu(e),o=this._monitoredElements.get(i);if(o)return o.subject;const l=new We,d="cdk-text-field-autofilled",x=k=>{"cdk-text-field-autofill-start"!==k.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===k.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>l.next({target:k.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>l.next({target:k.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",x,KR),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",x,KR)}}),l}stopMonitoring(e){const i=Fu(e),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||t)(je(ss),je(Pn))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nG=(()=>{class t{get minRows(){return this._minRows}set minRows(e){this._minRows=Nl(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=Nl(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){e=ar(e),this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,e?this._textareaElement.setAttribute("placeholder",e):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}constructor(e,i,o,l){this._elementRef=e,this._platform=i,this._ngZone=o,this._destroyed=new We,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=d=>{this._hasFocus="focus"===d.type},this._document=l,this._textareaElement=this._elementRef.nativeElement}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{cm(this._getWindow(),"resize").pipe(e1(16),as(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,e.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const e=this._textareaElement,i=e.style.marginBottom||"",o=this._platform.FIREFOX,l=o&&this._hasFocus,d=o?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";l&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(d);const x=e.scrollHeight-4;return e.classList.remove(d),l&&(e.style.marginBottom=i),x}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const i=this._elementRef.nativeElement,o=i.value;if(!e&&this._minRows===this._previousMinRows&&o===this._previousValue)return;const l=this._measureScrollHeight(),d=Math.max(l,this._cachedPlaceholderHeight||0);i.style.height=`${d}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=o,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){const{selectionStart:i,selectionEnd:o}=e;!this._destroyed.isStopped&&this._hasFocus&&e.setSelectionRange(i,o)}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(ss),Re(Pn),Re(ri,8))};static#t=this.\u0275dir=Mt({type:t,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(i,o){1&i&&bn("input",function(){return o._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]})}return t})(),iG=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({})}return t})();const bc=new ht("NgValueAccessor");function hf(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function QR(t){return null!=t&&"number"==typeof t.length}const xs=new ht("NgValidators"),ff=new ht("NgAsyncValidators"),lG=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class cG{static min(n){return function qR(t){return n=>{if(hf(n.value)||hf(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function JR(t){return n=>{if(hf(n.value)||hf(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function e2(t){return hf(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function t2(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function n2(t){return hf(t.value)||lG.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function r2(t){return n=>hf(n.value)||!QR(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function o2(t){return n=>QR(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function s2(t){if(!t)return IC;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(hf(i.value))return null;const o=i.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return h2(n)}static composeAsync(n){return f2(n)}}function IC(t){return null}function a2(t){return null!=t}function l2(t){return ac(t)?hi(t):t}function c2(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function d2(t,n){return n.map(e=>e(t))}function u2(t){return t.map(n=>function dG(t){return!t.validate}(n)?n:e=>n.validate(e))}function h2(t){if(!t)return null;const n=t.filter(a2);return 0==n.length?null:function(e){return c2(d2(e,n))}}function n1(t){return null!=t?h2(u2(t)):null}function f2(t){if(!t)return null;const n=t.filter(a2);return 0==n.length?null:function(e){return _R(d2(e,n).map(l2)).pipe(nt(c2))}}function r1(t){return null!=t?f2(u2(t)):null}function p2(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function m2(t){return t._rawValidators}function g2(t){return t._rawAsyncValidators}function o1(t){return t?Array.isArray(t)?t:[t]:[]}function PC(t,n){return Array.isArray(t)?t.includes(n):t===n}function v2(t,n){const e=o1(n);return o1(t).forEach(o=>{PC(e,o)||e.push(o)}),e}function y2(t,n){return o1(n).filter(e=>!PC(t,e))}class b2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=n1(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=r1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Gs extends b2{get formDirective(){return null}get path(){return null}}class zu extends b2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const w0="VALID",NC="INVALID",Kv="PENDING",x0="DISABLED";function l1(t){return(FC(t)?t.validators:t)||null}function c1(t,n){return(FC(n)?n.asyncValidators:t)||null}function FC(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class C2{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===w0}get invalid(){return this.status===NC}get pending(){return this.status==Kv}get disabled(){return this.status===x0}get enabled(){return this.status!==x0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(v2(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(v2(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(y2(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(y2(n,this._rawAsyncValidators))}hasValidator(n){return PC(this._rawValidators,n)}hasAsyncValidator(n){return PC(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Kv,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=x0,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=w0,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===w0||this.status===Kv)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?x0:w0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Kv,this._hasOwnPendingAsyncValidator=!0;const e=l2(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Kn,this.statusChanges=new Kn}_calculateStatus(){return this._allControlsDisabled()?x0:this.errors?NC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kv)?Kv:this._anyControlsHaveStatus(NC)?NC:w0}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){FC(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function gG(t){return Array.isArray(t)?n1(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function vG(t){return Array.isArray(t)?r1(t):t||null}(this._rawAsyncValidators)}}class d1 extends C2{constructor(n,e,i){super(l1(e),c1(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function E2(t,n,e){t._forEachChild((i,o)=>{if(void 0===e[o])throw new Je(1002,"")})})(this,0,n),Object.keys(n).forEach(i=>{(function x2(t,n,e){const i=t.controls;if(!(n?Object.keys(i):i).length)throw new Je(1e3,"");if(!i[e])throw new Je(1001,"")})(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{const o=this.controls[i];o&&o.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,o)=>{i.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((o,l)=>{i=e(i,o,l)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const E0=new ht("CallSetDisabledState",{providedIn:"root",factory:()=>u1}),u1="always";function C0(t,n,e=u1){h1(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function _G(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&S2(t,n)})}(t,n),function xG(t,n){const e=(i,o)=>{n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function wG(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&S2(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function bG(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function BC(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),VC(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function zC(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function h1(t,n){const e=m2(t);null!==n.validator?t.setValidators(p2(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=g2(t);null!==n.asyncValidator?t.setAsyncValidators(p2(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const o=()=>t.updateValueAndValidity();zC(n._rawValidators,o),zC(n._rawAsyncValidators,o)}function VC(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=m2(t);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==n.validator);l.length!==o.length&&(e=!0,t.setValidators(l))}}if(null!==n.asyncValidator){const o=g2(t);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==n.asyncValidator);l.length!==o.length&&(e=!0,t.setAsyncValidators(l))}}}const i=()=>{};return zC(n._rawValidators,i),zC(n._rawAsyncValidators,i),e}function S2(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function D2(t,n){h1(t,n)}function M2(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const MG={provide:Gs,useExisting:qt(()=>HC)},S0=(()=>Promise.resolve())();let HC=(()=>{class t extends Gs{constructor(e,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Kn,this.form=new d1({},n1(e),r1(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){S0.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),C0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){S0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){S0.then(()=>{const i=this._findContainer(e.path),o=new d1({});D2(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){S0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){S0.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,M2(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||t)(Re(xs,10),Re(ff,10),Re(E0,8))};static#t=this.\u0275dir=Mt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){1&i&&bn("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ki([MG]),nn]})}return t})();function T2(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function k2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const A2=class extends C2{constructor(n=null,e,i){super(l1(e),c1(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),FC(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=k2(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){T2(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){T2(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){k2(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},BG={provide:Gs,useExisting:qt(()=>jC)};let jC=(()=>{class t extends Gs{constructor(e,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Kn,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(VC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return C0(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){BC(e.control||null,e,!1),function DG(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,M2(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,o=this.form.get(e.path);i!==o&&(BC(i||null,e),(t=>t instanceof A2)(o)&&(C0(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);D2(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function EG(t,n){return VC(t,n)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){h1(this.form,this),this._oldForm&&VC(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||t)(Re(xs,10),Re(ff,10),Re(E0,8))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,o){1&i&&bn("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ki([BG]),nn,Rr]})}return t})();const r8=new ht("MAT_INPUT_VALUE_ACCESSOR"),o8=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let s8=0;const a8=w$(class{constructor(t,n,e,i){this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new We}});let l8=(()=>{class t extends a8{get disabled(){return this._disabled}set disabled(e){this._disabled=ar(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(cG.required)??!1}set required(e){this._required=ar(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&jP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ar(e)}constructor(e,i,o,l,d,x,k,K,ne,le){super(x,l,d,o),this._elementRef=e,this._platform=i,this._autofillMonitor=K,this._formField=le,this._uid="mat-input-"+s8++,this.focused=!1,this.stateChanges=new We,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ke=>jP().has(ke)),this._iOSKeyupListener=ke=>{const Ne=ke.target;!Ne.value&&0===Ne.selectionStart&&0===Ne.selectionEnd&&(Ne.setSelectionRange(1,1),Ne.setSelectionRange(0,0))};const xe=this._elementRef.nativeElement,Ee=xe.nodeName.toLowerCase();this._inputValueAccessor=k||xe,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&ne.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Ee,this._isTextarea="textarea"===Ee,this._isInFormField=!!le,this._isNativeSelect&&(this.controlType=xe.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){o8.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(ss),Re(zu,10),Re(HC,8),Re(jC,8),Re(xC),Re(r8,10),Re(tG),Re(Pn),Re(HR,8))};static#t=this.\u0275dir=Mt({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,o){1&i&&bn("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),2&i&&(uc("id",o.id)("disabled",o.disabled)("required",o.required),Bi("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),fn("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[ki([{provide:VR,useExisting:t}]),nn,Rr]})}return t})(),c8=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[kr,OC,OC,iG,kr]})}return t})(),d8=(()=>{class t{constructor(){this._listeners=[]}notify(e,i){for(let o of this._listeners)o(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const u8=["input"],h8=["*"];let J2=0;class eN{constructor(n,e){this.source=n,this.value=e}}const f8={provide:bc,useExisting:qt(()=>nN),multi:!0},tN=new ht("MatRadioGroup"),p8=new ht("mat-radio-default-options",{providedIn:"root",factory:function m8(){return{color:"accent"}}});let g8=(()=>{class t{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=ar(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=ar(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+J2++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new Kn}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new eN(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||t)(Re(os))};static#t=this.\u0275dir=Mt({type:t,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}})}return t})();class v8{constructor(n){this._elementRef=n}}const y8=hR(_$(v8));let b8=(()=>{class t extends y8{get checked(){return this._checked}set checked(e){const i=ar(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(ar(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=ar(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,o,l,d,x,k,K){super(i),this._changeDetector=o,this._focusMonitor=l,this._radioDispatcher=d,this._providerOverride=k,this._uniqueId="mat-radio-"+ ++J2,this.id=this._uniqueId,this.change=new Kn,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===x,K&&(this.tabIndex=Nl(K,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new eN(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const o=this._inputElement?.nativeElement;o&&(o.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static#e=this.\u0275fac=function(i){jg()};static#t=this.\u0275dir=Mt({type:t,viewQuery:function(i,o){if(1&i&&gr(u8,5),2&i){let l;On(l=In())&&(o._inputElement=l.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[nn]})}return t})(),nN=(()=>{class t extends g8{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=fr(t)))(o||t)}}();static#t=this.\u0275dir=Mt({type:t,selectors:[["mat-radio-group"]],contentQueries:function(i,o,l){if(1&i&&Kr(l,iN,5),2&i){let d;On(d=In())&&(o._radios=d)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[ki([f8,{provide:tN,useExisting:t}]),nn]})}return t})(),iN=(()=>{class t extends b8{constructor(e,i,o,l,d,x,k,K){super(e,i,o,l,d,x,k,K)}static#e=this.\u0275fac=function(i){return new(i||t)(Re(tN,8),Re(Hn),Re(os),Re(KT),Re(d8),Re(gs,8),Re(p8,8),Bd("tabindex"))};static#t=this.\u0275cmp=_i({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,o){1&i&&bn("focus",function(){return o._inputElement.nativeElement.focus()}),2&i&&(Bi("id",o.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),fn("mat-primary","primary"===o.color)("mat-accent","accent"===o.color)("mat-warn","warn"===o.color)("mat-mdc-radio-checked",o.checked)("_mat-animation-noopable",o._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[nn],ngContentSelectors:h8,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,o){if(1&i&&(lc(),lt(0,"div",0,1)(2,"div",2)(3,"div",3),bn("click",function(d){return o._onTouchTargetClick(d)}),ft(),lt(4,"input",4,5),bn("change",function(d){return o._onInputInteraction(d)}),ft(),lt(6,"div",6),yn(7,"div",7)(8,"div",8),ft(),lt(9,"div",9),yn(10,"div",10),ft()(),lt(11,"label",11),Wi(12),ft()()),2&i){const l=js(1);fn("mdc-form-field--align-end","before"==o.labelPosition),yt(2),fn("mdc-radio--disabled",o.disabled),yt(2),Pt("id",o.inputId)("checked",o.checked)("disabled",o.disabled)("required",o.required),Bi("name",o.name)("value",o.value)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby),yt(5),Pt("matRippleTrigger",l)("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",!0),yt(2),Pt("for",o.inputId)}},dependencies:[CC],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return t})(),_8=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[kr,tf,SC,kr]})}return t})();const w8=["determinateSpinner"];function x8(t,n){if(1&t&&(Nc(),lt(0,"svg",11),yn(1,"circle",12),ft()),2&t){const e=Ln();Bi("viewBox",e._viewBox()),yt(1),vi("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),Bi("r",e._circleRadius())}}const E8=wC(class{constructor(t){this._elementRef=t}},"primary"),C8=new ht("mat-progress-spinner-default-options",{providedIn:"root",factory:function S8(){return{diameter:rN}}}),rN=100;let oN=(()=>{class t extends E8{constructor(e,i,o){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=rN,this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Nl(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=Nl(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=Nl(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(gs,8),Re(C8))};static#t=this.\u0275cmp=_i({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,o){if(1&i&&gr(w8,5),2&i){let l;On(l=In())&&(o._determinateCircle=l.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(i,o){2&i&&(Bi("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===o.mode?o.value:null)("mode",o.mode),vi("width",o.diameter,"px")("height",o.diameter,"px")("--mdc-circular-progress-size",o.diameter+"px")("--mdc-circular-progress-active-indicator-width",o.diameter+"px"),fn("_mat-animation-noopable",o._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===o.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[nn],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,o){if(1&i&&(Yt(0,x8,2,8,"ng-template",null,0,L_),lt(2,"div",1,2),Nc(),lt(4,"svg",3),yn(5,"circle",4),ft()(),hh(),lt(6,"div",5)(7,"div",6)(8,"div",7),Nr(9,8),ft(),lt(10,"div",9),Nr(11,8),ft(),lt(12,"div",10),Nr(13,8),ft()()()),2&i){const l=js(1);yt(4),Bi("viewBox",o._viewBox()),yt(1),vi("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeDashOffset(),"px")("stroke-width",o._circleStrokeWidth(),"%"),Bi("r",o._circleRadius()),yt(4),Pt("ngTemplateOutlet",l),yt(2),Pt("ngTemplateOutlet",l),yt(2),Pt("ngTemplateOutlet",l)}},dependencies:[j_],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return t})(),M8=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[tf,kr]})}return t})();const T8=["stepperRef"],k8=["dropZone"],A8=["fileInputRef"];function O8(t,n){1&t&&sn(0,"Explanation")}function I8(t,n){1&t&&sn(0,"Insert your Text")}function P8(t,n){1&t&&sn(0,"Text")}function R8(t,n){if(1&t&&(lt(0,"span"),sn(1),ft()),2&t){const e=Ln();yt(1),wu("Hochgeladene Datei: ",e.droppedFileName," ")}}function N8(t,n){1&t&&(lt(0,"span"),sn(1,"Upload files via drag and drop or click into the textfield"),ft())}function F8(t,n){1&t&&sn(0,"Choose Your Model")}function L8(t,n){1&t&&sn(0,"Done")}function B8(t,n){1&t&&yn(0,"mat-spinner",26),2&t&&Pt("diameter",100)}let sN=(()=>{class t{constructor(e,i){this.http=e,this.spinnerService=i,this.text="",this.selectedDiagram="bpmn",this.textResult="",this.isFiledDropped=!1,this.droppedFileName="",this.isFileDropped=!1}generateProcess(e){document.getElementById("error-container-text").style.display="none",this.spinnerService.show();let i=e;i=this.replaceUmlaut(i),"bpmn"===this.selectedDiagram&&(this.http.postT2PBPMN(i),this.setTextResult(i),this.replaceUmlaut("Der Manager \xf6ffnet sein Outlook und \xfcberlegt sich ob alles passt")),"petri-net"===this.selectedDiagram&&(this.http.postT2PPetriNet(i),this.setTextResult(i))}replaceUmlaut(e){return e.replace("\xe4","ae").replace("\xf6","oe").replace("\xfc","ue").replace("\xdf","ss").replace("\xc4","Ae").replace("\xd6","Oe").replace("\xdc","Ue")}onSelectedDiagram(e){switch(e.target.value){case"bpmn":this.selectedDiagram="bpmn";break;case"petri-net":this.selectedDiagram="petri-net"}}onDrop(e){e.preventDefault();const i=e.dataTransfer?.files;this.processDroppedFiles(i),this.isFiledDropped=!0,this.droppedFileName=i[0].name}onDragOver(e){e.preventDefault()}processDroppedFiles(e){for(let i=0;i<e.length;i++){const o=e[i],l=new FileReader;l.onload=d=>{window.dropfileContent=l.result,this.setTextInTextBox(window.dropfileContent)},l.readAsText(o)}}setTextInTextBox(e){this.text=e}setTextResult(e){this.textResult=e}selectFiles(){this.fileInputRef.nativeElement.click()}onFileSelected(e){const o=e.target.files;o&&o.length>0&&(this.processDroppedFiles(o),this.isFileDropped=!0,this.droppedFileName=o[0].name)}onDownloadText(){this.http.downloadModelAsText()}static#e=this.\u0275fac=function(i){return new(i||t)(Re(zP),Re(pC))};static#t=this.\u0275cmp=_i({type:t,selectors:[["app-t2p"]],viewQuery:function(i,o){if(1&i&&(gr(T8,5),gr(k8,7),gr(A8,5)),2&i){let l;On(l=In())&&(o.stepper=l.first),On(l=In())&&(o.dropZone=l.first),On(l=In())&&(o.fileInputRef=l.first)}},decls:74,vars:13,consts:[[3,"linear","animationDuration"],["stepper",""],["matStepLabel",""],["mat-button","","matStepperNext","",1,"card"],["appearance","fill"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","4","cdkAutosizeMaxRows","100","id","text-input",1,"textfeld"],["modelInput",""],[1,"dropzone",3,"drop","dragover","click"],["dropzoneRef",""],["type","file","accept",".txt",2,"display","none",3,"change"],["fileInputRef",""],[4,"ngIf"],["mat-button","","matStepperPrevious","",1,"card"],["type","button","mat-button","","matStepperNext","",1,"card"],["aria-label","Select an option",3,"click"],["value","bpmn"],["value","petri-net"],["type","button","mat-button","","matStepperPrevious","",1,"card"],["type","button","mat-button","","matStepperNext","",1,"card",3,"click"],["mat-button","",1,"card"],[1,"card",3,"click"],["id","loading"],[3,"diameter",4,"ngIf"],["id","error-container"],["id","error-container-text"],["id","model-container"],[3,"diameter"]],template:function(i,o){if(1&i){const l=sc();lt(0,"mat-vertical-stepper",0,1)(2,"mat-step")(3,"form"),Yt(4,O8,1,0,"ng-template",2),lt(5,"p")(6,"b"),sn(7,"What is T2P?"),ft(),yn(8,"br"),sn(9," The text-to-process approach deals with the conversion of a text test into a model within the framework of business process management (BPM) and natural language processing (NLP). With the help of various algorithms, the desired text can be converted either into a BPMN model or into a Petri net. "),ft()(),yn(10,"br"),lt(11,"button",3),sn(12,"Next"),ft()(),lt(13,"mat-step")(14,"form"),Yt(15,I8,1,0,"ng-template",2),Yt(16,P8,1,0,"ng-template",2),lt(17,"mat-form-field",4)(18,"mat-label"),sn(19,"Enter Text to Transform "),ft(),lt(20,"div")(21,"textarea",5,6),sn(23),ft()()(),yn(24,"br"),lt(25,"div",7,8),bn("drop",function(x){return o.onDrop(x)})("dragover",function(x){return o.onDragOver(x)})("click",function(){return o.selectFiles()}),lt(27,"input",9,10),bn("change",function(x){return o.onFileSelected(x)}),ft(),Yt(29,R8,2,1,"span",11),Yt(30,N8,2,0,"span",11),ft(),yn(31,"br"),lt(32,"div")(33,"button",12),sn(34,"Back"),ft(),lt(35,"button",13),sn(36," Next "),ft()()()(),lt(37,"mat-step")(38,"mat-radio-group",14),bn("click",function(x){return o.onSelectedDiagram(x)}),lt(39,"mat-radio-button",15),sn(40,"BPMN"),ft(),lt(41,"mat-radio-button",16),sn(42,"Petri-Netz"),ft()(),lt(43,"form"),Yt(44,F8,1,0,"ng-template",2),yn(45,"br"),lt(46,"div")(47,"button",17),sn(48," Back "),ft(),lt(49,"button",18),bn("click",function(){Ur(l);const x=js(22);return bo(o.generateProcess(x.value))}),sn(50," Next "),ft()()()(),lt(51,"mat-step")(52,"form"),Yt(53,L8,1,0,"ng-template",2),sn(54," You are now done. "),lt(55,"div"),yn(56,"br"),lt(57,"button",12),sn(58,"Back"),ft(),lt(59,"button",19),sn(60,"Download Process as .png"),ft(),lt(61,"button",20),bn("click",function(){return o.onDownloadText()}),sn(62," Download Process as File "),ft()()(),lt(63,"div",21),Yt(64,B8,1,1,"mat-spinner",22),DD(65,"async"),ft()()(),lt(66,"div")(67,"label")(68,"b"),sn(69,"Your Input:"),ft(),sn(70),ft()(),lt(71,"div",23),yn(72,"p",24),ft(),yn(73,"div",25)}2&i&&(Pt("linear",!1)("animationDuration",200),yt(17),vi("width",50,"%"),yt(4),vi("width",100,"%"),yt(2),$s(o.text),yt(6),Pt("ngIf",o.isFiledDropped),yt(1),Pt("ngIf",!o.isFiledDropped),yt(34),Pt("ngIf",MD(65,11,o.spinnerService.visibility)),yt(6),wu(" ",o.textResult,""))},dependencies:[qp,QT,_0,qT,PR,RR,GW,JT,l8,nG,nN,iN,oN,bM],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}app-t2p[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{margin:0}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#404243;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#125699}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}.tabGroup[_ngcontent-%COMP%]{font-weight:700}#text-input[_ngcontent-%COMP%]{width:80vw}.green[_ngcontent-%COMP%]{background-color:#9dff9d}.white[_ngcontent-%COMP%]{background-color:#e2e2e2}.text-box[_ngcontent-%COMP%]{border:1px dashed black;height:200px;width:50%;display:flex;justify-content:center}#model-container[_ngcontent-%COMP%]{height:30vh;display:flex;justify-content:center;align-items:center}#loading[_ngcontent-%COMP%]{text-align:center}#error-container[_ngcontent-%COMP%]{width:100%;height:30vh;display:flex;justify-content:center;align-items:center}#error-container-text[_ngcontent-%COMP%]{color:#fff;padding:20px;border-color:#da0000;border-style:solid;background-color:#f7614e;border-radius:10px;display:none}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}.dropzone[_ngcontent-%COMP%]{border:1px dashed black;height:200px;width:50%;display:flex;justify-content:center}.textfeld[_ngcontent-%COMP%]{word-wrap:break-word}']})}return t})();const D0={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=D0;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const o=n(l=>{e=void 0,t(l)});return new H(()=>e?.(o))},requestAnimationFrame(...t){const{delegate:n}=D0;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=D0;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class V8 extends jT{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;n=n||i.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw o}}}(class z8 extends HT{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=D0.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:l}=n;null!=e&&(null===(o=l[l.length-1])||void 0===o?void 0:o.id)!==e&&(D0.cancelAnimationFrame(e),n._scheduled=void 0)}});let w1,j8=1;const UC={};function aN(t){return t in UC&&(delete UC[t],!0)}const U8={setImmediate(t){const n=j8++;return UC[n]=!0,w1||(w1=Promise.resolve()),w1.then(()=>aN(n)&&t()),n},clearImmediate(t){aN(t)}},{setImmediate:$8,clearImmediate:W8}=U8,$C={setImmediate(...t){const{delegate:n}=$C;return(n?.setImmediate||$8)(...t)},clearImmediate(t){const{delegate:n}=$C;return(n?.clearImmediate||W8)(t)},delegate:void 0};new class Y8 extends jT{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;n=n||i.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw o}}}(class G8 extends HT{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=$C.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:l}=n;null!=e&&(null===(o=l[l.length-1])||void 0===o?void 0:o.id)!==e&&($C.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});let Z8=(()=>{class t{constructor(e,i,o){this._ngZone=e,this._platform=i,this._scrolled=new We,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new De(i=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(e1(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):an()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(va(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,e)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let o=Fu(i),l=e.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>cm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||t)(je(Pn),je(ss),je(ri,8))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),M0=(()=>{class t{constructor(e,i,o){this._platform=e,this._change=new We,this._changeListener=l=>{this._change.next(l)},this._document=o,i.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),o=e.documentElement,l=o.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,left:-l.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(e1(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||t)(je(ss),je(Pn),je(ri,8))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),x1=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({})}return t})(),lN=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[Yv,x1,Yv,x1]})}return t})();function q8(t,n){}const J8=function(t){return{animationDuration:t}},e6=function(t,n){return{value:t,params:n}};function t6(t,n){1&t&&Wi(0)}const cN=["*"],n6=["tabListContainer"],i6=["tabList"],r6=["tabListInner"],o6=["nextPaginator"],s6=["previousPaginator"],a6=["tabBodyWrapper"],l6=["tabHeader"];function c6(t,n){}function d6(t,n){1&t&&Yt(0,c6,0,0,"ng-template",14),2&t&&Pt("cdkPortalOutlet",Ln().$implicit.templateLabel)}function u6(t,n){1&t&&sn(0),2&t&&$s(Ln().$implicit.textLabel)}function h6(t,n){if(1&t){const e=sc();lt(0,"div",6,7),bn("click",function(){const o=Ur(e),l=o.$implicit,d=o.index,x=Ln(),k=js(1);return bo(x._handleClick(l,k,d))})("cdkFocusChange",function(o){const d=Ur(e).index;return bo(Ln()._tabFocusChanged(o,d))}),yn(2,"span",8)(3,"div",9),lt(4,"span",10)(5,"span",11),Yt(6,d6,1,1,"ng-template",12),Yt(7,u6,1,1,"ng-template",null,13,L_),ft()()()}if(2&t){const e=n.$implicit,i=n.index,o=js(1),l=js(8),d=Ln();fn("mdc-tab--active",d.selectedIndex===i),Pt("id",d._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",d.fitInkBarToContent),Bi("tabIndex",d._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",d._tabs.length)("aria-controls",d._getTabContentId(i))("aria-selected",d.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),yt(3),Pt("matRippleTrigger",o)("matRippleDisabled",e.disabled||d.disableRipple),yt(3),Pt("ngIf",e.templateLabel)("ngIfElse",l)}}function f6(t,n){if(1&t){const e=sc();lt(0,"mat-tab-body",15),bn("_onCentered",function(){return Ur(e),bo(Ln()._removeTabBodyWrapperHeight())})("_onCentering",function(o){return Ur(e),bo(Ln()._setTabBodyWrapperHeight(o))}),ft()}if(2&t){const e=n.$implicit,i=n.index,o=Ln();fn("mat-mdc-tab-body-active",o.selectedIndex===i),Pt("id",o._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",o.animationDuration)("preserveContent",o.preserveContent),Bi("tabindex",null!=o.contentTabIndex&&o.selectedIndex===i?o.contentTabIndex:null)("aria-labelledby",o._getTabLabelId(i))}}const p6={translateTab:Vv("translateTab",[yc("center, void, left-origin-center, right-origin-center",Go({transform:"none"})),yc("left",Go({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),yc("right",Go({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Ru("* => left, * => right, left => center, right => center",af("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Ru("void => left-origin-center",[Go({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),af("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Ru("void => right-origin-center",[Go({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),af("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let m6=(()=>{class t extends gC{constructor(e,i,o,l){super(e,i,l),this._host=o,this._centeringSub=H.EMPTY,this._leavingSub=H.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Au(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)(Re(tc),Re(rs),Re(qt(()=>dN)),Re(ri))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","matTabBodyHost",""]],features:[nn]})}return t})(),g6=(()=>{class t{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,i,o){this._elementRef=e,this._dir=i,this._dirChangeSubscription=H.EMPTY,this._translateTabComplete=new We,this._onCentering=new Kn,this._beforeCentering=new Kn,this._afterLeavingCenter=new Kn,this._onCentered=new Kn(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(l=>{this._computePositionAnimationState(l),o.markForCheck()})),this._translateTabComplete.pipe(GT((l,d)=>l.fromState===d.fromState&&l.toState===d.toState)).subscribe(l=>{this._isCenterPosition(l.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(l.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(Lu,8),Re(os))};static#t=this.\u0275dir=Mt({type:t,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}})}return t})(),dN=(()=>{class t extends g6{constructor(e,i,o){super(e,i,o)}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(Lu,8),Re(os))};static#t=this.\u0275cmp=_i({type:t,selectors:[["mat-tab-body"]],viewQuery:function(i,o){if(1&i&&gr(gC,5),2&i){let l;On(l=In())&&(o._portalHost=l.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[nn],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(i,o){1&i&&(lt(0,"div",0,1),bn("@translateTab.start",function(d){return o._onTranslateTabStarted(d)})("@translateTab.done",function(d){return o._translateTabComplete.next(d)}),Yt(2,q8,0,0,"ng-template",2),ft()),2&i&&Pt("@translateTab",Sv(3,e6,o._position,lE(1,J8,o.animationDuration)))},dependencies:[m6],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[p6.translateTab]}})}return t})();const v6=new ht("MatTabContent");let y6=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Wo))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","matTabContent",""]],features:[ki([{provide:v6,useExisting:t}])]})}return t})();const b6=new ht("MatTabLabel"),uN=new ht("MAT_TAB");let _6=(()=>{class t extends p4{constructor(e,i,o){super(e,i),this._closestTab=o}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Wo),Re(rs),Re(uN,8))};static#t=this.\u0275dir=Mt({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[ki([{provide:b6,useExisting:t}]),nn]})}return t})();const E1="mdc-tab-indicator--active",hN="mdc-tab-indicator--no-transition";class w6{constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar())}alignToElement(n){const e=this._items.find(o=>o.elementRef.nativeElement===n),i=this._currentItem;if(e!==i&&(i?.deactivateInkBar(),e)){const o=i?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(o),this._currentItem=e}}}function x6(t){return class extends t{constructor(...n){super(...n),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(n){const e=ar(n);this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(n){const e=this.elementRef.nativeElement;if(!n||!e.getBoundingClientRect||!this._inkBarContentElement)return void e.classList.add(E1);const i=e.getBoundingClientRect(),o=n.width/i.width,l=n.left-i.left;e.classList.add(hN),this._inkBarContentElement.style.setProperty("transform",`translateX(${l}px) scaleX(${o})`),e.getBoundingClientRect(),e.classList.remove(hN),e.classList.add(E1),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(E1)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const n=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=n.createElement("span"),this._inkBarContentElement=n.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const C6=uR(class{}),S6=x6((()=>{class t extends C6{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn))};static#t=this.\u0275dir=Mt({type:t,features:[nn]})}return t})());let fN=(()=>{class t extends S6{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=fr(t)))(o||t)}}();static#t=this.\u0275dir=Mt({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,o){2&i&&(Bi("aria-disabled",!!o.disabled),fn("mat-mdc-tab-disabled",o.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[nn]})}return t})();const D6=uR(class{}),pN=new ht("MAT_TAB_GROUP");let M6=(()=>{class t extends D6{get content(){return this._contentPortal}constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new We,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new mC(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static#e=this.\u0275fac=function(i){return new(i||t)(Re(rs),Re(pN,8))};static#t=this.\u0275dir=Mt({type:t,viewQuery:function(i,o){if(1&i&&gr(Wo,7),2&i){let l;On(l=In())&&(o._implicitContent=l.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[nn,Rr]})}return t})(),mN=(()=>{class t extends M6{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=fr(t)))(o||t)}}();static#t=this.\u0275cmp=_i({type:t,selectors:[["mat-tab"]],contentQueries:function(i,o,l){if(1&i&&(Kr(l,y6,7,Wo),Kr(l,_6,5)),2&i){let d;On(d=In())&&(o._explicitContent=d.first),On(d=In())&&(o.templateLabel=d.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[ki([{provide:uN,useExisting:t}]),nn],ngContentSelectors:cN,decls:1,vars:0,template:function(i,o){1&i&&(lc(),Yt(0,t6,1,0,"ng-template"))},encapsulation:2})}return t})();const gN=Wv({passive:!0});let A6=(()=>{class t{get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=ar(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Nl(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}constructor(e,i,o,l,d,x,k){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=o,this._dir=l,this._ngZone=d,this._platform=x,this._animationMode=k,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new We,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new We,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Kn,this.indexFocused=new Kn,d.runOutsideAngular(()=>{cm(e.nativeElement,"mouseleave").pipe(as(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){cm(this._previousPaginator.nativeElement,"touchstart",gN).pipe(as(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),cm(this._nextPaginator.nativeElement,"touchstart",gN).pipe(as(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:an("ltr"),i=this._viewportRuler.change(150),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new qP(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(ud(1)).subscribe(o),Ir(e,i,this._items.changes,this._itemsResized()).pipe(as(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(l=>{this.indexFocused.emit(l),this._setTabFocus(l)})}_itemsResized(){return"function"!=typeof ResizeObserver?Hi:this._items.changes.pipe(Au(this._items),gc(e=>new De(i=>this._ngZone.runOutsideAngular(()=>{const o=new ResizeObserver(l=>i.next(l));return e.forEach(l=>o.observe(l.elementRef.nativeElement)),()=>{o.disconnect()}}))),WT(1),va(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!VT(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const o=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:l,offsetWidth:d}=i.elementRef.nativeElement;let x,k;"ltr"==this._getLayoutDirection()?(x=l,k=x+d):(k=this._tabListInner.nativeElement.offsetWidth-l,x=k-d);const K=this.scrollDistance,ne=this.scrollDistance+o;x<K?this.scrollDistance-=K-x:k>ne&&(this.scrollDistance+=Math.min(k-ne,x-K))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),YR(650,100).pipe(as(Ir(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:o,distance:l}=this._scrollHeader(e);(0===l||l>=o)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(os),Re(M0),Re(Lu,8),Re(Pn),Re(ss),Re(gs,8))};static#t=this.\u0275dir=Mt({type:t,inputs:{disablePagination:"disablePagination"}})}return t})(),O6=(()=>{class t extends A6{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ar(e)}constructor(e,i,o,l,d,x,k){super(e,i,o,l,d,x,k),this._disableRipple=!1}_itemSelected(e){e.preventDefault()}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(os),Re(M0),Re(Lu,8),Re(Pn),Re(ss),Re(gs,8))};static#t=this.\u0275dir=Mt({type:t,inputs:{disableRipple:"disableRipple"},features:[nn]})}return t})(),I6=(()=>{class t extends O6{constructor(e,i,o,l,d,x,k){super(e,i,o,l,d,x,k)}ngAfterContentInit(){this._inkBar=new w6(this._items),super.ngAfterContentInit()}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(os),Re(M0),Re(Lu,8),Re(Pn),Re(ss),Re(gs,8))};static#t=this.\u0275cmp=_i({type:t,selectors:[["mat-tab-header"]],contentQueries:function(i,o,l){if(1&i&&Kr(l,fN,4),2&i){let d;On(d=In())&&(o._items=d)}},viewQuery:function(i,o){if(1&i&&(gr(n6,7),gr(i6,7),gr(r6,7),gr(o6,5),gr(s6,5)),2&i){let l;On(l=In())&&(o._tabListContainer=l.first),On(l=In())&&(o._tabList=l.first),On(l=In())&&(o._tabListInner=l.first),On(l=In())&&(o._nextPaginator=l.first),On(l=In())&&(o._previousPaginator=l.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,o){2&i&&fn("mat-mdc-tab-header-pagination-controls-enabled",o._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==o._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[nn],ngContentSelectors:cN,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(i,o){1&i&&(lc(),lt(0,"button",0,1),bn("click",function(){return o._handlePaginatorClick("before")})("mousedown",function(d){return o._handlePaginatorPress("before",d)})("touchend",function(){return o._stopInterval()}),yn(2,"div",2),ft(),lt(3,"div",3,4),bn("keydown",function(d){return o._handleKeydown(d)}),lt(5,"div",5,6),bn("cdkObserveContent",function(){return o._onContentChanges()}),lt(7,"div",7,8),Wi(9),ft()()(),lt(10,"button",9,10),bn("mousedown",function(d){return o._handlePaginatorPress("after",d)})("click",function(){return o._handlePaginatorClick("after")})("touchend",function(){return o._stopInterval()}),yn(12,"div",2),ft()),2&i&&(fn("mat-mdc-tab-header-pagination-disabled",o._disableScrollBefore),Pt("matRippleDisabled",o._disableScrollBefore||o.disableRipple)("disabled",o._disableScrollBefore||null),yt(3),fn("_mat-animation-noopable","NoopAnimations"===o._animationMode),yt(7),fn("mat-mdc-tab-header-pagination-disabled",o._disableScrollAfter),Pt("matRippleDisabled",o._disableScrollAfter||o.disableRipple)("disabled",o._disableScrollAfter||null))},dependencies:[CC,YP],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return t})();const vN=new ht("MAT_TABS_CONFIG");let P6=0;const R6=wC(hR(class{constructor(t){this._elementRef=t}}),"primary");let N6=(()=>{class t extends R6{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=ar(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Nl(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=Nl(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=ar(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=ar(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&i.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,i,o,l){super(e),this._changeDetectorRef=i,this._animationMode=l,this._tabs=new Mu,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=H.EMPTY,this._tabLabelSubscription=H.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new Kn,this.focusChange=new Kn,this.animationDone=new Kn,this.selectedTabChange=new Kn(!0),this._groupId=P6++,this.animationDuration=o&&o.animationDuration?o.animationDuration:"500ms",this.disablePagination=!(!o||null==o.disablePagination)&&o.disablePagination,this.dynamicHeight=!(!o||null==o.dynamicHeight)&&o.dynamicHeight,this.contentTabIndex=o?.contentTabIndex??null,this.preserveContent=!!o?.preserveContent}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const o=this._tabBodyWrapper.nativeElement;o.style.minHeight=o.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((o,l)=>o.isActive=l===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,o)=>{i.position=o-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let o;for(let l=0;l<i.length;l++)if(i[l].isActive){this._indexToSelect=this._selectedIndex=l,this._lastFocusedTabIndex=null,o=i[l];break}!o&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Au(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new L6;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Ir(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,o){i.focusIndex=o,e.disabled||(this.selectedIndex=o)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(os),Re(vN,8),Re(gs,8))};static#t=this.\u0275dir=Mt({type:t,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[nn]})}return t})(),F6=(()=>{class t extends N6{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=ar(e),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(e){this._stretchTabs=ar(e)}constructor(e,i,o,l){super(e,i,o,l),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!o||null==o.fitInkBarToContent)&&o.fitInkBarToContent,this.stretchTabs=!o||null==o.stretchTabs||o.stretchTabs}static#e=this.\u0275fac=function(i){return new(i||t)(Re(Hn),Re(os),Re(vN,8),Re(gs,8))};static#t=this.\u0275cmp=_i({type:t,selectors:[["mat-tab-group"]],contentQueries:function(i,o,l){if(1&i&&Kr(l,mN,5),2&i){let d;On(d=In())&&(o._allTabs=d)}},viewQuery:function(i,o){if(1&i&&(gr(a6,5),gr(l6,5)),2&i){let l;On(l=In())&&(o._tabBodyWrapper=l.first),On(l=In())&&(o._tabHeader=l.first)}},hostAttrs:["ngSkipHydration","true",1,"mat-mdc-tab-group"],hostVars:6,hostBindings:function(i,o){2&i&&fn("mat-mdc-tab-group-dynamic-height",o.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===o.headerPosition)("mat-mdc-tab-group-stretch-tabs",o.stretchTabs)},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[ki([{provide:pN,useExisting:t}]),nn],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(i,o){1&i&&(lt(0,"mat-tab-header",0,1),bn("indexFocused",function(d){return o._focusChanged(d)})("selectFocusedIndex",function(d){return o.selectedIndex=d}),Yt(2,h6,9,17,"div",2),ft(),lt(3,"div",3,4),Yt(5,f6,1,11,"mat-tab-body",5),ft()),2&i&&(Pt("selectedIndex",o.selectedIndex||0)("disableRipple",o.disableRipple)("disablePagination",o.disablePagination),yt(2),Pt("ngForOf",o._tabs),yt(1),fn("_mat-animation-noopable","NoopAnimations"===o._animationMode),yt(2),Pt("ngForOf",o._tabs))},dependencies:[eO,vM,qp,gC,CC,s$,dN,fN,I6],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-letter-spacing);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return t})();class L6{}let B6=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[tf,kr,FT,SC,YT,a$,kr]})}return t})();const z6={headers:new Rl({Accept:"text/plain, */*","Content-Type":"text/plain"}),responseType:"text"};let V6=(()=>{class t{constructor(e,i){this.http=e,this.spinnerService=i,this.url="http://localhost:8080/p2t/generateText"}getDummy(e){return this.http.get("https://dummyjson.com/products/1").subscribe(i=>console.log(i))}postP2T(e){return this.http.post(this.url,e,z6).subscribe(i=>{console.log(i),this.spinnerService.hide(),this.displayText(i),this.spinnerService.hide()},i=>{this.spinnerService.hide(),console.log(i),document.getElementById("error-box").style.visibility="visible",document.getElementById("error-content").innerHTML=this.handleError(i),document.getElementById("error-content").style.display="block"})}formText(e){return e.replace(/<[^>]+>/g,"")}displayText(e){var i=this;return LP(function*(){try{e=i.formText(e),window.text=e;const o=document.createElement("p"),l=document.createTextNode(e),d=document.getElementById("result");d.firstChild&&d.firstChild.remove(),o.appendChild(l),d.appendChild(o),i.spinnerService.hide()}catch(o){console.error("error",o),i.spinnerService.hide()}})()}getText(){return window.text}handleError(e){if(0===e.status)return console.error("An error occurred:",e.error),"Client Error";switch(e.status){case 450:return"Text could not be generated";case 451:return"RPST Failure";case 452:return"Modell could not be structured";case 453:return"Text could not be parsed";default:return`Unknown Server Error: ${e.message}`}}static#e=this.\u0275fac=function(i){return new(i||t)(Re(h0),Re(pC))};static#t=this.\u0275cmp=_i({type:t,selectors:[["app-my-component"]],decls:2,vars:1,template:function(i,o){1&i&&(lt(0,"div"),sn(1),ft()),2&i&&(yt(1),$s(o.asyncText))},encapsulation:2});static#n=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const H6=["stepperRef"],j6=["dropZone"],U6=["fileInputRef"];function $6(t,n){1&t&&sn(0,"Explanation")}function W6(t,n){1&t&&sn(0,"Model")}function G6(t,n){if(1&t&&(lt(0,"span"),sn(1),ft()),2&t){const e=Ln();yt(1),wu("Uploaded file: ",e.droppedFileName,"")}}function Y6(t,n){1&t&&(lt(0,"span"),sn(1,"Upload files via drag and drop or click into the textfield"),ft())}function K6(t,n){1&t&&sn(0,"Text (Done)")}function X6(t,n){1&t&&yn(0,"mat-spinner",20),2&t&&Pt("diameter",100)}let Z6=(()=>{class t{onDragOver(e){e.preventDefault()}constructor(e,i,o){this.p2tHttpService=e,this.t2phttpService=i,this.spinnerService=o,this.isFileDropped=!1,this.droppedFileName=""}generateText(){document.createElement("p"),"bpmn"==this.fileType?fC.displayBPMNModel(window.dropfileContent):"pnml"==this.fileType&&fC.displayPNMLModel(window.dropfileContent),void 0!==window.fileContent||void 0!==window.dropfileContent?(this.spinnerService.show(),this.p2tHttpService.postP2T(window.dropfileContent)):this.p2tHttpService.displayText("No files uploaded"),event.preventDefault(),this.stepper.next()}onDrop(e){e.preventDefault();const i=e.dataTransfer?.files;if(i&&i.length>0){const o=["pnml","bpmn"];Array.from(i).some(d=>{const x=d.name.substring(d.name.lastIndexOf(".")+1).toLowerCase();return o.includes(x)})?(console.log("Hallo"),this.processDroppedFiles(i),this.isFileDropped=!0,this.droppedFileName=i.item(0)?.name||""):alert("Please upload only files with .pnml or .bpmn format")}}processDroppedFiles(e){for(let i=0;i<e.length;i++){const o=e[i];console.log(o.name);const l=new FileReader;l.onload=d=>{window.dropfileContent=l.result},l.readAsText(o)}}downloadText(){let e=this.p2tHttpService.getText();var o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),o.setAttribute("download","p2t"),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}selectFiles(){this.fileInputRef.nativeElement.click()}onFileSelected(e){const o=e.target.files;if(o&&o.length>0){this.processDroppedFiles(o),this.isFileDropped=!0,this.droppedFileName=o[0].name;const l=["pnml","bpmn"];Array.from(o).some(x=>{const k=x.name.substring(x.name.lastIndexOf(".")+1).toLowerCase();return"pnml"==k?this.fileType="pnml":"bpmn"==k&&(this.fileType="bpmn"),l.includes(k)})?(this.processDroppedFiles(o),this.isFileDropped=!0,this.droppedFileName=o.item(0)?.name||""):alert("Please upload only files with .pnml or .bpmn format")}}static#e=this.\u0275fac=function(i){return new(i||t)(Re(V6),Re(zP),Re(pC))};static#t=this.\u0275cmp=_i({type:t,selectors:[["app-p2t"]],viewQuery:function(i,o){if(1&i&&(gr(H6,5),gr(j6,7),gr(U6,5)),2&i){let l;On(l=In())&&(o.stepper=l.first),On(l=In())&&(o.dropZone=l.first),On(l=In())&&(o.fileInputRef=l.first)}},decls:50,vars:5,consts:[["orientation","vertical"],["stepperRef",""],["matStepLabel",""],["mat-button","","matStepperNext","",1,"card"],["method","POST Process Modell","enctype","multipart/form-data"],[1,"mehrspaltig"],[1,"dropzone",3,"drop","dragover","click"],["dropzoneRef",""],["type","file","accept",".pnml, .bpmn",2,"display","none",3,"change"],["fileInputRef",""],[4,"ngIf"],["button","","mat-button","","matStepperNext","",1,"card",3,"click"],["id","loading"],[3,"diameter",4,"ngIf"],["id","model-container",1,"test1"],["id","result"],["mat-button","","matStepperPrevious","",1,"card"],["mat-button","","matStepperNext","",1,"card",3,"click"],["id","error-box"],["id","error-content"],[3,"diameter"]],template:function(i,o){1&i&&(lt(0,"html")(1,"div")(2,"mat-stepper",0,1)(4,"mat-step")(5,"form"),Yt(6,$6,1,0,"ng-template",2),lt(7,"p")(8,"b"),sn(9,"What is P2T?"),ft(),yn(10,"br"),sn(11," The process-to-text approach in the context of Business Process Management (BPM) and Natural Language Processing (NLP) refers to the automatic generation of text descriptions or documentations of business processes. Using BPM techniques and NLP algorithms, process models can be analyzed and translated into natural language. This allows the creation of detailed descriptions of processes that can be used for various purposes, such as training documentation, user documentation, or compliance reports."),ft()(),lt(12,"button",3),sn(13,"Next"),ft()(),lt(14,"mat-step")(15,"form"),Yt(16,W6,1,0,"ng-template",2),lt(17,"p"),sn(18,"To upload your process model you can either select your file via a click in the Area in your explorer or drag and drop it into the right pane."),yn(19,"br"),ft(),lt(20,"form",4)(21,"div",5)(22,"div",6,7),bn("drop",function(d){return o.onDrop(d)})("dragover",function(d){return o.onDragOver(d)})("click",function(){return o.selectFiles()}),lt(24,"input",8,9),bn("change",function(d){return o.onFileSelected(d)}),ft(),Yt(26,G6,2,1,"span",10),Yt(27,Y6,2,0,"span",10),ft()()(),lt(28,"button",11),bn("click",function(){return o.generateText()}),sn(29,"Generate"),ft()()(),lt(30,"mat-step"),Yt(31,K6,1,0,"ng-template",2),lt(32,"div",12),Yt(33,X6,1,1,"mat-spinner",13),DD(34,"async"),ft(),lt(35,"div")(36,"p"),sn(37,"Your input: "),yn(38,"br"),ft(),yn(39,"div",14),lt(40,"p"),sn(41,"Your Text: "),yn(42,"br"),ft(),yn(43,"div",15),lt(44,"button",16),sn(45,"Back"),ft(),lt(46,"button",17),bn("click",function(){return o.downloadText()}),sn(47,"Download Text as .txt"),ft()()()(),lt(48,"div",18),yn(49,"p",19),ft()()()),2&i&&(yt(26),Pt("ngIf",o.isFileDropped),yt(1),Pt("ngIf",!o.isFileDropped),yt(6),Pt("ngIf",MD(34,3,o.spinnerService.visibility)))},dependencies:[qp,QT,_0,qT,PR,RR,oN,bM],styles:[".mehrspaltig[_ngcontent-%COMP%]{display:flex}.Upload.from.explorer[_ngcontent-%COMP%]{margin-top:2em}.dropzone[_ngcontent-%COMP%]{border:1px dashed black;height:200px;width:50%;display:flex;justify-content:center;align-items:center;flex-direction:column;margin:2em auto 0;cursor:pointer;transition:all .3s ease}.dropzone[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:auto 0}.generateButton[_ngcontent-%COMP%]{margin-top:2em}#error-box[_ngcontent-%COMP%]{width:100%;height:30vh;display:flex;justify-content:center;align-items:center;visibility:hidden}#error-content[_ngcontent-%COMP%]{color:#fff;padding:20px;border-color:#da0000;border-style:solid;background-color:#f7614e;border-radius:10px;display:none}.card[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}"]})}return t})();const yN='[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}app-t2p[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{margin:0}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#404243;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#125699}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}.tabGroup[_ngcontent-%COMP%]{font-weight:700}#text-input[_ngcontent-%COMP%], #tab-group[_ngcontent-%COMP%]{width:80vw}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}';let Q6=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=_i({type:t,selectors:[["app-home"]],decls:48,vars:0,consts:[["role","banner",1,"toolbar"],["width","40","alt","WoPeD Logo","src","../assets/woped.jpeg"],[1,"spacer"],["role","main",1,"content"],["id","tab-group"],["label","T2P (Text-to-Process)",1,"tabGroup"],["label","P2T (Process-to-Text)",1,"tabGroup"],[1,"card-container"],["title","Repository","href","https://github.com/woped/WoPeD","target","_blank","rel","noopener",1,"circle-link"],["alt","Angular CLI Logo","xmlns","http://www.w3.org/2000/svg","width","21.762","height","23.447","viewBox","0 0 21.762 23.447"],["id","Group_21","data-name","Group 21","transform","translate(0)"],["id","Path_20","data-name","Path 20","d","M2660.313,313.618h0l-10.833,3.9,1.637,14.4,9.2,5.152,9.244-5.152,1.685-14.4Z","transform","translate(-2649.48 -313.618)","fill","#37474f"],["id","Path_21","data-name","Path 21","d","M2741.883,313.618v23.447l9.244-5.152,1.685-14.4Z","transform","translate(-2731.05 -313.618)","fill","#263238"],["id","Path_22","data-name","Path 22","d","M2692.293,379.169h11.724V368.618h-11.724Zm11.159-.6h-10.608v-9.345h10.621v9.345Z","transform","translate(-2687.274 -362.17)","fill","#fff"],["id","Path_23","data-name","Path 23","d","M2709.331,393.688l.4.416,2.265-2.28-2.294-2.294-.4.4,1.893,1.893Z","transform","translate(-2702.289 -380.631)","fill","#fff"],["id","Rectangle_12","data-name","Rectangle 12","width","3.517","height","0.469","transform","translate(9.709 13.744)","fill","#fff"],["title","Website","href","https://woped.dhbw-karlsruhe.de/","target","_blank","rel","noopener",1,"circle-link"],["alt","Angular Augury Logo","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","21.81","height","23.447","viewBox","0 0 21.81 23.447"],["id","clip-path"],["id","Rectangle_13","data-name","Rectangle 13","width","10.338","height","10.27","fill","none"],["id","Group_25","data-name","Group 25","transform","translate(0)"],["id","Path_24","data-name","Path 24","d","M3780.155,311.417h0l-10.881,3.9,1.637,14.4,9.244,5.152,9.244-5.152,1.685-14.4Z","transform","translate(-3769.274 -311.417)","fill","#4a3493"],["id","Path_25","data-name","Path 25","d","M3862.088,311.417v23.447l9.244-5.152,1.685-14.4Z","transform","translate(-3851.207 -311.417)","fill","#311b92"],["id","Group_24","data-name","Group 24","transform","translate(6.194 6.73)","opacity","0.5"],["id","Group_23","data-name","Group 23","transform","translate(0 0)"],["id","Group_22","data-name","Group 22","clip-path","url(#clip-path)"],["id","Path_26","data-name","Path 26","d","M3832.4,373.252a5.168,5.168,0,1,1-5.828-4.383,5.216,5.216,0,0,1,2.574.3,3.017,3.017,0,1,0,3.252,4.086Z","transform","translate(-3822.107 -368.821)","fill","#fff"],["id","Path_27","data-name","Path 27","d","M3830.582,370.848a5.162,5.162,0,1,1-3.254-4.086,3.017,3.017,0,1,0,3.252,4.086Z","transform","translate(-3814.311 -359.969)","fill","#fff"],["href","https://woped.dhbw-karlsruhe.de","target","_blank","rel","noopener"],[1,"github-star-badge"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"material-icons"],["d","M0 0h24v24H0z","fill","none"],["d","M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"],["href","https://github.com/angular/angular","target","_blank","rel","noopener"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z","fill","#1976d2"],["id","clouds","alt","Gray Clouds Background","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"]],template:function(i,o){1&i&&(lt(0,"div",0),yn(1,"img",1),lt(2,"h1"),sn(3,"WoPeD"),ft(),yn(4,"div",2),ft(),lt(5,"div",3)(6,"mat-tab-group",4)(7,"mat-tab",5),yn(8,"app-t2p"),ft(),lt(9,"mat-tab",6),yn(10,"app-p2t"),ft()(),lt(11,"div",7)(12,"a",8),Nc(),lt(13,"svg",9)(14,"g",10),yn(15,"path",11)(16,"path",12)(17,"path",13)(18,"path",14)(19,"rect",15),ft()()(),hh(),lt(20,"a",16),Nc(),lt(21,"svg",17)(22,"defs")(23,"clipPath",18),yn(24,"rect",19),ft()(),lt(25,"g",20),yn(26,"path",21)(27,"path",22),lt(28,"g",23)(29,"g",24)(30,"g",25),yn(31,"path",26),ft()()(),yn(32,"path",27),ft()()()(),hh(),lt(33,"footer"),sn(34," Love WoPeD?\xa0 "),lt(35,"a",28),sn(36," Give our repo a star. "),lt(37,"div",29),Nc(),lt(38,"svg",30),yn(39,"path",31)(40,"path",32),ft(),sn(41," Star "),ft()(),hh(),lt(42,"a",33),Nc(),lt(43,"svg",30),yn(44,"path",34)(45,"path",31),ft()()(),lt(46,"svg",35),yn(47,"path",36),ft()())},dependencies:[mN,F6,sN,Z6],styles:[yN,yN]})}return t})(),e9=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({imports:[fR,kr,fR,kr]})}return t})();const _N=g4();class t9{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=uo(-this._previousScrollPosition.left),n.style.top=uo(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,i=n.style,o=this._document.body.style,l=i.scrollBehavior||"",d=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),_N&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_N&&(i.scrollBehavior=l,o.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class n9{constructor(n,e,i,o){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=i,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0).pipe(va(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class wN{enable(){}disable(){}attach(){}}function C1(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function xN(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class i9{constructor(n,e,i,o){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=i,this._config=o,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();C1(e,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let r9=(()=>{class t{constructor(e,i,o,l){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new wN,this.close=d=>new n9(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new t9(this._viewportRuler,this._document),this.reposition=d=>new i9(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=l}static#e=this.\u0275fac=function(i){return new(i||t)(je(Z8),je(M0),je(Pn),je(ri))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class o9{constructor(n){if(this.scrollStrategy=new wN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const i of e)void 0!==n[i]&&(this[i]=n[i])}}}class s9{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let EN=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||t)(je(ri))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),a9=(()=>{class t extends EN{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=o=>{const l=this._attachedOverlays;for(let d=l.length-1;d>-1;d--)if(l[d]._keydownEvents.observers.length>0){const x=l[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>x.next(o)):x.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||t)(je(ri),je(Pn,8))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),l9=(()=>{class t extends EN{constructor(e,i,o){super(e),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=uf(l)},this._clickListener=l=>{const d=uf(l),x="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const k=this._attachedOverlays.slice();for(let K=k.length-1;K>-1;K--){const ne=k[K];if(ne._outsidePointerEvents.observers.length<1||!ne.hasAttached())continue;if(ne.overlayElement.contains(d)||ne.overlayElement.contains(x))break;const le=ne._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>le.next(l)):le.next(l)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||t)(je(ri),je(ss),je(Pn,8))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),CN=(()=>{class t{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||zT()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<o.length;l++)o[l].remove()}const i=this._document.createElement("div");i.classList.add(e),zT()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||t)(je(ri),je(ss))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class c9{constructor(n,e,i,o,l,d,x,k,K,ne=!1){this._portalOutlet=n,this._host=e,this._pane=i,this._config=o,this._ngZone=l,this._keyboardDispatcher=d,this._document=x,this._location=k,this._outsideClickDispatcher=K,this._animationsDisabled=ne,this._backdropElement=null,this._backdropClick=new We,this._attachments=new We,this._detachments=new We,this._locationChanges=H.EMPTY,this._backdropClickHandler=le=>this._backdropClick.next(le),this._backdropTransitionendHandler=le=>{this._disposeBackdrop(le.target)},this._keydownEvents=new We,this._outsidePointerEvents=new We,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ud(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=uo(this._config.width),n.height=uo(this._config.height),n.minWidth=uo(this._config.minWidth),n.minHeight=uo(this._config.minHeight),n.maxWidth=uo(this._config.maxWidth),n.maxHeight=uo(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,i){const o=bC(e||[]).filter(l=>!!l);o.length&&(i?n.classList.add(...o):n.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(as(Ir(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const SN="cdk-overlay-connected-position-bounding-box",d9=/([A-Za-z%]+)$/;class u9{get positions(){return this._preferredPositions}constructor(n,e,i,o,l){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new We,this._resizeSubscription=H.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(SN),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,i=this._viewportRect,o=this._containerRect,l=[];let d;for(let x of this._preferredPositions){let k=this._getOriginPoint(n,o,x),K=this._getOverlayPoint(k,e,x),ne=this._getOverlayFit(K,e,i,x);if(ne.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(x,k);this._canFitWithFlexibleDimensions(ne,K,i)?l.push({position:x,origin:k,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(k,x)}):(!d||d.overlayFit.visibleArea<ne.visibleArea)&&(d={overlayFit:ne,overlayPoint:K,originPoint:k,position:x,overlayRect:e})}if(l.length){let x=null,k=-1;for(const K of l){const ne=K.boundingBoxRect.width*K.boundingBoxRect.height*(K.position.weight||1);ne>k&&(k=ne,x=K)}return this._isPushed=!1,void this._applyPosition(x.position,x.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(SN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,i){let o,l;if("center"==i.originX)o=n.left+n.width/2;else{const d=this._isRtl()?n.right:n.left,x=this._isRtl()?n.left:n.right;o="start"==i.originX?d:x}return e.left<0&&(o-=e.left),l="center"==i.originY?n.top+n.height/2:"top"==i.originY?n.top:n.bottom,e.top<0&&(l-=e.top),{x:o,y:l}}_getOverlayPoint(n,e,i){let o,l;return o="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:n.x+o,y:n.y+l}}_getOverlayFit(n,e,i,o){const l=MN(e);let{x:d,y:x}=n,k=this._getOffset(o,"x"),K=this._getOffset(o,"y");k&&(d+=k),K&&(x+=K);let xe=0-x,Ee=x+l.height-i.height,ke=this._subtractOverflows(l.width,0-d,d+l.width-i.width),Ne=this._subtractOverflows(l.height,xe,Ee),He=ke*Ne;return{visibleArea:He,isCompletelyWithinViewport:l.width*l.height===He,fitsInViewportVertically:Ne===l.height,fitsInViewportHorizontally:ke==l.width}}_canFitWithFlexibleDimensions(n,e,i){if(this._hasFlexibleDimensions){const o=i.bottom-e.y,l=i.right-e.x,d=DN(this._overlayRef.getConfig().minHeight),x=DN(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=d&&d<=o)&&(n.fitsInViewportHorizontally||null!=x&&x<=l)}return!1}_pushOverlayOnScreen(n,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const o=MN(e),l=this._viewportRect,d=Math.max(n.x+o.width-l.width,0),x=Math.max(n.y+o.height-l.height,0),k=Math.max(l.top-i.top-n.y,0),K=Math.max(l.left-i.left-n.x,0);let ne=0,le=0;return ne=o.width<=l.width?K||-d:n.x<this._viewportMargin?l.left-i.left-n.x:0,le=o.height<=l.height?k||-x:n.y<this._viewportMargin?l.top-i.top-n.y:0,this._previousPushAmount={x:ne,y:le},{x:n.x+ne,y:n.y+le}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const i=this._getScrollVisibility(),o=new s9(n,i);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,o=n.overlayY;i="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(n,e){const i=this._viewportRect,o=this._isRtl();let l,d,x,ne,le,xe;if("top"===e.overlayY)d=n.y,l=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)x=i.height-n.y+2*this._viewportMargin,l=i.height-x+this._viewportMargin;else{const Ee=Math.min(i.bottom-n.y+i.top,n.y),ke=this._lastBoundingBoxSize.height;l=2*Ee,d=n.y-Ee,l>ke&&!this._isInitialRender&&!this._growAfterOpen&&(d=n.y-ke/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)xe=i.width-n.x+this._viewportMargin,ne=n.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)le=n.x,ne=i.right-n.x;else{const Ee=Math.min(i.right-n.x+i.left,n.x),ke=this._lastBoundingBoxSize.width;ne=2*Ee,le=n.x-Ee,ne>ke&&!this._isInitialRender&&!this._growAfterOpen&&(le=n.x-ke/2)}return{top:d,left:le,bottom:x,right:xe,width:ne,height:l}}_setBoundingBoxStyles(n,e){const i=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;o.height=uo(i.height),o.top=uo(i.top),o.bottom=uo(i.bottom),o.width=uo(i.width),o.left=uo(i.left),o.right=uo(i.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(o.maxHeight=uo(l)),d&&(o.maxWidth=uo(d))}this._lastBoundingBoxSize=i,fm(this._boundingBox.style,o)}_resetBoundingBoxStyles(){fm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const i={},o=this._hasExactPosition(),l=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(o){const ne=this._viewportRuler.getViewportScrollPosition();fm(i,this._getExactOverlayY(e,n,ne)),fm(i,this._getExactOverlayX(e,n,ne))}else i.position="static";let x="",k=this._getOffset(e,"x"),K=this._getOffset(e,"y");k&&(x+=`translateX(${k}px) `),K&&(x+=`translateY(${K}px)`),i.transform=x.trim(),d.maxHeight&&(o?i.maxHeight=uo(d.maxHeight):l&&(i.maxHeight="")),d.maxWidth&&(o?i.maxWidth=uo(d.maxWidth):l&&(i.maxWidth="")),fm(this._pane.style,i)}_getExactOverlayY(n,e,i){let o={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===n.overlayY?o.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":o.top=uo(l.y),o}_getExactOverlayX(n,e,i){let d,o={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),d=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===d?o.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":o.left=uo(l.x),o}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:xN(n,i),isOriginOutsideView:C1(n,i),isOverlayClipped:xN(e,i),isOverlayOutsideView:C1(e,i)}}_subtractOverflows(n,...e){return e.reduce((i,o)=>i-Math.max(o,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&bC(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof Hn)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+e,height:i,width:e}}}function fm(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function DN(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(d9);return e&&"px"!==e?null:parseFloat(n)}return t||null}function MN(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const TN="cdk-global-overlay-wrapper";class h9{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(TN),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:l,maxWidth:d,maxHeight:x}=i,k=!("100%"!==o&&"100vw"!==o||d&&"100%"!==d&&"100vw"!==d),K=!("100%"!==l&&"100vh"!==l||x&&"100%"!==x&&"100vh"!==x),ne=this._xPosition,le=this._xOffset,xe="rtl"===this._overlayRef.getConfig().direction;let Ee="",ke="",Ne="";k?Ne="flex-start":"center"===ne?(Ne="center",xe?ke=le:Ee=le):xe?"left"===ne||"end"===ne?(Ne="flex-end",Ee=le):("right"===ne||"start"===ne)&&(Ne="flex-start",ke=le):"left"===ne||"start"===ne?(Ne="flex-start",Ee=le):("right"===ne||"end"===ne)&&(Ne="flex-end",ke=le),n.position=this._cssPosition,n.marginLeft=k?"0":Ee,n.marginTop=K?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=k?"0":ke,e.justifyContent=Ne,e.alignItems=K?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(TN),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let f9=(()=>{class t{constructor(e,i,o,l){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=l}global(){return new h9}flexibleConnectedTo(e){return new u9(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||t)(je(M0),je(ri),je(ss),je(CN))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),p9=0,S1=(()=>{class t{constructor(e,i,o,l,d,x,k,K,ne,le,xe,Ee){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=l,this._keyboardDispatcher=d,this._injector=x,this._ngZone=k,this._document=K,this._directionality=ne,this._location=le,this._outsideClickDispatcher=xe,this._animationsModuleType=Ee}create(e){const i=this._createHostElement(),o=this._createPaneElement(i),l=this._createPortalOutlet(o),d=new o9(e);return d.direction=d.direction||this._directionality.value,new c9(l,i,o,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+p9++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Jh)),new f4(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||t)(je(r9),je(CN),je(tc),je(f9),je(a9),je(ys),je(Pn),je(ri),je(Lu),je(vE),je(l9),je(gs,8))};static#t=this.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const v9={provide:new ht("cdk-connected-overlay-scroll-strategy"),deps:[S1],useFactory:function g9(t){return()=>t.scrollStrategies.reposition()}};let y9=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({providers:[S1,v9],imports:[Yv,FT,lN,lN]})}return t})();const E9={provide:new ht("mat-select-scroll-strategy"),deps:[S1],useFactory:function x9(t){return()=>t.scrollStrategies.reposition()}};let C9=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t});static#n=this.\u0275inj=ai({providers:[E9],imports:[tf,y9,bR,kr,x1,OC,bR,kr]})}return t})();const S9=[{path:"home",component:Q6},{path:"t2p",component:sN},{path:"",redirectTo:"/home",pathMatch:"full"}];let D9=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=mi({type:t,bootstrap:[R5]});static#n=this.\u0275inj=ai({providers:[{provide:{MAT_FORM_FIELD_DEFAULT_OPTIONS:jR},multi:!0,useValue:{appearance:"outline"}}],imports:[MO,IU,M5.forRoot(S9),r4,B6,fW,OC,c8,e9,C9,_8,M8]})}return t})();Xz().bootstrapModule(D9).catch(t=>console.error(t))},538:function(Ga,ge,ee){var P=ee(156).default;Ga.exports=function(){"use strict";function W(r,s){s&&(r.super_=s,r.prototype=Object.create(s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}var r,s,R=(r=function(r){var s=r.exports=function(a,c){if(c||(c=16),void 0===a&&(a=128),a<=0)return"0";for(var u=Math.log(Math.pow(2,a))/Math.log(c),h=2;u===1/0;h*=2)u=Math.log(Math.pow(2,a/h))/Math.log(c)*h;var m=u-Math.floor(u),b="";for(h=0;h<Math.floor(u);h++)b=Math.floor(Math.random()*c).toString(c)+b;if(m){var S=Math.pow(c,m);b=Math.floor(Math.random()*S).toString(c)+b}var N=parseInt(b,c);return N!==1/0&&N>=Math.pow(2,a)?s(a,c):b};s.rack=function(a,c,u){var h=function(b){var S=0;do{if(S++>10){if(!u)throw new Error("too many ID collisions, use more bits");a+=u}var N=s(a,c)}while(Object.hasOwnProperty.call(m,N));return m[N]=b,N},m=h.hats={};return h.get=function(b){return h.hats[b]},h.set=function(b,S){return h.hats[b]=S,h},h.bits=a||128,h.base=c||16,h}},r(s={exports:{}}),s.exports);function V(r){if(!(this instanceof V))return new V(r);this._seed=(r=r||[128,36,1]).length?R.rack(r[0],r[1],r[2]):r}function H(r){return Array.prototype.concat.apply([],r)}V.prototype.next=function(r){return this._seed(r||!0)},V.prototype.nextPrefixed=function(r,s){var a;do{a=r+this.next(!0)}while(this.assigned(a));return this.claim(a,s),a},V.prototype.claim=function(r,s){this._seed.set(r,s||!0)},V.prototype.assigned=function(r){return this._seed.get(r)||!1},V.prototype.unclaim=function(r){delete this._seed.hats[r]},V.prototype.clear=function(){var r,s=this._seed.hats;for(r in s)this.unclaim(r)};const $=Object.prototype.toString,Y=Object.prototype.hasOwnProperty;function B(r){return void 0===r}function U(r){return void 0!==r}function F(r){return null==r}function T(r){return"[object Array]"===$.call(r)}function D(r){return"[object Object]"===$.call(r)}function C(r){return"[object Number]"===$.call(r)}function E(r){const s=$.call(r);return"[object Function]"===s||"[object AsyncFunction]"===s||"[object GeneratorFunction]"===s||"[object AsyncGeneratorFunction]"===s||"[object Proxy]"===s}function I(r){return"[object String]"===$.call(r)}function f(r,s){return Y.call(r,s)}function _(r,s){const a=Ae(s);let c;return y(r,function(u,h){if(a(u,h))return c=u,!1}),c}function g(r,s){const a=Ae(s);let c=T(r)?-1:void 0;return y(r,function(u,h){if(a(u,h))return c=h,!1}),c}function p(r,s){const a=Ae(s);let c=[];return y(r,function(u,h){a(u,h)&&c.push(u)}),c}function y(r,s){let a,c;if(B(r))return;const u=T(r)?st:Ye;for(let h in r)if(f(r,h)&&(a=r[h],c=s(a,u(h)),!1===c))return a}function v(r,s,a){return y(r,function(c,u){a=s(a,c,u)}),a}function w(r,s){return!!v(r,function(a,c,u){return a&&s(c,u)},!0)}function M(r,s){return!!_(r,s)}function L(r,s){let a=[];return y(r,function(c,u){a.push(s(c,u))}),a}function X(r){return r&&Object.keys(r)||[]}function q(r){return L(r,s=>s)}function te(r,s,a={}){return s=De(s),y(r,function(c){let u=s(c)||"_",h=a[u];h||(h=a[u]=[]),h.push(c)}),a}function ie(r,...s){r=De(r);let a={};return y(s,c=>te(c,r,a)),L(a,function(c,u){return c[0]})}const oe=ie;function fe(r,s){s=De(s);let a=[];return y(r,function(c,u){let h=s(c,u),m={d:h,v:c};for(var b=0;b<a.length;b++){let{d:S}=a[b];if(h<S)return void a.splice(b,0,m)}a.push(m)}),L(a,c=>c.v)}function Ce(r){return function(s){return w(r,function(a,c){return s[c]===a})}}function De(r){return E(r)?r:s=>s[r]}function Ae(r){return E(r)?r:s=>s===r}function Ye(r){return r}function st(r){return Number(r)}function it(r,s){let a,c,u,h;function m(j){let G=Date.now(),Z=j?0:h+s-G;if(Z>0)return b(Z);r.apply(u,c),S()}function b(j){a=setTimeout(m,j)}function S(){a&&clearTimeout(a),a=h=c=u=void 0}function N(...j){h=Date.now(),c=j,u=this,a||b(s)}return N.flush=function(){a&&m(!0),S()},N.cancel=S,N}function We(r,s){return r.bind(s)}function we(r,...s){return Object.assign(r,...s)}function Oe(r,s){let a={},c=Object(r);return y(s,function(u){u in c&&(a[u]=r[u])}),a}function Le(r,s){let a={};return y(Object(r),function(c,u){-1===s.indexOf(u)&&(a[u]=c)}),a}const pt=Object.prototype.toString,nt=Object.prototype.hasOwnProperty;function ut(r,s){return nt.call(r,s)}function At(r,s){let a,c;if(void 0===r)return;const u="[object Array]"===pt.call(r)?ln:Nt;for(let h in r)if(ut(r,h)&&(a=r[h],c=s(a,u(h)),!1===c))return a}function Nt(r){return r}function ln(r){return Number(r)}function Mn(r,...s){const a=r.style;return At(s,function(c){c&&At(c,function(u,h){a[h]=u})}),r}function zn(r,s,a){return 2==arguments.length?r.getAttribute(s):null===a?r.removeAttribute(s):(r.setAttribute(s,a),r)}const Ei=Object.prototype.toString;function Zt(r){return new ei(r)}function ei(r){if(!r||!r.nodeType)throw new Error("A DOM element reference is required");this.el=r,this.list=r.classList}function Vi(r){for(;r.childNodes.length;)r.removeChild(r.childNodes[0]);return r}function Oi(r,s){return r&&"function"==typeof r.matches&&r.matches(s)}function ti(r,s,a){for(var c=a?r:r.parentNode;c&&c.nodeType!==document.DOCUMENT_NODE&&c.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(Oi(c,s))return c;c=c.parentNode}return Oi(c,s)?c:null}ei.prototype.add=function(r){return this.list.add(r),this},ei.prototype.remove=function(r){return"[object RegExp]"==Ei.call(r)?this.removeMatching(r):(this.list.remove(r),this)},ei.prototype.removeMatching=function(r){const s=this.array();for(let a=0;a<s.length;a++)r.test(s[a])&&this.remove(s[a]);return this},ei.prototype.toggle=function(r,s){return void 0!==s?s!==this.list.toggle(r,s)&&this.list.toggle(r):this.list.toggle(r),this},ei.prototype.array=function(){return Array.from(this.list)},ei.prototype.has=ei.prototype.contains=function(r){return this.list.contains(r)};var cn,gt,St,Wt={};function Wn(){cn=window.addEventListener?"addEventListener":"attachEvent",gt=window.removeEventListener?"removeEventListener":"detachEvent",St="addEventListener"!==cn?"on":""}var cr,Dt=function Qe(r,s){return s.forEach(function(a){a&&"string"!=typeof a&&!Array.isArray(a)&&Object.keys(a).forEach(function(c){if("default"!==c&&!(c in r)){var u=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(r,c,u.get?u:{enumerable:!0,get:function(){return a[c]}})}})}),Object.freeze(r)}({__proto__:null,bind:Wt.bind=function(r,s,a,c){return cn||Wn(),r[cn](St+s,a,c||!1),a},unbind:Wt.unbind=function(r,s,a,c){return gt||Wn(),r[gt](St+s,a,c||!1),a},default:Wt},[Wt]),Vt=["focus","blur"],tr={bind:function(r,s,a,c,u){return-1!==Vt.indexOf(a)&&(u=!0),Dt.bind(r,a,function(h){h.delegateTarget=ti(h.target||h.srcElement,s,!0),h.delegateTarget&&c.call(r,h)},u)},unbind:function(r,s,a,c){return-1!==Vt.indexOf(s)&&(c=!0),Dt.unbind(r,s,a,c)}},gd=!1;typeof document<"u"&&((cr=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',gd=!cr.getElementsByTagName("link").length,cr=void 0);var Yi={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:gd?[1,"X<div>","</div>"]:[0,"",""]};Yi.td=Yi.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Yi.option=Yi.optgroup=[1,'<select multiple="multiple">',"</select>"],Yi.thead=Yi.tbody=Yi.colgroup=Yi.caption=Yi.tfoot=[1,"<table>","</table>"],Yi.polyline=Yi.ellipse=Yi.polygon=Yi.circle=Yi.text=Yi.line=Yi.path=Yi.rect=Yi.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var En=function(r,s){if("string"!=typeof r)throw new TypeError("String expected");s||(s=document);var a=/<([\w:]+)/.exec(r);if(!a)return s.createTextNode(r);r=r.replace(/^\s+|\s+$/g,"");var c=a[1];if("body"==c)return(u=s.createElement("html")).innerHTML=r,u.removeChild(u.lastChild);var u,h=Object.prototype.hasOwnProperty.call(Yi,c)?Yi[c]:Yi._default,m=h[0],b=h[1],S=h[2];for((u=s.createElement("div")).innerHTML=b+r+S;m--;)u=u.lastChild;if(u.firstChild==u.lastChild)return u.removeChild(u.firstChild);for(var N=s.createDocumentFragment();u.firstChild;)N.appendChild(u.removeChild(u.firstChild));return N};function oi(r,s){return(s=s||document).querySelector(r)}function wc(r,s){return(s=s||document).querySelectorAll(r)}function Do(r){r.parentNode&&r.parentNode.removeChild(r)}function Ri(r,s){return s.appendChild(function(a,c){if(a.ownerDocument!==c.ownerDocument)try{return c.ownerDocument.importNode(a,!0)}catch{}return a}(r,s))}function Qt(r,s){return Ri(s,r),r}var ju={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function ls(r,s,a){var c=s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),u=ju[c];u?(2===u&&"number"==typeof a&&(a=String(a)+"px"),r.style[c]=a):r.setAttributeNS(null,s,a)}function Ot(r,s,a){if("string"==typeof s){if(void 0===a)return c=r,ju[u=s]?c.style[u]:c.getAttributeNS(null,u);ls(r,s,a)}else!function(c,u){var h,m,b=Object.keys(u);for(h=0;m=b[h];h++)ls(c,m,u[m])}(r,s);var c,u;return r}const Bl=Object.prototype.toString;function Cn(r){return new ho(r)}function ho(r){if(!r||!r.nodeType)throw new Error("A DOM element reference is required");this.el=r,this.list=r.classList}function Ni(r){var s=r.parentNode;return s&&s.removeChild(r),r}function Ys(r){for(var s;s=r.firstChild;)Ni(s);return r}function vd(r){return r.cloneNode(!0)}ho.prototype.add=function(r){return this.list.add(r),this},ho.prototype.remove=function(r){return"[object RegExp]"==Bl.call(r)?this.removeMatching(r):(this.list.remove(r),this)},ho.prototype.removeMatching=function(r){const s=this.array();for(let a=0;a<s.length;a++)r.test(s[a])&&this.remove(s[a]);return this},ho.prototype.toggle=function(r,s){return void 0!==s?s!==this.list.toggle(r,s)&&this.list.toggle(r):this.list.toggle(r),this},ho.prototype.array=function(){return Array.from(this.list)},ho.prototype.has=ho.prototype.contains=function(r){return this.list.contains(r)};var Ks="http://www.w3.org/2000/svg",Ya='<svg xmlns="'+Ks+'"';function Ft(r){var s=!1;"<svg"===r.substring(0,4)?-1===r.indexOf(Ks)&&(r=Ya+r.substring(4)):(r=Ya+">"+r+"</svg>",s=!0);var h,m,a=(h=r,(m=new DOMParser).async=!1,m.parseFromString(h,"text/xml"));if(!s)return a;for(var c=document.createDocumentFragment(),u=a.firstChild;u.firstChild;)c.appendChild(u.firstChild);return c}function Gt(r,s){var a;return"<"===r.charAt(0)?(a=Ft(r).firstChild,a=document.importNode(a,!0)):a=document.createElementNS(Ks,r),s&&Ot(a,s),a}var yd=null;function Mo(){return null===yd&&(yd=Gt("svg")),yd}function xc(r,s){var a,c,u=Object.keys(s);for(a=0;c=u[a];a++)r[c]=s[c];return r}function bi(r){return r?Mo().createSVGTransformFromMatrix(r):Mo().createSVGTransform()}var ya=/([&<>]{1})/g,bd=/([\n\r"]{1})/g,yr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function To(r,s){return r.replace(s,function(a,c){return yr[c]||c})}function Ci(r,s){var a,c,u,h,m;switch(r.nodeType){case 3:s.push(To(r.textContent,ya));break;case 1:if(s.push("<",r.tagName),r.hasAttributes())for(a=0,c=(u=r.attributes).length;a<c;++a)h=u.item(a),s.push(" ",h.name,'="',To(h.value,bd),'"');if(r.hasChildNodes()){for(s.push(">"),a=0,c=(m=r.childNodes).length;a<c;++a)Ci(m.item(a),s);s.push("</",r.tagName,">")}else s.push("/>");break;case 8:s.push("\x3c!--",To(r.nodeValue,ya),"--\x3e");break;case 4:s.push("<![CDATA[",r.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+r.nodeType)}return s}function Hi(r,s){if(void 0!==s){try{!function Fi(r,s){var a=Ft(s);if(Ys(r),s){"#document-fragment"===a.nodeName||(a=a.documentElement);for(var u=Array.prototype.slice.call(a.childNodes),h=0;h<u.length;h++)Ri(u[h],r)}}(r,s)}catch(a){throw new Error("error parsing SVG: "+a.message)}return r}return function(a){for(var c=a.firstChild,u=[];c;)Ci(c,u),c=c.nextSibling;return u.join("")}(r)}function Cs(r,s){return s instanceof SVGMatrix?r.createSVGTransformFromMatrix(s):s}function ko(r,s){var a=r.transform.baseVal;return s&&(Array.isArray(s)||(s=[s]),function(c,u){var h,m;for(c.clear(),h=0;m=u[h];h++)c.appendItem(Cs(c,m))}(a,s)),a.consolidate()}const Ec=/^class[ {]/;function Ko(r){return Array.isArray(r)}function Ao(r,s){return Object.prototype.hasOwnProperty.call(r,s)}function Br(...r){1===r.length&&Ko(r[0])&&(r=r[0]);const s=(r=[...r]).pop();return s.$inject=r,s}const zl=/constructor\s*[^(]*\(\s*([^)]*)\)/m,Cc=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,ba=/\/\*([^*]*)\*\//m;function Sc(r){if("function"!=typeof r)throw new Error(`Cannot annotate "${r}". Expected a function!`);const s=r.toString().match(Ec.test(r.toString())?zl:Cc);if(!s)return[];const a=s[1]||s[2];return a&&a.split(",").map(c=>{const u=c.match(ba);return(u&&u[1]||c).trim()})||[]}function Ka(r,s){s=s||{get:function(se,ce){if(a.push(se),!1===ce)return null;throw m(`No provider for "${se}"!`)}};const a=[],c=this._providers=Object.create(s._providers||null),u=this._instances=Object.create(null),h=u.injector=this,m=function(se){const ce=a.join(" -> ");return a.length=0,new Error(ce?`${se} (Resolving: ${ce})`:se)};function b(se,ce){if(!c[se]&&-1!==se.indexOf(".")){const be=se.split(".");let ve=b(be.shift());for(;be.length;)ve=ve[be.shift()];return ve}if(Ao(u,se))return u[se];if(Ao(c,se)){if(-1!==a.indexOf(se))throw a.push(se),m("Cannot resolve circular dependency!");return a.push(se),u[se]=c[se][0](c[se][1]),a.pop(),u[se]}return s.get(se,ce)}function S(se,ce){if(void 0===ce&&(ce={}),"function"!=typeof se){if(!Ko(se))throw m(`Cannot invoke "${se}". Expected a function!`);se=Br(se.slice())}return{fn:se,dependencies:(se.$inject||Sc(se)).map(be=>Ao(ce,be)?ce[be]:b(be))}}function N(se){const{fn:ce,dependencies:be}=S(se);return new(Function.prototype.bind.apply(ce,[null].concat(be)))}function j(se,ce,be){const{fn:ve,dependencies:Ie}=S(se,be);return ve.apply(ce,Ie)}function G(se){return Br(ce=>se.get(ce))}function Z(se,ce){if(ce&&ce.length){const be=Object.create(null),ve=Object.create(null),Ie=[],Ue=[],ze=[];let Ve,Ke,$t,wt;for(let Ze in c)Ve=c[Ze],-1!==ce.indexOf(Ze)&&("private"===Ve[2]?(Ke=Ie.indexOf(Ve[3]),-1===Ke?($t=Ve[3].createChild([],ce),wt=G($t),Ie.push(Ve[3]),Ue.push($t),ze.push(wt),be[Ze]=[wt,Ze,"private",$t]):be[Ze]=[ze[Ke],Ze,"private",Ue[Ke]]):be[Ze]=[Ve[2],Ve[1]],ve[Ze]=!0),"factory"!==Ve[2]&&"type"!==Ve[2]||!Ve[1].$scope||ce.forEach(at=>{-1!==Ve[1].$scope.indexOf(at)&&(be[Ze]=[Ve[2],Ve[1]],ve[at]=!0)});ce.forEach(Ze=>{if(!ve[Ze])throw new Error('No provider for "'+Ze+'". Cannot use provider from the parent!')}),se.unshift(be)}return new Ka(se,h)}const J={factory:j,type:N,value:function(se){return se}};function re(se,ce){const be=se.__init__||[];return function(){be.forEach(ve=>{"string"==typeof ve?ce.get(ve):ce.invoke(ve)})}}function ae(se){const ce=se.__exports__;if(ce){const be=se.__modules__,ve=Object.keys(se).reduce((Ve,Ke)=>("__exports__"!==Ke&&"__modules__"!==Ke&&"__init__"!==Ke&&"__depends__"!==Ke&&(Ve[Ke]=se[Ke]),Ve),Object.create(null)),Ie=Z((be||[]).concat(ve)),Ue=Br(function(Ve){return Ie.get(Ve)});ce.forEach(function(Ve){c[Ve]=[Ue,Ve,"private",Ie]});const ze=(se.__init__||[]).slice();return ze.unshift(function(){Ie.init()}),re(se=Object.assign({},se,{__init__:ze}),Ie)}return Object.keys(se).forEach(function(be){if("__init__"===be||"__depends__"===be)return;if("private"===se[be][2])return void(c[be]=se[be]);const ve=se[be][0];c[be]=[J[ve],Oo(ve,se[be][1]),ve]}),re(se,h)}function de(se,ce){return-1!==se.indexOf(ce)||-1!==(se=(ce.__depends__||[]).reduce(de,se)).indexOf(ce)?se:se.concat(ce)}this.get=b,this.invoke=j,this.instantiate=N,this.createChild=Z,this.init=function(se){const ce=se.reduce(de,[]).map(ae);let be=!1;return function(){be||(be=!0,ce.forEach(ve=>ve()))}}(r)}function Oo(r,s){return"value"!==r&&Ko(s)&&(s=Br(s.slice())),s}function qr(r,s){var a=this;r.on(["render.shape","render.connection"],s=s||1e3,function(c,u){var h=c.type,m=u.element,b=u.gfx,S=u.attrs;if(a.canRender(m))return"render.shape"===h?a.drawShape(b,m,S):a.drawConnection(b,m,S)}),r.on(["render.getShapePath","render.getConnectionPath"],s,function(c,u){if(a.canRender(u))return"render.getShapePath"===c.type?a.getShapePath(u):a.getConnectionPath(u)})}function zr(r){return r.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function ui(r){return["L",r.x,r.y]}function Xs(r,s){const a=r.length,c=[(u=r[0],["M",u.x,u.y])];var u,h,m,b;for(let S=1;S<a;S++){const N=r[S-1],j=r[S],G=r[S+1];if(!G||!s){c.push(ui(j));continue}const Z=Math.min(s,Ir(j.x-N.x,j.y-N.y),Ir(G.x-j.x,G.y-j.y));if(!Z){c.push(ui(j));continue}const J=hi(j,N,Z),re=hi(j,N,.5*Z),ae=hi(j,G,Z),de=hi(j,G,.5*Z);c.push(ui(J)),c.push(["C",(h=re).x,h.y,(m=de).x,m.y,(b=ae).x,b.y])}return c}function hi(r,s,a){const c=s.x-r.x,u=s.y-r.y,h=a/Ir(c,u);return{x:r.x+c*h,y:r.y+u*h}}function Ir(r,s){return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}function Xa(r,s,a){C(s)&&(a=s,s=null),s||(s={});const c=Gt("path",s);return C(a)&&(c.dataset.cornerRadius=String(a)),Za(c,r)}function Za(r,s){return Ot(r,{d:zr(Xs(s,parseInt(r.dataset.cornerRadius,10)||0))}),r}function Gn(r){return p(r,function(s){return!_(r,function(a){return a!==s&&Jr(s,a)})})}function Jr(r,s){if(s){if(r===s)return s;if(r.parent)return Jr(r.parent,s)}}function Ki(r,s,a){var c=!a||-1===r.indexOf(s);return c&&r.push(s),c}function Io(r,s,a){a=a||0,T(r)||(r=[r]),y(r,function(c,u){var h=s(c,u,a);T(h)&&h.length&&Io(h,s,a+1)})}function Zs(r,s){return c=!s,-1,h=[],m=[],Io(r,function(b,S,N){Ki(h,b,c);var j=b.children;if(j&&Ki(m,j,c))return j}),h;var c,h,m}function qt(r,s){var a,c,u,h;return s=!!s,T(r)||(r=[r]),y(r,function(m){var b=m;m.waypoints&&!s&&(b=qt(m.waypoints,!0));var S=b.x,N=b.y,j=b.height||0,G=b.width||0;(S<a||void 0===a)&&(a=S),(N<c||void 0===c)&&(c=N),(S+G>u||void 0===u)&&(u=S+G),(N+j>h||void 0===h)&&(h=N+j)}),{x:a,y:c,height:h-c,width:u-a}}function on(r){return"waypoints"in r?"connection":"x"in r?"shape":"root"}function _a(r){return!(!r||!r.isFrame)}function fo(r,s){return we({},r||{},s||{})}function wa(r,s){qr.call(this,r,1),this.CONNECTION_STYLE=s.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=s.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=s.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}qr.prototype.canRender=function(r){},qr.prototype.drawShape=function(r,s){},qr.prototype.drawConnection=function(r,s){},qr.prototype.getShapePath=function(r){},qr.prototype.getConnectionPath=function(r){},W(wa,qr),wa.prototype.canRender=function(){return!0},wa.prototype.drawShape=function(r,s,a){var c=Gt("rect");return Ot(c,{x:0,y:0,width:s.width||0,height:s.height||0}),_a(s)?Ot(c,we({},this.FRAME_STYLE,a||{})):Ot(c,we({},this.SHAPE_STYLE,a||{})),Qt(r,c),c},wa.prototype.drawConnection=function(r,s,a){var c=Xa(s.waypoints,we({},this.CONNECTION_STYLE,a||{}));return Qt(r,c),c},wa.prototype.getShapePath=function(r){var c=r.width;return zr([["M",r.x,r.y],["l",c,0],["l",0,r.height],["l",-c,0],["z"]])},wa.prototype.getConnectionPath=function(r){var s,a,c=r.waypoints,u=[];for(s=0;a=c[s];s++)u.push([0===s?"M":"L",(a=a.original||a).x,a.y]);return zr(u)},wa.$inject=["eventBus","styles"];var Qa={__init__:["defaultRenderer"],defaultRenderer:["type",wa],styles:["type",function(){var r={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},s=this;this.cls=function(a,c,u){return we(this.style(c,u),{class:a})},this.style=function(a,c){T(a)||c||(c=a,a=[]);var u=v(a,function(h,m){return we(h,r[m]||{})},{});return c?we(u,c):u},this.computeStyle=function(a,c,u){return T(c)||(u=c,c=[]),s.style(c||[],we({},u,a||{}))}}]};function Je(r,s){if(!r||!s)return-1;var a=r.indexOf(s);return-1!==a&&r.splice(a,1),a}function Si(r,s,a){if(r&&s){"number"!=typeof a&&(a=-1);var c=r.indexOf(s);if(-1!==c){if(c===a||-1===a)return;r.splice(c,1)}-1!==a?r.splice(a,0,s):r.push(s)}}function rn(r,s){return r&&s?r.indexOf(s):-1}function Yn(r,s){return r&&s?Math.sqrt(Math.pow(r.x-s.x,2)+Math.pow(r.y-s.y,2)):-1}function ye(r,s,a,c){if(void 0===c&&(c=5),!r||!s||!a)return!1;var u=(s.x-r.x)*(a.y-r.y)-(s.y-r.y)*(a.x-r.x),h=Yn(r,s);return Math.abs(u/h)<=c}function Se(r,s){var a=Array.from(arguments).flat();const c={x:"v",y:"h"};for(const[u,h]of Object.entries(c))if(Be(u,a))return h;return!1}function Be(r,s){const a=s[0];return w(s,function(c){return Math.abs(a[r]-c[r])<=2})}function qe(r,s,a){return r.x>s.x-(a=a||0)&&r.y>s.y-a&&r.x<s.x+s.width+a&&r.y<s.y+s.height+a}function ct(r,s){return{x:Math.round(r.x+(s.x-r.x)/2),y:Math.round(r.y+(s.y-r.y)/2)}}function Bt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vn=/,?([a-z]),?/gi,br=parseFloat,mn=Math,nr=mn.PI,_r=mn.min,xa=mn.max,gm=mn.pow,qa=mn.abs,k0=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,Xv=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,mf=Array.isArray||function(r){return r instanceof Array};function Po(r,s){return Object.prototype.hasOwnProperty.call(r,s)}function si(r){if("function"==typeof r||Object(r)!==r)return r;var s=new r.constructor;for(var a in r)Po(r,a)&&(s[a]=si(r[a]));return s}function _d(r){var s=_d.ps=_d.ps||{};return s[r]?s[r].sleep=100:s[r]={sleep:100},setTimeout(function(){for(var a in s)Po(s,a)&&a!=r&&(s[a].sleep--,!s[a].sleep&&delete s[a])}),s[r]}function vm(r,s,a,c){return 1===arguments.length&&(s=r.y,a=r.width,c=r.height,r=r.x),{x:r,y:s,width:a,height:c,x2:r+a,y2:s+c}}function xt(){return this.join(",").replace(Vn,"$1")}function gf(r){var s=si(r);return s.toString=xt,s}function ai(r,s,a,c,u,h,m,b,S){var N=1-S,j=gm(N,3),G=gm(N,2),Z=S*S*S,J=j*s+3*G*S*c+3*N*S*S*h+Z*b;return{x:el(j*r+3*G*S*a+3*N*S*S*u+Z*m),y:el(J)}}function wd(r){var s=li.apply(null,r);return vm(s.x0,s.y0,s.x1-s.x0,s.y1-s.y0)}function Ja(r,s,a){return s>=r.x&&s<=r.x+r.width&&a>=r.y&&a<=r.y+r.height}function xd(r,s,a,c,u){return r*(r*(-3*s+9*a-9*c+3*u)+6*s-12*a+6*c)-3*s+3*a}function Uu(r,s,a,c,u,h,m,b,S){null==S&&(S=1);for(var N=(S=S>1?1:S<0?0:S)/2,j=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],G=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Z=0,J=0;J<12;J++){var re=N*j[J]+N,ae=xd(re,r,a,u,m),de=xd(re,s,c,h,b);Z+=G[J]*mn.sqrt(ae*ae+de*de)}return N*Z}function ym(r,s,a,c,u,h,m,b){if(!(xa(r,a)<_r(u,m)||_r(r,a)>xa(u,m)||xa(s,c)<_r(h,b)||_r(s,c)>xa(h,b))){var S=(r*c-s*a)*(h-b)-(s-c)*(u*b-h*m),N=(r-a)*(h-b)-(s-c)*(u-m);if(N){var j=el(((r*c-s*a)*(u-m)-(r-a)*(u*b-h*m))/N),G=el(S/N),Z=+j.toFixed(2),J=+G.toFixed(2);if(!(Z<+_r(r,a).toFixed(2)||Z>+xa(r,a).toFixed(2)||Z<+_r(u,m).toFixed(2)||Z>+xa(u,m).toFixed(2)||J<+_r(s,c).toFixed(2)||J>+xa(s,c).toFixed(2)||J<+_r(h,b).toFixed(2)||J>+xa(h,b).toFixed(2)))return{x:j,y:G}}}}function el(r){return Math.round(1e11*r)/1e11}function $u(r,s,a){if(Ve=wd(r),Ke=wd(s),Ve=vm(Ve),!(Ja(Ke=vm(Ke),Ve.x,Ve.y)||Ja(Ke,Ve.x2,Ve.y)||Ja(Ke,Ve.x,Ve.y2)||Ja(Ke,Ve.x2,Ve.y2)||Ja(Ve,Ke.x,Ke.y)||Ja(Ve,Ke.x2,Ke.y)||Ja(Ve,Ke.x,Ke.y2)||Ja(Ve,Ke.x2,Ke.y2)||(Ve.x<Ke.x2&&Ve.x>Ke.x||Ke.x<Ve.x2&&Ke.x>Ve.x)&&(Ve.y<Ke.y2&&Ve.y>Ke.y||Ke.y<Ve.y2&&Ke.y>Ve.y)))return a?0:[];for(var Ve,Ke,c=Uu.apply(0,r),u=Uu.apply(0,s),h=_m(r)?1:~~(c/5)||1,m=_m(s)?1:~~(u/5)||1,b=[],S=[],N={},j=a?0:[],G=0;G<h+1;G++){var Z=ai.apply(0,r.concat(G/h));b.push({x:Z.x,y:Z.y,t:G/h})}for(G=0;G<m+1;G++)Z=ai.apply(0,s.concat(G/m)),S.push({x:Z.x,y:Z.y,t:G/m});for(G=0;G<h;G++)for(var J=0;J<m;J++){var re,ae=b[G],de=b[G+1],se=S[J],ce=S[J+1],be=qa(de.x-ae.x)<.01?"y":"x",ve=qa(ce.x-se.x)<.01?"y":"x",Ie=ym(ae.x,ae.y,de.x,de.y,se.x,se.y,ce.x,ce.y);if(Ie){if(N[re=Ie.x.toFixed(9)+"#"+Ie.y.toFixed(9)])continue;N[re]=!0;var Ue=ae.t+qa((Ie[be]-ae[be])/(de[be]-ae[be]))*(de.t-ae.t),ze=se.t+qa((Ie[ve]-se[ve])/(ce[ve]-se[ve]))*(ce.t-se.t);Ue>=0&&Ue<=1&&ze>=0&&ze<=1&&(a?j++:j.push({x:Ie.x,y:Ie.y,t1:Ue,t2:ze}))}}return j}function _m(r){return r[0]===r[2]&&r[1]===r[3]&&r[4]===r[6]&&r[5]===r[7]}function tn(r,s,a,c){return[r,s,a,c,a,c]}function Wu(r,s,a,c,u,h){var m=.3333333333333333,b=2/3;return[m*r+b*a,m*s+b*c,m*u+b*a,m*h+b*c,u,h]}function Gu(r,s,a,c,u,h,m,b,S,N){var j,Ba,G=120*nr/180,Z=nr/180*(+u||0),J=[],re=(Ba=function(Ba,er,xi){return{x:Ba*mn.cos(xi)-er*mn.sin(xi),y:Ba*mn.sin(xi)+er*mn.cos(xi)}},function er(){var xi=Array.prototype.slice.call(arguments,0),Bn=xi.join("\u2400"),zi=er.cache=er.cache||{},Gr=er.count=er.count||[];return Po(zi,Bn)?(function A0(r,s){for(var a=0,c=r.length;a<c;a++)if(r[a]===s)return r.push(r.splice(a,1)[0])}(Gr,Bn),zi[Bn]):(Gr.length>=1e3&&delete zi[Gr.shift()],Gr.push(Bn),zi[Bn]=Ba.apply(0,xi),zi[Bn])});if(N)ze=N[0],Ve=N[1],Ie=N[2],Ue=N[3];else{r=(j=re(r,s,-Z)).x,s=j.y;var ae=(r-(b=(j=re(b,S,-Z)).x))/2,de=(s-(S=j.y))/2,se=ae*ae/(a*a)+de*de/(c*c);se>1&&(a*=se=mn.sqrt(se),c*=se);var ce=a*a,be=c*c,ve=(h==m?-1:1)*mn.sqrt(qa((ce*be-ce*de*de-be*ae*ae)/(ce*de*de+be*ae*ae))),Ie=ve*a*de/c+(r+b)/2,Ue=ve*-c*ae/a+(s+S)/2,ze=mn.asin(((s-Ue)/c).toFixed(9)),Ve=mn.asin(((S-Ue)/c).toFixed(9));(ze=r<Ie?nr-ze:ze)<0&&(ze=2*nr+ze),(Ve=b<Ie?nr-Ve:Ve)<0&&(Ve=2*nr+Ve),m&&ze>Ve&&(ze-=2*nr),!m&&Ve>ze&&(Ve-=2*nr)}var Ke=Ve-ze;if(qa(Ke)>G){var $t=Ve,wt=b,Ze=S;J=Gu(b=Ie+a*mn.cos(Ve=ze+G*(m&&Ve>ze?1:-1)),S=Ue+c*mn.sin(Ve),a,c,u,0,m,wt,Ze,[Ve,$t,Ie,Ue])}Ke=Ve-ze;var at=mn.cos(ze),un=mn.sin(ze),Te=mn.cos(Ve),ue=mn.sin(Ve),Fe=mn.tan(Ke/4),tt=4/3*a*Fe,mt=4/3*c*Fe,zt=[r,s],Ht=[r+tt*un,s-mt*at],jt=[b+tt*ue,S-mt*Te],Kt=[b,S];if(Ht[0]=2*zt[0]-Ht[0],Ht[1]=2*zt[1]-Ht[1],N)return[Ht,jt,Kt].concat(J);for(var vi=[],fn=0,Fr=(J=[Ht,jt,Kt].concat(J).join().split(",")).length;fn<Fr;fn++)vi[fn]=fn%2?re(J[fn-1],J[fn],Z).y:re(J[fn],J[fn+1],Z).x;return vi}function li(r,s,a,c,u,h,m,b){for(var S,N,j,G,Z,J,re,ae,de=[],se=[[],[]],ce=0;ce<2;++ce)if(0==ce?(N=6*r-12*a+6*u,S=-3*r+9*a-9*u+3*m,j=3*a-3*r):(N=6*s-12*c+6*h,S=-3*s+9*c-9*h+3*b,j=3*c-3*s),qa(S)<1e-12){if(qa(N)<1e-12)continue;0<(G=-j/N)&&G<1&&de.push(G)}else ae=mn.sqrt(re=N*N-4*j*S),re<0||(0<(Z=(-N+ae)/(2*S))&&Z<1&&de.push(Z),0<(J=(-N-ae)/(2*S))&&J<1&&de.push(J));for(var be,ve=de.length,Ie=ve;ve--;)be=1-(G=de[ve]),se[0][ve]=be*be*be*r+3*be*be*G*a+3*be*G*G*u+G*G*G*m,se[1][ve]=be*be*be*s+3*be*be*G*c+3*be*G*G*h+G*G*G*b;return se[0][Ie]=r,se[1][Ie]=s,se[0][Ie+1]=m,se[1][Ie+1]=b,se[0].length=se[1].length=Ie+2,{x0:_r.apply(0,se[0]),y0:_r.apply(0,se[1]),x1:xa.apply(0,se[0]),y1:xa.apply(0,se[1])}}function Vl(r){var s=_d(r);if(s.curve)return gf(s.curve);for(var a=function bm(r){var s=_d(r);if(s.abs)return gf(s.abs);if(mf(r)&&mf(r&&r[0])||(r=function(se){if(!se)return null;var ce=_d(se);if(ce.arr)return si(ce.arr);var be={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ve=[];return mf(se)&&mf(se[0])&&(ve=si(se)),ve.length||String(se).replace(k0,function(Ie,Ue,ze){var Ve=[],Ke=Ue.toLowerCase();for(ze.replace(Xv,function($t,wt){wt&&Ve.push(+wt)}),"m"==Ke&&Ve.length>2&&(ve.push([Ue].concat(Ve.splice(0,2))),Ke="l",Ue="m"==Ue?"l":"L");Ve.length>=be[Ke]&&(ve.push([Ue].concat(Ve.splice(0,be[Ke]))),be[Ke]););}),ve.toString=_d.toString,ce.arr=si(ve),ve}(r)),!r||!r.length)return[["M",0,0]];var a,c=[],u=0,h=0,m=0,b=0,S=0;"M"==r[0][0]&&(m=u=+r[0][1],b=h=+r[0][2],S++,c[0]=["M",u,h]);for(var N,j,G=S,Z=r.length;G<Z;G++){if(c.push(N=[]),(a=(j=r[G])[0])!=a.toUpperCase())switch(N[0]=a.toUpperCase(),N[0]){case"A":N[1]=j[1],N[2]=j[2],N[3]=j[3],N[4]=j[4],N[5]=j[5],N[6]=+j[6]+u,N[7]=+j[7]+h;break;case"V":N[1]=+j[1]+h;break;case"H":N[1]=+j[1]+u;break;case"M":m=+j[1]+u,b=+j[2]+h;default:for(var J=1,re=j.length;J<re;J++)N[J]=+j[J]+(J%2?u:h)}else for(var ae=0,de=j.length;ae<de;ae++)N[ae]=j[ae];switch(a=a.toUpperCase(),N[0]){case"Z":u=+m,h=+b;break;case"H":u=N[1];break;case"V":h=N[1];break;case"M":m=N[N.length-2],b=N[N.length-1];default:u=N[N.length-2],h=N[N.length-1]}}return c.toString=xt,s.abs=gf(c),c}(r),c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(J,re,ae){var de,se;if(!J)return["C",re.x,re.y,re.x,re.y,re.x,re.y];switch(!(J[0]in{T:1,Q:1})&&(re.qx=re.qy=null),J[0]){case"M":re.X=J[1],re.Y=J[2];break;case"A":J=["C"].concat(Gu.apply(0,[re.x,re.y].concat(J.slice(1))));break;case"S":"C"==ae||"S"==ae?(de=2*re.x-re.bx,se=2*re.y-re.by):(de=re.x,se=re.y),J=["C",de,se].concat(J.slice(1));break;case"T":"Q"==ae||"T"==ae?(re.qx=2*re.x-re.qx,re.qy=2*re.y-re.qy):(re.qx=re.x,re.qy=re.y),J=["C"].concat(Wu(re.x,re.y,re.qx,re.qy,J[1],J[2]));break;case"Q":re.qx=J[1],re.qy=J[2],J=["C"].concat(Wu(re.x,re.y,J[1],J[2],J[3],J[4]));break;case"L":J=["C"].concat(tn(re.x,re.y,J[1],J[2]));break;case"H":J=["C"].concat(tn(re.x,re.y,J[1],re.y));break;case"V":J=["C"].concat(tn(re.x,re.y,re.x,J[1]));break;case"Z":J=["C"].concat(tn(re.x,re.y,re.X,re.Y))}return J},h=function(J,re){if(J[re].length>7){J[re].shift();for(var ae=J[re];ae.length;)m[re]="A",J.splice(re++,0,["C"].concat(ae.splice(0,6)));J.splice(re,1),j=a.length}},m=[],b="",S="",N=0,j=a.length;N<j;N++){a[N]&&(b=a[N][0]),"C"!=b&&(m[N]=b,N&&(S=m[N-1])),a[N]=u(a[N],c,S),"A"!=m[N]&&"C"==b&&(m[N]="C"),h(a,N);var G=a[N],Z=G.length;c.x=G[Z-2],c.y=G[Z-1],c.bx=br(G[Z-4])||c.x,c.by=br(G[Z-3])||c.y}return s.curve=gf(a),a}var Ii=Bt(function(r,s,a){r=Vl(r),s=Vl(s);for(var c,u,h,m,b,S,N,j,G,Z,J=a?0:[],re=0,ae=r.length;re<ae;re++){var de=r[re];if("M"==de[0])c=b=de[1],u=S=de[2];else{"C"==de[0]?(G=[c,u].concat(de.slice(1)),c=G[6],u=G[7]):(G=[c,u,c,u,b,S,b,S],c=b,u=S);for(var se=0,ce=s.length;se<ce;se++){var be=s[se];if("M"==be[0])h=N=be[1],m=j=be[2];else{"C"==be[0]?(Z=[h,m].concat(be.slice(1)),h=Z[6],m=Z[7]):(Z=[h,m,h,m,N,j,N,j],h=N,m=j);var ve=$u(G,Z,a);if(a)J+=ve;else{for(var Ie=0,Ue=ve.length;Ie<Ue;Ie++)ve[Ie].segment1=re,ve[Ie].segment2=se,ve[Ie].bez1=G,ve[Ie].bez2=Z;J=J.concat(ve)}}}}}return J});function ji(r){return D(r)&&f(r,"waypoints")}function Zn(r){return D(r)&&f(r,"labelTarget")}function Dc(r){return{x:Math.round(r.x),y:Math.round(r.y),width:Math.round(r.width),height:Math.round(r.height)}}function Ro(r){return{x:Math.round(r.x),y:Math.round(r.y)}}function Ut(r){return{top:r.y,right:r.x+(r.width||0),bottom:r.y+(r.height||0),left:r.x}}function No(r){return{x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top}}function Jt(r){return ji(r)?function Zv(r){for(var s=r.waypoints,a=s.reduce(function(S,N,j){var ae,de,G=s[j-1];if(G){var Z=S[S.length-1],J=Z&&Z.endLength||0,re=(ae=G,de=N,Math.sqrt(Math.pow(ae.x-de.x,2)+Math.pow(ae.y-de.y,2)));S.push({start:G,end:N,startLength:J,endLength:J+re,length:re})}return S},[]),u=a.reduce(function(S,N){return S+N.length},0)/2,h=0,m=a[h];m.endLength<u;)m=a[++h];var b=(u-m.startLength)/m.length;return{x:m.start.x+(m.end.x-m.start.x)*b,y:m.start.y+(m.end.y-m.start.y)*b}}(r):Ro({x:(s=r).x+(s.width||0)/2,y:s.y+(s.height||0)/2});var s}function dr(r,s,a){D(a=a||0)||(a={x:a,y:a});var c=Ut(r),u=Ut(s),S=c.bottom+a.y<=u.top?"top":c.top-a.y>=u.bottom?"bottom":null,N=c.right+a.x<=u.left?"left":c.left-a.x>=u.right?"right":null;return N&&S?S+"-"+N:N||S||"intersect"}function Yu(r,s,a){var c=Ii(r,s);return 1===c.length||2===c.length&&Yn(c[0],c[1])<1?Ro(c[0]):c.length>1?Ro((c=fe(c,function(u){var h=Math.floor(100*u.t2)||1;return h=((h=100-h)<10?"0":"")+h,u.segment2+"#"+h}))[a?0:c.length-1]):null}function Ss(r,s){return Math.round(r*s)/s}function wm(r){return C(r)?r+"px":r}function Ea(r,s,a){const c=Gt("g");return Cn(c).add(s),r.insertBefore(c,r.childNodes[void 0!==a?a:r.childNodes.length-1]||null),c}const Qv={shape:["x","y","width","height"],connection:["waypoints"]};function je(r,s,a,c){this._eventBus=s,this._elementRegistry=c,this._graphicsFactory=a,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(r||{})}function Mc(r,s){r.setAttribute("transform","matrix("+s.a+","+s.b+","+s.c+","+s.d+","+s.e+","+s.f+")")}je.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],je.prototype._init=function(r){const s=this._eventBus,a=this._container=function(h){const m=(h=we({},{width:"100%",height:"100%"},h)).container||document.body,b=document.createElement("div");return b.setAttribute("class","djs-container djs-parent"),Mn(b,{position:"relative",overflow:"hidden",width:wm(h.width),height:wm(h.height)}),m.appendChild(b),b}(r),c=this._svg=Gt("svg");Ot(c,{width:"100%",height:"100%"}),Qt(a,c);const u=this._viewport=Ea(c,"viewport");!1!==r.deferUpdate&&(this._viewboxChanged=it(We(this._viewboxChanged,this),300)),s.on("diagram.init",()=>{s.fire("canvas.init",{svg:c,viewport:u})}),s.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),s.on("diagram.destroy",500,this._destroy,this),s.on("diagram.clear",500,this._clear,this)},je.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const r=this._container.parentNode;r&&r.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},je.prototype._clear=function(){this._elementRegistry.getAll().forEach(r=>{const s=on(r);"root"===s?this.removeRootElement(r):this._removeElement(r,s)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox},je.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},je.prototype.getLayer=function(r,s){if(!r)throw new Error("must specify a name");let a=this._layers[r];if(a||(a=this._layers[r]=this._createLayer(r,s)),void 0!==s&&a.index!==s)throw new Error("layer <"+r+"> already created at index <"+s+">");return a.group},je.prototype._getChildIndex=function(r){return v(this._layers,function(s,a){return a.visible&&r>=a.index&&s++,s},0)},je.prototype._createLayer=function(r,s){void 0===s&&(s=1);const a=this._getChildIndex(s);return{group:Ea(this._viewport,"layer-"+r,a),index:s,visible:!0}},je.prototype.showLayer=function(r){if(!r)throw new Error("must specify a name");const s=this._layers[r];if(!s)throw new Error("layer <"+r+"> does not exist");const a=this._viewport,c=s.group;if(s.visible)return c;const h=this._getChildIndex(s.index);return a.insertBefore(c,a.childNodes[h]||null),s.visible=!0,c},je.prototype.hideLayer=function(r){if(!r)throw new Error("must specify a name");const s=this._layers[r];if(!s)throw new Error("layer <"+r+"> does not exist");const a=s.group;return s.visible&&(Ni(a),s.visible=!1),a},je.prototype._removeLayer=function(r){const s=this._layers[r];s&&(delete this._layers[r],Ni(s.group))},je.prototype.getActiveLayer=function(){const r=this._findPlaneForRoot(this.getRootElement());return r?r.layer:null},je.prototype.findRoot=function(r){return"string"==typeof r&&(r=this._elementRegistry.get(r)),r?(this._findPlaneForRoot(function(a){for(;a.parent;)a=a.parent;return a}(r))||{}).rootElement:void 0},je.prototype.getRootElements=function(){return this._planes.map(function(r){return r.rootElement})},je.prototype._findPlaneForRoot=function(r){return _(this._planes,function(s){return s.rootElement===r})},je.prototype.getContainer=function(){return this._container},je.prototype._updateMarker=function(r,s,a){let c;r.id||(r=this._elementRegistry.get(r)),c=this._elementRegistry._elements[r.id],c&&(y([c.gfx,c.secondaryGfx],function(u){u&&(a?Cn(u).add(s):Cn(u).remove(s))}),this._eventBus.fire("element.marker.update",{element:r,gfx:c.gfx,marker:s,add:!!a}))},je.prototype.addMarker=function(r,s){this._updateMarker(r,s,!0)},je.prototype.removeMarker=function(r,s){this._updateMarker(r,s,!1)},je.prototype.hasMarker=function(r,s){return r.id||(r=this._elementRegistry.get(r)),Cn(this.getGraphics(r)).has(s)},je.prototype.toggleMarker=function(r,s){this.hasMarker(r,s)?this.removeMarker(r,s):this.addMarker(r,s)},je.prototype.getRootElement=function(){const r=this._rootElement;return r||this._planes.length?r:this.setRootElement(this.addRootElement(null))},je.prototype.addRootElement=function(r){const s=this._rootsIdx++;r||(r={id:"__implicitroot_"+s,children:[],isImplicit:!0});const a=r.layer="root-"+s;this._ensureValid("root",r);const c=this.getLayer(a,0);return this.hideLayer(a),this._addRoot(r,c),this._planes.push({rootElement:r,layer:c}),r},je.prototype.removeRootElement=function(r){if("string"==typeof r&&(r=this._elementRegistry.get(r)),this._findPlaneForRoot(r))return this._removeRoot(r),this._removeLayer(r.layer),this._planes=this._planes.filter(function(s){return s.rootElement!==r}),this._rootElement===r&&(this._rootElement=null),r},je.prototype.setRootElement=function(r){if(r===this._rootElement)return;let s;if(!r)throw new Error("rootElement required");return s=this._findPlaneForRoot(r),s||(r=this.addRootElement(r)),this._setRoot(r),r},je.prototype._removeRoot=function(r){const s=this._elementRegistry,a=this._eventBus;a.fire("root.remove",{element:r}),a.fire("root.removed",{element:r}),s.remove(r)},je.prototype._addRoot=function(r,s){const a=this._elementRegistry,c=this._eventBus;c.fire("root.add",{element:r}),a.add(r,s),c.fire("root.added",{element:r,gfx:s})},je.prototype._setRoot=function(r,s){const a=this._rootElement;a&&(this._elementRegistry.updateGraphics(a,null,!0),this.hideLayer(a.layer)),r&&(s||(s=this._findPlaneForRoot(r).layer),this._elementRegistry.updateGraphics(r,this._svg,!0),this.showLayer(r.layer)),this._rootElement=r,this._eventBus.fire("root.set",{element:r})},je.prototype._ensureValid=function(r,s){if(!s.id)throw new Error("element must have an id");if(this._elementRegistry.get(s.id))throw new Error("element <"+s.id+"> already exists");const a=Qv[r];if(!w(a,function(u){return void 0!==s[u]}))throw new Error("must supply { "+a.join(", ")+" } with "+r)},je.prototype._setParent=function(r,s,a){Si(s.children,r,a),r.parent=s},je.prototype._addElement=function(r,s,a,c){a=a||this.getRootElement();const u=this._eventBus,h=this._graphicsFactory;this._ensureValid(r,s),u.fire(r+".add",{element:s,parent:a}),this._setParent(s,a,c);const m=h.create(r,s,c);return this._elementRegistry.add(s,m),h.update(r,s,m),u.fire(r+".added",{element:s,gfx:m}),s},je.prototype.addShape=function(r,s,a){return this._addElement("shape",r,s,a)},je.prototype.addConnection=function(r,s,a){return this._addElement("connection",r,s,a)},je.prototype._removeElement=function(r,s){const a=this._elementRegistry,c=this._graphicsFactory,u=this._eventBus;if(r=a.get(r.id||r))return u.fire(s+".remove",{element:r}),c.remove(r),Je(r.parent&&r.parent.children,r),r.parent=null,u.fire(s+".removed",{element:r}),a.remove(r),r},je.prototype.removeShape=function(r){return this._removeElement(r,"shape")},je.prototype.removeConnection=function(r){return this._removeElement(r,"connection")},je.prototype.getGraphics=function(r,s){return this._elementRegistry.getGraphics(r,s)},je.prototype._changeViewbox=function(r){this._eventBus.fire("canvas.viewbox.changing"),r.apply(this),this._cachedViewbox=null,this._viewboxChanged()},je.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},je.prototype.viewbox=function(r){if(void 0===r&&this._cachedViewbox)return this._cachedViewbox;const s=this._viewport,a=this.getSize();let c,u,h,m,b,S,N;return r?(this._changeViewbox(function(){b=Math.min(a.width/r.width,a.height/r.height);const j=this._svg.createSVGMatrix().scale(b).translate(-r.x,-r.y);ko(s,j)}),r):(h=this._rootElement?this.getActiveLayer():null,c=h&&h.getBBox()||{},m=ko(s),u=m?m.matrix:function(j,G,Z,J,re,ae){var de=Mo().createSVGMatrix();switch(arguments.length){case 0:return de;case 1:return xc(de,j);case 6:return xc(de,{a:j,b:G,c:Z,d:J,e:re,f:ae})}}(),b=Ss(u.a,1e3),S=Ss(-u.e||0,1e3),N=Ss(-u.f||0,1e3),r=this._cachedViewbox={x:S?S/b:0,y:N?N/b:0,width:a.width/b,height:a.height/b,scale:b,inner:{width:c.width||0,height:c.height||0,x:c.x||0,y:c.y||0},outer:a})},je.prototype.scroll=function(r){const s=this._viewport;let a=s.getCTM();return r&&this._changeViewbox(function(){r=we({dx:0,dy:0},r||{}),a=this._svg.createSVGMatrix().translate(r.dx,r.dy).multiply(a),Mc(s,a)}),{x:a.e,y:a.f}},je.prototype.scrollToElement=function(r,s){let a=100;"string"==typeof r&&(r=this._elementRegistry.get(r));const c=this.findRoot(r);c!==this.getRootElement()&&this.setRootElement(c),s||(s={}),"number"==typeof s&&(a=s),s={top:s.top||a,right:s.right||a,bottom:s.bottom||a,left:s.left||a};const u=qt(r),h=Ut(u),m=this.viewbox(),b=this.zoom();let S,N;m.y+=s.top/b,m.x+=s.left/b,m.width-=(s.right+s.left)/b,m.height-=(s.bottom+s.top)/b;const j=Ut(m);if(u.width<m.width&&u.height<m.height){const G=Math.max(0,h.right-j.right),Z=Math.min(0,h.left-j.left),J=Math.max(0,h.bottom-j.bottom),re=Math.min(0,h.top-j.top);S=G||Z,N=J||re}else S=u.x-m.x,N=u.y-m.y;this.scroll({dx:-S*b,dy:-N*b})},je.prototype.zoom=function(r,s){if(!r)return this.viewbox(r).scale;if("fit-viewport"===r)return this._fitViewport(s);let a,c;return this._changeViewbox(function(){"object"!=typeof s&&(a=this.viewbox().outer,s={x:a.width/2,y:a.height/2}),c=this._setZoom(r,s)}),Ss(c.a,1e3)},je.prototype._fitViewport=function(r){const s=this.viewbox(),a=s.outer,c=s.inner;let u,h;return c.x>=0&&c.y>=0&&c.x+c.width<=a.width&&c.y+c.height<=a.height&&!r?h={x:0,y:0,width:Math.max(c.width+c.x,a.width),height:Math.max(c.height+c.y,a.height)}:(u=Math.min(1,a.width/c.width,a.height/c.height),h={x:c.x+(r?c.width/2-a.width/u/2:0),y:c.y+(r?c.height/2-a.height/u/2:0),width:a.width/u,height:a.height/u}),this.viewbox(h),this.viewbox(!1).scale},je.prototype._setZoom=function(r,s){const a=this._svg,c=this._viewport,u=a.createSVGMatrix(),h=a.createSVGPoint();let m,b,S,N,j;S=c.getCTM();const G=S.a;return s?(m=we(h,s),b=m.matrixTransform(S.inverse()),N=u.translate(b.x,b.y).scale(1/G*r).translate(-b.x,-b.y),j=S.multiply(N)):j=u.scale(r),Mc(this._viewport,j),j},je.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},je.prototype.getAbsoluteBBox=function(r){const s=this.viewbox();let a;return a=r.waypoints?this.getGraphics(r).getBBox():r,{x:a.x*s.scale-s.x*s.scale,y:a.y*s.scale-s.y*s.scale,width:a.width*s.scale,height:a.height*s.scale}},je.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var It="data-element-id";function eo(r){this._elements={},this._eventBus=r}eo.$inject=["eventBus"],eo.prototype.add=function(r,s,a){var c=r.id;this._validateId(c),Ot(s,It,c),a&&Ot(a,It,c),this._elements[c]={element:r,gfx:s,secondaryGfx:a}},eo.prototype.remove=function(r){var s=this._elements,a=r.id||r,c=a&&s[a];c&&(Ot(c.gfx,It,""),c.secondaryGfx&&Ot(c.secondaryGfx,It,""),delete s[a])},eo.prototype.updateId=function(r,s){this._validateId(s),"string"==typeof r&&(r=this.get(r)),this._eventBus.fire("element.updateId",{element:r,newId:s});var a=this.getGraphics(r),c=this.getGraphics(r,!0);this.remove(r),r.id=s,this.add(r,a,c)},eo.prototype.updateGraphics=function(r,s,a){var c=r.id||r,u=this._elements[c];return a?u.secondaryGfx=s:u.gfx=s,s&&Ot(s,It,c),s},eo.prototype.get=function(r){var s;s="string"==typeof r?r:r&&Ot(r,It);var a=this._elements[s];return a&&a.element},eo.prototype.filter=function(r){var s=[];return this.forEach(function(a,c){r(a,c)&&s.push(a)}),s},eo.prototype.find=function(r){for(var s=this._elements,a=Object.keys(s),c=0;c<a.length;c++){var u=s[a[c]],h=u.element;if(r(h,u.gfx))return h}},eo.prototype.getAll=function(){return this.filter(function(r){return r})},eo.prototype.forEach=function(r){var s=this._elements;Object.keys(s).forEach(function(a){var c=s[a];return r(c.element,c.gfx)})},eo.prototype.getGraphics=function(r,s){var c=this._elements[r.id||r];return c&&(s?c.secondaryGfx:c.gfx)},eo.prototype._validateId=function(r){if(!r)throw new Error("element must have an id");if(this._elements[r])throw new Error("element with id "+r+" already added")};var Tc={exports:{}},tl={extend:function(r,s,a,c){var u=a.inverse;return Object.defineProperty(r,"remove",{value:function(h){var m=this.indexOf(h);return-1!==m&&(this.splice(m,1),s.unset(h,u,c)),h}}),Object.defineProperty(r,"contains",{value:function(h){return-1!==this.indexOf(h)}}),Object.defineProperty(r,"add",{value:function(h,m){var b=this.indexOf(h);if(void 0===m){if(-1!==b)return;m=this.length}-1!==b&&this.splice(b,1),this.splice(m,0,h),-1===b&&s.set(h,u,c)}}),Object.defineProperty(r,"__refs_collection",{value:!0}),r},isExtended:function(r){return!0===r.__refs_collection}},xm=tl;function Em(r,s,a){var c=xm.extend(a[s.name]||[],r,s,a);Object.defineProperty(a,s.name,{enumerable:s.enumerable,value:c}),c.length&&c.forEach(function(u){r.set(u,s.inverse,a)})}function nl(r,s){if(!(this instanceof nl))return new nl(r,s);r.inverse=s,s.inverse=r,this.props={},this.props[r.name]=r,this.props[s.name]=s}nl.prototype.bind=function(r,s){if("string"==typeof s){if(!this.props[s])throw new Error("no property <"+s+"> in ref");s=this.props[s]}var a,c,u,h,m;s.collection?Em(this,s,r):(a=this,h=(c=s).inverse,m=(u=r)[c.name],Object.defineProperty(u,c.name,{configurable:c.configurable,enumerable:c.enumerable,get:function(){return m},set:function(b){if(b!==m){var S=m;m=null,S&&a.unset(S,h,u),a.set(m=b,h,u)}}}))},nl.prototype.ensureRefsCollection=function(r,s){var a=r[s.name];return xm.isExtended(a)||Em(this,s,r),a},nl.prototype.ensureBound=function(r,s){var c;c=s,Object.prototype.hasOwnProperty.call(r,c.name||c)||this.bind(r,s)},nl.prototype.unset=function(r,s,a){r&&(this.ensureBound(r,s),s.collection?this.ensureRefsCollection(r,s).remove(a):r[s.name]=void 0)},nl.prototype.set=function(r,s,a){r&&(this.ensureBound(r,s),s.collection?this.ensureRefsCollection(r,s).add(a):r[s.name]=a)},Tc.exports=nl,Tc.exports.Collection=tl;var Fo=Bt(Tc.exports),to=new Fo({name:"children",enumerable:!0,collection:!0},{name:"parent"}),Ds=new Fo({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),fi=new Fo({name:"attachers",collection:!0},{name:"host"}),Hl=new Fo({name:"outgoing",collection:!0},{name:"source"}),Ku=new Fo({name:"incoming",collection:!0},{name:"target"});function il(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(r){var s=this.label,a=this.labels;!r&&s?a.remove(s):a.add(r,0)}}),to.bind(this,"parent"),Ds.bind(this,"labels"),Hl.bind(this,"outgoing"),Ku.bind(this,"incoming")}function kc(){il.call(this),to.bind(this,"children"),fi.bind(this,"host"),fi.bind(this,"attachers")}function Qs(){il.call(this),to.bind(this,"children")}function jl(){kc.call(this),Ds.bind(this,"labelTarget")}function yf(){il.call(this),Hl.bind(this,"source"),Ku.bind(this,"target")}W(kc,il),W(Qs,kc),W(jl,kc),W(yf,il);var bf={connection:yf,shape:kc,label:jl,root:Qs};function pi(){this._uid=12}pi.prototype.createRoot=function(r){return this.create("root",r)},pi.prototype.createLabel=function(r){return this.create("label",r)},pi.prototype.createShape=function(r){return this.create("shape",r)},pi.prototype.createConnection=function(r){return this.create("connection",r)},pi.prototype.create=function(r,s){return(s=we({},s||{})).id||(s.id=r+"_"+this._uid++),function(a,c){var u=bf[a];if(!u)throw new Error("unknown type: <"+a+">");return we(new u,c)}(r,s)};var Cm=Array.prototype.slice;function po(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function qs(){}function Ed(r){return r.childNodes[0]}function Xu(r,s,a,c,u){var h=bi();h.setTranslate(s,a);var m=bi();m.setRotate(c||0,0,0);var b=bi();b.setScale(u||1,u||1),ko(r,[h,m,b])}function Lo(r,s,a){var c=bi();c.setTranslate(s,a),ko(r,c)}function Ul(r,s){var a=bi();a.setRotate(s,0,0),ko(r,a)}function Xo(r,s){this._eventBus=r,this._elementRegistry=s}function Sm(r,s,a){var c=a||s.firstChild;r!==c&&s.insertBefore(r,c)}po.prototype.on=function(r,s,a,c){if(r=T(r)?r:[r],E(s)&&(c=a,a=s,s=1e3),!C(s))throw new Error("priority must be a number");var u=a;c&&((u=We(a,c)).__fn=a.__fn||a);var h=this;r.forEach(function(m){h._addListener(m,{priority:s,callback:u,next:null})})},po.prototype.once=function(r,s,a,c){var u=this;if(E(s)&&(c=a,a=s,s=1e3),!C(s))throw new Error("priority must be a number");function h(){h.__isTomb=!0;var m=a.apply(c,arguments);return u.off(r,h),m}h.__fn=a,this.on(r,s,h)},po.prototype.off=function(r,s){r=T(r)?r:[r];var a=this;r.forEach(function(c){a._removeListener(c,s)})},po.prototype.createEvent=function(r){var s=new qs;return s.init(r),s},po.prototype.fire=function(r,s){var a,c,u,h;if(h=Cm.call(arguments),"object"==typeof r&&(r=(s=r).type),!r)throw new Error("no event type specified");if(c=this._listeners[r]){a=s instanceof qs?s:this.createEvent(s),h[0]=a;var m=a.type;r!==m&&(a.type=r);try{u=this._invokeListeners(a,h,c)}finally{r!==m&&(a.type=m)}return void 0===u&&a.defaultPrevented&&(u=!1),u}},po.prototype.handleError=function(r){return!1===this.fire("error",{error:r})},po.prototype._destroy=function(){this._listeners={}},po.prototype._invokeListeners=function(r,s,a){for(var c;a&&!r.cancelBubble;)c=this._invokeListener(r,s,a),a=a.next;return c},po.prototype._invokeListener=function(r,s,a){var c,u;if(a.callback.__isTomb)return c;try{void 0!==(c=(u=a.callback).apply(null,s))&&(r.returnValue=c,r.stopPropagation()),!1===c&&r.preventDefault()}catch(u){if(!this.handleError(u))throw console.error("unhandled error in event listener",u),u}return c},po.prototype._addListener=function(r,s){var a,c=this._getListeners(r);if(c){for(;c;){if(c.priority<s.priority)return s.next=c,void(a?a.next=s:this._setListeners(r,s));a=c,c=c.next}a.next=s}else this._setListeners(r,s)},po.prototype._getListeners=function(r){return this._listeners[r]},po.prototype._setListeners=function(r,s){this._listeners[r]=s},po.prototype._removeListener=function(r,s){var a,c,u,h=this._getListeners(r);if(s)for(;h;)a=h.next,(u=h.callback)!==s&&u.__fn!==s||(c?c.next=a:this._setListeners(r,a)),c=h,h=a;else this._setListeners(r,null)},qs.prototype.stopPropagation=function(){this.cancelBubble=!0},qs.prototype.preventDefault=function(){this.defaultPrevented=!0},qs.prototype.init=function(r){we(this,r||{})},Xo.$inject=["eventBus","elementRegistry"],Xo.prototype._getChildrenContainer=function(r){var s,a=this._elementRegistry.getGraphics(r);return r.parent?(s=a.parentNode.childNodes[1])||(Cn(s=Gt("g")).add("djs-children"),Qt(a.parentNode,s)):s=a,s},Xo.prototype._clear=function(r){var s=Ed(r);return Vi(s),s},Xo.prototype._createContainer=function(r,s,a,c){var u=Gt("g");Cn(u).add("djs-group"),void 0!==a?Sm(u,s,s.childNodes[a]):Qt(s,u);var h=Gt("g");Cn(h).add("djs-element"),Cn(h).add("djs-"+r),c&&Cn(h).add("djs-frame"),Qt(u,h);var m=Gt("g");return Cn(m).add("djs-visual"),Qt(h,m),h},Xo.prototype.create=function(r,s,a){var c=this._getChildrenContainer(s.parent);return this._createContainer(r,c,a,_a(s))},Xo.prototype.updateContainments=function(r){var a=this,c=this._elementRegistry;y(v(r,function(u,h){return h.parent&&(u[h.parent.id]=h.parent),u},{}),function(u){var h=u.children;if(h){var m=a._getChildrenContainer(u);y(h.slice().reverse(),function(b){Sm(c.getGraphics(b).parentNode,m)})}})},Xo.prototype.drawShape=function(r,s){return this._eventBus.fire("render.shape",{gfx:r,element:s})},Xo.prototype.getShapePath=function(r){return this._eventBus.fire("render.getShapePath",r)},Xo.prototype.drawConnection=function(r,s){return this._eventBus.fire("render.connection",{gfx:r,element:s})},Xo.prototype.getConnectionPath=function(r){return this._eventBus.fire("render.getConnectionPath",r)},Xo.prototype.update=function(r,s,a){if(s.parent){var c=this._clear(a);if("shape"===r)this.drawShape(c,s),Lo(a,s.x,s.y);else{if("connection"!==r)throw new Error("unknown type: "+r);this.drawConnection(c,s)}Ot(a,"display",s.hidden?"none":"block")}},Xo.prototype.remove=function(r){Ni(this._elementRegistry.getGraphics(r).parentNode)};var Ms={__depends__:[Qa],__init__:["canvas"],canvas:["type",je],elementRegistry:["type",eo],elementFactory:["type",pi],eventBus:["type",po],graphicsFactory:["type",Xo]};function Sa(r,s){this._injector=s=s||function Zu(r){return function(s){var a=new Ka(s);return a.init(),a}([{config:["value",r=r||{}]},Ms].concat(r.modules||[]))}(r),this.get=s.get,this.invoke=s.invoke,this.get("eventBus").fire("diagram.init")}function Cd(){}function _f(r,s){this.model=r,this.properties=s}Sa.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},Sa.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},Cd.prototype.get=function(r){return this.$model.properties.get(this,r)},Cd.prototype.set=function(r,s){this.$model.properties.set(this,r,s)},_f.prototype.createType=function(r){var s=this.model,a=this.properties,c=Object.create(Cd.prototype);y(r.properties,function(m){m.isMany||void 0===m.default||(c[m.name]=m.default)}),a.defineModel(c,s),a.defineDescriptor(c,r);var u=r.ns.name;function h(m){a.define(this,"$type",{value:u,enumerable:!0}),a.define(this,"$attrs",{value:{}}),a.define(this,"$parent",{writable:!0}),y(m,We(function(b,S){this.set(S,b)},this))}return h.prototype=c,h.hasType=c.$instanceOf=this.model.hasType,a.defineModel(h,s),a.defineDescriptor(h,r),h};var qv={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},Qu={String:function(r){return r},Boolean:function(r){return"true"===r},Integer:function(r){return parseInt(r,10)},Real:function(r){return parseFloat(r)}};function Ac(r,s){var a=Qu[r];return a?a(s):s}function Sd(r){return!!qv[r]}function Dm(r){return!!Qu[r]}function mo(r,s){var a,c,u=r.split(/:/);if(1===u.length)a=r,c=s;else{if(2!==u.length)throw new Error("expected <prefix:localName> or <localName>, got "+r);a=u[1],c=u[0]}return{name:r=(c?c+":":"")+a,prefix:c,localName:a}}function _i(r){this.ns=r,this.name=r.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function rl(r,s){this.packageMap={},this.typeMap={},this.packages=[],this.properties=s,y(r,We(this.registerPackage,this))}function Mm(r,s,a){var c=s[a];if(c in r)throw new Error("package with "+a+" <"+c+"> already defined")}function Oc(r){this.model=r}function mi(r,s,a){Object.defineProperty(r,s.name,{enumerable:!s.isReference,writable:!0,value:a,configurable:!0})}function cs(r){this.properties=new Oc(this),this.factory=new _f(this,this.properties),this.registry=new rl(r,this.properties),this.typeCache={}}_i.prototype.build=function(){return Oe(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},_i.prototype.addProperty=function(r,s,a){"boolean"==typeof s&&(a=s,s=void 0),this.addNamedProperty(r,!1!==a);var c=this.properties;void 0!==s?c.splice(s,0,r):c.push(r)},_i.prototype.replaceProperty=function(r,s,a){var c=r.ns,u=this.properties,h=this.propertiesByName,m=r.name!==s.name;if(r.isId){if(!s.isId)throw new Error("property <"+s.ns.name+"> must be id property to refine <"+r.ns.name+">");this.setIdProperty(s,!1)}if(r.isBody){if(!s.isBody)throw new Error("property <"+s.ns.name+"> must be body property to refine <"+r.ns.name+">");this.setBodyProperty(s,!1)}var b=u.indexOf(r);if(-1===b)throw new Error("property <"+c.name+"> not found in property list");u.splice(b,1),this.addProperty(s,a?void 0:b,m),h[c.name]=h[c.localName]=s},_i.prototype.redefineProperty=function(r,s,a){var c=r.ns.prefix,u=s.split("#"),h=mo(u[0],c),m=mo(u[1],h.prefix).name,b=this.propertiesByName[m];if(!b)throw new Error("refined property <"+m+"> not found");this.replaceProperty(b,r,a),delete r.redefines},_i.prototype.addNamedProperty=function(r,s){var a=r.ns,c=this.propertiesByName;s&&(this.assertNotDefined(r,a.name),this.assertNotDefined(r,a.localName)),c[a.name]=c[a.localName]=r},_i.prototype.removeNamedProperty=function(r){var s=r.ns,a=this.propertiesByName;delete a[s.name],delete a[s.localName]},_i.prototype.setBodyProperty=function(r,s){if(s&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+r.ns.name+">)");this.bodyProperty=r},_i.prototype.setIdProperty=function(r,s){if(s&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+r.ns.name+">)");this.idProperty=r},_i.prototype.assertNotDefined=function(r,s){var a=r.name,c=this.propertiesByName[a];if(c)throw new Error("property <"+a+"> already defined; override of <"+c.definedBy.ns.name+"#"+c.ns.name+"> by <"+r.definedBy.ns.name+"#"+r.ns.name+"> not allowed without redefines")},_i.prototype.hasProperty=function(r){return this.propertiesByName[r]},_i.prototype.addTrait=function(r,s){var a=this.allTypesByName,c=this.allTypes,u=r.name;u in a||(y(r.properties,We(function(h){h=we({},h,{name:h.ns.localName,inherited:s}),Object.defineProperty(h,"definedBy",{value:r});var m=h.replaces,b=h.redefines;m||b?this.redefineProperty(h,m||b,m):(h.isBody&&this.setBodyProperty(h),h.isId&&this.setIdProperty(h),this.addProperty(h))},this)),c.push(r),a[u]=r)},rl.prototype.getPackage=function(r){return this.packageMap[r]},rl.prototype.getPackages=function(){return this.packages},rl.prototype.registerPackage=function(r){r=we({},r);var s=this.packageMap;Mm(s,r,"prefix"),Mm(s,r,"uri"),y(r.types,We(function(a){this.registerType(a,r)},this)),s[r.uri]=s[r.prefix]=r,this.packages.push(r)},rl.prototype.registerType=function(r,s){var a=mo((r=we({},r,{superClass:(r.superClass||[]).slice(),extends:(r.extends||[]).slice(),properties:(r.properties||[]).slice(),meta:we(r.meta||{})})).name,s.prefix),c=a.name,u={};y(r.properties,We(function(h){var m=mo(h.name,a.prefix),b=m.name;Sd(h.type)||(h.type=mo(h.type,m.prefix).name),we(h,{ns:m,name:b}),u[b]=h},this)),we(r,{ns:a,name:c,propertiesByName:u}),y(r.extends,We(function(h){var m=this.typeMap[h];m.traits=m.traits||[],m.traits.push(c)},this)),this.definePackage(r,s),this.typeMap[c]=r},rl.prototype.mapTypes=function(r,s,a){var c=Sd(r.name)?{name:r.name}:this.typeMap[r.name],u=this;function h(b){return m(b,!0)}function m(b,S){var N=mo(b,Sd(b)?"":r.prefix);u.mapTypes(N,s,S)}if(!c)throw new Error("unknown type <"+r.name+">");y(c.superClass,a?h:m),s(c,!a),y(c.traits,h)},rl.prototype.getEffectiveDescriptor=function(r){var s=mo(r),a=new _i(s);this.mapTypes(s,function(u,h){a.addTrait(u,h)});var c=a.build();return this.definePackage(c,c.allTypes[c.allTypes.length-1].$pkg),c},rl.prototype.definePackage=function(r,s){this.properties.define(r,"$pkg",{value:s})},Oc.prototype.set=function(r,s,a){if(!I(s)||!s.length)throw new TypeError("property name must be a non-empty string");var c=this.model.getPropertyDescriptor(r,s),u=c&&c.name;void 0===a?c?delete r[u]:delete r.$attrs[s]:c?u in r?r[u]=a:mi(r,c,a):r.$attrs[s]=a},Oc.prototype.get=function(r,s){var a=this.model.getPropertyDescriptor(r,s);if(!a)return r.$attrs[s];var c=a.name;return!r[c]&&a.isMany&&mi(r,a,[]),r[c]},Oc.prototype.define=function(r,s,a){if(!a.writable){var c=a.value;delete(a=we({},a,{get:function(){return c}})).value}Object.defineProperty(r,s,a)},Oc.prototype.defineDescriptor=function(r,s){this.define(r,"$descriptor",{value:s})},Oc.prototype.defineModel=function(r,s){this.define(r,"$model",{value:s})},cs.prototype.create=function(r,s){var a=this.getType(r);if(!a)throw new Error("unknown type <"+r+">");return new a(s)},cs.prototype.getType=function(r){var s=this.typeCache,a=I(r)?r:r.ns.name,c=s[a];return c||(r=this.registry.getEffectiveDescriptor(a),c=s[a]=this.factory.createType(r)),c},cs.prototype.createAny=function(r,s,a){var c=mo(r),u={$type:r,$instanceOf:function(m){return m===this.$type}};return this.properties.defineDescriptor(u,{name:r,isGeneric:!0,ns:{prefix:c.prefix,localName:c.localName,uri:s}}),this.properties.defineModel(u,this),this.properties.define(u,"$parent",{enumerable:!1,writable:!0}),this.properties.define(u,"$instanceOf",{enumerable:!1,writable:!0}),y(a,function(m,b){D(m)&&void 0!==m.value?u[m.name]=m.value:u[b]=m}),u},cs.prototype.getPackage=function(r){return this.registry.getPackage(r)},cs.prototype.getPackages=function(){return this.registry.getPackages()},cs.prototype.getElementDescriptor=function(r){return r.$descriptor},cs.prototype.hasType=function(r,s){return void 0===s&&(s=r,r=this),s in r.$model.getElementDescriptor(r).allTypesByName},cs.prototype.getPropertyDescriptor=function(r,s){return this.getElementDescriptor(r).propertiesByName[s]},cs.prototype.getTypeDescriptor=function(r){return this.registry.typeMap[r]};var Tm=String.fromCharCode,Mt=Object.prototype.hasOwnProperty,go=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,ni={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function no(r,s,a,c){return c?Mt.call(ni,c)?ni[c]:"&"+c+";":Tm(s||parseInt(a,16))}function Di(r){return r.length>3&&-1!==r.indexOf("&")?r.replace(go,no):r}Object.keys(ni).forEach(function(r){ni[r.toUpperCase()]=ni[r]});var Zo="xsi:type",vo="non-whitespace outside of root node";function $l(r){return new Error(r)}function qu(r){return"missing namespace for prefix <"+r+">"}function ol(r){return{get:r,enumerable:!0}}function Jv(r){var s,a={};for(s in r)a[s]=r[s];return a}function wf(r){return r+"$uri"}function xr(){return{line:0,column:0}}function Lt(r){throw r}function Sn(r){if(!this)return new Sn(r);var s,a,c,u,h,m,b,S,N,j=r&&r.proxy,G=Lt,Z=xr,J=!1,re=!1,ae=null,de=!1;function se(be){be instanceof Error||(be=$l(be)),ae=be,G(be,Z)}function ce(be){h&&(be instanceof Error||(be=$l(be)),h(be,Z))}this.on=function(be,ve){if("function"!=typeof ve)throw $l("required args <name, cb>");switch(be){case"openTag":a=ve;break;case"text":s=ve;break;case"closeTag":c=ve;break;case"error":G=ve;break;case"warn":h=ve;break;case"cdata":u=ve;break;case"attention":S=ve;break;case"question":b=ve;break;case"comment":m=ve;break;default:throw $l("unsupported event: "+be)}return this},this.ns=function(be){if(void 0===be&&(be={}),"object"!=typeof be)throw $l("required args <nsMap={}>");var ve,Ie={};for(ve in be)Ie[ve]=be[ve];return Ie["http://www.w3.org/2001/XMLSchema-instance"]="xsi",re=!0,N=Ie,this},this.parse=function(be){if("string"!=typeof be)throw $l("required args <xml=string>");return ae=null,function(ve){var Ie,Ue,ze,Ve,Ke,$t,wt,Ze,at,un,Te,ue=re?[]:null,Fe=re?function(er){var xi,Bn,zi={};for(xi in er)zi[Bn=er[xi]]=Bn,zi[wf(Bn)]=xi;return zi}(N):null,tt=[],mt=0,zt=!1,Ht=!1,jt=0,Kt=0,vi="",fn=0;function Fr(){if(null!==Te)return Te;var er,xi,Bn,zi,Gr,Gi,is,Mi,Us,_n,Ti,fa=re&&Fe.xmlns,sd=re&&J?[]:null,wr=fn,ws=vi,cc=ws.length,Tl={},Up={};e:for(;wr<cc;wr++)if(Us=!1,!(32===(_n=ws.charCodeAt(wr))||_n<14&&_n>8)){for((_n<65||_n>122||_n>90&&_n<97)&&95!==_n&&58!==_n&&(ce("illegal first char attribute name"),Us=!0),Ti=wr+1;Ti<cc;Ti++)if(!((_n=ws.charCodeAt(Ti))>96&&_n<123||_n>64&&_n<91||_n>47&&_n<59||46===_n||45===_n||95===_n)){if(32===_n||_n<14&&_n>8){ce("missing attribute value"),wr=Ti;continue e}if(61===_n)break;ce("illegal attribute name char"),Us=!0}if("xmlns:xmlns"===(Mi=ws.substring(wr,Ti))&&(ce("illegal declaration of xmlns"),Us=!0),34===(_n=ws.charCodeAt(Ti+1)))-1===(Ti=ws.indexOf('"',wr=Ti+2))&&-1!==(Ti=ws.indexOf("'",wr))&&(ce("attribute value quote missmatch"),Us=!0);else if(39===_n)-1===(Ti=ws.indexOf("'",wr=Ti+2))&&-1!==(Ti=ws.indexOf('"',wr))&&(ce("attribute value quote missmatch"),Us=!0);else for(ce("missing attribute value quotes"),Us=!0,Ti+=1;Ti<cc&&!(32===(_n=ws.charCodeAt(Ti+1))||_n<14&&_n>8);Ti++);for(-1===Ti&&(ce("missing closing quotes"),Ti=cc,Us=!0),Us||(Gi=ws.substring(wr,Ti)),wr=Ti;Ti+1<cc&&!(32===(_n=ws.charCodeAt(Ti+1))||_n<14&&_n>8);Ti++)wr===Ti&&(ce("illegal character after attribute end"),Us=!0);if(wr=Ti+1,!Us)if(Mi in Up)ce("attribute <"+Mi+"> already defined");else if(Up[Mi]=!0,re)if(J){if(null!==(Gr="xmlns"===Mi?"xmlns":120===Mi.charCodeAt(0)&&"xmlns:"===Mi.substr(0,6)?Mi.substr(6):null)){if(er=Di(Gi),xi=wf(Gr),!(is=N[er])){if("xmlns"===Gr||xi in Fe&&Fe[xi]!==er)do{is="ns"+mt++}while(void 0!==Fe[is]);else is=Gr;N[er]=is}Fe[Gr]!==is&&(zi||(Fe=Jv(Fe),zi=!0),Fe[Gr]=is,"xmlns"===Gr&&(Fe[wf(is)]=er,fa=is),Fe[xi]=er),Tl[Mi]=Gi;continue}sd.push(Mi,Gi)}else-1!==(_n=Mi.indexOf(":"))?(Bn=Fe[Mi.substring(0,_n)])?((Mi=fa===Bn?Mi.substr(_n+1):Bn+Mi.substr(_n))===Zo&&(-1!==(_n=Gi.indexOf(":"))?(Bn=Gi.substring(0,_n),Gi=(Bn=Fe[Bn]||Bn)+Gi.substring(_n)):Gi=fa+":"+Gi),Tl[Mi]=Gi):ce(qu(Mi.substring(0,_n))):Tl[Mi]=Gi;else Tl[Mi]=Gi}if(J)for(wr=0,cc=sd.length;wr<cc;wr++){if(Mi=sd[wr++],Gi=sd[wr],-1!==(_n=Mi.indexOf(":"))){if(!(Bn=Fe[Mi.substring(0,_n)])){ce(qu(Mi.substring(0,_n)));continue}(Mi=fa===Bn?Mi.substr(_n+1):Bn+Mi.substr(_n))===Zo&&(-1!==(_n=Gi.indexOf(":"))?(Bn=Gi.substring(0,_n),Gi=(Bn=Fe[Bn]||Bn)+Gi.substring(_n)):Gi=fa+":"+Gi)}Tl[Mi]=Gi}return Te=Tl}for(Z=function Ba(){for(var er,xi,Bn=/(\r\n|\r|\n)/g,zi=0,Gr=0,Gi=0,is=Kt;jt>=Gi&&(er=Bn.exec(ve))&&!((is=er[0].length+er.index)>jt);)zi+=1,Gi=is;return-1==jt?(Gr=is,xi=ve.substring(Kt)):0===Kt?xi=ve.substring(Kt,jt):(Gr=jt-Gi,xi=-1==Kt?ve.substring(jt):ve.substring(jt,Kt+1)),{data:xi,line:zi,column:Gr}},j&&(un=Object.create({},{name:ol(function(){return Ze}),originalName:ol(function(){return at}),attrs:ol(Fr),ns:ol(function(){return Fe})}));-1!==Kt;){if(-1===(jt=60===ve.charCodeAt(Kt)?Kt:ve.indexOf("<",Kt)))return tt.length?se("unexpected end of file"):0===Kt?se("missing start tag"):void(Kt<ve.length&&ve.substring(Kt).trim()&&ce(vo));if(Kt!==jt)if(tt.length){if(s&&(s(ve.substring(Kt,jt),Di,Z),de))return}else if(ve.substring(Kt,jt).trim()&&(ce(vo),de))return;if(33===(Ke=ve.charCodeAt(jt+1))){if(91===(Ve=ve.charCodeAt(jt+2))&&"CDATA["===ve.substr(jt+3,6)){if(-1===(Kt=ve.indexOf("]]>",jt)))return se("unclosed cdata");if(u&&(u(ve.substring(jt+9,Kt),Z),de))return;Kt+=3;continue}if(45===Ve&&45===ve.charCodeAt(jt+3)){if(-1===(Kt=ve.indexOf("--\x3e",jt)))return se("unclosed comment");if(m&&(m(ve.substring(jt+4,Kt),Di,Z),de))return;Kt+=3;continue}}if(63!==Ke){for(Ue=jt+1;;Ue++){if($t=ve.charCodeAt(Ue),isNaN($t))return Kt=-1,se("unclosed tag");if(34===$t)Ue=-1!==(Ve=ve.indexOf('"',Ue+1))?Ve:Ue;else if(39===$t)Ue=-1!==(Ve=ve.indexOf("'",Ue+1))?Ve:Ue;else if(62===$t){Kt=Ue;break}}if(33!==Ke){if(Te={},47===Ke){if(zt=!1,Ht=!0,!tt.length)return se("missing open tag");if(Ue=Ze=tt.pop(),ve.substring(jt+2,Ve=jt+2+Ue.length)!==Ue)return se("closing tag mismatch");for(;Ve<Kt;Ve++)if(!(32===(Ke=ve.charCodeAt(Ve))||Ke>8&&Ke<14))return se("close tag")}else{if(47===ve.charCodeAt(Kt-1)?(Ue=Ze=ve.substring(jt+1,Kt-1),zt=!0,Ht=!0):(Ue=Ze=ve.substring(jt+1,Kt),zt=!0,Ht=!1),!(Ke>96&&Ke<123||Ke>64&&Ke<91||95===Ke||58===Ke))return se("illegal first char nodeName");for(Ve=1,ze=Ue.length;Ve<ze;Ve++)if(!((Ke=Ue.charCodeAt(Ve))>96&&Ke<123||Ke>64&&Ke<91||Ke>47&&Ke<59||45===Ke||95===Ke||46==Ke)){if(32===Ke||Ke<14&&Ke>8){Ze=Ue.substring(0,Ve),Te=null;break}return se("invalid nodeName")}Ht||tt.push(Ze)}if(re){if(Ie=Fe,zt&&(Ht||ue.push(Ie),null===Te&&(J=-1!==Ue.indexOf("xmlns",Ve))&&(fn=Ve,vi=Ue,Fr(),J=!1)),at=Ze,-1!==(Ke=Ze.indexOf(":"))){if(!(wt=Fe[Ze.substring(0,Ke)]))return se("missing namespace on <"+at+">");Ze=Ze.substr(Ke+1)}else wt=Fe.xmlns;wt&&(Ze=wt+":"+Ze)}if(zt&&(fn=Ve,vi=Ue,a&&(j?a(un,Di,Ht,Z):a(Ze,Fr,Di,Ht,Z),de)))return;if(Ht){if(c&&(c(j?un:Ze,Di,zt,Z),de))return;re&&(Fe=zt?Ie:ue.pop())}Kt+=1}else{if(S&&(S(ve.substring(jt,Kt+1),Di,Z),de))return;Kt+=1}}else{if(-1===(Kt=ve.indexOf("?>",jt)))return se("unclosed question");if(b&&(b(ve.substring(jt,Kt+2),Z),de))return;Kt+=2}}}(be),Z=xr,de=!1,ae},this.stop=function(){de=!0}}function Qi(r){return r.xml&&"lowerCase"===r.xml.tagAlias}var Ts={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},Js="xsi:type";function Vr(r){return r.xml&&r.xml.serialize}function Wl(r){return Vr(r)===Js}function ir(r,s){return Qi(s)?r.prefix+":"+((a=r.localName).charAt(0).toUpperCase()+a.slice(1)):r.name;var a}function Qo(r){return new Error(r)}function Hr(r){return r.$descriptor}function Dn(r){we(this,r),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(s){this.references.push(s)},this.addElement=function(s){if(!s)throw Qo("expected element");var a,c=this.elementsById,u=Hr(s).idProperty;if(u&&(a=s.get(u.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(a))throw new Error("illegal ID <"+a+">");if(c[a])throw Qo("duplicate ID <"+a+">");c[a]=s}},this.addWarning=function(s){this.warnings.push(s)}}function Da(){}function Ju(){}function ks(){}function qi(r,s){this.property=r,this.context=s}function Gl(r,s){this.element=s,this.propertyDesc=r}function Ma(){}function Xi(r,s,a){this.model=r,this.type=r.getType(s),this.context=a}function sl(r,s,a){Xi.call(this,r,s,a)}function al(r,s,a){this.model=r,this.context=a}function As(r){r instanceof cs&&(r={model:r}),we(this,{lax:!1},r)}Da.prototype.handleEnd=function(){},Da.prototype.handleText=function(){},Da.prototype.handleNode=function(){},(Ju.prototype=Object.create(Da.prototype)).handleNode=function(){return this},(ks.prototype=Object.create(Da.prototype)).handleText=function(r){this.body=(this.body||"")+r},(qi.prototype=Object.create(ks.prototype)).handleNode=function(r){if(this.element)throw Qo("expected no sub nodes");return this.element=this.createReference(r),this},qi.prototype.handleEnd=function(){this.element.id=this.body},qi.prototype.createReference=function(r){return{property:this.property.ns.name,id:""}},(Gl.prototype=Object.create(ks.prototype)).handleEnd=function(){var r=this.body||"",s=this.element,a=this.propertyDesc;r=Ac(a.type,r),a.isMany?s.get(a.name).push(r):s.set(a.name,r)},(Ma.prototype=Object.create(ks.prototype)).handleNode=function(r){var s=this,a=this.element;return a?s=this.handleChild(r):(a=this.element=this.createElement(r),this.context.addElement(a)),s},(Xi.prototype=Object.create(Ma.prototype)).addReference=function(r){this.context.addReference(r)},Xi.prototype.handleText=function(r){if(!Hr(this.element).bodyProperty)throw Qo("unexpected body text <"+r+">");ks.prototype.handleText.call(this,r)},Xi.prototype.handleEnd=function(){var r=this.body,s=this.element,a=Hr(s).bodyProperty;a&&void 0!==r&&(r=Ac(a.type,r),s.set(a.name,r))},Xi.prototype.createElement=function(r){var s,a=r.attributes,c=this.type,u=Hr(c),h=this.context,m=new c({}),b=this.model;return y(a,function(S,N){var j=u.propertiesByName[N];j&&j.isReference?j.isMany?y(S.split(" "),function(G){h.addReference({element:m,property:j.ns.name,id:G})}):h.addReference({element:m,property:j.ns.name,id:S}):(j?S=Ac(j.type,S):"xmlns"!==N&&(s=mo(N,u.ns.prefix),b.getPackage(s.prefix)&&h.addWarning({message:"unknown attribute <"+N+">",element:m,property:N,value:S})),m.set(N,S))}),m},Xi.prototype.getPropertyForNode=function(r){var s,a,G,J,re,ae,de,se,Z,c=mo(r.name),h=this.model,m=Hr(this.type),S=m.propertiesByName[c.name];if(S&&!S.isAttr)return Wl(S)&&(s=r.attributes[Js])?(G=h,J=Z=mo(s),re=G.getPackage(Z.prefix),ae=J.name,de=J.localName,s=(se=re.xml&&re.xml.typePrefix)&&0===de.indexOf(se)?J.prefix+":"+de.slice(se.length):ae,we({},S,{effectiveType:Hr(a=h.getType(s)).name})):S;var N=h.getPackage(c.prefix);if(N){if(s=ir(c,N),a=h.getType(s),S=_(m.properties,function(j){return!j.isVirtual&&!j.isReference&&!j.isAttribute&&a.hasType(j.type)}))return we({},S,{effectiveType:Hr(a).name})}else if(S=_(m.properties,function(j){return!j.isReference&&!j.isAttribute&&"Element"===j.type}))return S;throw Qo("unrecognized element <"+c.name+">")},Xi.prototype.toString=function(){return"ElementDescriptor["+Hr(this.type).name+"]"},Xi.prototype.valueHandler=function(r,s){return new Gl(r,s)},Xi.prototype.referenceHandler=function(r){return new qi(r,this.context)},Xi.prototype.handler=function(r){return"Element"===r?new al(this.model,r,this.context):new Xi(this.model,r,this.context)},Xi.prototype.handleChild=function(r){var s,a,c,u;if(s=this.getPropertyForNode(r),c=this.element,Dm(a=s.effectiveType||s.type))return this.valueHandler(s,c);var h=(u=s.isReference?this.referenceHandler(s).handleNode(r):this.handler(a).handleNode(r)).element;return void 0!==h&&(s.isMany?c.get(s.name).push(h):c.set(s.name,h),s.isReference?(we(h,{element:c}),this.context.addReference(h)):h.$parent=c),u},(sl.prototype=Object.create(Xi.prototype)).createElement=function(r){var s=r.name,a=mo(s),u=this.type,h=this.model.getPackage(a.prefix),m=h&&ir(a,h)||s;if(!u.hasType(m))throw Qo("unexpected element <"+r.originalName+">");return Xi.prototype.createElement.call(this,r)},(al.prototype=Object.create(Ma.prototype)).createElement=function(r){var s=r.name,a=mo(s).prefix;return this.model.createAny(s,r.ns[a+"$uri"],r.attributes)},al.prototype.handleChild=function(r){var s=new al(this.model,"Element",this.context).handleNode(r),a=this.element,c=s.element;return void 0!==c&&((a.$children=a.$children||[]).push(c),c.$parent=a),s},al.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},As.prototype.fromXML=function(r,s,a){var c=s.rootHandler;s instanceof Xi?(c=s,s={}):"string"==typeof s?(c=this.handler(s),s={}):"string"==typeof c&&(c=this.handler(c));var de,u=this.model,h=this.lax,m=new Dn(we({},s,{rootHandler:c})),b=new Sn({proxy:!0}),S=(de=[],Object.defineProperty(de,"peek",{value:function(){return this[this.length-1]}}),de);function N(de,se,ce){var be=se(),ve=be.line,Ie=be.column,Ue=be.data;"<"===Ue.charAt(0)&&-1!==Ue.indexOf(" ")&&(Ue=Ue.slice(0,Ue.indexOf(" "))+">");var ze="unparsable content "+(Ue?Ue+" ":"")+"detected\n\tline: "+ve+"\n\tcolumn: "+Ie+"\n\tnested error: "+de.message;if(ce)return m.addWarning({message:ze,error:de}),!0;throw Qo(ze)}function j(de,se){return N(de,se,!0)}c.context=m,S.push(c);var G=/^<\?xml /i,Z=/ encoding="([^"]+)"/i,J=/^utf-8$/i;function re(de,se){try{S.peek().handleText(de)}catch(ce){j(ce,se)}}var ae=u.getPackages().reduce(function(de,se){return de[se.uri]=se.prefix,de},{"http://www.w3.org/XML/1998/namespace":"xml"});return b.ns(ae).on("openTag",function(de,se,ce,be){var ve=de.attrs||{},Ie=Object.keys(ve).reduce(function(Ue,ze){var Ve=se(ve[ze]);return Ue[ze]=Ve,Ue},{});!function(Ue,ze){var Ve=S.peek();try{S.push(Ve.handleNode(Ue))}catch(Ke){N(Ke,ze,h)&&S.push(new Ju)}}({name:de.name,originalName:de.originalName,attributes:Ie,ns:de.ns},be)}).on("question",function(de){if(G.test(de)){var se=Z.exec(de),ce=se&&se[1];ce&&!J.test(ce)&&m.addWarning({message:"unsupported document encoding <"+ce+">, falling back to UTF-8"})}}).on("closeTag",function(){S.pop().handleEnd()}).on("cdata",re).on("text",function(de,se,ce){var be,ve;ve=ce,(be=se(de)).trim()&&re(be,ve)}).on("error",N).on("warn",j),new Promise(function(de,se){var ce;try{b.parse(r),function(){var ze,Ve,Ke=m.elementsById,$t=m.references;for(ze=0;Ve=$t[ze];ze++){var wt=Ve.element,Ze=Ke[Ve.id],at=Hr(wt).propertiesByName[Ve.property];if(Ze||m.addWarning({message:"unresolved reference <"+Ve.id+">",element:Ve.element,property:Ve.property,value:Ve.id}),at.isMany){var un=wt.get(at.name),Te=un.indexOf(Ve);-1===Te&&(Te=un.length),Ze?un[Te]=Ze:un.splice(Te,1)}else wt.set(at.name,Ze)}}()}catch(ze){ce=ze}var be=c.element;ce||be||(ce=Qo("failed to parse document as <"+c.type.$descriptor.name+">"));var ve=m.warnings,Ie=m.references,Ue=m.elementsById;return ce?(ce.warnings=ve,se(ce)):de({rootElement:be,elementsById:Ue,references:Ie,warnings:ve})})},As.prototype.handler=function(r){return new sl(this.model,r)};var Ta=/<|>|'|"|&|\n\r|\n/g,Dd=/<|>|&/g;function eh(r){var s={},a={},c={},u=[],h=[];this.byUri=function(m){return a[m]||r&&r.byUri(m)},this.add=function(m,b){a[m.uri]=m,b?u.push(m):h.push(m),this.mapPrefix(m.prefix,m.uri)},this.uriByPrefix=function(m){return s[m||"xmlns"]},this.mapPrefix=function(m,b){s[m||"xmlns"]=b},this.getNSKey=function(m){return void 0!==m.prefix?m.uri+"|"+m.prefix:m.uri},this.logUsed=function(m){var b=m.uri,S=this.getNSKey(m);c[S]=this.byUri(b),r&&r.logUsed(m)},this.getUsed=function(m){var b=this;return[].concat(u,h).filter(function(S){var N=b.getNSKey(S);return c[N]})}}function Qn(r,s){return Qi(s)?(a=r).charAt(0).toLowerCase()+a.slice(1):r;var a}function ey(r,s){r.super_=s,r.prototype=Object.create(s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}function th(r){return I(r)?r:(r.prefix?r.prefix+":":"")+r.localName}var km={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},ea={"<":"lt",">":"gt","&":"amp"};function Md(r,s,a){return(r=I(r)?r:""+r).replace(s,function(c){return"&"+a[c]+";"})}function ll(r){this.tagName=r}function Os(){}function Er(r){this.tagName=r}function Li(r,s){this.body=[],this.attrs=[],this.parent=r,this.propertyDescriptor=s}function io(r,s){Li.call(this,r,s)}function qo(){this.value="",this.write=function(r){this.value+=r}}function xf(r,s){var a=[""];this.append=function(c){return r.write(c),this},this.appendNewLine=function(){return s&&r.write("\n"),this},this.appendIndent=function(){return s&&r.write(a.join("  ")),this},this.indent=function(){return a.push(""),this},this.unindent=function(){return a.pop(),this}}function Yl(r){return r=we({format:!1,preamble:!0},r||{}),{toXML:function(s,a){var c=a||new qo,u=new xf(c,r.format);if(r.preamble&&u.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new Li).build(s).serializeTo(u),!a)return c.value}}}function cl(r,s){cs.call(this,r,s)}ll.prototype.build=function(r){return this.element=r,this},ll.prototype.serializeTo=function(r){r.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},Os.prototype.serializeValue=Os.prototype.serializeTo=function(r){r.append(this.escape?Md(this.value,Dd,ea):this.value)},Os.prototype.build=function(r,s){return this.value=s,"String"===r.type&&-1!==s.search(Dd)&&(this.escape=!0),this},ey(Er,Os),Er.prototype.serializeTo=function(r){r.appendIndent().append("<"+this.tagName+">"),this.serializeValue(r),r.append("</"+this.tagName+">").appendNewLine()},Li.prototype.build=function(r){this.element=r;var s,a,m,c=r.$descriptor,u=this.propertyDescriptor,h=c.isGeneric;return s=h?this.parseGeneric(r):this.parseNsAttributes(r),this.ns=u?this.nsPropertyTagName(u):this.nsTagName(c),this.tagName=this.addTagName(this.ns),h||(a=p((m=r).$descriptor.properties,function(b){var S=b.name;if(b.isVirtual||!f(m,S))return!1;var N=m[S];return N!==b.default&&null!==N&&(!b.isMany||N.length)}),this.parseAttributes(p(a,function(m){return m.isAttr})),this.parseContainments(function(m){return p(m,function(b){return!b.isAttr})}(a))),this.parseGenericAttributes(r,s),this},Li.prototype.nsTagName=function(r){return function(s,a){return we(a.isGeneric?{localName:a.ns.localName}:{localName:Qn(a.ns.localName,a.$pkg)},s)}(this.logNamespaceUsed(r.ns),r)},Li.prototype.nsPropertyTagName=function(r){return function(s,a){return we({localName:a.ns.localName},s)}(this.logNamespaceUsed(r.ns),r)},Li.prototype.isLocalNs=function(r){return r.uri===this.ns.uri},Li.prototype.nsAttributeName=function(r){var s;if(s=I(r)?mo(r):r.ns,r.inherited)return{localName:s.localName};var a=this.logNamespaceUsed(s);return this.getNamespaces().logUsed(a),this.isLocalNs(a)?{localName:s.localName}:we({localName:s.localName},a)},Li.prototype.parseGeneric=function(r){var s=this,a=this.body,c=[];return y(r,function(u,h){"$body"===h?a.push((new Os).build({type:"String"},u)):"$children"===h?y(u,function(m){a.push(new Li(s).build(m))}):0!==h.indexOf("$")&&s.parseNsAttribute(r,h,u)&&c.push({name:h,value:u})}),c},Li.prototype.parseNsAttribute=function(r,s,a){var c,u=r.$model,h=mo(s);if("xmlns"===h.prefix&&(c={prefix:h.localName,uri:a}),h.prefix||"xmlns"!==h.localName||(c={uri:a}),!c)return{name:s,value:a};if(u&&u.getPackage(a))this.logNamespace(c,!0,!0);else{var m=this.logNamespaceUsed(c,!0);this.getNamespaces().logUsed(m)}},Li.prototype.parseNsAttributes=function(r,s){var a=this,u=[];return y(r.$attrs,function(h,m){var b=a.parseNsAttribute(r,m,h);b&&u.push(b)}),u},Li.prototype.parseGenericAttributes=function(r,s){var a=this;y(s,function(c){if(c.name!==Js)try{a.addAttribute(a.nsAttributeName(c.name),c.value)}catch(u){console.warn("missing namespace information for ",c.name,"=",c.value,"on",r,u)}})},Li.prototype.parseContainments=function(r){var s=this,a=this.body,c=this.element;y(r,function(u){var h=c.get(u.name),m=u.isReference;if(u.isMany||(h=[h]),u.isBody)a.push((new Os).build(u,h[0]));else if(Dm(u.type))y(h,function(N){a.push(new Er(s.addTagName(s.nsPropertyTagName(u))).build(u,N))});else if(m)y(h,function(N){a.push(new ll(s.addTagName(s.nsPropertyTagName(u))).build(N))});else{var b=Wl(u),S="property"===Vr(u);y(h,function(N){var j;j=b?new io(s,u):S?new Li(s,u):new Li(s),a.push(j.build(N))})}})},Li.prototype.getNamespaces=function(r){var s,a=this.namespaces,c=this.parent;return a||(s=c&&c.getNamespaces(),r||!s?this.namespaces=a=new eh(s):a=s),a},Li.prototype.logNamespace=function(r,s,a){var c=this.getNamespaces(a),u=r.uri,h=r.prefix;return c.byUri(u)&&!a||c.add(r,s),c.mapPrefix(h,u),r},Li.prototype.logNamespaceUsed=function(r,s){var a,c,u,h=this.element.$model,m=this.getNamespaces(s),b=r.prefix,S=r.uri;if(!b&&!S)return{localName:r.localName};if(u=Ts[b]||h&&(h.getPackage(b)||{}).uri,!(S=S||u||m.uriByPrefix(b)))throw new Error("no namespace uri given for prefix <"+b+">");if(!(r=m.byUri(S))){for(a=b,c=1;m.uriByPrefix(a);)a=b+"_"+c++;r=this.logNamespace({prefix:a,uri:S},u===S)}return b&&m.mapPrefix(b,S),r},Li.prototype.parseAttributes=function(r){var s=this,a=this.element;y(r,function(c){var u=a.get(c.name);if(c.isReference)if(c.isMany){var h=[];y(u,function(m){h.push(m.id)}),u=h.join(" ")}else u=u.id;s.addAttribute(s.nsAttributeName(c),u)})},Li.prototype.addTagName=function(r){var s=this.logNamespaceUsed(r);return this.getNamespaces().logUsed(s),th(r)},Li.prototype.addAttribute=function(r,s){var a=this.attrs;I(s)&&(s=Md(s,Ta,km));var c=g(a,function(h){return h.name.localName===r.localName&&h.name.uri===r.uri&&h.name.prefix===r.prefix}),u={name:r,value:s};-1!==c?a.splice(c,1,u):a.push(u)},Li.prototype.serializeAttributes=function(r){var c,s=this.attrs,a=this.namespaces;a&&(s=(c=a,c.getUsed().filter(function(u){return"xml"!==u.prefix}).map(function(u){return{name:"xmlns"+(u.prefix?":"+u.prefix:""),value:u.uri}})).concat(s)),y(s,function(c){r.append(" ").append(th(c.name)).append('="').append(c.value).append('"')})},Li.prototype.serializeTo=function(r){var s=this.body[0],a=s&&s.constructor!==Os;r.appendIndent().append("<"+this.tagName),this.serializeAttributes(r),r.append(s?">":" />"),s&&(a&&r.appendNewLine().indent(),y(this.body,function(c){c.serializeTo(r)}),a&&r.unindent().appendIndent(),r.append("</"+this.tagName+">")),r.appendNewLine()},ey(io,Li),io.prototype.parseNsAttributes=function(r){var s=Li.prototype.parseNsAttributes.call(this,r),a=r.$descriptor;if(a.name===this.propertyDescriptor.type)return s;var c=this.typeNs=this.nsTagName(a);this.getNamespaces().logUsed(this.typeNs);var u=r.$model.getPackage(c.uri),h=u.xml&&u.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Js),(c.prefix?c.prefix+":":"")+h+a.ns.localName),s},io.prototype.isLocalNs=function(r){return r.uri===(this.typeNs||this.ns).uri},(cl.prototype=Object.create(cs.prototype)).fromXML=function(r,s,a){I(s)||(a=s,s="bpmn:Definitions");var c=new As(we({model:this,lax:!0},a)),u=c.handler(s);return c.fromXML(r,u)},cl.prototype.toXML=function(r,s){var a=new Yl(s);return new Promise(function(c,u){try{return c({xml:a.toXML(r)})}catch(h){return u(h)}})};var Is={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isAttr:!0,isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};function Ef(r,s){return new cl(we({},Is,r),s)}function Pr(r){return r?"<"+r.$type+(r.id?' id="'+r.id:"")+'" />':"<null>"}function Td(r){return function(){if(!window.Promise)throw new Error("Promises is not supported in this environment. Please polyfill Promise.");var s=arguments.length;if(!(s>=1&&E(arguments[s-1])))return r.apply(this,arguments);var a=arguments[s-1];console.warn(new Error("Passing callbacks to "+r.name+" is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"));var c=Array.prototype.slice.call(arguments,0,-1);r.apply(this,c).then(function(u){var h=Object.keys(u)[0];return a(null,u[h])},function(u){return a(u,u.warnings)})}}function Am(r){f(r,"di")||Object.defineProperty(r,"di",{enumerable:!1,get:function(){throw new Error("Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472")}})}function yo(r,s){return r.$instanceOf(s)}function Kl(r,s){var a={},c=[],u={};function h(Ze,at){return function(un){Ze(un,at)}}function m(Ze){a[Ze.id]=Ze}function b(Ze,at){try{var un=u[Ze.id]&&function(Te,ue){if(Te.gfx)throw new Error(s("already rendered {element}",{element:Pr(Te)}));return r.element(Te,u[Te.id],ue)}(Ze,at);return m(Ze),un}catch(Te){S(Te.message,{element:Ze,error:Te}),console.error(s("failed to import {element}",{element:Pr(Ze)})),console.error(Te)}}function S(Ze,at){r.error(Ze,at)}var N=this.registerDi=function(Ze){var at=Ze.bpmnElement;at?u[at.id]?S(s("multiple DI elements defined for {element}",{element:Pr(at)}),{element:at}):(u[at.id]=Ze,Am(at)):S(s("no bpmnElement referenced in {element}",{element:Pr(Ze)}),{element:Ze})};function G(Ze){N(Ze)}this.handleDefinitions=function(Ze,at){var un=Ze.diagrams;if(at&&-1===un.indexOf(at))throw new Error(s("diagram not part of bpmn:Definitions"));if(!at&&un&&un.length&&(at=un[0]),!at)throw new Error(s("no diagram to display"));u={},function j(Ze){var at;N(at=Ze.plane),y(at.planeElement,G)}(at);var Te=at.plane;if(!Te)throw new Error(s("no plane for {element}",{element:Pr(at)}));var ue=Te.bpmnElement;if(!ue){if(!(ue=_(Ze.rootElements,function(Ht){return yo(Ht,"bpmn:Process")||yo(Ht,"bpmn:Collaboration")})))throw new Error(s("no process or collaboration to display"));S(s("correcting missing bpmnElement on {plane} to {rootElement}",{plane:Pr(Te),rootElement:Pr(ue)})),Te.bpmnElement=ue,N(Te)}var Fe,tt,zt,mt=r.root(zt=ue,u[zt.id],Te);if(yo(ue,"bpmn:Process")||yo(ue,"bpmn:SubProcess"))J(ue,mt);else{if(!yo(ue,"bpmn:Collaboration"))throw new Error(s("unsupported bpmnElement for {plane}: {rootElement}",{plane:Pr(Te),rootElement:Pr(ue)}));y((Fe=ue).participants,h(wt,tt=mt)),be(Fe.artifacts,tt),c.push(function(){!function(zt,Ht){y(zt,h(re,Ht))}(Fe.messageFlows,tt)}),function(zt,Ht){p(zt,function(Kt){return!a[Kt.id]&&yo(Kt,"bpmn:Process")&&Kt.laneSets}).forEach(h(J,Ht))}(Ze.rootElements,mt)}Z(c)};var Z=this.handleDeferred=function(){for(;c.length;)c.shift()()};function J(Ze,at){$t(Ze,at),ve(Ze.ioSpecification,at),be(Ze.artifacts,at),m(Ze)}function re(Ze,at){b(Ze,at)}function ae(Ze,at){b(Ze,at)}function de(Ze,at){b(Ze,at)}function se(Ze,at){b(Ze,at)}function ce(Ze,at){b(Ze,at)}function be(Ze,at){y(Ze,function(un){yo(un,"bpmn:Association")?c.push(function(){ce(un,at)}):ce(un,at)})}function ve(Ze,at){Ze&&(y(Ze.dataInputs,h(de,at)),y(Ze.dataOutputs,h(se,at)))}var Ie=this.handleSubProcess=function(Ze,at){$t(Ze,at),be(Ze.artifacts,at)};function Ue(Ze,at){var un=b(Ze,at);yo(Ze,"bpmn:SubProcess")&&Ie(Ze,un||at),yo(Ze,"bpmn:Activity")&&ve(Ze.ioSpecification,at),c.push(function(){y(Ze.dataInputAssociations,h(ae,at)),y(Ze.dataOutputAssociations,h(ae,at))})}function Ve(Ze,at){c.push(function(){var Te,un=b(Ze,at);Ze.childLaneSet&&Ke(Ze.childLaneSet,un||at),y((Te=Ze).flowNodeRef,function(ue){var Fe=ue.get("lanes");Fe&&Fe.push(Te)})})}function Ke(Ze,at){y(Ze.lanes,h(Ve,at))}function $t(Ze,at){var Te;Te=at,y(Ze.flowElements,function(ue){yo(ue,"bpmn:SequenceFlow")?c.push(function(){b(ue,Te)}):yo(ue,"bpmn:BoundaryEvent")?c.unshift(function(){Ue(ue,Te)}):yo(ue,"bpmn:FlowNode")?Ue(ue,Te):yo(ue,"bpmn:DataObject")||(yo(ue,"bpmn:DataStoreReference")||yo(ue,"bpmn:DataObjectReference")?function ze(Ze,at){b(Ze,at)}(ue,Te):S(s("unrecognized flowElement {element} in context {context}",{element:Pr(ue),context:Te?Pr(Te.businessObject):"null"}),{element:ue,context:Te}))}),Ze.laneSets&&function(un,Te){y(un,h(Ke,Te))}(Ze.laneSets,at)}function wt(Ze,at){var un=b(Ze,at),Te=Ze.processRef;Te&&J(Te,un||at)}}function me(r,s){var a=_t(r);return a&&"function"==typeof a.$instanceOf&&a.$instanceOf(s)}function jn(r,s){return M(s,function(a){return me(r,a)})}function _t(r){return r&&r.businessObject||r}function qn(r){return r&&r.di}function Et(r,s,a){var c,u,h,m,b=[];function S(N,j){var G=new Kl({root:function(re,ae){return c.add(re,ae)},element:function(re,ae,de){return c.add(re,ae,de)},error:function(re,ae){b.push({message:re,context:ae})}},h),Z=function(re,ae){if(ae){var de,se=ae.plane.bpmnElement,ce=se;me(se,"bpmn:Process")||me(se,"bpmn:Collaboration")||(ce=function(ze){for(var Ve=ze;Ve;){if(me(Ve,"bpmn:Process"))return Ve;Ve=Ve.$parent}}(se)),de=me(ce,"bpmn:Collaboration")?ce:_(re.rootElements,function(ze){if(me(ze,"bpmn:Collaboration"))return _(ze.participants,function(Ve){return Ve.processRef===ce})});var be=[ce];de&&(be=L(de.participants,function(ze){return ze.processRef})).push(de);var ve=ty(be),Ie=[ae],Ue=[se];return y(re.diagrams,function(ze){var Ve=ze.plane.bpmnElement;-1!==ve.indexOf(Ve)&&-1===Ue.indexOf(Ve)&&(Ie.push(ze),Ue.push(Ve))}),Ie}}(N,j=j||N.diagrams&&N.diagrams[0]);if(!Z)throw new Error(h("no diagram to display"));y(Z,function(re){G.handleDefinitions(N,re)});var J=j.plane.bpmnElement.id;m.setRootElement(m.findRoot(J+"_plane")||m.findRoot(J))}return new Promise(function(N,j){try{return c=r.get("bpmnImporter"),u=r.get("eventBus"),h=r.get("translate"),m=r.get("canvas"),u.fire("import.render.start",{definitions:s}),S(s,a),u.fire("import.render.complete",{error:void 0,warnings:b}),N({warnings:b})}catch(G){return G.warnings=b,j(G)}})}function ty(r){var s=[];return y(r,function(a){a&&(s.push(a),s=s.concat(ty(a.flowElements)))}),s}var dl,ny='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',Ui={verticalAlign:"middle"},nh={color:"#404040"},iy={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},ih={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},Om={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"};function ci(r){r=we({},Xl,r),this._moddle=this._createModdle(r),this._container=this._createContainer(r),function(s){const a=En('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+ny+"</a>");Mn(oi("svg",a),Ui),Mn(a,nh,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),s.appendChild(a),Dt.bind(a,"click",function(c){(function O0(){dl||(Mn(dl=En('<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg></a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>'),iy),Mn(oi("svg",dl),Ui),Mn(oi(".backdrop",dl),ih),Mn(oi(".notice",dl),Om),Mn(oi(".link",dl),nh,{margin:"15px 20px 15px 10px",alignSelf:"center"}),tr.bind(dl,".backdrop","click",function(r){document.body.removeChild(dl)})),document.body.appendChild(dl)})(),c.preventDefault()})}(this._container),this._init(this._container,this._moddle,r)}function Cf(r,s){return r.warnings=s,r}W(ci,Sa),ci.prototype.importXML=function(){var r=P(function*(s,a){const c=this;let u=[];try{let h;s=this._emit("import.parse.start",{xml:s})||s;try{h=yield this._moddle.fromXML(s,"bpmn:Definitions")}catch(G){throw this._emit("import.parse.complete",{error:G}),G}let m=h.rootElement;const b=h.references,N=h.elementsById;u=u.concat(h.warnings),m=this._emit("import.parse.complete",function(G){const Z=c.get("eventBus").createEvent(G);return Object.defineProperty(Z,"context",{enumerable:!0,get:function(){return console.warn(new Error("import.parse.complete <context> is deprecated and will be removed in future library versions")),{warnings:G.warnings,references:G.references,elementsById:G.elementsById}}}),Z}({error:null,definitions:m,elementsById:N,references:b,warnings:u}))||m;const j=yield this.importDefinitions(m,a);return u=u.concat(j.warnings),this._emit("import.done",{error:null,warnings:u}),{warnings:u}}catch(h){let m=h;throw u=u.concat(m.warnings||[]),Cf(m,u),m=function(b){const S=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(b.message);return S&&(b.message="unparsable content <"+S[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+S[2]),b}(m),this._emit("import.done",{error:m,warnings:m.warnings}),m}});return function(s,a){return r.apply(this,arguments)}}(),ci.prototype.importXML=Td(ci.prototype.importXML),ci.prototype.importDefinitions=function(){var r=P(function*(s,a){return this._setDefinitions(s),{warnings:(yield this.open(a)).warnings}});return function(s,a){return r.apply(this,arguments)}}(),ci.prototype.importDefinitions=Td(ci.prototype.importDefinitions),ci.prototype.open=function(){var r=P(function*(s){const a=this._definitions;let c=s;if(!a){const h=new Error("no XML imported");throw Cf(h,[]),h}if("string"==typeof s&&(c=(m=s)&&_((h=a).diagrams,function(b){return b.id===m})||null,!c)){const h=new Error("BPMNDiagram <"+s+"> not found");throw Cf(h,[]),h}var h,m;try{this.clear()}catch(h){throw Cf(h,[]),h}const{warnings:u}=yield Et(this,a,c);return{warnings:u}});return function(s){return r.apply(this,arguments)}}(),ci.prototype.open=Td(ci.prototype.open),ci.prototype.saveXML=function(){var r=P(function*(s){s=s||{};let a,c,u=this._definitions;try{if(!u)throw new Error("no definitions loaded");u=this._emit("saveXML.start",{definitions:u})||u,c=(yield this._moddle.toXML(u,s)).xml,c=this._emit("saveXML.serialized",{xml:c})||c}catch(m){a=m}const h=a?{error:a}:{xml:c};if(this._emit("saveXML.done",h),a)throw a;return h});return function(s){return r.apply(this,arguments)}}(),ci.prototype.saveXML=Td(ci.prototype.saveXML),ci.prototype.saveSVG=P(function*(){let r,s;this._emit("saveSVG.start");try{const a=this.get("canvas"),c=a.getActiveLayer(),u=oi("defs",a._svg),h=Hi(c),m=u?"<defs>"+Hi(u)+"</defs>":"",b=c.getBBox();r='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+b.width+'" height="'+b.height+'" viewBox="'+b.x+" "+b.y+" "+b.width+" "+b.height+'" version="1.1">'+m+h+"</svg>"}catch(a){s=a}if(this._emit("saveSVG.done",{error:s,svg:r}),s)throw s;return{svg:r}}),ci.prototype.saveSVG=Td(ci.prototype.saveSVG),ci.prototype._setDefinitions=function(r){this._definitions=r},ci.prototype.getModules=function(){return this._modules},ci.prototype.clear=function(){this.getDefinitions()&&Sa.prototype.clear.call(this)},ci.prototype.destroy=function(){Sa.prototype.destroy.call(this),Do(this._container)},ci.prototype.on=function(r,s,a,c){return this.get("eventBus").on(r,s,a,c)},ci.prototype.off=function(r,s){this.get("eventBus").off(r,s)},ci.prototype.attachTo=function(r){if(!r)throw new Error("parentNode required");this.detach(),r.get&&r.constructor.prototype.jquery&&(r=r.get(0)),"string"==typeof r&&(r=oi(r)),r.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},ci.prototype.getDefinitions=function(){return this._definitions},ci.prototype.detach=function(){const r=this._container,s=r.parentNode;s&&(this._emit("detach",{}),s.removeChild(r))},ci.prototype._init=function(r,s,a){const c=a.modules||this.getModules(a),h=[].concat([{bpmnjs:["value",this],moddle:["value",s]}],c,a.additionalModules||[]),m=we(Le(a,["additionalModules"]),{canvas:we({},a.canvas,{container:r}),modules:h});Sa.call(this,m),a&&a.container&&this.attachTo(a.container)},ci.prototype._emit=function(r,s){return this.get("eventBus").fire(r,s)},ci.prototype._createContainer=function(r){const s=En('<div class="bjs-container"></div>');return Mn(s,{width:Ps(r.width),height:Ps(r.height),position:r.position}),s},ci.prototype._createModdle=function(r){return new Ef(we({},this._moddleExtensions,r.moddleExtensions))},ci.prototype._modules=[];const Xl={width:"100%",height:"100%",position:"relative"};function Ps(r){return r+(C(r)?"px":"")}function rh(r){ci.call(this,r),this.on("import.parse.complete",function(s){s.error||this._collectIds(s.definitions,s.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}function Rn(r,s){return!me(r,"bpmn:CallActivity")&&(me(r,"bpmn:SubProcess")?!(!(s=s||qn(r))||!me(s,"bpmndi:BPMNPlane"))||s&&!!s.isExpanded:!me(r,"bpmn:Participant")||!!_t(r).processRef)}function Bo(r){return r&&!!_t(r).triggeredByEvent}function oh(r,s){return M(_t(r).eventDefinitions,function(a){return me(a,s)})}W(rh,ci),rh.prototype._createModdle=function(r){var s=ci.prototype._createModdle.call(this,r);return s.ids=new V([32,36,1]),s},rh.prototype._collectIds=function(r,s){var a,c=r.$model.ids;for(a in c.clear(),s)c.claim(a,s[a])};var Ic={width:90,height:20};function Zl(r){return me(r,"bpmn:Event")||me(r,"bpmn:Gateway")||me(r,"bpmn:DataStoreReference")||me(r,"bpmn:DataObjectReference")||me(r,"bpmn:DataInput")||me(r,"bpmn:DataOutput")||me(r,"bpmn:SequenceFlow")||me(r,"bpmn:MessageFlow")||me(r,"bpmn:Group")}function sh(r){return Zn(r.label)}function ds(r){return r.waypoints?function Sf(r){var S,N,j,G,s=r.length/2-1,a=r[Math.floor(s)],c=r[Math.ceil(s+.01)],u=(N=(S=r).length/2-1,j=S[Math.floor(N)],G=S[Math.ceil(N+.01)],{x:j.x+(G.x-j.x)/2,y:j.y+(G.y-j.y)/2}),h=Math.atan((c.y-a.y)/(c.x-a.x)),m=u.x,b=u.y;return Math.abs(h)<Math.PI/2?b-=15:m+=15,{x:m,y:b}}(r.waypoints):me(r,"bpmn:Group")?{x:r.x+r.width/2,y:r.y+Ic.height/2}:{x:r.x+r.width/2,y:r.y+r.height+Ic.height/2}}function kd(r){return me(r,"bpmn:FlowElement")||me(r,"bpmn:Participant")||me(r,"bpmn:Lane")||me(r,"bpmn:SequenceFlow")||me(r,"bpmn:MessageFlow")||me(r,"bpmn:DataInput")||me(r,"bpmn:DataOutput")?"name":me(r,"bpmn:TextAnnotation")?"text":me(r,"bpmn:Group")?"categoryValueRef":void 0}function Jn(r){var u,s=r.businessObject,a=kd(s);if(a)return"categoryValueRef"===a?(u=s.categoryValueRef)&&u.value||"":s[a]||""}var Pc="hsl(225, 10%, 15%)";function ka(r,s){return M(r.eventDefinitions,function(a){return a.$type===s})}function Nn(r,s){var a=qn(r);return a.get("color:background-color")||a.get("bioc:fill")||s||"white"}function Ct(r,s){var a=qn(r);return a.get("color:border-color")||a.get("bioc:stroke")||s||Pc}function ul(r,s,a){var c=qn(r).get("label");return c&&c.get("color:color")||s||Ct(r,a)}var ry=new V,Ad=.95;function hl(r,s,a,c,u,h,m){qr.call(this,s,m);var b=r&&r.defaultFillColor,S=r&&r.defaultStrokeColor,N=r&&r.defaultLabelColor,j=ry.next(),G={};function Z(Te){return a.computeStyle(Te,{strokeLinecap:"round",strokeLinejoin:"round",stroke:Pc,strokeWidth:2,fill:"white"})}function J(Te){return a.computeStyle(Te,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:Pc,strokeWidth:2})}function re(Te,ue){var{ref:Fe={x:0,y:0},scale:tt=1,element:mt}=ue,zt=Gt("marker",{id:Te,viewBox:"0 0 20 20",refX:Fe.x,refY:Fe.y,markerWidth:20*tt,markerHeight:20*tt,orient:"auto"});Qt(zt,mt);var Ht=oi("defs",u._svg);Ht||(Ht=Gt("defs"),Qt(u._svg,Ht)),Qt(Ht,zt),G[Te]=zt}function ae(Te){return Te.replace(/[^0-9a-zA-z]+/g,"_")}function de(Te,ue,Fe){var mt,zt,Ht,jt,tt=Te+"-"+ae(ue)+"-"+ae(Fe)+"-"+j;return G[tt]||(mt=tt,Ht=ue,jt=Fe,"sequenceflow-end"===(zt=Te)&&re(mt,{element:Gt("path",{d:"M 1 5 L 11 10 L 1 15 Z",...Z({fill:jt,stroke:jt,strokeWidth:1})}),ref:{x:11,y:10},scale:.5}),"messageflow-start"===zt&&re(mt,{element:Gt("circle",{cx:6,cy:6,r:3.5,...Z({fill:Ht,stroke:jt,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:6,y:6}}),"messageflow-end"===zt&&re(mt,{element:Gt("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...Z({fill:Ht,stroke:jt,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:8.5,y:5}}),"association-start"===zt&&re(mt,{element:Gt("path",{d:"M 11 5 L 1 10 L 11 15",...J({fill:"none",stroke:jt,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:1,y:10},scale:.5}),"association-end"===zt&&re(mt,{element:Gt("path",{d:"M 1 5 L 11 10 L 1 15",...J({fill:"none",stroke:jt,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:11,y:10},scale:.5}),"conditional-flow-marker"===zt&&re(mt,{element:Gt("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...Z({fill:Ht,stroke:jt})}),ref:{x:-1,y:10},scale:.5}),"conditional-default-flow-marker"===zt&&re(mt,{element:Gt("path",{d:"M 6 4 L 10 16",...Z({stroke:jt})}),ref:{x:0,y:10},scale:.5})),"url(#"+tt+")"}function se(Te,ue,Fe,tt,mt){D(tt)&&(mt=tt,tt=0),tt=tt||0,"none"===(mt=Z(mt)).fill&&delete mt.fillOpacity;var zt=Gt("circle",{cx:ue/2,cy:Fe/2,r:Math.round((ue+Fe)/4-tt),...mt});return Qt(Te,zt),zt}function ce(Te,ue,Fe,tt,mt,zt){D(mt)&&(zt=mt,mt=0),mt=mt||0,zt=Z(zt);var Ht=Gt("rect",{x:mt,y:mt,width:ue-2*mt,height:Fe-2*mt,rx:tt,ry:tt,...zt});return Qt(Te,Ht),Ht}function be(Te,ue,Fe,tt){var mt=Xa(ue,Fe=J(Fe),tt);return Qt(Te,mt),mt}function ve(Te,ue,Fe){return be(Te,ue,Fe,5)}function Ie(Te,ue,Fe){Fe=J(Fe);var tt=Gt("path",{...Fe,d:ue});return Qt(Te,tt),tt}function Ue(Te,ue,Fe,tt){return Ie(ue,Fe,we({"data-marker":Te},tt))}function ze(Te){return at[Te]}function Ve(Te){return function(ue,Fe,tt){return ze(Te)(ue,Fe,tt)}}function Ke(Te,ue){var mt,Fe=_t(Te),tt="bpmn:IntermediateThrowEvent"===(mt=Fe).$type||"bpmn:EndEvent"===mt.$type;return Fe.eventDefinitions&&Fe.eventDefinitions.length>1?Fe.parallelMultiple?ze("bpmn:ParallelMultipleEventDefinition")(ue,Te,tt):ze("bpmn:MultipleEventDefinition")(ue,Te,tt):ka(Fe,"bpmn:MessageEventDefinition")?ze("bpmn:MessageEventDefinition")(ue,Te,tt):ka(Fe,"bpmn:TimerEventDefinition")?ze("bpmn:TimerEventDefinition")(ue,Te,tt):ka(Fe,"bpmn:ConditionalEventDefinition")?ze("bpmn:ConditionalEventDefinition")(ue,Te):ka(Fe,"bpmn:SignalEventDefinition")?ze("bpmn:SignalEventDefinition")(ue,Te,tt):ka(Fe,"bpmn:EscalationEventDefinition")?ze("bpmn:EscalationEventDefinition")(ue,Te,tt):ka(Fe,"bpmn:LinkEventDefinition")?ze("bpmn:LinkEventDefinition")(ue,Te,tt):ka(Fe,"bpmn:ErrorEventDefinition")?ze("bpmn:ErrorEventDefinition")(ue,Te,tt):ka(Fe,"bpmn:CancelEventDefinition")?ze("bpmn:CancelEventDefinition")(ue,Te,tt):ka(Fe,"bpmn:CompensateEventDefinition")?ze("bpmn:CompensateEventDefinition")(ue,Te,tt):ka(Fe,"bpmn:TerminateEventDefinition")?ze("bpmn:TerminateEventDefinition")(ue,Te,tt):null}function $t(Te,ue,Fe){Fe=we({size:{width:100}},Fe);var tt=h.createText(ue||"",Fe);return Cn(tt).add("djs-label"),Qt(Te,tt),tt}function wt(Te,ue,Fe){return $t(Te,_t(ue).name,{box:ue,align:Fe,padding:7,style:{fill:ul(ue,N,S)}})}function Ze(Te,ue,Fe){Xu($t(Te,ue,{box:{height:30,width:Fe.height},align:"center-middle",style:{fill:ul(Fe,N,S)}}),0,1*Fe.height,270)}var at=this.handlers={"bpmn:Event":function(Te,ue,Fe){return"fillOpacity"in Fe||(Fe.fillOpacity=Ad),se(Te,ue.width,ue.height,Fe)},"bpmn:StartEvent":function(Te,ue,Fe){var tt={fill:Nn(ue,b),stroke:Ct(ue,S)};_t(ue).isInterrupting||(tt={strokeDasharray:"6",fill:Nn(ue,b),stroke:Ct(ue,S)});var mt=ze("bpmn:Event")(Te,ue,tt);return Fe&&!1===Fe.renderIcon||Ke(ue,Te),mt},"bpmn:MessageEventDefinition":function(Te,ue,Fe){return Ie(Te,c.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:Fe?Ct(ue,S):Nn(ue,b),stroke:Fe?Nn(ue,b):Ct(ue,S)})},"bpmn:TimerEventDefinition":function(Te,ue){var Fe=se(Te,ue.width,ue.height,.2*ue.height,{strokeWidth:2,fill:Nn(ue,b),stroke:Ct(ue,S)});Ie(Te,c.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.5,my:.5}}),{strokeWidth:2,stroke:Ct(ue,S)});for(var tt=0;tt<12;tt++)Ie(Te,c.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.5,my:.5}}),{strokeWidth:1,transform:"rotate("+30*tt+","+ue.height/2+","+ue.width/2+")",stroke:Ct(ue,S)});return Fe},"bpmn:EscalationEventDefinition":function(Te,ue,Fe){return Ie(Te,c.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:Fe?Ct(ue,S):"none",stroke:Ct(ue,S)})},"bpmn:ConditionalEventDefinition":function(Te,ue){return Ie(Te,c.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.5,my:.222}}),{strokeWidth:1,stroke:Ct(ue,S)})},"bpmn:LinkEventDefinition":function(Te,ue,Fe){return Ie(Te,c.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:Fe?Ct(ue,S):"none",stroke:Ct(ue,S)})},"bpmn:ErrorEventDefinition":function(Te,ue,Fe){return Ie(Te,c.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:Fe?Ct(ue,S):"none",stroke:Ct(ue,S)})},"bpmn:CancelEventDefinition":function(Te,ue,Fe){var tt=Ie(Te,c.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.638,my:-.055}}),{strokeWidth:1,fill:Fe?Ct(ue,S):"none",stroke:Ct(ue,S)});return Ul(tt,45),tt},"bpmn:CompensateEventDefinition":function(Te,ue,Fe){return Ie(Te,c.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:Fe?Ct(ue,S):"none",stroke:Ct(ue,S)})},"bpmn:SignalEventDefinition":function(Te,ue,Fe){return Ie(Te,c.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:Fe?Ct(ue,S):"none",stroke:Ct(ue,S)})},"bpmn:MultipleEventDefinition":function(Te,ue,Fe){return Ie(Te,c.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:Fe?Ct(ue,S):"none"})},"bpmn:ParallelMultipleEventDefinition":function(Te,ue){return Ie(Te,c.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.458,my:.194}}),{strokeWidth:1,fill:Ct(ue,S),stroke:Ct(ue,S)})},"bpmn:EndEvent":function(Te,ue,Fe){var tt=ze("bpmn:Event")(Te,ue,{strokeWidth:4,fill:Nn(ue,b),stroke:Ct(ue,S)});return Fe&&!1===Fe.renderIcon||Ke(ue,Te),tt},"bpmn:TerminateEventDefinition":function(Te,ue){return se(Te,ue.width,ue.height,8,{strokeWidth:4,fill:Ct(ue,S),stroke:Ct(ue,S)})},"bpmn:IntermediateEvent":function(Te,ue,Fe){var tt=ze("bpmn:Event")(Te,ue,{strokeWidth:1.5,fill:Nn(ue,b),stroke:Ct(ue,S)});return se(Te,ue.width,ue.height,3,{strokeWidth:1.5,fill:Nn(ue,"none"),stroke:Ct(ue,S)}),Fe&&!1===Fe.renderIcon||Ke(ue,Te),tt},"bpmn:IntermediateCatchEvent":Ve("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":Ve("bpmn:IntermediateEvent"),"bpmn:Activity":function(Te,ue,Fe){return"fillOpacity"in(Fe=Fe||{})||(Fe.fillOpacity=Ad),ce(Te,ue.width,ue.height,10,Fe)},"bpmn:Task":function(Te,ue){var Fe={fill:Nn(ue,b),stroke:Ct(ue,S)},tt=ze("bpmn:Activity")(Te,ue,Fe);return wt(Te,ue,"center-middle"),un(Te,ue),tt},"bpmn:ServiceTask":function(Te,ue){var Fe=ze("bpmn:Task")(Te,ue);return Ie(Te,c.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{strokeWidth:1,fill:Nn(ue,b),stroke:Ct(ue,S)}),Ie(Te,c.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}}),{strokeWidth:0,fill:Nn(ue,b)}),Ie(Te,c.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{strokeWidth:1,fill:Nn(ue,b),stroke:Ct(ue,S)}),Fe},"bpmn:UserTask":function(Te,ue){var Fe=ze("bpmn:Task")(Te,ue);return Ie(Te,c.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:Nn(ue,b),stroke:Ct(ue,S)}),Ie(Te,c.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:Nn(ue,b),stroke:Ct(ue,S)}),Ie(Te,c.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:Ct(ue,S),stroke:Ct(ue,S)}),Fe},"bpmn:ManualTask":function(Te,ue){var Fe=ze("bpmn:Task")(Te,ue);return Ie(Te,c.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:.5,fill:Nn(ue,b),stroke:Ct(ue,S)}),Fe},"bpmn:SendTask":function(Te,ue){var Fe=ze("bpmn:Task")(Te,ue);return Ie(Te,c.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:Ct(ue,S),stroke:Nn(ue,b)}),Fe},"bpmn:ReceiveTask":function(Te,ue){var Fe,tt=_t(ue),mt=ze("bpmn:Task")(Te,ue);return tt.instantiate?(se(Te,28,28,4.4,{strokeWidth:1}),Fe=c.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):Fe=c.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),Ie(Te,Fe,{strokeWidth:1,fill:Nn(ue,b),stroke:Ct(ue,S)}),mt},"bpmn:ScriptTask":function(Te,ue){var Fe=ze("bpmn:Task")(Te,ue);return Ie(Te,c.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{strokeWidth:1,stroke:Ct(ue,S)}),Fe},"bpmn:BusinessRuleTask":function(Te,ue){var Fe=ze("bpmn:Task")(Te,ue);return Ot(Ie(Te,c.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{strokeWidth:1,fill:Nn(ue,"#aaaaaa"),stroke:Ct(ue,S)}),Ot(Ie(Te,c.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{strokeWidth:1,stroke:Ct(ue,S)}),Fe},"bpmn:SubProcess":function(Te,ue,Fe){Fe={fill:Nn(ue,b),stroke:Ct(ue,S),...Fe};var tt=ze("bpmn:Activity")(Te,ue,Fe),mt=Rn(ue);return Bo(ue)&&Ot(tt,{strokeDasharray:"0, 5.5",strokeWidth:2.5}),wt(Te,ue,mt?"center-top":"center-middle"),mt?un(Te,ue):un(Te,ue,["SubProcessMarker"]),tt},"bpmn:AdHocSubProcess":function(Te,ue){return ze("bpmn:SubProcess")(Te,ue)},"bpmn:Transaction":function(Te,ue){var Fe=ze("bpmn:SubProcess")(Te,ue,{strokeWidth:1.5}),tt=a.style(["no-fill","no-events"],{stroke:Ct(ue,S),strokeWidth:1.5});return ce(Te,ue.width,ue.height,7,3,tt),Fe},"bpmn:CallActivity":function(Te,ue){return ze("bpmn:SubProcess")(Te,ue,{strokeWidth:5})},"bpmn:Participant":function(Te,ue){var Fe={fillOpacity:Ad,fill:Nn(ue,b),stroke:Ct(ue,S),strokeWidth:1.5},tt=ze("bpmn:Lane")(Te,ue,Fe);return Rn(ue)?(be(Te,[{x:30,y:0},{x:30,y:ue.height}],{stroke:Ct(ue,S),strokeWidth:1.5}),Ze(Te,_t(ue).name,ue)):$t(Te,_t(ue).name,{box:ue,align:"center-middle",style:{fill:ul(ue,N,S)}}),_t(ue).participantMultiplicity&&ze("ParticipantMultiplicityMarker")(Te,ue),tt},"bpmn:Lane":function(Te,ue,Fe){var tt=ce(Te,ue.width,ue.height,0,{fill:Nn(ue,b),fillOpacity:.35,stroke:Ct(ue,S),strokeWidth:1.5,...Fe}),mt=_t(ue);return"bpmn:Lane"===mt.$type&&Ze(Te,mt.name,ue),tt},"bpmn:InclusiveGateway":function(Te,ue){var Fe=ze("bpmn:Gateway")(Te,ue);return se(Te,ue.width,ue.height,.24*ue.height,{strokeWidth:2.5,fill:Nn(ue,b),stroke:Ct(ue,S)}),Fe},"bpmn:ExclusiveGateway":function(Te,ue){var Fe=ze("bpmn:Gateway")(Te,ue),tt=c.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.32,my:.3}});return qn(ue).isMarkerVisible&&Ie(Te,tt,{strokeWidth:1,fill:Ct(ue,S),stroke:Ct(ue,S)}),Fe},"bpmn:ComplexGateway":function(Te,ue){var Fe=ze("bpmn:Gateway")(Te,ue);return Ie(Te,c.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:Ct(ue,S),stroke:Ct(ue,S)}),Fe},"bpmn:ParallelGateway":function(Te,ue){var Fe=ze("bpmn:Gateway")(Te,ue);return Ie(Te,c.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:Ct(ue,S),stroke:Ct(ue,S)}),Fe},"bpmn:EventBasedGateway":function(Te,ue){var Fe=_t(ue),tt=ze("bpmn:Gateway")(Te,ue);se(Te,ue.width,ue.height,.2*ue.height,{strokeWidth:1,fill:"none",stroke:Ct(ue,S)});var mt=Fe.eventGatewayType,zt=!!Fe.instantiate;"Parallel"===mt?Ie(Te,c.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.474,my:.296}}),{strokeWidth:1,fill:"none"}):"Exclusive"===mt&&(zt||se(Te,ue.width,ue.height,.26*ue.height,{strokeWidth:1,fill:"none",stroke:Ct(ue,S)}),Ie(Te,c.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.36,my:.44}}),{strokeWidth:2,fill:Nn(ue,"none"),stroke:Ct(ue,S)}));return tt},"bpmn:Gateway":function(Te,ue){return function(Fe,tt,mt,zt){var Ht=tt/2,jt=mt/2,Kt=[{x:Ht,y:0},{x:tt,y:jt},{x:Ht,y:mt},{x:0,y:jt}].map(function(fn){return fn.x+","+fn.y}).join(" ");zt=Z(zt);var vi=Gt("polygon",{...zt,points:Kt});return Qt(Fe,vi),vi}(Te,ue.width,ue.height,{fill:Nn(ue,b),fillOpacity:Ad,stroke:Ct(ue,S)})},"bpmn:SequenceFlow":function(Te,ue){var Fe,tt=Nn(ue,b),mt=Ct(ue,S),zt=ve(Te,ue.waypoints,{markerEnd:de("sequenceflow-end",tt,mt),stroke:Ct(ue,S)}),Ht=_t(ue);return ue.source&&(Fe=ue.source.businessObject,Ht.conditionExpression&&Fe.$instanceOf("bpmn:Activity")&&Ot(zt,{markerStart:de("conditional-flow-marker",tt,mt)}),Fe.default&&(Fe.$instanceOf("bpmn:Gateway")||Fe.$instanceOf("bpmn:Activity"))&&Fe.default===Ht&&Ot(zt,{markerStart:de("conditional-default-flow-marker",tt,mt)})),zt},"bpmn:Association":function(Te,ue,Fe){var tt=_t(ue),mt=Nn(ue,b),zt=Ct(ue,S);return Fe={strokeDasharray:"0, 5",stroke:Ct(ue,S),...Fe},"One"!==tt.associationDirection&&"Both"!==tt.associationDirection||(Fe.markerEnd=de("association-end",mt,zt)),"Both"===tt.associationDirection&&(Fe.markerStart=de("association-start",mt,zt)),ve(Te,ue.waypoints,Fe)},"bpmn:DataInputAssociation":function(Te,ue){var Fe=Nn(ue,b),tt=Ct(ue,S);return ze("bpmn:Association")(Te,ue,{markerEnd:de("association-end",Fe,tt)})},"bpmn:DataOutputAssociation":function(Te,ue){var Fe=Nn(ue,b),tt=Ct(ue,S);return ze("bpmn:Association")(Te,ue,{markerEnd:de("association-end",Fe,tt)})},"bpmn:MessageFlow":function(Te,ue){var Fe=_t(ue),tt=qn(ue),mt=Nn(ue,b),zt=Ct(ue,S),Ht=ve(Te,ue.waypoints,{markerEnd:de("messageflow-end",mt,zt),markerStart:de("messageflow-start",mt,zt),strokeDasharray:"10, 11",strokeWidth:1.5,stroke:Ct(ue,S)});if(Fe.messageRef){var jt=Ht.getPointAtLength(Ht.getTotalLength()/2),Kt=c.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:jt.x,y:jt.y}}),vi={strokeWidth:1};"initiating"===tt.messageVisibleKind?(vi.fill="white",vi.stroke=Pc):(vi.fill="#888",vi.stroke="white");var fn=Ie(Te,Kt,vi),Fr=$t(Te,Fe.messageRef.name,{align:"center-top",fitBox:!0,style:{fill:Ct(ue,N)}}),Ba=fn.getBBox(),er=Fr.getBBox();Xu(Fr,jt.x-er.width/2,jt.y+Ba.height/2+10,0)}return Ht},"bpmn:DataObject":function(Te,ue){var tt,mt,Fe=Ie(Te,c.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:.474,my:.296}}),{fill:Nn(ue,b),fillOpacity:Ad,stroke:Ct(ue,S)});return mt=(tt=_t(ue)).dataObjectRef,(tt.isCollection||mt&&mt.isCollection)&&function(tt,mt){Ie(tt,c.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:mt.width,containerHeight:mt.height,position:{mx:.33,my:(mt.height-18)/mt.height}}),{strokeWidth:2})}(Te,ue),Fe},"bpmn:DataObjectReference":Ve("bpmn:DataObject"),"bpmn:DataInput":function(Te,ue){var Fe=c.getRawPath("DATA_ARROW"),tt=ze("bpmn:DataObject")(Te,ue);return Ie(Te,Fe,{strokeWidth:1}),tt},"bpmn:DataOutput":function(Te,ue){var Fe=c.getRawPath("DATA_ARROW"),tt=ze("bpmn:DataObject")(Te,ue);return Ie(Te,Fe,{strokeWidth:1,fill:Pc}),tt},"bpmn:DataStoreReference":function(Te,ue){return Ie(Te,c.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:Nn(ue,b),fillOpacity:Ad,stroke:Ct(ue,S)})},"bpmn:BoundaryEvent":function(Te,ue,Fe){var tt=_t(ue).cancelActivity,mt={strokeWidth:1.5,fill:Nn(ue,b),stroke:Ct(ue,S)};tt||(mt.strokeDasharray="6");var zt={...mt,fillOpacity:1},Ht={...mt,fill:"none"},jt=ze("bpmn:Event")(Te,ue,zt);return se(Te,ue.width,ue.height,3,Ht),Fe&&!1===Fe.renderIcon||Ke(ue,Te),jt},"bpmn:Group":function(Te,ue){return ce(Te,ue.width,ue.height,10,{stroke:Ct(ue,S),strokeWidth:1.5,strokeDasharray:"10,6,0,6",fill:"none",pointerEvents:"none"})},label:function(Te,ue){return mt={width:90,height:30,x:(tt=ue).width/2+tt.x,y:tt.height/2+tt.y},$t(Te,Jn(tt),{box:mt,fitBox:!0,style:we({},h.getExternalStyle(),{fill:ul(tt,N,S)})});var tt,mt},"bpmn:TextAnnotation":function(Te,ue){var Fe=ce(Te,ue.width,ue.height,0,0,{fill:"none",stroke:"none"});return Ie(Te,c.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:0,my:0}}),{stroke:Ct(ue,S)}),$t(Te,_t(ue).text||"",{box:ue,align:"left-top",padding:7,style:{fill:ul(ue,N,S)}}),Fe},ParticipantMultiplicityMarker:function(Te,ue){Ue("participant-multiplicity",Te,c.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:ue.width/2/ue.width,my:(ue.height-15)/ue.height}}),{strokeWidth:2,fill:Nn(ue,b),stroke:Ct(ue,S)})},SubProcessMarker:function(Te,ue){Lo(ce(Te,14,14,0,{strokeWidth:1,fill:Nn(ue,b),stroke:Ct(ue,S)}),ue.width/2-7.5,ue.height-20),Ue("sub-process",Te,c.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:ue.width,containerHeight:ue.height,position:{mx:(ue.width/2-7.5)/ue.width,my:(ue.height-20)/ue.height}}),{fill:Nn(ue,b),stroke:Ct(ue,S)})},ParallelMarker:function(Te,ue,Fe){Ue("parallel",Te,c.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:(ue.width/2+Fe.parallel)/ue.width,my:(ue.height-20)/ue.height}}),{fill:Nn(ue,b),stroke:Ct(ue,S)})},SequentialMarker:function(Te,ue,Fe){Ue("sequential",Te,c.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:(ue.width/2+Fe.seq)/ue.width,my:(ue.height-19)/ue.height}}),{fill:Nn(ue,b),stroke:Ct(ue,S)})},CompensationMarker:function(Te,ue,Fe){Ue("compensation",Te,c.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:(ue.width/2+Fe.compensation)/ue.width,my:(ue.height-13)/ue.height}}),{strokeWidth:1,fill:Nn(ue,b),stroke:Ct(ue,S)})},LoopMarker:function(Te,ue,Fe){Ue("loop",Te,c.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:(ue.width/2+Fe.loop)/ue.width,my:(ue.height-7)/ue.height}}),{strokeWidth:1.5,fill:Nn(ue,b),stroke:Ct(ue,S),strokeMiterlimit:.5})},AdhocMarker:function(Te,ue,Fe){Ue("adhoc",Te,c.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:ue.width,containerHeight:ue.height,position:{mx:(ue.width/2+Fe.adhoc)/ue.width,my:(ue.height-15)/ue.height}}),{strokeWidth:1,fill:Ct(ue,S),stroke:Ct(ue,S)})}};function un(Te,ue,Fe){var tt,mt=_t(ue),zt=Fe&&-1!==Fe.indexOf("SubProcessMarker");tt=zt?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},y(Fe,function(Kt){ze(Kt)(Te,ue,tt)}),mt.isForCompensation&&ze("CompensationMarker")(Te,ue,tt),"bpmn:AdHocSubProcess"===mt.$type&&ze("AdhocMarker")(Te,ue,tt);var Ht=mt.loopCharacteristics,jt=Ht&&Ht.isSequential;Ht&&(void 0===jt&&ze("LoopMarker")(Te,ue,tt),!1===jt&&ze("ParallelMarker")(Te,ue,tt),!0===jt&&ze("SequentialMarker")(Te,ue,tt))}this._drawPath=Ie,this._renderer=ze}W(hl,qr),hl.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],hl.prototype.canRender=function(r){return me(r,"bpmn:BaseElement")},hl.prototype.drawShape=function(r,s){return this._renderer(s.type)(r,s)},hl.prototype.drawConnection=function(r,s){return this._renderer(s.type)(r,s)},hl.prototype.getShapePath=function(r){return me(r,"bpmn:Event")?zr([["M",(s=r).x+s.width/2,s.y+s.height/2],["m",0,-(u=s.width/2)],["a",u,u,0,1,1,0,2*u],["a",u,u,0,1,1,0,-2*u],["z"]]):me(r,"bpmn:Activity")?zr([["M",(h=r).x+(m=10),h.y],["l",(N=h.width)-20,0],["a",m,m,0,0,1,m,m],["l",0,(j=h.height)-20],["a",m,m,0,0,1,-m,m],["l",20-N,0],["a",m,m,0,0,1,-m,-m],["l",0,20-j],["a",m,m,0,0,1,m,-m],["z"]]):me(r,"bpmn:Gateway")?function(h){var m=h.width/2,b=h.height/2;return zr([["M",h.x+m,h.y],["l",m,b],["l",-m,b],["l",-m,-b],["z"]])}(r):function(h){var S=h.width;return zr([["M",h.x,h.y],["l",S,0],["l",0,h.height],["l",-S,0],["z"]])}(r);var h,m,N,j,s,u};var Df={width:150,height:50};function oy(r,s){var a;s.textContent=r;try{var c,u=""===r;return s.textContent=u?"dummy":r,c={width:(a=s.getBBox()).width+2*a.x,height:a.height},u&&(c.width=0),c}catch{return{width:0,height:0}}}function ta(r,s,a){for(var c,u=r.shift(),h=u;;){if((c=oy(h,a)).width=h?c.width:0," "===h||""===h||c.width<Math.round(s)||h.length<2)return sy(r,h,u,c);h=I0(h,c.width,s)}}function sy(r,s,a,c){if(s.length<a.length){var u=a.slice(s.length).trim();r.unshift(u)}return{width:c.width,height:c.height,text:s}}function I0(r,s,a){var c=Math.max(r.length*(a/s),1),u=function(h,m){var b,S=h.split(/(\s|-|\u00AD)/g),N=[],j=0;if(S.length>1)for(;b=S.shift();){if(!(b.length+j<m)){"-"!==b&&"\xad"!==b||N.pop();break}N.push(b),j+=b.length}var G=N[N.length-1];return G&&"\xad"===G&&(N[N.length-1]="-"),N.join("")}(r,c);return u||(u=r.slice(0,Math.max(Math.round(c-1),1))),u}function Mf(r){this._config=we({},{size:Df,padding:0,style:{},align:"center-top"},r||{})}function ay(r){var s=we({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},r&&r.defaultStyle||{}),a=parseInt(s.fontSize,10)-1,c=we({},s,{fontSize:a},r&&r.externalStyle||{}),u=new Mf({style:s});this.getExternalLabelBounds=function(h,m){var b=u.getDimensions(m,{box:{width:90,height:30},style:c});return{x:Math.round(h.x+h.width/2-b.width/2),y:Math.round(h.y),width:Math.ceil(b.width),height:Math.ceil(b.height)}},this.getTextAnnotationBounds=function(h,m){var b=u.getDimensions(m,{box:h,style:s,align:"left-top",padding:5});return{x:h.x,y:h.y,width:h.width,height:Math.max(30,Math.round(b.height))}},this.createText=function(h,m){return u.createText(h,m||{})},this.getDefaultStyle=function(){return s},this.getExternalStyle=function(){return c}}Mf.prototype.createText=function(r,s){return this.layoutText(r,s).element},Mf.prototype.getDimensions=function(r,s){return this.layoutText(r,s).dimensions},Mf.prototype.layoutText=function(r,s){var se,de,a=we({},this._config.size,s.box),c=we({},this._config.style,s.style),u_horizontal=(se=(s.align||this._config.align).split("-"))[0]||"center",u_vertical=se[1]||"top",h=D(de=void 0!==s.padding?s.padding:this._config.padding)?we({top:0,left:0,right:0,bottom:0},de):{top:de,left:de,right:de,bottom:de},m=s.fitBox||!1,b=function(de){if("fontSize"in de&&"lineHeight"in de)return de.lineHeight*parseInt(de.fontSize,10)}(c),S=r.split(/\u00AD?\r?\n/),N=[],j=a.width-h.left-h.right,G=Gt("text");for(Ot(G,{x:0,y:0}),Ot(G,c),Qt(function(){var de=document.getElementById("helper-svg");return de||(Ot(de=Gt("svg"),{id:"helper-svg"}),Mn(de,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(de)),de}(),G);S.length;)N.push(ta(S,j,G));"middle"===u_vertical&&(h.top=h.bottom=0);var Z=v(N,function(de,se,ce){return de+(b||se.height)},0)+h.top+h.bottom,J=v(N,function(de,se,ce){return se.width>de?se.width:de},0),re=h.top;"middle"===u_vertical&&(re+=(a.height-Z)/2),re-=(b||N[0].height)/4;var ae=Gt("text");return Ot(ae,c),y(N,function(de){var se;switch(re+=b||de.height,u_horizontal){case"left":se=h.left;break;case"right":se=(m?J:j)-h.right-de.width;break;default:se=Math.max(((m?J:j)-de.width)/2+h.left,0)}var ce=Gt("tspan");Ot(ce,{x:se,y:re}),ce.textContent=de.text,Qt(ae,ce)}),Ni(G),{dimensions:{width:J,height:Z},element:ae}},ay.$inject=["config.textRenderer"];var Im=/\{([^{}]+)\}/g,ly=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,cy={__init__:["bpmnRenderer"],bpmnRenderer:["type",hl],textRenderer:["type",ay],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(r){return this.pathMap[r].d},this.getScaledPath=function(r,s){var a,c,u=this.pathMap[r];s.abspos?(a=s.abspos.x,c=s.abspos.y):(a=s.containerWidth*s.position.mx,c=s.containerHeight*s.position.my);var G,h={};if(s.position){for(var m=s.containerHeight/u.height*s.yScaleFactor,b=s.containerWidth/u.width*s.xScaleFactor,S=0;S<u.heightElements.length;S++)h["y"+S]=u.heightElements[S]*m;for(var N=0;N<u.widthElements.length;N++)h["x"+N]=u.widthElements[N]*b}return G={mx:a,my:c,e:h},String(u.d).replace(Im,function(J,re){return ae=J,ce=se=G,re.replace(ly,function(be,ve,Ie,Ue,ze){ve=ve||Ue,ce&&(ve in ce&&(ce=ce[ve]),"function"==typeof ce&&ze&&(ce=ce()))}),ce=(null==ce||ce==se?ae:ce)+"";var ae,se,ce})}}]},Rr={translate:["value",function(r,s){return s=s||{},r.replace(/{([^}]+)}/g,function(a,c){return s[c]||"{"+c+"}"})}]};function us(r,s,a){return we({id:r.id,type:r.$type,businessObject:r,di:s},a)}function na(r,s,a){var c=r.waypoint;return!c||c.length<2?[Jt(s),Jt(a)]:c.map(function(u){return{x:u.x,y:u.y}})}function Pm(r,s,a,c){return new Error(r("element {element} referenced by {referenced}#{property} not yet drawn",{element:Pr(a),referenced:Pr(s),property:c}))}function ia(r,s,a,c,u,h){this._eventBus=r,this._canvas=s,this._elementFactory=a,this._elementRegistry=c,this._translate=u,this._textRenderer=h}ia.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],ia.prototype.add=function(r,s,a){var c,h,J,re,ae,de,m=this._translate;if(me(s,"bpmndi:BPMNPlane")){var b=me(r,"bpmn:SubProcess")?{id:r.id+"_plane"}:{};c=this._elementFactory.createRoot(us(r,s,b)),this._canvas.addRootElement(c)}else if(me(s,"bpmndi:BPMNShape")){var S=!Rn(r,s),N=me(r,"bpmn:Group"),j=s.bounds;c=this._elementFactory.createShape(us(r,s,{collapsed:S,hidden:a&&(a.hidden||a.collapsed),x:Math.round(j.x),y:Math.round(j.y),width:Math.round(j.width),height:Math.round(j.height),isFrame:N})),me(r,"bpmn:BoundaryEvent")&&this._attachBoundary(r,c),me(r,"bpmn:Lane")&&(h=0),me(r,"bpmn:DataStoreReference")&&(J=a,re=Jt(j),de=re.y,(ae=re.x)>=J.x&&ae<=J.x+J.width&&de>=J.y&&de<=J.y+J.height||(a=this._canvas.findRoot(a))),this._canvas.addShape(c,a,h)}else{if(!me(s,"bpmndi:BPMNEdge"))throw new Error(m("unknown di {di} for element {semantic}",{di:Pr(s),semantic:Pr(r)}));var G=this._getSource(r),Z=this._getTarget(r);c=this._elementFactory.createConnection(us(r,s,{hidden:a&&(a.hidden||a.collapsed),source:G,target:Z,waypoints:na(s,G,Z)})),me(r,"bpmn:DataAssociation")&&(a=this._canvas.findRoot(a)),this._canvas.addConnection(c,a,h)}return Zl(r)&&Jn(c)&&this.addLabel(r,s,c),this._eventBus.fire("bpmnElement.added",{element:c}),c},ia.prototype._attachBoundary=function(r,s){var a=this._translate,c=r.attachedToRef;if(!c)throw new Error(a("missing {semantic}#attachedToRef",{semantic:Pr(r)}));var u=this._elementRegistry.get(c.id),h=u&&u.attachers;if(!u)throw Pm(a,r,c,"attachedToRef");s.host=u,h||(u.attachers=h=[]),-1===h.indexOf(s)&&h.push(s)},ia.prototype.addLabel=function(r,s,a){var c,u,h,b,S,N,j,G;return b=a,(G=s.label)&&G.bounds?(j=G.bounds,N={width:Math.max(Ic.width,j.width),height:j.height},S={x:j.x+j.width/2,y:j.y+j.height/2}):(S=ds(b),N=Ic),c=we({x:S.x-N.width/2,y:S.y-N.height/2},N),(u=Jn(a))&&(c=this._textRenderer.getExternalLabelBounds(c,u)),h=this._elementFactory.createLabel(us(r,s,{id:r.id+"_label",labelTarget:a,type:"label",hidden:a.hidden||!Jn(a),x:Math.round(c.x),y:Math.round(c.y),width:Math.round(c.width),height:Math.round(c.height)})),this._canvas.addShape(h,a.parent)},ia.prototype._getConnectedElement=function(r,s){var a,c,u=r.$type,h=this._translate;if(c=r[s+"Ref"],"source"===s&&"bpmn:DataInputAssociation"===u&&(c=c&&c[0]),("source"===s&&"bpmn:DataOutputAssociation"===u||"target"===s&&"bpmn:DataInputAssociation"===u)&&(c=r.$parent),a=c&&this._getElement(c))return a;throw c?Pm(h,r,c,s+"Ref"):new Error(h("{semantic}#{side} Ref not specified",{semantic:Pr(r),side:s}))},ia.prototype._getSource=function(r){return this._getConnectedElement(r,"source")},ia.prototype._getTarget=function(r){return this._getConnectedElement(r,"target")},ia.prototype._getElement=function(r){return this._elementRegistry.get(r.id)};var Rm={__depends__:[cy,{__depends__:[Rr],bpmnImporter:["type",ia]}]};function Nm(r){r&&"function"==typeof r.stopPropagation&&r.stopPropagation()}function fl(r){return r.originalEvent||r.srcEvent}function Od(r){Nm(r),Nm(fl(r))}function ur(r){return r.pointers&&r.pointers.length&&(r=r.pointers[0]),r.touches&&r.touches.length&&(r=r.touches[0]),r?{x:r.clientX,y:r.clientY}:null}function Rc(r,s){return(fl(r)||r).button===s}function Fn(r){return Rc(r,0)}function z(r){var s=fl(r)||r;return!!Fn(r)&&(/mac/i.test(navigator.platform)?s.metaKey:s.ctrlKey)}function Q(r){var s=fl(r)||r;return Fn(r)&&s.shiftKey}function he(r){return!0}function pe(r){return Fn(r)||function(s){return Rc(s,1)}(r)}function Me(r,s,a){var c=this;function u(se,ce,be){var ve,Ie;!(S[se]||Fn)(ce)||(be?Ie=s.getGraphics(be):(ve=ce.delegateTarget||ce.target)&&(be=s.get(Ie=ve)),Ie&&be&&!1===r.fire(se,{element:be,gfx:Ie,originalEvent:ce})&&(ce.stopPropagation(),ce.preventDefault()))}var h={};function m(se){return h[se]}var b={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},S={"element.contextmenu":he,"element.mousedown":pe,"element.mouseup":pe,"element.click":pe,"element.dblclick":pe};function N(se,ce,be,ve){var Ie=h[be]=function(Ue){u(be,Ue)};ve&&(S[be]=ve),Ie.$delegate=tr.bind(se,"svg, .djs-element",ce,Ie)}function j(se,ce,be){var ve=m(be);ve&&tr.unbind(se,ce,ve.$delegate)}r.on("canvas.destroy",function(se){var ce;ce=se.svg,y(b,function(be,ve){j(ce,ve,be)})}),r.on("canvas.init",function(se){var ce;ce=se.svg,y(b,function(be,ve){N(ce,ve,be)})}),r.on(["shape.added","connection.added"],function(se){r.fire("interactionEvents.createHit",{element:se.element,gfx:se.gfx})}),r.on(["shape.changed","connection.changed"],500,function(se){r.fire("interactionEvents.updateHit",{element:se.element,gfx:se.gfx})}),r.on("interactionEvents.createHit",500,function(se){c.createDefaultHit(se.element,se.gfx)}),r.on("interactionEvents.updateHit",function(se){c.updateDefaultHit(se.element,se.gfx)});var G=re("djs-hit djs-hit-stroke"),Z=re("djs-hit djs-hit-click-stroke"),J={all:re("djs-hit djs-hit-all"),"click-stroke":Z,stroke:G,"no-move":re("djs-hit djs-hit-no-move")};function re(se,ce){return ce=we({stroke:"white",strokeWidth:15},ce||{}),a.cls(se,["no-fill","no-border"],ce)}function ae(se,ce){var be=J[ce];if(!be)throw new Error("invalid hit type <"+ce+">");return Ot(se,be),se}function de(se,ce){Qt(se,ce)}this.removeHits=function(se){y(wc(".djs-hit",se),Ni)},this.createDefaultHit=function(se,ce){var ve=se.waypoints,Ie=se.isFrame;return ve?this.createWaypointsHit(ce,ve):this.createBoxHit(ce,Ie?"stroke":"all",{width:se.width,height:se.height})},this.createWaypointsHit=function(se,ce){var be=Xa(ce);return ae(be,"stroke"),de(se,be),be},this.createBoxHit=function(se,ce,be){be=we({x:0,y:0},be);var ve=Gt("rect");return ae(ve,ce),Ot(ve,be),de(se,ve),ve},this.updateDefaultHit=function(se,ce){var be=oi(".djs-hit",ce);if(be)return se.waypoints?Za(be,se.waypoints):Ot(be,{width:se.width,height:se.height}),be},this.fire=u,this.triggerMouseEvent=function(se,ce,be){var ve=b[se];if(!ve)throw new Error("unmapped DOM event name <"+se+">");return u(ve,ce,be)},this.mouseHandler=m,this.registerEvent=N,this.unregisterEvent=j}Me.$inject=["eventBus","elementRegistry","styles"];var Xe={__init__:["interactionEvents"],interactionEvents:["type",Me]};function ot(r,s){this.offset=6;var a=s.cls("djs-outline",["no-fill"]),c=this;function u(h,m){var b=Gt("rect");return Ot(b,we({x:10,y:10,rx:4,width:100,height:100},a)),Qt(h,b),b}r.on(["shape.added","shape.changed"],500,function(h){var m=h.element,b=h.gfx,S=oi(".djs-outline",b);S||(S=u(b)),c.updateShapeOutline(S,m)}),r.on(["connection.added","connection.changed"],function(h){var m=h.element,b=h.gfx,S=oi(".djs-outline",b);S||(S=u(b)),c.updateConnectionOutline(S,m)})}ot.prototype.updateShapeOutline=function(r,s){Ot(r,{x:-this.offset,y:-this.offset,width:s.width+2*this.offset,height:s.height+2*this.offset})},ot.prototype.updateConnectionOutline=function(r,s){var a=qt(s);Ot(r,{x:a.x-this.offset,y:a.y-this.offset,width:a.width+2*this.offset,height:a.height+2*this.offset})},ot.$inject=["eventBus","styles","elementRegistry"];var en={__init__:["outline"],outline:["type",ot]};function Un(r,s){this._eventBus=r,this._canvas=s,this._selectedElements=[];var a=this;r.on(["shape.remove","connection.remove"],function(c){a.deselect(c.element)}),r.on(["diagram.clear","root.set"],function(c){a.select(null)})}Un.$inject=["eventBus","canvas"],Un.prototype.deselect=function(r){var s=this._selectedElements,a=s.indexOf(r);if(-1!==a){var c=s.slice();s.splice(a,1),this._eventBus.fire("selection.changed",{oldSelection:c,newSelection:s})}},Un.prototype.get=function(){return this._selectedElements},Un.prototype.isSelected=function(r){return-1!==this._selectedElements.indexOf(r)},Un.prototype.select=function(r,s){var a=this._selectedElements,c=a.slice();T(r)||(r=r?[r]:[]);var u=this._canvas,h=u.getRootElement();r=r.filter(function(m){var b=u.findRoot(m);return h===b}),s?y(r,function(m){-1===a.indexOf(m)&&a.push(m)}):this._selectedElements=a=r.slice(),this._eventBus.fire("selection.changed",{oldSelection:c,newSelection:a})};var Jo="selected";function zo(r,s,a){this._canvas=r;var c=this;function u(m,b){r.addMarker(m,b)}function h(m,b){r.removeMarker(m,b)}this._multiSelectionBox=null,s.on("element.hover",function(m){u(m.element,"hover")}),s.on("element.out",function(m){h(m.element,"hover")}),s.on("selection.changed",function(m){var b=m.oldSelection,S=m.newSelection;y(b,function(N){-1===S.indexOf(N)&&h(N,Jo)}),y(S,function(N){-1===b.indexOf(N)&&u(N,Jo)}),c._updateSelectionOutline(S)}),s.on("element.changed",function(m){a.isSelected(m.element)&&c._updateSelectionOutline(a.get())})}function Ql(r,s,a,c){r.on("create.end",500,function(u){var h=u.context,b=h.elements,S=(h.hints||{}).autoSelect;if(h.canExecute){if(!1===S)return;T(S)?s.select(S):s.select(b.filter(dy))}}),r.on("connect.end",500,function(u){var h=u.context.connection;h&&s.select(h)}),r.on("shape.move.end",500,function(u){var h=u.previousSelection||[],m=c.get(u.context.shape.id);_(h,function(b){return m.id===b.id})||s.select(m)}),r.on("element.click",function(u){if(Fn(u)){var h=u.element;h===a.getRootElement()&&(h=null);var m=s.isSelected(h),b=s.get().length>1,S=z(u)||Q(u);if(m&&b)return S?s.deselect(h):s.select(h);m?s.deselect(h):s.select(h,S)}})}function dy(r){return!r.hidden}zo.$inject=["canvas","eventBus","selection"],zo.prototype._updateSelectionOutline=function(r){var s=this._canvas.getLayer("selectionOutline");Ys(s);var h,a=r.length>1;if(Cn(this._canvas.getContainer())[a?"add":"remove"]("djs-multi-select"),a){var c={x:(h=qt(r)).x-6,y:h.y-6,width:h.width+12,height:h.height+12},u=Gt("rect");Ot(u,we({rx:3},c)),Cn(u).add("djs-selection-outline"),Qt(s,u)}},Ql.$inject=["eventBus","selection","canvas","elementRegistry"];var hs={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Xe,en],selection:["type",Un],selectionVisuals:["type",zo],selectionBehavior:["type",Ql]};function ah(r){this._counter=0,this._prefix=(r?r+"-":"")+Math.floor(1e9*Math.random())+"-"}ah.prototype.next=function(){return this._prefix+ ++this._counter};var lh=new ah("ov");function jr(r,s,a,c){var u,h;this._eventBus=s,this._canvas=a,this._elementRegistry=c,this._ids=lh,this._overlayDefaults=we({show:null,scale:!0},r&&r.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(u=a.getContainer(),Mn(h=En('<div class="djs-overlay-container" />'),{position:"absolute",width:0,height:0}),u.insertBefore(h,u.firstChild),h),this._init()}function gn(r,s,a){Mn(r,{left:s+"px",top:a+"px"})}function Tf(r,s){r.style.display=!1===s?"none":""}function GC(r,s){r.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(a){r.style[a+"transform"]=s})}jr.$inject=["config.overlays","eventBus","canvas","elementRegistry"],jr.prototype.get=function(r){if(I(r)&&(r={id:r}),I(r.element)&&(r.element=this._elementRegistry.get(r.element)),r.element){var s=this._getOverlayContainer(r.element,!0);return s?r.type?p(s.overlays,Ce({type:r.type})):s.overlays.slice():[]}return r.type?p(this._overlays,Ce({type:r.type})):r.id?this._overlays[r.id]:null},jr.prototype.add=function(r,s,a){if(D(s)&&(a=s,s=null),r.id||(r=this._elementRegistry.get(r)),!a.position)throw new Error("must specifiy overlay position");if(!a.html)throw new Error("must specifiy overlay html");if(!r)throw new Error("invalid element specified");var c=this._ids.next();return a=we({},this._overlayDefaults,a,{id:c,type:s,element:r,html:a.html}),this._addOverlay(a),c},jr.prototype.remove=function(r){var s=this.get(r)||[];T(s)||(s=[s]);var a=this;y(s,function(c){var u=a._getOverlayContainer(c.element,!0);if(c&&(Do(c.html),Do(c.htmlContainer),delete c.htmlContainer,delete c.element,delete a._overlays[c.id]),u){var h=u.overlays.indexOf(c);-1!==h&&u.overlays.splice(h,1)}})},jr.prototype.isShown=function(){return"none"!==this._overlayRoot.style.display},jr.prototype.show=function(){Tf(this._overlayRoot)},jr.prototype.hide=function(){Tf(this._overlayRoot,!1)},jr.prototype.clear=function(){this._overlays={},this._overlayContainers=[],Vi(this._overlayRoot)},jr.prototype._updateOverlayContainer=function(r){var s=r.element,a=r.html,c=s.x,u=s.y;if(s.waypoints){var h=qt(s);c=h.x,u=h.y}gn(a,c,u),zn(r.html,"data-container-id",s.id)},jr.prototype._updateOverlay=function(r){var s,a,c=r.position,u=r.htmlContainer,h=r.element,m=c.left,b=c.top;void 0!==c.right&&(s=h.waypoints?qt(h).width:h.width,m=-1*c.right+s),void 0!==c.bottom&&(a=h.waypoints?qt(h).height:h.height,b=-1*c.bottom+a),gn(u,m||0,b||0),this._updateOverlayVisibilty(r,this._canvas.viewbox())},jr.prototype._createOverlayContainer=function(r){var s=En('<div class="djs-overlays" />');Mn(s,{position:"absolute"}),this._overlayRoot.appendChild(s);var a={html:s,element:r,overlays:[]};return this._updateOverlayContainer(a),this._overlayContainers.push(a),a},jr.prototype._updateRoot=function(r){var s=r.scale||1,a="matrix("+[s,0,0,s,-1*r.x*s,-1*r.y*s].join(",")+")";GC(this._overlayRoot,a)},jr.prototype._getOverlayContainer=function(r,s){var a=_(this._overlayContainers,function(c){return c.element===r});return a||s?a:this._createOverlayContainer(r)},jr.prototype._addOverlay=function(r){var s,a,c=r.id,u=r.element,h=r.html;h.get&&h.constructor.prototype.jquery&&(h=h.get(0)),I(h)&&(h=En(h)),a=this._getOverlayContainer(u),Mn(s=En('<div class="djs-overlay" data-overlay-id="'+c+'">'),{position:"absolute"}),s.appendChild(h),r.type&&Zt(s).add("djs-overlay-"+r.type),Tf(s,this._canvas.findRoot(u)===this._canvas.getRootElement()),r.htmlContainer=s,a.overlays.push(r),a.html.appendChild(s),this._overlays[c]=r,this._updateOverlay(r),this._updateOverlayVisibilty(r,this._canvas.viewbox())},jr.prototype._updateOverlayVisibilty=function(r,s){var a=r.show,c=this._canvas.findRoot(r.element),u=a&&a.minZoom,h=a&&a.maxZoom,m=r.htmlContainer,b=!0;(c!==this._canvas.getRootElement()||a&&(U(u)&&u>s.scale||U(h)&&h<s.scale))&&(b=!1),Tf(m,b),this._updateOverlayScale(r,s)},jr.prototype._updateOverlayScale=function(r,s){var a,c,u,h=r.scale,m=r.htmlContainer,b="";!0!==h&&(!1===h?(a=1,c=1):(a=h.min,c=h.max),U(a)&&s.scale<a&&(u=(1/s.scale||1)*a),U(c)&&s.scale>c&&(u=(1/s.scale||1)*c)),U(u)&&(b="scale("+u+","+u+")"),GC(m,b)},jr.prototype._updateOverlaysVisibilty=function(r){var s=this;y(this._overlays,function(a){s._updateOverlayVisibilty(a,r)})},jr.prototype._init=function(){var r=this._eventBus,s=this;r.on("canvas.viewbox.changing",function(a){s.hide()}),r.on("canvas.viewbox.changed",function(a){var c;s._updateRoot(c=a.viewbox),s._updateOverlaysVisibilty(c),s.show()}),r.on(["shape.remove","connection.remove"],function(a){var c=a.element;y(s.get({element:c}),function(m){s.remove(m.id)});var u=s._getOverlayContainer(c);if(u){Do(u.html);var h=s._overlayContainers.indexOf(u);-1!==h&&s._overlayContainers.splice(h,1)}}),r.on("element.changed",500,function(a){var u=s._getOverlayContainer(a.element,!0);u&&(y(u.overlays,function(h){s._updateOverlay(h)}),s._updateOverlayContainer(u))}),r.on("element.marker.update",function(a){var c=s._getOverlayContainer(a.element,!0);c&&Zt(c.html)[a.add?"add":"remove"](a.marker)}),r.on("root.set",function(){s._updateOverlaysVisibilty(s._canvas.viewbox())}),r.on("diagram.clear",this.clear,this)};var Fm={__init__:["overlays"],overlays:["type",jr]};function P0(r,s,a,c){r.on("element.changed",function(u){var h=u.element;(h.parent||h===s.getRootElement())&&(u.gfx=a.getGraphics(h)),u.gfx&&r.fire(on(h)+".changed",u)}),r.on("elements.changed",function(u){var h=u.elements;h.forEach(function(m){r.fire("element.changed",{element:m})}),c.updateContainments(h)}),r.on("shape.changed",function(u){c.update("shape",u.element,u.gfx)}),r.on("connection.changed",function(u){c.update("connection",u.element,u.gfx)})}P0.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var uy={__init__:["changeSupport"],changeSupport:["type",P0]};function vt(r){this._eventBus=r}function Rs(r){return function(s,a,c,u,h){(E(s)||C(s))&&(h=u,u=c,c=a,a=s,s=null),this.on(s,r,a,c,u,h)}}function hy(r,s){s.invoke(vt,this),this.executed(function(a){var c=a.context;c.rootElement?r.setRootElement(c.rootElement):c.rootElement=r.getRootElement()}),this.revert(function(a){var c=a.context;c.rootElement&&r.setRootElement(c.rootElement)})}vt.$inject=["eventBus"],vt.prototype.on=function(r,s,a,c,u,h){if((E(s)||C(s))&&(h=u,u=c,c=a,a=s,s=null),E(a)&&(h=u,u=c,c=a,a=1e3),D(u)&&(h=u,u=!1),!E(c))throw new Error("handlerFn must be a function");T(r)||(r=[r]);var m=this._eventBus;y(r,function(b){var N,j,S=["commandStack",b,s].filter(function(N){return N}).join(".");m.on(S,a,u?(N=c,j=h,function(G){return N.call(j||null,G.context,G.command,G)}):c,h)})},vt.prototype.canExecute=Rs("canExecute"),vt.prototype.preExecute=Rs("preExecute"),vt.prototype.preExecuted=Rs("preExecuted"),vt.prototype.execute=Rs("execute"),vt.prototype.executed=Rs("executed"),vt.prototype.postExecute=Rs("postExecute"),vt.prototype.postExecuted=Rs("postExecuted"),vt.prototype.revert=Rs("revert"),vt.prototype.reverted=Rs("reverted"),W(hy,vt),hy.$inject=["canvas","injector"];var YC={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",hy]};function kf(r){return CSS.escape(r)}var KC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function fy(r){return(r=""+r)&&r.replace(/[&<>"']/g,function(s){return KC[s]})}var dt="_plane";function gi(r){return function(s){return s.replace(new RegExp("_plane$"),"")}(r.id)}function Ur(r){var s=r.id;return me(r,"bpmn:SubProcess")?py(s):s}function bo(r){return py(r)}function $r(r){return me(qn(r),"bpmndi:BPMNPlane")}function py(r){return r+dt}function ch(r,s,a){var c=En('<ul class="bjs-breadcrumbs"></ul>'),u=a.getContainer(),h=Zt(u);u.appendChild(c);var m=[];function b(S){S&&(m=function(G){for(var J=[],re=_t(G);re;re=re.$parent)(me(re,"bpmn:SubProcess")||me(re,"bpmn:Process"))&&J.push(re);return J.reverse()}(S));var N=m.map(function(G){var Z=fy(G.name||G.id),J=En('<li><span class="bjs-crumb"><a title="'+Z+'">'+Z+"</a></span></li>"),re=a.findRoot(Ur(G))||a.findRoot(G.id);if(!re&&me(G,"bpmn:Process")){var ae=s.find(function(de){var se=_t(de);return se&&se.get("processRef")&&se.get("processRef")===G});re=a.findRoot(ae.id)}return J.addEventListener("click",function(){a.setRootElement(re)}),J});c.innerHTML="",h.toggle("bjs-breadcrumbs-shown",N.length>1),N.forEach(function(G){c.appendChild(G)})}r.on("element.changed",function(S){var N=_t(S.element);_(m,function(j){return j===N})&&b()}),r.on("root.set",function(S){b(S.element)})}function Aa(r,s){var a=null,c=new my;r.on("root.set",function(u){var h=u.element,m=s.viewbox(),b=c.get(h);if(c.set(a,{x:m.x,y:m.y,zoom:m.scale}),a=h,!me(h,"bpmn:Collaboration")||b){var S=(m.x-(b=b||{x:0,y:0,zoom:1}).x)*m.scale,N=(m.y-b.y)*m.scale;0===S&&0===N||s.scroll({dx:S,dy:N}),b.zoom!==m.scale&&s.zoom(b.zoom,{x:0,y:0})}}),r.on("diagram.clear",function(){c.clear(),a=null})}function my(){this._entries=[],this.set=function(r,s){var a=!1;for(var c in this._entries)if(this._entries[c][0]===r){this._entries[c][1]=s,a=!0;break}a||this._entries.push([r,s])},this.get=function(r){for(var s in this._entries)if(this._entries[s][0]===r)return this._entries[s][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(r){var s=-1;for(var a in this._entries)if(this._entries[a][0]===r){s=a;break}-1!==s&&this._entries.splice(s,1)}}ch.$inject=["eventBus","elementRegistry","canvas"],Aa.$inject=["eventBus","canvas"];function dh(r,s){this._eventBus=r,this._moddle=s;var a=this;r.on("import.render.start",1500,function(c,u){a._handleImport(u.definitions)})}function vy(r){return me(r,"bpmndi:BPMNDiagram")?r:vy(r.$parent)}dh.prototype._handleImport=function(r){if(r.diagrams){var s=this;this._definitions=r,this._processToDiagramMap={},r.diagrams.forEach(function(c){c.plane&&c.plane.bpmnElement&&(s._processToDiagramMap[c.plane.bpmnElement.id]=c)});var a=[];r.diagrams.forEach(function(c){var u=s._createNewDiagrams(c.plane);Array.prototype.push.apply(a,u)}),a.forEach(function(c){s._movePlaneElementsToOrigin(c.plane)})}},dh.prototype._createNewDiagrams=function(r){var s=this,a=[],c=[];r.get("planeElement").forEach(function(h){var S,N,j,m=h.bpmnElement;if(m){var b=m.$parent;me(m,"bpmn:SubProcess")&&!h.isExpanded&&a.push(m),N=r,me(j=(S=m).$parent,"bpmn:SubProcess")&&j!==N.bpmnElement&&!jn(S,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"])&&c.push({diElement:h,parent:b})}});var u=[];return a.forEach(function(h){if(!s._processToDiagramMap[h.id]){var m=s._createDiagram(h);s._processToDiagramMap[h.id]=m,u.push(m)}}),c.forEach(function(h){for(var m=h.diElement,b=h.parent;b&&-1===a.indexOf(b);)b=b.$parent;b&&s._moveToDiPlane(m,s._processToDiagramMap[b.id].plane)}),u},dh.prototype._movePlaneElementsToOrigin=function(r){var m,s=r.get("planeElement"),a=(m={top:1/0,right:-1/0,bottom:-1/0,left:1/0},r.planeElement.forEach(function(b){if(b.bounds){var S=Ut(b.bounds);m.top=Math.min(S.top,m.top),m.left=Math.min(S.left,m.left)}}),No(m)),c=a.x-180,u=a.y-160;s.forEach(function(h){h.waypoint?h.waypoint.forEach(function(m){m.x=m.x-c,m.y=m.y-u}):h.bounds&&(h.bounds.x=h.bounds.x-c,h.bounds.y=h.bounds.y-u)})},dh.prototype._moveToDiPlane=function(r,s){var a=vy(r).plane.get("planeElement");a.splice(a.indexOf(r),1),s.get("planeElement").push(r)},dh.prototype._createDiagram=function(r){var s=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:r}),a=this._moddle.create("bpmndi:BPMNDiagram",{plane:s});return s.$parent=a,s.bpmnElement=r,a.$parent=this._definitions,this._definitions.diagrams.push(a),a},dh.$inject=["eventBus","moddle"];function Vo(r,s,a,c){vt.call(this,s),this._canvas=r,this._eventBus=s,this._elementRegistry=a,this._overlays=c;var u=this;this.executed("shape.toggleCollapse",250,function(h){var m=h.shape;u._canDrillDown(m)?u._addOverlay(m):u._removeOverlay(m)},!0),this.reverted("shape.toggleCollapse",250,function(h){var m=h.shape;u._canDrillDown(m)?u._addOverlay(m):u._removeOverlay(m)},!0),this.executed(["shape.create","shape.move","shape.delete"],250,function(h){var m=h.oldParent,b=h.newParent||h.parent,S=h.shape;u._canDrillDown(S)&&u._addOverlay(S),u._updateDrilldownOverlay(m),u._updateDrilldownOverlay(b),u._updateDrilldownOverlay(S)},!0),this.reverted(["shape.create","shape.move","shape.delete"],250,function(h){var m=h.oldParent,b=h.newParent||h.parent,S=h.shape;u._canDrillDown(S)&&u._addOverlay(S),u._updateDrilldownOverlay(m),u._updateDrilldownOverlay(b),u._updateDrilldownOverlay(S)},!0),s.on("import.render.complete",function(){a.filter(function(h){return u._canDrillDown(h)}).map(function(h){u._addOverlay(h)})})}W(Vo,vt),Vo.prototype._updateDrilldownOverlay=function(r){if(r){var a=this._canvas.findRoot(r);a&&this._updateOverlayVisibility(a)}},Vo.prototype._canDrillDown=function(r){var s=this._canvas;return me(r,"bpmn:SubProcess")&&s.findRoot(Ur(r))},Vo.prototype._updateOverlayVisibility=function(r){var s=this._overlays,a=_t(r),c=s.get({element:a.id,type:"drilldown"})[0];if(c){var u=a&&a.get("flowElements")&&a.get("flowElements").length;Zt(c.html).toggle("bjs-drilldown-empty",!u)}},Vo.prototype._addOverlay=function(r){var s=this._canvas,a=this._overlays;a.get({element:r,type:"drilldown"}).length&&this._removeOverlay(r);var c=En('<button class="bjs-drilldown"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg></button>');c.addEventListener("click",function(){s.setRootElement(s.findRoot(Ur(r)))}),a.add(r,"drilldown",{position:{bottom:-7,right:-8},html:c}),this._updateOverlayVisibility(r)},Vo.prototype._removeOverlay=function(r){this._overlays.remove({element:r,type:"drilldown"})},Vo.$inject=["canvas","eventBus","elementRegistry","overlays"];var R0={__depends__:[Fm,uy,YC],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",ch],drilldownCentering:["type",Aa],drilldownOverlayBehavior:["type",Vo],subprocessCompatibility:["type",dh]};function Ns(r){ci.call(this,r)}W(Ns,ci),Ns.prototype._modules=[Rm,Rr,hs,Fm,R0],Ns.prototype._moddleExtensions={};var ql=["c","C"],ZC=["v","V"],N0=["y","Y"],F0=["z","Z"];function Fs(r){return!r.altKey&&(r.ctrlKey||r.metaKey)}function Cr(r,s){return-1!==(r=T(r)?r:[r]).indexOf(s.key)||-1!==r.indexOf(s.code)}function Af(r){return r.shiftKey}var Of="keyboard.keydown";function oo(r,s){var a=this;this._config=r||{},this._eventBus=s,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),s.on("diagram.destroy",function(){a._fire("destroy"),a.unbind()}),s.on("diagram.init",function(){a._fire("init")}),s.on("attach",function(){r&&r.bindTo&&a.bind(r.bindTo)}),s.on("detach",function(){a.unbind()})}function Id(r,s){var a=this;r.on("editorActions.init",500,function(c){a.registerBindings(s,c.editorActions)})}oo.$inject=["config.keyboard","eventBus"],oo.prototype._keydownHandler=function(r){this._keyHandler(r,Of)},oo.prototype._keyupHandler=function(r){this._keyHandler(r,"keyboard.keyup")},oo.prototype._keyHandler=function(r,s){this._isEventIgnored(r)||this._eventBus.fire(s||Of,{keyEvent:r})&&r.preventDefault()},oo.prototype._isEventIgnored=function(r){return!!r.defaultPrevented||(s=r.target)&&(Oi(s,"input, textarea")||"true"===s.contentEditable)&&this._isModifiedKeyIgnored(r);var s},oo.prototype._isModifiedKeyIgnored=function(r){return!Fs(r)||-1===this._getAllowedModifiers(r.target).indexOf(r.key)},oo.prototype._getAllowedModifiers=function(r){var s=ti(r,"[input-handle-modified-keys]",!0);return!s||this._node&&!this._node.contains(s)?[]:s.getAttribute("input-handle-modified-keys").split(",")},oo.prototype.bind=function(r){this.unbind(),this._node=r,Dt.bind(r,"keydown",this._keydownHandler),Dt.bind(r,"keyup",this._keyupHandler),this._fire("bind")},oo.prototype.getBinding=function(){return this._node},oo.prototype.unbind=function(){var r=this._node;r&&(this._fire("unbind"),Dt.unbind(r,"keydown",this._keydownHandler),Dt.unbind(r,"keyup",this._keyupHandler)),this._node=null},oo.prototype._fire=function(r){this._eventBus.fire("keyboard."+r,{node:this._node})},oo.prototype.addListener=function(r,s,a){E(r)&&(a=s,s=r,r=1e3),this._eventBus.on(a||Of,r,s)},oo.prototype.removeListener=function(r,s){this._eventBus.off(s||Of,r)},oo.prototype.hasModifier=function(r){return r.ctrlKey||r.metaKey||r.shiftKey||r.altKey},oo.prototype.isCmd=Fs,oo.prototype.isShift=Af,oo.prototype.isKey=Cr,Id.$inject=["eventBus","keyboard"],Id.prototype.registerBindings=function(r,s){function a(c,u){s.isRegistered(c)&&r.addListener(u)}a("undo",function(c){if(Fs(u=c.keyEvent)&&!Af(u)&&Cr(F0,u))return s.trigger("undo"),!0;var u}),a("redo",function(c){if(Fs(u=c.keyEvent)&&(Cr(N0,u)||Cr(F0,u)&&Af(u)))return s.trigger("redo"),!0;var u}),a("copy",function(c){if(Fs(u=c.keyEvent)&&Cr(ql,u))return s.trigger("copy"),!0;var u}),a("paste",function(c){if(Fs(u=c.keyEvent)&&Cr(ZC,u))return s.trigger("paste"),!0;var u}),a("stepZoom",function(c){var u=c.keyEvent;if(Cr(["+","Add","="],u)&&Fs(u))return s.trigger("stepZoom",{value:1}),!0}),a("stepZoom",function(c){var u=c.keyEvent;if(Cr(["-","Subtract"],u)&&Fs(u))return s.trigger("stepZoom",{value:-1}),!0}),a("zoom",function(c){var u=c.keyEvent;if(Cr("0",u)&&Fs(u))return s.trigger("zoom",{value:1}),!0}),a("removeSelection",function(c){if(Cr(["Backspace","Delete","Del"],c.keyEvent))return s.trigger("removeSelection"),!0})};var If={__init__:["keyboard","keyboardBindings"],keyboard:["type",oo],keyboardBindings:["type",Id]},L0={moveSpeed:50,moveSpeedAccelerated:200};function by(r,s,a){var c=this;this._config=we({},L0,r||{}),s.addListener(function(u){var h=u.keyEvent,m=c._config;if(s.isCmd(h)&&s.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],h)){var b,S=s.isShift(h)?m.moveSpeedAccelerated:m.moveSpeed;switch(h.key){case"ArrowLeft":case"Left":b="left";break;case"ArrowUp":case"Up":b="up";break;case"ArrowRight":case"Right":b="right";break;case"ArrowDown":case"Down":b="down"}return c.moveCanvas({speed:S,direction:b}),!0}}),this.moveCanvas=function(u){var h=0,m=0,b=u.speed/Math.min(Math.sqrt(a.viewbox().scale),1);switch(u.direction){case"left":h=b;break;case"up":m=b;break;case"right":h=-b;break;case"down":m=-b}a.scroll({dx:h,dy:m})}}by.$inject=["config.keyboardMove","keyboard","canvas"];var _y={__depends__:[If],__init__:["keyboardMove"],keyboardMove:["type",by]},B0=/^djs-cursor-.*$/;function uh(r){var s=Zt(document.body);s.removeMatching(B0),r&&s.add("djs-cursor-"+r)}function z0(){uh(null)}function V0(r,s){function a(){return!1}return r.once(s=s||"element.click",5e3,a),function(){r.off(s,a)}}function Wr(r){return{x:r.x+r.width/2,y:r.y+r.height/2}}function _o(r,s){return{x:r.x-s.x,y:r.y-s.y}}function hr(r,s){var a;function c(h){var m,b=a.start,S=a.button,N=ur(h),j=_o(N,b);!a.dragging&&(m=j,Math.sqrt(Math.pow(m.x,2)+Math.pow(m.y,2))>15)&&(a.dragging=!0,0===S&&V0(r),uh("grab")),a.dragging&&(j=_o(N,a.last||a.start),s.scroll({dx:j.x,dy:j.y}),a.last=N),h.preventDefault()}function u(h){Dt.unbind(document,"mousemove",c),Dt.unbind(document,"mouseup",u),a=null,z0()}r.on("element.mousedown",500,function(h){return function(m){if(!ti(m.target,".djs-draggable")){var b=m.button;if(!(b>=2||m.ctrlKey||m.shiftKey||m.altKey))return a={button:b,start:ur(m)},Dt.bind(document,"mousemove",c),Dt.bind(document,"mouseup",u),!0}}(h.originalEvent)}),this.isActive=function(){return!!a}}hr.$inject=["eventBus","canvas"];var Nc={__init__:["moveCanvas"],moveCanvas:["type",hr]};function wy(r){return Math.log(r)/Math.log(10)}function hh(r,s){var a=wy(r.min),c=wy(r.max);return(Math.abs(a)+Math.abs(c))/s}var QC=Math.sign||function(r){return r>=0?1:-1},Lm={min:.2,max:4};function Oa(r,s,a){r=r||{},this._enabled=!1,this._canvas=a,this._container=a._container,this._handleWheel=We(this._handleWheel,this),this._totalDelta=0,this._scale=r.scale||.75;var c=this;s.on("canvas.init",function(u){c._init(!1!==r.enabled)})}Oa.$inject=["config.zoomScroll","eventBus","canvas"],Oa.prototype.scroll=function(r){this._canvas.scroll(r)},Oa.prototype.reset=function(){this._canvas.zoom("fit-viewport")},Oa.prototype.zoom=function(r,s){var a=hh(Lm,20);this._totalDelta+=r,Math.abs(this._totalDelta)>.1&&(this._zoom(r,s,a),this._totalDelta=0)},Oa.prototype._handleWheel=function(r){if(!ti(r.target,".djs-scrollable",!0)){var s=this._container;r.preventDefault();var a,c=r.ctrlKey,u=r.shiftKey,h=-1*this._scale;if(h*=c?0===r.deltaMode?.02:.32:0===r.deltaMode?1:16,c){var m=s.getBoundingClientRect(),b={x:r.clientX-m.left,y:r.clientY-m.top};a=Math.sqrt(Math.pow(r.deltaY,2)+Math.pow(r.deltaX,2))*QC(r.deltaY)*h,this.zoom(a,b)}else this.scroll(a=u?{dx:h*r.deltaY,dy:0}:{dx:h*r.deltaX,dy:h*r.deltaY})}},Oa.prototype.stepZoom=function(r,s){var a=hh(Lm,10);this._zoom(r,s,a)},Oa.prototype._zoom=function(r,s,a){var b,c=this._canvas,u=r>0?1:-1,h=wy(c.zoom()),m=Math.round(h/a)*a,N=Math.pow(10,m+=a*u);c.zoom((b=Lm,Math.max(b.min,Math.min(b.max,N))),s)},Oa.prototype.toggle=function(r){var c=this._enabled;return void 0===r&&(r=!c),c!==r&&Dt[r?"bind":"unbind"](this._container,"wheel",this._handleWheel,!1),this._enabled=r,r},Oa.prototype._init=function(r){this.toggle(r)};var Pf={__init__:["zoomScroll"],zoomScroll:["type",Oa]};function ra(r){Ns.call(this,r)}W(ra,Ns),ra.prototype._modules=[].concat(Ns.prototype._modules,ra.prototype._navigationModules=[_y,Nc,Pf]);var H0={exports:{}};!function(r){!function(s,a,c,u){var h,m=["","webkit","Moz","MS","ms","o"],b=a.createElement("div"),S=Math.round,N=Math.abs,j=Date.now;function G(_e,Pe,$e){return setTimeout(ce(_e,$e),Pe)}function Z(_e,Pe,$e){return!!Array.isArray(_e)&&(J(_e,$e[Pe],$e),!0)}function J(_e,Pe,$e){var rt;if(_e)if(_e.forEach)_e.forEach(Pe,$e);else if(_e.length!==u)for(rt=0;rt<_e.length;)Pe.call($e,_e[rt],rt,_e),rt++;else for(rt in _e)_e.hasOwnProperty(rt)&&Pe.call($e,_e[rt],rt,_e)}function re(_e,Pe,$e){var rt="DEPRECATED METHOD: "+Pe+"\n"+$e+" AT \n";return function(){var bt=new Error("get-stack-trace"),An=bt&&bt.stack?bt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Pi=s.console&&(s.console.warn||s.console.log);return Pi&&Pi.call(s.console,rt,An),_e.apply(this,arguments)}}h="function"!=typeof Object.assign?function(_e){if(_e===u||null===_e)throw new TypeError("Cannot convert undefined or null to object");for(var Pe=Object(_e),$e=1;$e<arguments.length;$e++){var rt=arguments[$e];if(rt!==u&&null!==rt)for(var bt in rt)rt.hasOwnProperty(bt)&&(Pe[bt]=rt[bt])}return Pe}:Object.assign;var ae=re(function(_e,Pe,$e){for(var rt=Object.keys(Pe),bt=0;bt<rt.length;)(!$e||$e&&_e[rt[bt]]===u)&&(_e[rt[bt]]=Pe[rt[bt]]),bt++;return _e},"extend","Use `assign`."),de=re(function(_e,Pe){return ae(_e,Pe,!0)},"merge","Use `assign`.");function se(_e,Pe,$e){var rt,bt=Pe.prototype;(rt=_e.prototype=Object.create(bt)).constructor=_e,rt._super=bt,$e&&h(rt,$e)}function ce(_e,Pe){return function(){return _e.apply(Pe,arguments)}}function be(_e,Pe){return"function"==typeof _e?_e.apply(Pe&&Pe[0]||u,Pe):_e}function ve(_e,Pe){return _e===u?Pe:_e}function Ie(_e,Pe,$e){J(Ke(Pe),function(rt){_e.addEventListener(rt,$e,!1)})}function Ue(_e,Pe,$e){J(Ke(Pe),function(rt){_e.removeEventListener(rt,$e,!1)})}function ze(_e,Pe){for(;_e;){if(_e==Pe)return!0;_e=_e.parentNode}return!1}function Ve(_e,Pe){return _e.indexOf(Pe)>-1}function Ke(_e){return _e.trim().split(/\s+/g)}function $t(_e,Pe,$e){if(_e.indexOf&&!$e)return _e.indexOf(Pe);for(var rt=0;rt<_e.length;){if($e&&_e[rt][$e]==Pe||!$e&&_e[rt]===Pe)return rt;rt++}return-1}function wt(_e){return Array.prototype.slice.call(_e,0)}function Ze(_e,Pe,$e){for(var rt=[],bt=[],An=0;An<_e.length;){var Pi=Pe?_e[An][Pe]:_e[An];$t(bt,Pi)<0&&rt.push(_e[An]),bt[An]=Pi,An++}return $e&&(rt=Pe?rt.sort(function(so,di){return so[Pe]>di[Pe]}):rt.sort()),rt}function at(_e,Pe){for(var $e,rt,bt=Pe[0].toUpperCase()+Pe.slice(1),An=0;An<m.length;){if((rt=($e=m[An])?$e+bt:Pe)in _e)return rt;An++}return u}var un=1;function Te(_e){var Pe=_e.ownerDocument||_e;return Pe.defaultView||Pe.parentWindow||s}var ue="ontouchstart"in s,Fe=at(s,"PointerEvent")!==u,tt=ue&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),mt="touch",zt="mouse",jt=["x","y"],Kt=["clientX","clientY"];function vi(_e,Pe){var $e=this;this.manager=_e,this.callback=Pe,this.element=_e.element,this.target=_e.options.inputTarget,this.domHandler=function(rt){be(_e.options.enable,[_e])&&$e.handler(rt)},this.init()}function fn(_e,Pe,$e){var rt=$e.pointers.length,bt=$e.changedPointers.length,An=1&Pe&&rt-bt==0,Pi=12&Pe&&rt-bt==0;$e.isFirst=!!An,$e.isFinal=!!Pi,An&&(_e.session={}),$e.eventType=Pe,function(so,di){var xo=so.session,Kp=di.pointers,uc=Kp.length;xo.firstInput||(xo.firstInput=Fr(di)),uc>1&&!xo.firstMultiple?xo.firstMultiple=Fr(di):1===uc&&(xo.firstMultiple=!1);var ma,Yr,Eu,Rt,Cu,Su,k_=xo.firstInput,pa=xo.firstMultiple,tE=pa?pa.center:k_.center,nE=di.center=Ba(Kp);di.timeStamp=j(),di.deltaTime=di.timeStamp-k_.timeStamp,di.angle=zi(tE,nE),di.distance=Bn(tE,nE),Eu=(Yr=di).center,Rt=(ma=xo).offsetDelta||{},Cu=ma.prevDelta||{},Su=ma.prevInput||{},1!==Yr.eventType&&4!==Su.eventType||(Cu=ma.prevDelta={x:Su.deltaX||0,y:Su.deltaY||0},Rt=ma.offsetDelta={x:Eu.x,y:Eu.y}),Yr.deltaX=Cu.x+(Eu.x-Rt.x),Yr.deltaY=Cu.y+(Eu.y-Rt.y),di.offsetDirection=xi(di.deltaX,di.deltaY);var Va=er(di.deltaTime,di.deltaX,di.deltaY);di.overallVelocityX=Va.x,di.overallVelocityY=Va.y,di.overallVelocity=N(Va.x)>N(Va.y)?Va.x:Va.y,di.scale=pa?(iE=pa.pointers,Bn((Eo=Kp)[0],Eo[1],Kt)/Bn(iE[0],iE[1],Kt)):1,di.rotation=pa?function(ma,Yr){return zi(Yr[1],Yr[0],Kt)+zi(ma[1],ma[0],Kt)}(pa.pointers,Kp):0,di.maxPointers=xo.prevInput?di.pointers.length>xo.prevInput.maxPointers?di.pointers.length:xo.prevInput.maxPointers:di.pointers.length,function(ma,Yr){var Eu,Rt,Cu,Su,cd=ma.lastInterval||Yr,Du=Yr.timeStamp-cd.timeStamp;if(8!=Yr.eventType&&(Du>25||cd.velocity===u)){var oE=Yr.deltaX-cd.deltaX,Xp=Yr.deltaY-cd.deltaY,hc=er(Du,oE,Xp);Rt=hc.x,Cu=hc.y,Eu=N(hc.x)>N(hc.y)?hc.x:hc.y,Su=xi(oE,Xp),ma.lastInterval=Yr}else Eu=cd.velocity,Rt=cd.velocityX,Cu=cd.velocityY,Su=cd.direction;Yr.velocity=Eu,Yr.velocityX=Rt,Yr.velocityY=Cu,Yr.direction=Su}(xo,di);var iE,Eo,rE=so.element;ze(di.srcEvent.target,rE)&&(rE=di.srcEvent.target),di.target=rE}(_e,$e),_e.emit("hammer.input",$e),_e.recognize($e),_e.session.prevInput=$e}function Fr(_e){for(var Pe=[],$e=0;$e<_e.pointers.length;)Pe[$e]={clientX:S(_e.pointers[$e].clientX),clientY:S(_e.pointers[$e].clientY)},$e++;return{timeStamp:j(),pointers:Pe,center:Ba(Pe),deltaX:_e.deltaX,deltaY:_e.deltaY}}function Ba(_e){var Pe=_e.length;if(1===Pe)return{x:S(_e[0].clientX),y:S(_e[0].clientY)};for(var $e=0,rt=0,bt=0;bt<Pe;)$e+=_e[bt].clientX,rt+=_e[bt].clientY,bt++;return{x:S($e/Pe),y:S(rt/Pe)}}function er(_e,Pe,$e){return{x:Pe/_e||0,y:$e/_e||0}}function xi(_e,Pe){return _e===Pe?1:N(_e)>=N(Pe)?_e<0?2:4:Pe<0?8:16}function Bn(_e,Pe,$e){$e||($e=jt);var rt=Pe[$e[0]]-_e[$e[0]],bt=Pe[$e[1]]-_e[$e[1]];return Math.sqrt(rt*rt+bt*bt)}function zi(_e,Pe,$e){return $e||($e=jt),180*Math.atan2(Pe[$e[1]]-_e[$e[1]],Pe[$e[0]]-_e[$e[0]])/Math.PI}vi.prototype={handler:function(){},init:function(){this.evEl&&Ie(this.element,this.evEl,this.domHandler),this.evTarget&&Ie(this.target,this.evTarget,this.domHandler),this.evWin&&Ie(Te(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Ue(this.element,this.evEl,this.domHandler),this.evTarget&&Ue(this.target,this.evTarget,this.domHandler),this.evWin&&Ue(Te(this.element),this.evWin,this.domHandler)}};var Gr={mousedown:1,mousemove:2,mouseup:4},Gi="mousedown",is="mousemove mouseup";function Mi(){this.evEl=Gi,this.evWin=is,this.pressed=!1,vi.apply(this,arguments)}se(Mi,vi,{handler:function(_e){var Pe=Gr[_e.type];1&Pe&&0===_e.button&&(this.pressed=!0),2&Pe&&1!==_e.which&&(Pe=4),this.pressed&&(4&Pe&&(this.pressed=!1),this.callback(this.manager,Pe,{pointers:[_e],changedPointers:[_e],pointerType:zt,srcEvent:_e}))}});var Us={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},_n={2:mt,3:"pen",4:zt,5:"kinect"},Ti="pointerdown",fa="pointermove pointerup pointercancel";function sd(){this.evEl=Ti,this.evWin=fa,vi.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}s.MSPointerEvent&&!s.PointerEvent&&(Ti="MSPointerDown",fa="MSPointerMove MSPointerUp MSPointerCancel"),se(sd,vi,{handler:function(_e){var Pe=this.store,$e=!1,rt=_e.type.toLowerCase().replace("ms",""),bt=Us[rt],An=_n[_e.pointerType]||_e.pointerType,Pi=An==mt,so=$t(Pe,_e.pointerId,"pointerId");1&bt&&(0===_e.button||Pi)?so<0&&(Pe.push(_e),so=Pe.length-1):12&bt&&($e=!0),so<0||(Pe[so]=_e,this.callback(this.manager,bt,{pointers:Pe,changedPointers:[_e],pointerType:An,srcEvent:_e}),$e&&Pe.splice(so,1))}});var wr={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function Tl(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,vi.apply(this,arguments)}function Up(_e,Pe){var $e=wt(_e.touches),rt=wt(_e.changedTouches);return 12&Pe&&($e=Ze($e.concat(rt),"identifier",!0)),[$e,rt]}se(Tl,vi,{handler:function(_e){var Pe=wr[_e.type];if(1===Pe&&(this.started=!0),this.started){var $e=Up.call(this,_e,Pe);12&Pe&&$e[0].length-$e[1].length==0&&(this.started=!1),this.callback(this.manager,Pe,{pointers:$e[0],changedPointers:$e[1],pointerType:mt,srcEvent:_e})}}});var vv={touchstart:1,touchmove:2,touchend:4,touchcancel:8},pD="touchstart touchmove touchend touchcancel";function $p(){this.evTarget=pD,this.targetIds={},vi.apply(this,arguments)}function sn(_e,Pe){var $e=wt(_e.touches),rt=this.targetIds;if(3&Pe&&1===$e.length)return rt[$e[0].identifier]=!0,[$e,$e];var bt,An,Pi=wt(_e.changedTouches),so=[],di=this.target;if(An=$e.filter(function(xo){return ze(xo.target,di)}),1===Pe)for(bt=0;bt<An.length;)rt[An[bt].identifier]=!0,bt++;for(bt=0;bt<Pi.length;)rt[Pi[bt].identifier]&&so.push(Pi[bt]),12&Pe&&delete rt[Pi[bt].identifier],bt++;return so.length?[Ze(An.concat(so),"identifier",!0),so]:void 0}function yv(){vi.apply(this,arguments);var _e=ce(this.handler,this);this.touch=new $p(this.manager,_e),this.mouse=new Mi(this.manager,_e),this.primaryTouch=null,this.lastTouches=[]}function mD(_e,Pe){1&_e?(this.primaryTouch=Pe.changedPointers[0].identifier,Qx.call(this,Pe)):12&_e&&Qx.call(this,Pe)}function Qx(_e){var Pe=_e.changedPointers[0];if(Pe.identifier===this.primaryTouch){var $e={x:Pe.clientX,y:Pe.clientY};this.lastTouches.push($e);var rt=this.lastTouches;setTimeout(function(){var bt=rt.indexOf($e);bt>-1&&rt.splice(bt,1)},2500)}}function $s(_e){for(var Pe=_e.srcEvent.clientX,$e=_e.srcEvent.clientY,rt=0;rt<this.lastTouches.length;rt++){var bt=this.lastTouches[rt],An=Math.abs(Pe-bt.x),Pi=Math.abs($e-bt.y);if(An<=25&&Pi<=25)return!0}return!1}se($p,vi,{handler:function(_e){var Pe=vv[_e.type],$e=sn.call(this,_e,Pe);$e&&this.callback(this.manager,Pe,{pointers:$e[0],changedPointers:$e[1],pointerType:mt,srcEvent:_e})}}),se(yv,vi,{handler:function(_e,Pe,$e){var bt=$e.pointerType==zt;if(!(bt&&$e.sourceCapabilities&&$e.sourceCapabilities.firesTouchEvents)){if($e.pointerType==mt)mD.call(this,Pe,$e);else if(bt&&$s.call(this,$e))return;this.callback(_e,Pe,$e)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var wu=at(b.style,"touchAction"),w_=wu!==u,x_="compute",bv="manipulation",xu="none",Wp="pan-x",Gp="pan-y",Yp=function(){if(!w_)return!1;var _e={},Pe=s.CSS&&s.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function($e){_e[$e]=!Pe||s.CSS.supports("touch-action",$e)}),_e}();function _v(_e,Pe){this.manager=_e,this.set(Pe)}_v.prototype={set:function(_e){_e==x_&&(_e=this.compute()),w_&&this.manager.element.style&&Yp[_e]&&(this.manager.element.style[wu]=_e),this.actions=_e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var _e=[];return J(this.manager.recognizers,function(Pe){be(Pe.options.enable,[Pe])&&(_e=_e.concat(Pe.getTouchAction()))}),function(Pe){if(Ve(Pe,xu))return xu;var $e=Ve(Pe,Wp),rt=Ve(Pe,Gp);return $e&&rt?xu:$e||rt?$e?Wp:Gp:Ve(Pe,bv)?bv:"auto"}(_e.join(" "))},preventDefaults:function(_e){var Pe=_e.srcEvent,$e=_e.offsetDirection;if(this.manager.session.prevented)Pe.preventDefault();else{var rt=this.actions,bt=Ve(rt,xu)&&!Yp.none,An=Ve(rt,Gp)&&!Yp["pan-y"],Pi=Ve(rt,Wp)&&!Yp["pan-x"];if(bt&&1===_e.pointers.length&&_e.distance<2&&_e.deltaTime<250)return;if(!Pi||!An)return bt||An&&6&$e||Pi&&24&$e?this.preventSrc(Pe):void 0}},preventSrc:function(_e){this.manager.session.prevented=!0,_e.preventDefault()}};function dc(_e){this.options=h({},this.defaults,_e||{}),this.id=un++,this.manager=null,this.options.enable=ve(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function qx(_e){return 16&_e?"cancel":8&_e?"end":4&_e?"move":2&_e?"start":""}function Jx(_e){return 16==_e?"down":8==_e?"up":2==_e?"left":4==_e?"right":""}function wv(_e,Pe){var $e=Pe.manager;return $e?$e.get(_e):_e}function za(){dc.apply(this,arguments)}function xv(){za.apply(this,arguments),this.pX=null,this.pY=null}function C_(){za.apply(this,arguments)}function S_(){dc.apply(this,arguments),this._timer=null,this._input=null}function D_(){za.apply(this,arguments)}function M_(){za.apply(this,arguments)}function Ev(){dc.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ld(_e,Pe){return(Pe=Pe||{}).recognizers=ve(Pe.recognizers,ld.defaults.preset),new T_(_e,Pe)}function T_(_e,Pe){this.options=h({},ld.defaults,Pe||{}),this.options.inputTarget=this.options.inputTarget||_e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=_e,this.input=new(this.options.inputClass||(Fe?sd:tt?$p:ue?yv:Mi))(this,fn),this.touchAction=new _v(this,this.options.touchAction),eE(this,!0),J(this.options.recognizers,function(rt){var bt=this.add(new rt[0](rt[1]));rt[2]&&bt.recognizeWith(rt[2]),rt[3]&&bt.requireFailure(rt[3])},this)}function eE(_e,Pe){var $e,rt=_e.element;rt.style&&(J(_e.options.cssProps,function(bt,An){$e=at(rt.style,An),Pe?(_e.oldCssProps[$e]=rt.style[$e],rt.style[$e]=bt):rt.style[$e]=_e.oldCssProps[$e]||""}),Pe||(_e.oldCssProps={}))}dc.prototype={defaults:{},set:function(_e){return h(this.options,_e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(_e){if(Z(_e,"recognizeWith",this))return this;var Pe=this.simultaneous;return Pe[(_e=wv(_e,this)).id]||(Pe[_e.id]=_e,_e.recognizeWith(this)),this},dropRecognizeWith:function(_e){return Z(_e,"dropRecognizeWith",this)||(_e=wv(_e,this),delete this.simultaneous[_e.id]),this},requireFailure:function(_e){if(Z(_e,"requireFailure",this))return this;var Pe=this.requireFail;return-1===$t(Pe,_e=wv(_e,this))&&(Pe.push(_e),_e.requireFailure(this)),this},dropRequireFailure:function(_e){if(Z(_e,"dropRequireFailure",this))return this;_e=wv(_e,this);var Pe=$t(this.requireFail,_e);return Pe>-1&&this.requireFail.splice(Pe,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(_e){return!!this.simultaneous[_e.id]},emit:function(_e){var Pe=this,$e=this.state;function rt(bt){Pe.manager.emit(bt,_e)}$e<8&&rt(Pe.options.event+qx($e)),rt(Pe.options.event),_e.additionalEvent&&rt(_e.additionalEvent),$e>=8&&rt(Pe.options.event+qx($e))},tryEmit:function(_e){if(this.canEmit())return this.emit(_e);this.state=32},canEmit:function(){for(var _e=0;_e<this.requireFail.length;){if(!(33&this.requireFail[_e].state))return!1;_e++}return!0},recognize:function(_e){var Pe=h({},_e);if(!be(this.options.enable,[this,Pe]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(Pe),30&this.state&&this.tryEmit(Pe)},process:function(_e){},getTouchAction:function(){},reset:function(){}},se(za,dc,{defaults:{pointers:1},attrTest:function(_e){var Pe=this.options.pointers;return 0===Pe||_e.pointers.length===Pe},process:function(_e){var Pe=this.state,$e=_e.eventType,rt=6&Pe,bt=this.attrTest(_e);return rt&&(8&$e||!bt)?16|Pe:rt||bt?4&$e?8|Pe:2&Pe?4|Pe:2:32}}),se(xv,za,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var _e=this.options.direction,Pe=[];return 6&_e&&Pe.push(Gp),24&_e&&Pe.push(Wp),Pe},directionTest:function(_e){var Pe=this.options,$e=!0,rt=_e.distance,bt=_e.direction,An=_e.deltaX,Pi=_e.deltaY;return bt&Pe.direction||(6&Pe.direction?(bt=0===An?1:An<0?2:4,$e=An!=this.pX,rt=Math.abs(_e.deltaX)):(bt=0===Pi?1:Pi<0?8:16,$e=Pi!=this.pY,rt=Math.abs(_e.deltaY))),_e.direction=bt,$e&&rt>Pe.threshold&&bt&Pe.direction},attrTest:function(_e){return za.prototype.attrTest.call(this,_e)&&(2&this.state||!(2&this.state)&&this.directionTest(_e))},emit:function(_e){this.pX=_e.deltaX,this.pY=_e.deltaY;var Pe=Jx(_e.direction);Pe&&(_e.additionalEvent=this.options.event+Pe),this._super.emit.call(this,_e)}}),se(C_,za,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[xu]},attrTest:function(_e){return this._super.attrTest.call(this,_e)&&(Math.abs(_e.scale-1)>this.options.threshold||2&this.state)},emit:function(_e){1!==_e.scale&&(_e.additionalEvent=this.options.event+(_e.scale<1?"in":"out")),this._super.emit.call(this,_e)}}),se(S_,dc,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(_e){var Pe=this.options,$e=_e.pointers.length===Pe.pointers,rt=_e.distance<Pe.threshold,bt=_e.deltaTime>Pe.time;if(this._input=_e,!rt||!$e||12&_e.eventType&&!bt)this.reset();else if(1&_e.eventType)this.reset(),this._timer=G(function(){this.state=8,this.tryEmit()},Pe.time,this);else if(4&_e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(_e){8===this.state&&(_e&&4&_e.eventType?this.manager.emit(this.options.event+"up",_e):(this._input.timeStamp=j(),this.manager.emit(this.options.event,this._input)))}}),se(D_,za,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[xu]},attrTest:function(_e){return this._super.attrTest.call(this,_e)&&(Math.abs(_e.rotation)>this.options.threshold||2&this.state)}}),se(M_,za,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return xv.prototype.getTouchAction.call(this)},attrTest:function(_e){var Pe,$e=this.options.direction;return 30&$e?Pe=_e.overallVelocity:6&$e?Pe=_e.overallVelocityX:24&$e&&(Pe=_e.overallVelocityY),this._super.attrTest.call(this,_e)&&$e&_e.offsetDirection&&_e.distance>this.options.threshold&&_e.maxPointers==this.options.pointers&&N(Pe)>this.options.velocity&&4&_e.eventType},emit:function(_e){var Pe=Jx(_e.offsetDirection);Pe&&this.manager.emit(this.options.event+Pe,_e),this.manager.emit(this.options.event,_e)}}),se(Ev,dc,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[bv]},process:function(_e){var Pe=this.options,$e=_e.pointers.length===Pe.pointers,rt=_e.distance<Pe.threshold,bt=_e.deltaTime<Pe.time;if(this.reset(),1&_e.eventType&&0===this.count)return this.failTimeout();if(rt&&bt&&$e){if(4!=_e.eventType)return this.failTimeout();var An=!this.pTime||_e.timeStamp-this.pTime<Pe.interval,Pi=!this.pCenter||Bn(this.pCenter,_e.center)<Pe.posThreshold;if(this.pTime=_e.timeStamp,this.pCenter=_e.center,Pi&&An?this.count+=1:this.count=1,this._input=_e,this.count%Pe.taps==0)return this.hasRequireFailures()?(this._timer=G(function(){this.state=8,this.tryEmit()},Pe.interval,this),2):8}return 32},failTimeout:function(){return this._timer=G(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ld.VERSION="2.0.7",ld.defaults={domEvents:!1,touchAction:x_,enable:!0,inputTarget:null,inputClass:null,preset:[[D_,{enable:!1}],[C_,{enable:!1},["rotate"]],[M_,{direction:6}],[xv,{direction:6},["swipe"]],[Ev],[Ev,{event:"doubletap",taps:2},["tap"]],[S_]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},T_.prototype={set:function(_e){return h(this.options,_e),_e.touchAction&&this.touchAction.update(),_e.inputTarget&&(this.input.destroy(),this.input.target=_e.inputTarget,this.input.init()),this},stop:function(_e){this.session.stopped=_e?2:1},recognize:function(_e){var Pe=this.session;if(!Pe.stopped){var $e;this.touchAction.preventDefaults(_e);var rt=this.recognizers,bt=Pe.curRecognizer;(!bt||bt&&8&bt.state)&&(bt=Pe.curRecognizer=null);for(var An=0;An<rt.length;)$e=rt[An],2===Pe.stopped||bt&&$e!=bt&&!$e.canRecognizeWith(bt)?$e.reset():$e.recognize(_e),!bt&&14&$e.state&&(bt=Pe.curRecognizer=$e),An++}},get:function(_e){if(_e instanceof dc)return _e;for(var Pe=this.recognizers,$e=0;$e<Pe.length;$e++)if(Pe[$e].options.event==_e)return Pe[$e];return null},add:function(_e){if(Z(_e,"add",this))return this;var Pe=this.get(_e.options.event);return Pe&&this.remove(Pe),this.recognizers.push(_e),_e.manager=this,this.touchAction.update(),_e},remove:function(_e){if(Z(_e,"remove",this))return this;if(_e=this.get(_e)){var Pe=this.recognizers,$e=$t(Pe,_e);-1!==$e&&(Pe.splice($e,1),this.touchAction.update())}return this},on:function(_e,Pe){if(_e!==u&&Pe!==u){var $e=this.handlers;return J(Ke(_e),function(rt){$e[rt]=$e[rt]||[],$e[rt].push(Pe)}),this}},off:function(_e,Pe){if(_e!==u){var $e=this.handlers;return J(Ke(_e),function(rt){Pe?$e[rt]&&$e[rt].splice($t($e[rt],Pe),1):delete $e[rt]}),this}},emit:function(_e,Pe){var bt,An,Pi;this.options.domEvents&&(bt=_e,An=Pe,(Pi=a.createEvent("Event")).initEvent(bt,!0,!0),Pi.gesture=An,An.target.dispatchEvent(Pi));var $e=this.handlers[_e]&&this.handlers[_e].slice();if($e&&$e.length){Pe.type=_e,Pe.preventDefault=function(){Pe.srcEvent.preventDefault()};for(var rt=0;rt<$e.length;)$e[rt](Pe),rt++}},destroy:function(){this.element&&eE(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(ld,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:T_,Input:vi,TouchAction:_v,TouchInput:$p,MouseInput:Mi,PointerEventInput:sd,TouchMouseInput:yv,SingleTouchInput:Tl,Recognizer:dc,AttrRecognizer:za,Tap:Ev,Pan:xv,Swipe:M_,Pinch:C_,Rotate:D_,Press:S_,on:Ie,off:Ue,each:J,merge:de,extend:ae,assign:h,inherit:se,bindFn:ce,prefixed:at}),(void 0!==s?s:typeof self<"u"?self:{}).Hammer=ld,r.exports?r.exports=ld:s.Hammer=ld}(window,document)}(H0);var pl=Bt(H0.exports),Rf=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function Pd(r,s){return s.get(r,!1)}function Nf(r){r.preventDefault(),"function"==typeof r.stopPropagation?r.stopPropagation():r.srcEvent&&"function"==typeof r.srcEvent.stopPropagation&&r.srcEvent.stopPropagation(),"function"==typeof r.stopImmediatePropagation&&r.stopImmediatePropagation()}function Bm(r){function s(S){setTimeout(function(){y(Rf,function(N){Dt.unbind(r,N,Nf,!0)})},500)}Dt.bind(r,"touchstart",function(S){y(Rf,function(N){Dt.bind(r,N,Nf,!0)})},!0),Dt.bind(r,"touchend",s,!0),Dt.bind(r,"touchcancel",s,!0);var a=new pl.Manager(r,{inputClass:pl.TouchInput,recognizers:[],domEvents:!0}),c=new pl.Tap,u=new pl.Pan({threshold:10}),h=new pl.Press,m=new pl.Pinch,b=new pl.Tap({event:"doubletap",taps:2});return m.requireFailure(u),m.requireFailure(h),a.add([u,h,m,b,c]),a.reset=function(S){var N=this.recognizers,j=this.session;j.stopped||(a.stop(S),setTimeout(function(){var G,Z;for(G=0;Z=N[G];G++)Z.reset(),Z.state=8;j.curRecognizer=null},0))},a.on("hammer.input",function(S){S.srcEvent.defaultPrevented&&a.reset(!0)}),a}function xy(r,s,a,c,u){var h,m=Pd("dragging",r),b=Pd("move",r),S=Pd("contextPad",r),N=Pd("palette",r);function j(J,re){return function(ae){var de=G(ae.target),se=de&&c.get(de);return re&&(ae.srcEvent.button=re),u.fire(J,ae,se)}}function G(J){return ti(J,"svg, .djs-element",!0)}m&&a.on("drag.move",function(J){var re=J.originalEvent;if(re&&!(re instanceof MouseEvent)){var ae=ur(re),de=G(document.elementFromPoint(ae.x,ae.y)),se=de&&c.get(de);se!==J.hover&&(J.hover&&m.out(J),se&&(m.hover({element:se,gfx:de}),J.hover=se,J.hoverGfx=de))}}),S&&a.on("contextPad.create",function(J){var re=Bm(J.pad.html);re.on("panstart",function(ae){S.trigger("dragstart",ae,!0)}),re.on("press",function(ae){S.trigger("dragstart",ae,!0)}),re.on("tap",function(ae){S.trigger("click",ae)})}),N&&a.on("palette.create",function(J){var re=Bm(J.container);re.on("panstart",function(ae){N.trigger("dragstart",ae,!0)}),re.on("press",function(ae){N.trigger("dragstart",ae,!0)}),re.on("tap",function(ae){N.trigger("click",ae)})}),a.on("canvas.init",function(J){!function Z(J){function re(ae){var de=G(ae.target),se=de&&c.get(de);if(b&&s.getRootElement()!==se)return b.start(ae,se,!0);!function(ce){var be=0,ve=0;function Ie(ze){s.scroll({dx:ze.deltaX-be,dy:ze.deltaY-ve}),be=ze.deltaX,ve=ze.deltaY}function Ue(ze){h.off("panmove",Ie),h.off("panend",Ue),h.off("pancancel",Ue)}h.on("panmove",Ie),h.on("panend",Ue),h.on("pancancel",Ue)}()}(h=Bm(J)).on("tap",j("element.click")),h.on("doubletap",j("element.dblclick",1)),h.on("panstart",re),h.on("press",re),h.on("pinchstart",function(ae){var de=s.zoom(),se=ae.center;function ce(ve){var Ue=Math.max(.2,Math.min(4,(1-(1-ve.scale)/1.5)*de));s.zoom(Ue,se),Nf(ve)}function be(ve){h.off("pinchmove",ce),h.off("pinchend",be),h.off("pinchcancel",be),h.reset(!0)}h.on("pinchmove",ce),h.on("pinchend",be),h.on("pinchcancel",be)})}(J.svg)})}function Ey(r){var s=this;r.on("canvas.init",function(a){s.addBBoxMarker(a.svg)})}xy.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],Ey.$inject=["eventBus"],Ey.prototype.addBBoxMarker=function(r){var s={fill:"none",class:"outer-bound-marker"},a=Gt("rect");Ot(a,{x:-1e4,y:1e4,width:10,height:10}),Ot(a,s),Qt(r,a);var c=Gt("rect");Ot(c,{x:1e4,y:1e4,width:10,height:10}),Ot(c,s),Qt(r,c)};var fh={__depends__:[{__depends__:[Xe],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",xy],touchFix:["type",Ey]}]};function Rd(r){return r&&r[r.length-1]}function j0(r){return r.y}function qC(r){return r.x}var Cy={left:qC,center:qC,right:function(r){return r.x+r.width},top:j0,middle:j0,bottom:function(r){return r.y+r.height}};function Ff(r,s){this._modeling=r,this._rules=s}Ff.$inject=["modeling","rules"],Ff.prototype._getOrientationDetails=function(r){var s="x",a="width";return-1!==["top","bottom","middle"].indexOf(r)&&(s="y",a="height"),{axis:s,dimension:a}},Ff.prototype._isType=function(r,s){return-1!==s.indexOf(r)},Ff.prototype._alignmentPosition=function(r,s){var a,c,u,Z,h=this._getOrientationDetails(r),m=h.axis,b=h.dimension,S={},N={},j=!1;if(this._isType(r,["left","top"]))S[r]=s[0][m];else if(this._isType(r,["right","bottom"]))u=Rd(s),S[r]=u[m]+u[b];else if(this._isType(r,["center","middle"])){if(y(s,function(G){var Z=G[m]+Math.round(G[b]/2);N[Z]?N[Z].elements.push(G):N[Z]={elements:[G],center:Z}}),a=fe(N,function(G){return G.elements.length>1&&(j=!0),G.elements.length}),j)return S[r]=Rd(a).center,S;c=s[0],u=Rd(s=fe(s,function(G){return G[m]+G[b]})),S[r]=(Z=u,Math.round((c[m]+Z[m]+Z[b])/2))}return S},Ff.prototype.trigger=function(r,s){var a,c=this._modeling,u=p(r,function(b){return!(b.waypoints||b.host||b.labelTarget)});if(T(a=this._rules.allowed("elements.align",{elements:u}))&&(u=a),!(u.length<2)&&a){var h=fe(u,Cy[s]),m=this._alignmentPosition(s,h);c.alignElements(h,m)}};var JC={__init__:["alignElements"],alignElements:["type",Ff]};function fs(r,s,a,c){this._canvas=r,this._eventBus=a,this._overlays=c;var u=U(s&&s.scale)?s.scale:{min:1,max:1.5};this._overlaysConfig={scale:u},this._current=null,this._init()}function eS(r,s){return-1!==r.indexOf(s)}fs.$inject=["canvas","config.contextPad","eventBus","overlays"],fs.prototype._init=function(){var r=this;this._eventBus.on("selection.changed",function(s){var a=s.newSelection,c=a.length?1===a.length?a[0]:a:null;c?r.open(c,!0):r.close()}),this._eventBus.on("elements.changed",function(s){var a=s.elements,c=r._current;if(c){var u=c.target;M(T(u)?u:[u],function(h){return eS(a,h)})&&r.open(u,!0)}})},fs.prototype.registerProvider=function(r,s){s||(s=r,r=1e3),this._eventBus.on("contextPad.getProviders",r,function(a){a.providers.push(s)})},fs.prototype.getEntries=function(r){var s=this._getProviders(),a=T(r)?"getMultiElementContextPadEntries":"getContextPadEntries",c={};return y(s,function(u){if(E(u[a])){var h=u[a](r);E(h)?c=h(c):y(h,function(m,b){c[b]=m})}}),c},fs.prototype.trigger=function(r,s,a){var c,h=s.delegateTarget||s.target;return h?(c=zn(h,"data-action"),this.triggerEntry(c,r,s.originalEvent||s,a)):s.preventDefault()},fs.prototype.triggerEntry=function(r,s,a,c){if(this.isShown()){var u=this._current.target,h=this._current.entries[r];if(h){var m=h.action;if(!1!==this._eventBus.fire("contextPad.trigger",{entry:h,event:a})){if(E(m)){if("click"===s)return m(a,u,c)}else if(m[s])return m[s](a,u,c);a.preventDefault()}}}},fs.prototype.open=function(r,s){!s&&this.isOpen(r)||(this.close(),this._updateAndOpen(r))},fs.prototype._getProviders=function(){var r=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(r),r.providers},fs.prototype._updateAndOpen=function(r){var s,a=this.getEntries(r),c=this.getPad(r),u=c.html;y(a,function(h,m){var b,G,Z,S=h.group||"default",N=En(h.html||'<div class="entry" draggable="true"></div>');zn(N,"data-action",m),(b=oi("[data-group="+kf(S)+"]",u))||(zn(b=En('<div class="group"></div>'),"data-group",S),u.appendChild(b)),b.appendChild(N),h.className&&(G=h.className,Z=Zt(N),(G=T(G)?G:G.split(/\s+/g)).forEach(function(J){Z.add(J)})),h.title&&zn(N,"title",h.title),h.imageUrl&&(zn(s=En("<img>"),"src",h.imageUrl),s.style.width="100%",s.style.height="100%",N.appendChild(s))}),Zt(u).add("open"),this._current={target:r,entries:a,pad:c},this._eventBus.fire("contextPad.open",{current:this._current})},fs.prototype.getPad=function(r){if(this.isOpen())return this._current.pad;var s=this,a=this._overlays,c=En('<div class="djs-context-pad"></div>'),u=this._getPosition(r),h=we({html:c},this._overlaysConfig,u);tr.bind(c,".entry","click",function(S){s.trigger("click",S)}),tr.bind(c,".entry","dragstart",function(S){s.trigger("dragstart",S)}),Dt.bind(c,"mousedown",function(S){S.stopPropagation()});var m=this._canvas.getRootElement();this._overlayId=a.add(m,"context-pad",h);var b=a.get(this._overlayId);return this._eventBus.fire("contextPad.create",{target:r,pad:b}),b},fs.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},fs.prototype.isOpen=function(r){var s=this._current;if(!s)return!1;if(!r)return!0;var a=s.target;return T(r)===T(a)&&(T(r)?r.length===a.length&&w(r,function(c){return eS(a,c)}):a===r)},fs.prototype.isShown=function(){return this.isOpen()&&this._overlays.isShown()},fs.prototype._getPosition=function(r){var s=qt(T(r)?r:[r]);return{position:{left:s.x+s.width+12,top:s.y-6}}};var Lf,kn,$0,Fc,zm,Bf={__depends__:[Xe,Fm],contextPad:["type",fs]},Sy={},Dy=[],W0=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Lc(r,s){for(var a in s)r[a]=s[a];return r}function Ia(r){var s=r.parentNode;s&&s.removeChild(r)}function G0(r,s,a){var c,u,h,m={};for(h in s)"key"==h?c=s[h]:"ref"==h?u=s[h]:m[h]=s[h];if(arguments.length>2&&(m.children=arguments.length>3?Lf.call(arguments,2):a),"function"==typeof r&&null!=r.defaultProps)for(h in r.defaultProps)void 0===m[h]&&(m[h]=r.defaultProps[h]);return Nd(r,m,c,u,null)}function Nd(r,s,a,c,u){var h={type:r,props:s,key:a,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:u??++$0};return null==u&&null!=kn.vnode&&kn.vnode(h),h}function ph(r){return r.children}function zf(r,s){this.props=r,this.context=s}function Fd(r,s){if(null==s)return r.__?Fd(r.__,r.__.__k.indexOf(r)+1):null;for(var a;s<r.__k.length;s++)if(null!=(a=r.__k[s])&&null!=a.__e)return a.__e;return"function"==typeof r.type?Fd(r):null}function Vm(r){var s,a;if(null!=(r=r.__)&&null!=r.__c){for(r.__e=r.__c.base=null,s=0;s<r.__k.length;s++)if(null!=(a=r.__k[s])&&null!=a.__e){r.__e=r.__c.base=a.__e;break}return Vm(r)}}function Y0(r){(!r.__d&&(r.__d=!0)&&Fc.push(r)&&!Vf.__r++||zm!==kn.debounceRendering)&&((zm=kn.debounceRendering)||setTimeout)(Vf)}function Vf(){for(var r;Vf.__r=Fc.length;)r=Fc.sort(function(s,a){return s.__v.__b-a.__v.__b}),Fc=[],r.some(function(s){var a,c,u,h,m,b;s.__d&&(m=(h=(a=s).__v).__e,(b=a.__P)&&(c=[],(u=Lc({},h)).__v=h.__v+1,Hm(b,h,u,a.__n,void 0!==b.ownerSVGElement,null!=h.__h?[m]:null,c,m??Fd(h),h.__h),Ay(c,h),h.__e!=m&&Vm(h)))})}function My(r,s,a,c,u,h,m,b,S,N){var j,G,Z,J,re,ae,de,se=c&&c.__k||Dy,ce=se.length;for(a.__k=[],j=0;j<s.length;j++)if(null!=(J=a.__k[j]=null==(J=s[j])||"boolean"==typeof J?null:"string"==typeof J||"number"==typeof J||"bigint"==typeof J?Nd(null,J,null,null,J):Array.isArray(J)?Nd(ph,{children:J},null,null,null):J.__b>0?Nd(J.type,J.props,J.key,J.ref?J.ref:null,J.__v):J)){if(J.__=a,J.__b=a.__b+1,null===(Z=se[j])||Z&&J.key==Z.key&&J.type===Z.type)se[j]=void 0;else for(G=0;G<ce;G++){if((Z=se[G])&&J.key==Z.key&&J.type===Z.type){se[G]=void 0;break}Z=null}Hm(r,J,Z=Z||Sy,u,h,m,b,S,N),re=J.__e,(G=J.ref)&&Z.ref!=G&&(de||(de=[]),Z.ref&&de.push(Z.ref,null,J),de.push(G,J.__c||re,J)),null!=re?(null==ae&&(ae=re),"function"==typeof J.type&&J.__k===Z.__k?J.__d=S=Ty(J,S,r):S=ky(r,J,Z,se,re,S),"function"==typeof a.type&&(a.__d=S)):S&&Z.__e==S&&S.parentNode!=r&&(S=Fd(Z))}for(a.__e=ae,j=ce;j--;)null!=se[j]&&fr(se[j],se[j]);if(de)for(j=0;j<de.length;j++)Z0(de[j],de[++j],de[++j])}function Ty(r,s,a){for(var c,u=r.__k,h=0;u&&h<u.length;h++)(c=u[h])&&(c.__=r,s="function"==typeof c.type?Ty(c,s,a):ky(a,c,c,u,c.__e,s));return s}function ky(r,s,a,c,u,h){var m,b,S;if(void 0!==s.__d)m=s.__d,s.__d=void 0;else if(null==a||u!=h||null==u.parentNode)e:if(null==h||h.parentNode!==r)r.appendChild(u),m=null;else{for(b=h,S=0;(b=b.nextSibling)&&S<c.length;S+=1)if(b==u)break e;r.insertBefore(u,h),m=h}return void 0!==m?m:u.nextSibling}function K0(r,s,a){"-"===s[0]?r.setProperty(s,a):r[s]=null==a?"":"number"!=typeof a||W0.test(s)?a:a+"px"}function Ld(r,s,a,c,u){var h;e:if("style"===s)if("string"==typeof a)r.style.cssText=a;else{if("string"==typeof c&&(r.style.cssText=c=""),c)for(s in c)a&&s in a||K0(r.style,s,"");if(a)for(s in a)c&&a[s]===c[s]||K0(r.style,s,a[s])}else if("o"===s[0]&&"n"===s[1])h=s!==(s=s.replace(/Capture$/,"")),s=s.toLowerCase()in r?s.toLowerCase().slice(2):s.slice(2),r.l||(r.l={}),r.l[s+h]=a,a?c||r.addEventListener(s,h?X0:Bc,h):r.removeEventListener(s,h?X0:Bc,h);else if("dangerouslySetInnerHTML"!==s){if(u)s=s.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==s&&"list"!==s&&"form"!==s&&"tabIndex"!==s&&"download"!==s&&s in r)try{r[s]=a??"";break e}catch{}"function"==typeof a||(null==a||!1===a&&-1==s.indexOf("-")?r.removeAttribute(s):r.setAttribute(s,a))}}function Bc(r){this.l[r.type+!1](kn.event?kn.event(r):r)}function X0(r){this.l[r.type+!0](kn.event?kn.event(r):r)}function Hm(r,s,a,c,u,h,m,b,S){var N,j,G,Z,J,re,ae,de,se,ce,be,ve,Ie,Ue,ze,Ve=s.type;if(void 0!==s.constructor)return null;null!=a.__h&&(S=a.__h,b=s.__e=a.__e,s.__h=null,h=[b]),(N=kn.__b)&&N(s);try{e:if("function"==typeof Ve){if(de=s.props,se=(N=Ve.contextType)&&c[N.__c],ce=N?se?se.props.value:N.__:c,a.__c?ae=(j=s.__c=a.__c).__=j.__E:("prototype"in Ve&&Ve.prototype.render?s.__c=j=new Ve(de,ce):(s.__c=j=new zf(de,ce),j.constructor=Ve,j.render=Oy),se&&se.sub(j),j.props=de,j.state||(j.state={}),j.context=ce,j.__n=c,G=j.__d=!0,j.__h=[],j._sb=[]),null==j.__s&&(j.__s=j.state),null!=Ve.getDerivedStateFromProps&&(j.__s==j.state&&(j.__s=Lc({},j.__s)),Lc(j.__s,Ve.getDerivedStateFromProps(de,j.__s))),Z=j.props,J=j.state,G)null==Ve.getDerivedStateFromProps&&null!=j.componentWillMount&&j.componentWillMount(),null!=j.componentDidMount&&j.__h.push(j.componentDidMount);else{if(null==Ve.getDerivedStateFromProps&&de!==Z&&null!=j.componentWillReceiveProps&&j.componentWillReceiveProps(de,ce),!j.__e&&null!=j.shouldComponentUpdate&&!1===j.shouldComponentUpdate(de,j.__s,ce)||s.__v===a.__v){for(j.props=de,j.state=j.__s,s.__v!==a.__v&&(j.__d=!1),j.__v=s,s.__e=a.__e,s.__k=a.__k,s.__k.forEach(function(Ke){Ke&&(Ke.__=s)}),be=0;be<j._sb.length;be++)j.__h.push(j._sb[be]);j._sb=[],j.__h.length&&m.push(j);break e}null!=j.componentWillUpdate&&j.componentWillUpdate(de,j.__s,ce),null!=j.componentDidUpdate&&j.__h.push(function(){j.componentDidUpdate(Z,J,re)})}if(j.context=ce,j.props=de,j.__v=s,j.__P=r,ve=kn.__r,Ie=0,"prototype"in Ve&&Ve.prototype.render){for(j.state=j.__s,j.__d=!1,ve&&ve(s),N=j.render(j.props,j.state,j.context),Ue=0;Ue<j._sb.length;Ue++)j.__h.push(j._sb[Ue]);j._sb=[]}else do{j.__d=!1,ve&&ve(s),N=j.render(j.props,j.state,j.context),j.state=j.__s}while(j.__d&&++Ie<25);j.state=j.__s,null!=j.getChildContext&&(c=Lc(Lc({},c),j.getChildContext())),G||null==j.getSnapshotBeforeUpdate||(re=j.getSnapshotBeforeUpdate(Z,J)),ze=null!=N&&N.type===ph&&null==N.key?N.props.children:N,My(r,Array.isArray(ze)?ze:[ze],s,a,c,u,h,m,b,S),j.base=s.__e,s.__h=null,j.__h.length&&m.push(j),ae&&(j.__E=j.__=null),j.__e=!1}else null==h&&s.__v===a.__v?(s.__k=a.__k,s.__e=a.__e):s.__e=function mh(r,s,a,c,u,h,m,b){var S,N,j,G=a.props,Z=s.props,J=s.type,re=0;if("svg"===J&&(u=!0),null!=h)for(;re<h.length;re++)if((S=h[re])&&"setAttribute"in S==!!J&&(J?S.localName===J:3===S.nodeType)){r=S,h[re]=null;break}if(null==r){if(null===J)return document.createTextNode(Z);r=u?document.createElementNS("http://www.w3.org/2000/svg",J):document.createElement(J,Z.is&&Z),h=null,b=!1}if(null===J)G===Z||b&&r.data===Z||(r.data=Z);else{if(h=h&&Lf.call(r.childNodes),N=(G=a.props||Sy).dangerouslySetInnerHTML,j=Z.dangerouslySetInnerHTML,!b){if(null!=h)for(G={},re=0;re<r.attributes.length;re++)G[r.attributes[re].name]=r.attributes[re].value;(j||N)&&(j&&(N&&j.__html==N.__html||j.__html===r.innerHTML)||(r.innerHTML=j&&j.__html||""))}if(function(ae,de,se,ce,be){var ve;for(ve in se)"children"===ve||"key"===ve||ve in de||Ld(ae,ve,null,se[ve],ce);for(ve in de)be&&"function"!=typeof de[ve]||"children"===ve||"key"===ve||"value"===ve||"checked"===ve||se[ve]===de[ve]||Ld(ae,ve,de[ve],se[ve],ce)}(r,Z,G,u,b),j)s.__k=[];else if(re=s.props.children,My(r,Array.isArray(re)?re:[re],s,a,c,u&&"foreignObject"!==J,h,m,h?h[0]:a.__k&&Fd(a,0),b),null!=h)for(re=h.length;re--;)null!=h[re]&&Ia(h[re]);b||("value"in Z&&void 0!==(re=Z.value)&&(re!==r.value||"progress"===J&&!re||"option"===J&&re!==G.value)&&Ld(r,"value",re,G.value,!1),"checked"in Z&&void 0!==(re=Z.checked)&&re!==r.checked&&Ld(r,"checked",re,G.checked,!1))}return r}(a.__e,s,a,c,u,h,m,S);(N=kn.diffed)&&N(s)}catch(Ke){s.__v=null,(S||null!=h)&&(s.__e=b,s.__h=!!S,h[h.indexOf(b)]=null),kn.__e(Ke,s,a)}}function Ay(r,s){kn.__c&&kn.__c(s,r),r.some(function(a){try{r=a.__h,a.__h=[],r.some(function(c){c.call(a)})}catch(c){kn.__e(c,a.__v)}})}function Z0(r,s,a){try{"function"==typeof r?r(s):r.current=s}catch(c){kn.__e(c,a)}}function fr(r,s,a){var c,u;if(kn.unmount&&kn.unmount(r),(c=r.ref)&&(c.current&&c.current!==r.__e||Z0(c,null,s)),null!=(c=r.__c)){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(h){kn.__e(h,s)}c.base=c.__P=null,r.__c=void 0}if(c=r.__k)for(u=0;u<c.length;u++)c[u]&&fr(c[u],s,a||"function"!=typeof r.type);a||null==r.__e||Ia(r.__e),r.__=r.__e=r.__d=void 0}function Oy(r,s,a){return this.constructor(r,a)}function Q0(r,s,a){var c,u,h;kn.__&&kn.__(r,s),u=(c="function"==typeof a)?null:a&&a.__k||s.__k,h=[],Hm(s,r=(!c&&a||s).__k=G0(ph,null,[r]),u||Sy,Sy,void 0!==s.ownerSVGElement,!c&&a?[a]:u?null:s.firstChild?Lf.call(s.childNodes):null,h,!c&&a?a:u?u.__e:s.firstChild,c),Ay(h,r)}Lf=Dy.slice,kn={__e:function(r,s,a,c){for(var u,h,m;s=s.__;)if((u=s.__c)&&!u.__)try{if((h=u.constructor)&&null!=h.getDerivedStateFromError&&(u.setState(h.getDerivedStateFromError(r)),m=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(r,c||{}),m=u.__d),m)return u.__E=u}catch(b){r=b}throw r}},$0=0,zf.prototype.setState=function(r,s){var a;a=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Lc({},this.state),"function"==typeof r&&(r=r(Lc({},a),this.props)),r&&Lc(a,r),null!=r&&this.__v&&(s&&this._sb.push(s),Y0(this))},zf.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),Y0(this))},zf.prototype.render=ph,Fc=[],Vf.__r=0;var ml,rr,zc,Py,Iy=function(r,s,a,c){var u;s[0]=0;for(var h=1;h<s.length;h++){var m=s[h++],b=s[h]?(s[0]|=m?1:2,a[s[h++]]):s[++h];3===m?c[0]=b:4===m?c[1]=Object.assign(c[1]||{},b):5===m?(c[1]=c[1]||{})[s[++h]]=b:6===m?c[1][s[++h]]+=b+"":m?(u=r.apply(b,Iy(r,b,a,["",null])),c.push(u),b[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):c.push(b)}return c},Bd=new Map,Sr=function(r){var s=Bd.get(this);return s||Bd.set(this,s=new Map),(s=Iy(this,s.get(r)||(s.set(r,s=function(a){for(var c,u,h=1,m="",b="",S=[0],N=function(Z){1===h&&(Z||(m=m.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?S.push(0,Z,m):3===h&&(Z||m)?(S.push(3,Z,m),h=2):2===h&&"..."===m&&Z?S.push(4,Z,0):2===h&&m&&!Z?S.push(5,0,!0,m):h>=5&&((m||!Z&&5===h)&&(S.push(h,0,m,u),h=6),Z&&(S.push(h,Z,0,u),h=6)),m=""},j=0;j<a.length;j++){j&&(1===h&&N(),N(j));for(var G=0;G<a[j].length;G++)c=a[j][G],1===h?"<"===c?(N(),S=[S],h=3):m+=c:4===h?"--"===m&&">"===c?(h=1,m=""):m=c+m[0]:b?c===b?b="":m+=c:'"'===c||"'"===c?b=c:">"===c?(N(),h=1):h&&("="===c?(h=5,u=m,m=""):"/"===c&&(h<5||">"===a[j][G+1])?(N(),3===h&&(S=S[0]),h=S,(S=S[0]).push(2,0,h),h=0):" "===c||"\t"===c||"\n"===c||"\r"===c?(N(),h=2):m+=c),3===h&&"!--"===m&&(h=4,S=S[0])}return N(),S}(r)),s),arguments,[])).length>1?s:s[0]}.bind(G0),gl=0,tS=[],jm=[],nS=kn.__b,iS=kn.__r,rS=kn.diffed,oS=kn.__c,sS=kn.unmount;function Ry(r,s){kn.__h&&kn.__h(rr,r,gl||s),gl=0;var a=rr.__H||(rr.__H={__:[],__h:[]});return r>=a.__.length&&a.__.push({__V:jm}),a.__[r]}function zd(r){return gl=1,function(s,a,c){var u=Ry(ml++,2);if(u.t=s,!u.__c&&(u.__=[J0(void 0,a),function(m){var b=u.__N?u.__N[0]:u.__[0],S=u.t(b,m);b!==S&&(u.__N=[S,u.__[1]],u.__c.setState({}))}],u.__c=rr,!rr.u)){rr.u=!0;var h=rr.shouldComponentUpdate;rr.shouldComponentUpdate=function(m,b,S){if(!u.__c.__H)return!0;var N=u.__c.__H.__.filter(function(G){return G.__c});if(N.every(function(G){return!G.__N}))return!h||h.call(this,m,b,S);var j=!1;return N.forEach(function(G){if(G.__N){var Z=G.__[0];G.__=G.__N,G.__N=void 0,Z!==G.__[0]&&(j=!0)}}),!(!j&&u.__c.props===m)&&(!h||h.call(this,m,b,S))}}return u.__N||u.__}(J0,r)}function q0(r,s){var a=Ry(ml++,3);!kn.__s&&Vd(a.__H,s)&&(a.__=r,a.i=s,rr.__H.__h.push(a))}function Ny(r,s){var a=Ry(ml++,4);!kn.__s&&Vd(a.__H,s)&&(a.__=r,a.i=s,rr.__h.push(a))}function Dr(r){return gl=5,Hf(function(){return{current:r}},[])}function Hf(r,s){var a=Ry(ml++,7);return Vd(a.__H,s)?(a.__V=r(),a.i=s,a.__h=r,a.__V):a.__}function vl(r,s){return gl=8,Hf(function(){return r},s)}function aS(){for(var r;r=tS.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(Uf),r.__H.__h.forEach(gh),r.__H.__h=[]}catch(s){r.__H.__h=[],kn.__e(s,r.__v)}}kn.__b=function(r){rr=null,nS&&nS(r)},kn.__r=function(r){iS&&iS(r),ml=0;var s=(rr=r.__c).__H;s&&(zc===rr?(s.__h=[],rr.__h=[],s.__.forEach(function(a){a.__N&&(a.__=a.__N),a.__V=jm,a.__N=a.i=void 0})):(s.__h.forEach(Uf),s.__h.forEach(gh),s.__h=[])),zc=rr},kn.diffed=function(r){rS&&rS(r);var s=r.__c;s&&s.__H&&(s.__H.__h.length&&(1!==tS.push(s)&&Py===kn.requestAnimationFrame||((Py=kn.requestAnimationFrame)||jf)(aS)),s.__H.__.forEach(function(a){a.i&&(a.__H=a.i),a.__V!==jm&&(a.__=a.__V),a.i=void 0,a.__V=jm})),zc=rr=null},kn.__c=function(r,s){s.some(function(a){try{a.__h.forEach(Uf),a.__h=a.__h.filter(function(c){return!c.__||gh(c)})}catch(c){s.some(function(u){u.__h&&(u.__h=[])}),s=[],kn.__e(c,a.__v)}}),oS&&oS(r,s)},kn.unmount=function(r){sS&&sS(r);var s,a=r.__c;a&&a.__H&&(a.__H.__.forEach(function(c){try{Uf(c)}catch(u){s=u}}),a.__H=void 0,s&&kn.__e(s,a.__v))};var Ls="function"==typeof requestAnimationFrame;function jf(r){var s,a=function(){clearTimeout(c),Ls&&cancelAnimationFrame(s),setTimeout(r)},c=setTimeout(a,100);Ls&&(s=requestAnimationFrame(a))}function Uf(r){var s=rr,a=r.__c;"function"==typeof a&&(r.__c=void 0,a()),rr=s}function gh(r){var s=rr;r.__c=r.__(),rr=s}function Vd(r,s){return!r||r.length!==s.length||s.some(function(a,c){return a!==r[c]})}function J0(r,s){return"function"==typeof s?s(r):s}function lS(r){var s,a,c="";if("string"==typeof r||"number"==typeof r)c+=r;else if("object"==typeof r)if(Array.isArray(r))for(s=0;s<r.length;s++)r[s]&&(a=lS(r[s]))&&(c&&(c+=" "),c+=a);else for(s in r)r[s]&&(c&&(c+=" "),c+=s);return c}function Um(){for(var r,s,a=0,c="";a<arguments.length;)(r=arguments[a++])&&(s=lS(r))&&(c&&(c+=" "),c+=s);return c}function M1(r){const{entry:s,selected:a,onMouseEnter:c,onMouseLeave:u,onAction:h}=r;return Sr`
    <li
      class=${Um("entry",{selected:a})}
      data-id=${s.id}
      title=${s.title||s.label}
      onClick=${h}
      onMouseEnter=${c}
      onMouseLeave=${u}
      onDragStart=${m=>h(m,s,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${Um("djs-popup-entry-name",s.className)}
        >
          ${s.imageUrl?Sr`
            <img class="djs-popup-entry-icon" src=${s.imageUrl} alt="" />
          `:null}

          ${s.label?Sr`
            <span class="djs-popup-label">
              ${s.label}
            </span>
          `:null}
        </span>
        ${s.description&&Sr`
          <span
            class="djs-popup-entry-description"
            title=${s.description}
          >
            ${s.description}
          </span>
        `}
      </div>
      ${s.documentationRef&&Sr`
        <div class="djs-popup-entry-docs">
          <a
            href="${s.documentationRef}"
            onClick=${m=>m.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function Bs(r){const{selectedEntry:s,setSelectedEntry:a,entries:c,...u}=r,h=Dr(),m=Hf(()=>function(b){const S=[],N=Z=>S.find(J=>Z.id===J.id);return b.forEach(Z=>{const J=Z.group?(Z=>"string"==typeof Z?{id:Z}:Z)(Z.group):{id:"default"};(Z=>!!N(Z))(J)?N(J).entries.push(Z):S.push({...J,entries:[Z]})}),S}(c),[c]);return Ny(()=>{const b=h.current;if(!b)return;const S=b.querySelector(".selected");var N;S&&("function"==typeof(N=S).scrollIntoViewIfNeeded?N.scrollIntoViewIfNeeded():N.scrollIntoView({scrollMode:"if-needed",block:"nearest"}))},[s]),Sr`
    <div class="djs-popup-results" ref=${h}>
      ${m.map(b=>Sr`
        ${b.name&&Sr`
          <div key=${b.id} class="entry-header" title=${b.name}>
            ${b.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${b.id}>
          ${b.entries.map(S=>Sr`
            <${M1}
              key=${S.id}
              entry=${S}
              selected=${S===s}
              onMouseEnter=${()=>a(S)}
              onMouseLeave=${()=>a(null)}
              ...${u}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function Fy(r){const{onClose:s,onSelect:a,className:c,headerEntries:u,position:h,title:m,width:b,scale:S,search:N,entries:j,onOpened:G,onClosed:Z}=r,J=Hf(()=>!!U(N)&&j.length>5,[N,j]),re=Dr(),[ae,de]=zd(""),se=vl((wt,Ze)=>J?wt.filter(at=>{if(!Ze)return(at.rank||0)>=0;const un=[at.description||"",at.label||"",at.search||""].join("---").toLowerCase();return Ze.toLowerCase().split(/\s/g).every(Te=>un.includes(Te))}):wt,[J]),[ce,be]=zd(se(j,ae)),[ve,Ie]=zd(ce[0]),Ue=vl(wt=>{ve&&wt.includes(ve)||Ie(wt[0]),be(wt)},[ve,be,Ie]);q0(()=>{Ue(se(j,ae))},[ae,j]),q0(()=>{const wt=Ze=>{if("Escape"===Ze.key)return Ze.preventDefault(),s()};return document.documentElement.addEventListener("keydown",wt),()=>{document.documentElement.removeEventListener("keydown",wt)}},[]),Ny(()=>{re.current&&re.current.focus()},[]);const ze=vl(wt=>{let Ze=ce.indexOf(ve)+wt;Ze<0&&(Ze=ce.length-1),Ze>=ce.length&&(Ze=0),Ie(ce[Ze])},[ce,ve,Ie]),Ve=vl(wt=>"Enter"===wt.key&&ve?a(wt,ve):"ArrowUp"===wt.key||"Tab"===wt.key&&wt.shiftKey?(ze(-1),wt.preventDefault()):"ArrowDown"===wt.key||"Tab"===wt.key?(ze(1),wt.preventDefault()):void 0,[a,s,ve,ze]),Ke=vl(wt=>{Oi(wt.target,"input")&&de(()=>wt.target.value)},[de]);q0(()=>(G(),()=>{Z()}),[]);const $t=Hf(()=>m||u.length>0,[m,u]);return Sr`
    <${Hd}
      onClose=${s}
      onKeyup=${Ke}
      onKeydown=${Ve}
      className=${c}
      position=${h}
      width=${b}
      scale=${S}
    >
      ${$t&&Sr`
        <div class="djs-popup-header">
          <h3 class="djs-popup-title" title=${m}>${m}</h3>
          ${u.map(wt=>{return Sr`
            <span
              class=${Ze=wt,at=wt===ve,Um("entry",Ze.className,Ze.active?"active":"",Ze.disabled?"disabled":"",at?"selected":"")}
              onClick=${Ze=>a(Ze,wt)}
              title=${wt.title||wt.label}
              data-id=${wt.id}
              onMouseEnter=${()=>Ie(wt)}
              onMouseLeave=${()=>Ie(null)}
            >
              ${wt.imageUrl?Sr`
                <img class="djs-popup-entry-icon" src=${wt.imageUrl} alt="" />
              `:null}

              ${wt.label?Sr`
                <span class="djs-popup-label">${wt.label}</span>
              `:null}
            </span>
          `;var Ze,at})}
        </div>
      `}
      ${j.length>0&&Sr`
        <div class="djs-popup-body">

          ${J&&Sr`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input
                ref=${re}
                type="text"
              />
          </div>
          `}

          <${Bs}
            entries=${ce}
            selectedEntry=${ve}
            setSelectedEntry=${Ie}
            onAction=${a}
          />
        </div>
        ${0===ce.length&&Sr`
          <div class="djs-popup-no-results">No matching entries found.</div>
        `}
      `}
    </${Hd}>
  `}function Hd(r){const{onClose:s,onKeydown:a,onKeyup:c,className:u,children:h,position:m}=r,b=Dr(),S=vl(N=>{ti(N.target,".djs-popup",!0)||s()},[s]);return Ny(()=>{if("function"!=typeof m)return;const N=b.current,j=m(N);N.style.left=`${j.x}px`,N.style.top=`${j.y}px`},[b.current,m]),Ny(()=>{b.current&&b.current.focus()},[]),Sr`
    <div
      class="djs-popup-backdrop"
      onClick=${S}
    >
      <div
        class=${Um("djs-popup",u)}
        style=${N=r,{transform:`scale(${N.scale})`,width:`${N.width}px`}}
        onKeydown=${a}
        onKeyup=${c}
        ref=${b}
        tabIndex="-1"
      >
        ${h}
      </div>
    </div>
  `;var N}var cS=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function pr(r,s,a){this._eventBus=s,this._canvas=a,this._current=null;var c=U(r&&r.scale)?r.scale:{min:1,max:1.5};this._config={scale:c},s.on("diagram.destroy",()=>{this.close()}),s.on("element.changed",u=>{const h=this.isOpen()&&this._current.target;u.element===h&&this._render()})}pr.$inject=["config.popupMenu","eventBus","canvas"],pr.prototype._render=function(){const{position:r,className:s,entries:a,headerEntries:c,options:u}=this._current,h=Object.entries(a).map(([N,j])=>({id:N,...j})),m=Object.entries(c).map(([N,j])=>({id:N,...j})),b=r&&(N=>this._ensureVisible(N,r)),S=this._updateScale(this._current.container);Q0(Sr`
      <${Fy}
        onClose=${N=>this.close(N)}
        onSelect=${(N,j,G)=>this.trigger(N,j,G)}
        position=${b}
        className=${s}
        entries=${h}
        headerEntries=${m}
        scale=${S}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        ...${{...u}}
      />
    `,this._current.container)},pr.prototype.open=function(r,s,a,c){if(!r)throw new Error("target is missing");if(!s)throw new Error("providers for <"+s+"> not found");if(!a)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:u,headerEntries:h}=this._getContext(r,s);this._current={position:a,className:s,target:r,entries:u,headerEntries:h,container:this._createContainer({provider:s}),options:c},this._emit("open"),this._bindAutoClose(),this._render()},pr.prototype._getContext=function(r,s){const a=this._getProviders(s);if(!a||!a.length)throw new Error("provider for <"+s+"> not found");const c=this._getEntries(r,a),u=this._getHeaderEntries(r,a);return{entries:c,headerEntries:u,empty:!(Object.keys(c).length||Object.keys(u).length)}},pr.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._current=null)},pr.prototype.reset=function(){const r=this._current.container;Q0(null,r),Do(r)},pr.prototype._emit=function(r,s){this._eventBus.fire(`popupMenu.${r}`,s)},pr.prototype._onOpened=function(){this._emit("opened")},pr.prototype._onClosed=function(){this._emit("closed")},pr.prototype._createContainer=function(r){var s=this._canvas.getContainer();const a=En(`<div class="djs-popup-parent djs-scrollable" data-popup=${r.provider}></div>`);return s.appendChild(a),a},pr.prototype._bindAutoClose=function(){this._eventBus.once(cS,this.close,this)},pr.prototype._unbindAutoClose=function(){this._eventBus.off(cS,this.close,this)},pr.prototype._updateScale=function(){var r,s,a=this._canvas.zoom(),c=this._config.scale,u=a;return!0!==c&&(!1===c?(r=1,s=1):(r=c.min,s=c.max),U(r)&&a<r&&(u=r),U(s)&&a>s&&(u=s)),u},pr.prototype._ensureVisible=function(r,s){var a=document.documentElement.getBoundingClientRect(),c=r.getBoundingClientRect(),u={},h=s.x,m=s.y;return s.x+c.width>a.width&&(u.x=!0),s.y+c.height>a.height&&(u.y=!0),u.x&&u.y?(h=s.x-c.width,m=s.y-c.height):u.x?(h=s.x-c.width,m=s.y):u.y&&s.y<c.height?(h=s.x,m=10):u.y&&(h=s.x,m=s.y-c.height),{x:h,y:m}},pr.prototype.isEmpty=function(r,s){if(!r)throw new Error("target is missing");if(!s)throw new Error("provider ID is missing");const a=this._getProviders(s);return!a||!a.length||this._getContext(r,s).empty},pr.prototype.registerProvider=function(r,s,a){a||(a=s,s=1e3),this._eventBus.on("popupMenu.getProviders."+r,s,function(c){c.providers.push(a)})},pr.prototype._getProviders=function(r){var s=this._eventBus.createEvent({type:"popupMenu.getProviders."+r,providers:[]});return this._eventBus.fire(s),s.providers},pr.prototype._getEntries=function(r,s){var a={};return y(s,function(c){if(c.getPopupMenuEntries){var u=c.getPopupMenuEntries(r);E(u)?a=u(a):y(u,function(h,m){a[m]=h})}else y(c.getEntries(r),function(h){var m=h.id;if(!m)throw new Error("entry ID is missing");a[m]=Le(h,["id"])})}),a},pr.prototype._getHeaderEntries=function(r,s){var a={};return y(s,function(c){if(c.getPopupMenuHeaderEntries){var u=c.getPopupMenuHeaderEntries(r);E(u)?a=u(a):y(u,function(h,m){a[m]=h})}else{if(!c.getHeaderEntries)return;y(c.getHeaderEntries(r),function(h){var m=h.id;if(!m)throw new Error("entry ID is missing");a[m]=Le(h,["id"])})}}),a},pr.prototype.isOpen=function(){return!!this._current},pr.prototype.trigger=function(r,s,a="click"){if(r.preventDefault(),!s){let u=zn(ti(r.delegateTarget||r.target,".entry",!0),"data-id");s={id:u,...this._getEntry(u)}}const c=s.action;if(!1!==this._emit("trigger",{entry:s,event:r}))if(E(c)){if("click"===a)return c(r,s)}else if(c[a])return c[a](r,s)},pr.prototype._getEntry=function(r){var s=this._current.entries[r]||this._current.headerEntries[r];if(!s)throw new Error("entry not found");return s};var Ly={__init__:["popupMenu"],popupMenu:["type",pr]},ew={align:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%202000%202000%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M200%20150v1700%22%2F%3E%3Crect%20x%3D%22500%22%20y%3D%22150%22%20width%3D%221300%22%20height%3D%22700%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22500%22%20y%3D%221150%22%20width%3D%22700%22%20height%3D%22700%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",bottom:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M150%201650h1500%22%2F%3E%3Crect%20x%3D%22150%22%20y%3D%22350%22%20width%3D%22600%22%20height%3D%221300%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%221050%22%20y%3D%22850%22%20width%3D%22600%22%20height%3D%22800%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",center:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M900%20150v1500%22%2F%3E%3Crect%20x%3D%22250%22%20y%3D%22150%22%20width%3D%221300%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22500%22%20y%3D%221050%22%20width%3D%22800%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",left:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M100%20150v1500%22%2F%3E%3Crect%20x%3D%22100%22%20y%3D%22150%22%20width%3D%221300%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22100%22%20y%3D%221050%22%20width%3D%22800%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",right:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M1650%20150v1500%22%2F%3E%3Crect%20x%3D%22350%22%20y%3D%22150%22%20width%3D%221300%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22850%22%20y%3D%221050%22%20width%3D%22800%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",top:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M150%20150h1500%22%2F%3E%3Crect%20x%3D%22150%22%20y%3D%22150%22%20width%3D%22600%22%20height%3D%221300%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%221050%22%20y%3D%22150%22%20width%3D%22600%22%20height%3D%22800%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",middle:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M150%20900h1500%22%2F%3E%3Crect%20x%3D%22150%22%20y%3D%22250%22%20width%3D%22600%22%20height%3D%221300%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%221050%22%20y%3D%22500%22%20width%3D%22600%22%20height%3D%22800%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E"};function vh(r,s,a,c){r.registerProvider(900,this),this._contextPad=r,this._popupMenu=s,this._translate=a,this._canvas=c}vh.$inject=["contextPad","popupMenu","translate","canvas"],vh.prototype.getMultiElementContextPadEntries=function(r){var s={};return this._isAllowed(r)&&we(s,this._getEntries(r)),s},vh.prototype._isAllowed=function(r){return!this._popupMenu.isEmpty(r,"align-elements")},vh.prototype._getEntries=function(){var r=this;return{"align-elements":{group:"align-elements",title:r._translate("Align elements"),imageUrl:ew.align,action:{click:function(s,a){var c=r._getMenuPosition(a);we(c,{cursor:{x:s.x,y:s.y}}),r._popupMenu.open(a,"align-elements",c)}}}}},vh.prototype._getMenuPosition=function(r){var s=this._contextPad.getPad(r).html.getBoundingClientRect();return{x:s.left,y:s.bottom+5}};var dS=["left","center","right","top","middle","bottom"];function $f(r,s,a,c){this._alignElements=s,this._translate=a,this._popupMenu=r,this._rules=c,r.registerProvider("align-elements",this)}function oa(r){vt.call(this,r),this.init()}function yh(r){oa.call(this,r)}$f.$inject=["popupMenu","alignElements","translate","rules"],$f.prototype.getPopupMenuEntries=function(r){var s={};return this._isAllowed(r)&&we(s,this._getEntries(r)),s},$f.prototype._isAllowed=function(r){return this._rules.allowed("elements.align",{elements:r})},$f.prototype._getEntries=function(r){var s=this._alignElements,a=this._translate,c=this._popupMenu,u={};return y(dS,function(h){u["align-elements-"+h]={group:"align",title:a("Align elements "+h),className:"bjs-align-elements-menu-entry",imageUrl:ew[h],action:function(){s.trigger(r,h),c.close()}}}),u},oa.$inject=["eventBus"],W(oa,vt),oa.prototype.addRule=function(r,s,a){var c=this;"string"==typeof r&&(r=[r]),r.forEach(function(u){c.canExecute(u,s,function(h,m,b){return a(h)},!0)})},oa.prototype.init=function(){},yh.$inject=["eventBus"],W(yh,oa),yh.prototype.init=function(){this.addRule("elements.align",function(r){var s=p(r.elements,function(a){return!(a.waypoints||a.host||a.labelTarget)});return!((s=Gn(s)).length<2)&&s})};var $m={__depends__:[JC,Bf,Ly],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",vh],alignElementsMenuProvider:["type",$f],bpmnAlignElements:["type",yh]};function By(r,s,a,c){for(var u;u=uS(r,a,s);)a=c(s,a,u);return a}function yl(r){return function(s,a,c){var u={x:a.x,y:a.y};return["x","y"].forEach(function(h){var m=r[h];if(m){var b="x"===h?"width":"height",S=m.margin,N=m.minDistance;u[h]=S<0?Math.min(c[h]+S-s[b]/2,a[h]-N+S):Math.max(c[h]+c[b]+S+s[b]/2,a[h]+N+S)}}),u}}function uS(r,s,a){var h,m,c={x:s.x-a.width/2,y:s.y-a.height/2,width:a.width,height:a.height};return _((m=Vc(h=r),h.host&&(m=m.concat(Vc(h.host))),h.attachers&&(m=m.concat(h.attachers.reduce(function(b,S){return b.concat(Vc(S))},[]))),m),function(h){return h!==a&&"intersect"===dr(h,c,10)})}function Vc(r){return(s=r,s.outgoing.map(function(a){return a.target})).concat(r.incoming.map(function(c){return c.source}));var s}function hS(){return!0}function zy(r,s,a){r.on("autoPlace",100,function(c){return function(h,m,b){b||(b={});var S=b.defaultDistance||50,N=Jt(h);return{x:Ut(h).right+S+m.width/2,y:N.y}}(c.source,c.shape)}),r.on("autoPlace.end",function(c){a.scrollToElement(c.shape)}),this.append=function(c,u,h){r.fire("autoPlace.start",{source:c,shape:u});var m=r.fire("autoPlace",{source:c,shape:u}),b=s.appendShape(c,u,m,c.parent,h);return r.fire("autoPlace.end",{source:c,shape:b}),b}}function Wm(r,s){r.on("autoPlace.end",500,function(a){s.select(a.shape)})}zy.$inject=["eventBus","modeling","canvas"],Wm.$inject=["eventBus","selection"];var Gm={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",zy],autoPlaceSelectionBehavior:["type",Wm]};function Wf(r,s){for(I(s)&&(s=[s]);r=r.parent;)if(jn(r,s))return r;return null}function tw(r,s){return me(s,"bpmn:TextAnnotation")?(c=s,h={x:(u=Ut(a=r)).right+c.width/2,y:u.top-50-c.height/2},ji(a)&&((h=Jt(a)).x+=100,h.y-=50),By(a,c,h,yl({y:{margin:-30,minDistance:20}}))):jn(s,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function(a,c){var u=Ut(a);return By(a,c,{x:u.right-10+c.width/2,y:u.bottom+40+c.width/2},yl({x:{margin:30,minDistance:30}}))}(r,s):me(s,"bpmn:FlowNode")?function(a,c){var u=Ut(a),h=Jt(a),m=function(G,Z){Z||(Z={});var J=Z.defaultDistance||50,re=Z.direction||"e",ae=Z.filter,de=Z.getWeight||function(ze){return ze.source===G?1:-1},se=Z.maxDistance||250,ce=Z.reference||"start";function be(ze,Ve){return"n"===re?"start"===ce?Ut(ze).top-Ut(Ve).bottom:"center"===ce?Ut(ze).top-Jt(Ve).y:Ut(ze).top-Ut(Ve).top:"w"===re?"start"===ce?Ut(ze).left-Ut(Ve).right:"center"===ce?Ut(ze).left-Jt(Ve).x:Ut(ze).left-Ut(Ve).left:"s"===re?"start"===ce?Ut(Ve).top-Ut(ze).bottom:"center"===ce?Jt(Ve).y-Ut(ze).bottom:Ut(Ve).bottom-Ut(ze).bottom:"start"===ce?Ut(Ve).left-Ut(ze).right:"center"===ce?Jt(Ve).x-Ut(ze).right:Ut(Ve).right-Ut(ze).right}ae||(ae=hS);var ve=G.incoming.filter(ae).map(function(ze){var Ve=de(ze),Ke=Ve<0?be(ze.source,G):be(G,ze.source);return{id:ze.source.id,distance:Ke,weight:Ve}}),Ie=G.outgoing.filter(ae).map(function(ze){var Ve=de(ze),Ke=Ve>0?be(G,ze.target):be(ze.target,G);return{id:ze.target.id,distance:Ke,weight:Ve}});return v(ve.concat(Ie).reduce(function(ze,Ve){return ze[Ve.id+"__weight_"+Ve.weight]=Ve,ze},{}),function(ze,Ve){var Ke=Ve.distance,$t=Ve.weight;return Ke<0||Ke>se||(ze[String(Ke)]||(ze[String(Ke)]=0),ze[String(Ke)]+=1*$t,(!ze.distance||ze[ze.distance]<ze[String(Ke)])&&(ze.distance=Ke)),ze},{}).distance||J}(a,{filter:function(G){return me(G,"bpmn:SequenceFlow")}}),b=30,N="left";return me(a,"bpmn:BoundaryEvent")&&-1!==(N=dr(a,a.host,-25)).indexOf("top")&&(b*=-1),By(a,c,{x:u.right+m+c.width/2,y:h.y+fS(N,80)},yl({y:{margin:b,minDistance:80}}))}(r,s):void 0;var a,c,u,h}function fS(r,s){return r.includes("top")?-1*s:r.includes("bottom")?s:0}function jd(r){r.on("autoPlace",function(s){return tw(s.source,s.shape)})}jd.$inject=["eventBus"];var bh={__depends__:[Gm],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",jd]};function Jl(r,s,a,c){vt.call(this,r),this._elementRegistry=s,this._modeling=a,this._rules=c;var u=this;this.postExecuted(["shape.create"],function(h){var m=h.context;!1!==(m.hints||{}).autoResize&&u._expand([m.shape],m.parent||m.newParent)}),this.postExecuted(["elements.move"],function(h){var m=h.context,b=H(q(m.closure.topLevel)),S=m.hints,N=!S||S.autoResize;!1!==N&&y(te(b,function(j){return j.parent.id}),function(j,G){T(N)&&(j=j.filter(function(Z){return _(N,Ce({id:Z.id}))})),u._expand(j,G)})}),this.postExecuted(["shape.toggleCollapse"],function(h){var m=h.context,b=m.hints,S=m.shape;b&&!1===b.autoResize||S.collapsed||u._expand(S.children||[],S)}),this.postExecuted(["shape.resize"],function(h){var m=h.context,b=m.hints,S=m.shape,N=S.parent;b&&!1===b.autoResize||N&&u._expand([S],N)})}function Vy(r){r.invoke(Jl,this)}function _h(r){oa.call(this,r);var s=this;this.addRule("element.autoResize",function(a){return s.canResize(a.elements,a.target)})}function Ym(r,s){_h.call(this,r),this._modeling=s}Jl.$inject=["eventBus","elementRegistry","modeling","rules"],W(Jl,vt),Jl.prototype._getOptimalBounds=function(r,s){var a=this.getOffset(s),c=this.getPadding(s),u=Ut(qt(r)),h=Ut(s),m={};return u.top-h.top<c.top&&(m.top=u.top-a.top),u.left-h.left<c.left&&(m.left=u.left-a.left),h.right-u.right<c.right&&(m.right=u.right+a.right),h.bottom-u.bottom<c.bottom&&(m.bottom=u.bottom+a.bottom),No(we({},h,m))},Jl.prototype._expand=function(r,s){if("string"==typeof s&&(s=this._elementRegistry.get(s)),this._rules.allowed("element.autoResize",{elements:r,target:s})){var a=this._getOptimalBounds(r,s);if((h=a).x!==(m=s).x||h.y!==m.y||h.width!==m.width||h.height!==m.height){var c=function(h,m){var b="";return h=Ut(h),m=Ut(m),h.top>m.top&&(b=b.concat("n")),h.right<m.right&&(b=b.concat("w")),h.bottom<m.bottom&&(b=b.concat("s")),h.left>m.left&&(b=b.concat("e")),b}(Oe(s,["x","y","width","height"]),a);this.resize(s,a,{autoResize:c});var u=s.parent;u&&this._expand([s],u)}}var h,m},Jl.prototype.getOffset=function(r){return{top:60,bottom:60,left:100,right:100}},Jl.prototype.getPadding=function(r){return{top:2,bottom:2,left:15,right:15}},Jl.prototype.resize=function(r,s,a){this._modeling.resizeShape(r,s,null,a)},Vy.$inject=["injector"],W(Vy,Jl),Vy.prototype.resize=function(r,s,a){me(r,"bpmn:Participant")?this._modeling.resizeLane(r,s,null,a):this._modeling.resizeShape(r,s,null,a)},_h.$inject=["eventBus"],W(_h,oa),_h.prototype.canResize=function(r,s){return!1},W(Ym,_h),Ym.$inject=["eventBus","modeling"],Ym.prototype.canResize=function(r,s){if(me(s.di,"bpmndi:BPMNPlane")||!me(s,"bpmn:Participant")&&!me(s,"bpmn:Lane")&&!me(s,"bpmn:SubProcess"))return!1;var a=!0;return y(r,function(c){(me(c,"bpmn:Lane")||Zn(c))&&(a=!1)}),a};var T1={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",Vy],bpmnAutoResizeProvider:["type",Ym]};function nw(r,s,a){var c,u,h=this,m=a.get("dragging",!1);m&&s.on("drag.start",function(b){s.once("drag.move",1500,function(S){!function(N){if(!N.hover){var j=N.originalEvent,G=h._findTargetGfx(j),Z=G&&r.get(G);G&&Z&&(N.stopPropagation(),m.hover({element:Z,gfx:G}),m.move(j))}}(S)})}),s.on("element.hover",function(b){c=b.gfx,u=b.element}),s.on("element.hover",1500,function(b){u&&s.fire("element.out",{element:u,gfx:c})}),s.on("element.out",function(){c=null,u=null}),this._findTargetGfx=function(b){var S;if(b instanceof MouseEvent)return S=ur(b),ti(document.elementFromPoint(S.x,S.y),"svg, .djs-element",!0)}}nw.$inject=["elementRegistry","eventBus","injector"];var pS={__init__:["hoverFix"],hoverFix:["type",nw]},wh=Math.round,Gf="djs-drag-active";function Hc(r){r.preventDefault()}function iw(r,s,a,c){var u,h={threshold:5,trapClick:!0};function m(se){var ce=s.viewbox(),be=s._container.getBoundingClientRect();return{x:ce.x+(se.x-be.left)/ce.scale,y:ce.y+(se.y-be.top)/ce.scale}}function b(se,ce){var be=r.createEvent(we({},(ce=ce||u).payload,ce.data,{isTouch:ce.isTouch}));return!1!==r.fire("drag."+se,be)&&r.fire(ce.prefix+"."+se,be)}function S(se,ce){var be,ve=u.payload,Ie=u.displacement,Ue=u.globalStart,ze=ur(se),Ve=_o(ze,Ue),Ke=u.localStart,$t=m(ze),wt=_o($t,Ke);if(!u.active&&(ce||(be=Ve,Math.sqrt(Math.pow(be.x,2)+Math.pow(be.y,2))>u.threshold))){if(we(ve,{x:wh(Ke.x+Ie.x),y:wh(Ke.y+Ie.y),dx:0,dy:0},{originalEvent:se}),!1===b("start"))return ae();u.active=!0,u.keepSelection||(ve.previousSelection=a.get(),a.select(null)),u.cursor&&uh(u.cursor),s.addMarker(s.getRootElement(),Gf)}Od(se),u.active&&(we(ve,{x:wh($t.x+Ie.x),y:wh($t.y+Ie.y),dx:wh(wt.x),dy:wh(wt.y)},{originalEvent:se}),b("move"))}function N(se){var ce=!0;u.active&&(se&&(u.payload.originalEvent=se,Od(se)),ce=b("end")),!1===ce&&b("rejected"),b("ended",de(!0!==ce))}function j(se){Cr("Escape",se)&&(Hc(se),ae())}function G(se){var ce;u.active&&(ce=V0(r),setTimeout(ce,400),Hc(se)),N(se)}function Z(se){S(se)}function J(se){var ce=u.payload;ce.hoverGfx=se.gfx,ce.hover=se.element,b("hover")}function re(se){b("out");var ce=u.payload;ce.hoverGfx=null,ce.hover=null}function ae(se){var ce;if(u){var be=u.active;be&&b("cancel"),ce=de(se),be&&b("canceled",ce)}}function de(se){var ce,be;b("cleanup"),z0(),be=u.trapClick?G:N,Dt.unbind(document,"mousemove",S),Dt.unbind(document,"dragstart",Hc),Dt.unbind(document,"selectstart",Hc),Dt.unbind(document,"mousedown",be,!0),Dt.unbind(document,"mouseup",be,!0),Dt.unbind(document,"keyup",j),Dt.unbind(document,"touchstart",Z,!0),Dt.unbind(document,"touchcancel",ae,!0),Dt.unbind(document,"touchmove",S,!0),Dt.unbind(document,"touchend",N,!0),r.off("element.hover",J),r.off("element.out",re),s.removeMarker(s.getRootElement(),Gf);var Ue,ve=u.payload.previousSelection;return!1!==se&&ve&&!a.get().length&&(Ue=ve.filter(function(ze){return c.get(ze.id)})).length&&a.select(Ue),ce=u,u=null,ce}r.on("diagram.destroy",ae),this.init=function(se,ce,be,ve){u&&ae(!1),"string"==typeof ce&&(ve=be,be=ce,ce=null);var Ie,Ue,ze,Ve,Ke,$t=(ve=we({},h,ve||{})).data||{};Ve=ve.trapClick?G:N,se?(Ie=fl(se)||se,Ue=ur(se),Od(se),"dragstart"===Ie.type&&Hc(Ie)):(Ie=null,Ue={x:0,y:0}),ze=m(Ue),ce||(ce=ze),Ke=typeof TouchEvent<"u"&&Ie instanceof TouchEvent,u=we({prefix:be,data:$t,payload:{},globalStart:Ue,displacement:_o(ce,ze),localStart:ze,isTouch:Ke},ve),ve.manual||(Ke?(Dt.bind(document,"touchstart",Z,!0),Dt.bind(document,"touchcancel",ae,!0),Dt.bind(document,"touchmove",S,!0),Dt.bind(document,"touchend",N,!0)):(Dt.bind(document,"mousemove",S),Dt.bind(document,"dragstart",Hc),Dt.bind(document,"selectstart",Hc),Dt.bind(document,"mousedown",Ve,!0),Dt.bind(document,"mouseup",Ve,!0)),Dt.bind(document,"keyup",j),r.on("element.hover",J),r.on("element.out",re)),b("init"),ve.autoActivate&&S(se,!0)},this.move=S,this.hover=J,this.out=re,this.end=N,this.cancel=ae,this.context=function(){return u},this.setOptions=function(se){we(h,se)}}iw.$inject=["eventBus","canvas","selection","elementRegistry"];var bl={__depends__:[pS,hs],dragging:["type",iw]};function Yf(r,s,a){this._canvas=a,this._opts=we({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},r);var c=this;s.on("drag.move",function(u){var h=c._toBorderPoint(u);c.startScroll(h)}),s.on(["drag.cleanup"],function(){c.stopScroll()})}function rw(r,s,a){return s<r&&r<a}Yf.$inject=["config.autoScroll","eventBus","canvas"],Yf.prototype.startScroll=function(r){var s=this._canvas,a=this._opts,c=this,u=s.getContainer().getBoundingClientRect(),h=[r.x,r.y,u.width-r.x,u.height-r.y];this.stopScroll();for(var m=0,b=0,S=0;S<4;S++)rw(h[S],a.scrollThresholdOut[S],a.scrollThresholdIn[S])&&(0===S?m=a.scrollStep:1==S?b=a.scrollStep:2==S?m=-a.scrollStep:3==S&&(b=-a.scrollStep));0===m&&0===b||(s.scroll({dx:m,dy:b}),this._scrolling=setTimeout(function(){c.startScroll(r)},a.scrollRepeatTimeout))},Yf.prototype.stopScroll=function(){clearTimeout(this._scrolling)},Yf.prototype.setOptions=function(r){this._opts=we({},this._opts,r)},Yf.prototype._toBorderPoint=function(r){var s=this._canvas._container.getBoundingClientRect(),a=ur(r.originalEvent);return{x:a.x-s.left,y:a.y-s.top}};var k1={__depends__:[bl],__init__:["autoScroll"],autoScroll:["type",Yf]};function Hy(r){this._commandStack=r.get("commandStack",!1)}Hy.$inject=["injector"],Hy.prototype.allowed=function(r,s){var a=!0,c=this._commandStack;return c&&(a=c.canExecute(r,s)),void 0===a||a};var _l={__init__:["rules"],rules:["type",Hy]},xh=Math.round,A1=Math.max;function ow(r,s){return function(a,c){var u,h;for(u=0;h=a[u];u++)if(Yn(h,c)<=10)return{point:a[u],bendpoint:!0,index:u};return null}(r,s)||(S=(m=Ii([["M",(N=s).x,N.y],["m",0,-(j=10)],["a",j,j,0,1,1,0,20],["a",j,j,0,1,1,0,-20],["z"]],(u=[],(a=r).forEach(function(N,j){u.push([0===j?"M":"L",N.x,N.y])}),u)))[m.length-1],(b=m[0])?b!==S?b.segment2!==S.segment2?{point:a[h=A1(b.segment2,S.segment2)-1],bendpoint:!0,index:h}:{point:{x:xh(b.x+S.x)/2,y:xh(b.y+S.y)/2},index:b.segment2}:{point:{x:xh(b.x),y:xh(b.y)},index:b.segment2}:null);var a,u,h,N,j,m,b,S}function Km(r){return Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))}function mS(r){return Math.atan((r[1].y-r[0].y)/(r[1].x-r[0].x))}function sw(r,s){var m,b,S,N,a=s[0],c=s[1],u={x:c.x-a.x,y:c.y-a.y},h=-((N=[{n:(m=[a.x,a.y])[0]-(S=[r.x,r.y])[0],lambda:(b=[u.x,u.y])[0]},{n:m[1]-S[1],lambda:b[1]}])[0].n*b[0]+N[1].n*b[1])/(N[0].lambda*b[0]+N[1].lambda*b[1]);return{x:a.x+h*u.x,y:a.y+h*u.y}}function gS(r,s){var a=sw(r,s);return Km({x:a.x-r.x,y:a.y-r.y})}function jy(r,s){return Km({x:r.x-s.x,y:r.y-s.y})}var O1="djs-bendpoint",vS="djs-segment-dragger";function Kf(r,s,a){return ow(s,function(u,h){var m,b=ur(h),S=u._container.getBoundingClientRect();m={x:S.left,y:S.top};var N=u.viewbox();return{x:N.x+(b.x-m.x)/N.scale,y:N.y+(b.y-m.y)/N.scale}}(r,a))}function Xf(r,s){var a=Gt("g");Cn(a).add(O1),Qt(r,a);var c=Gt("circle");Ot(c,{cx:0,cy:0,r:4}),Cn(c).add("djs-visual"),Qt(a,c);var u=Gt("circle");return Ot(u,{cx:0,cy:0,r:10}),Cn(u).add("djs-hit"),Qt(a,u),s&&Cn(a).add(s),a}function Uy(r,s,a){var c=Gt("g"),u=ct(s,a),h=Se(s,a);return Qt(r,c),function aw(r,s,a,c){var u=Gt("g");Qt(r,u);var S,N,h=(S=s,N=a,$y("h"===c?N.x-S.x:N.y-S.y)),m=Gt("rect");Ot(m,{x:-9,y:-3,width:18,height:6}),Cn(m).add("djs-visual"),Qt(u,m);var b=Gt("rect");return Ot(b,{x:-h/2,y:-8.5,width:h,height:17}),Cn(b).add("djs-hit"),Qt(u,b),Ul(u,"v"===c?90:0),u}(c,s,a,h),Cn(c).add(vS),Cn(c).add("h"===h?"horizontal":"vertical"),Lo(c,u.x,u.y),c}function $y(r){return Math.abs(Math.round(2*r/3))}function lw(r,s,a,c,u){function m(re,ae,de){Dt.bind(re,ae,function(se){a.triggerMouseEvent(ae,se,de),se.stopPropagation()})}function b(re,ae){var de=s.getLayer("overlays"),se=oi('.djs-bendpoints[data-element-id="'+kf(re.id)+'"]',de);return!se&&ae&&(Ot(se=Gt("g"),{"data-element-id":re.id}),Cn(se).add("djs-bendpoints"),Qt(de,se),m(se,"mousedown",re),m(se,"click",re),m(se,"dblclick",re)),se}function S(re,ae){return oi('.djs-segment-dragger[data-segment-idx="'+re+'"]',ae)}function N(re,ae){ae.waypoints.forEach(function(de,se){var ce=Xf(re);Qt(re,ce),Lo(ce,de.x,de.y)}),Xf(re,"floating")}function j(re,ae){for(var de,se,ce,be=ae.waypoints,ve=1;ve<be.length;ve++)Se(de=be[ve-1],se=be[ve])&&(Ot(ce=Uy(re,de,se),{"data-segment-idx":ve}),m(ce,"mousemove",ae))}function G(re){var ae=b(re);return ae||(N(ae=b(re,!0),re),j(ae,re)),ae}function Z(re){var ae=b(re);ae&&(y(wc(".djs-segment-dragger",ae),function(se){Ni(se)}),y(wc(".djs-bendpoint",ae),function(se){Ni(se)}),j(ae,re),N(ae,re))}r.on("connection.changed",function(re){Z(re.element)}),r.on("connection.remove",function(re){var ae=b(re.element);ae&&Ni(ae)}),r.on("element.marker.update",function(re){var ae,de=re.element;de.waypoints&&(ae=G(de),re.add?Cn(ae).add(re.marker):Cn(ae).remove(re.marker))}),r.on("element.mousemove",function(re){var ae,de,ve,Ie,Ue,se=re.element,ce=se.waypoints;if(ce){if(ae=b(se,!0),!(de=Kf(s,ce,re.originalEvent)))return;ve=de,Ie=oi(".floating",ae),Ue=ve.point,Ie&&Lo(Ie,Ue.x,Ue.y),de.bendpoint||function J(re,ae,de){var se,ce,be=S(ae.index,re),ve=de[ae.index-1],Ie=de[ae.index],Ue=ae.point,ze=ct(ve,Ie),Ve=Se(ve,Ie);be&&(se=oi(".djs-visual",be),ce={x:Ue.x-ze.x,y:Ue.y-ze.y},"v"===Ve&&(ce={x:ce.y,y:ce.x}),Lo(se,ce.x,ce.y))}(ae,de,ce)}}),r.on("element.mousedown",function(re){if(Fn(re)){var de=re.element;if(de.waypoints)return function h(re,ae){var ve,Ie,Ue,ze,se=ae.waypoints,ce=Kf(s,se,re);if(ce)return ze=ae.waypoints,function(be,ve,Ie){var Ue,ze,Ve,Ke,$t,wt,Ze=be.index,at=be.point;return!(Ze<=0||be.bendpoint)&&(Ve=ct(Ue=ve[Ze-1],ze=ve[Ze]),Ke=Se(Ue,ze),$t=Math.abs(at.x-Ve.x),wt=Math.abs(at.y-Ve.y),Ke&&$t<=Ie&&wt<=Ie)}(ce,se,(ve=ce).index<=0||ve.bendpoint?null:(Ue=Se((Ie={start:ze[ve.index-1],end:ze[ve.index]}).start,Ie.end))?$y("h"===Ue?Ie.end.x-Ie.start.x:Ie.end.y-Ie.start.y)/2:null)?u.start(re,ae,ce.index):c.start(re,ae,ce.index,!ce.bendpoint),!0}(re.originalEvent,de)}}),r.on("selection.changed",function(re){var ae=re.newSelection[0];ae&&ae.waypoints&&G(ae)}),r.on("element.hover",function(re){var ae=re.element;ae.waypoints&&(G(ae),a.registerEvent(re.gfx,"mousemove","element.mousemove"))}),r.on("element.out",function(re){a.unregisterEvent(re.gfx,"mousemove","element.mousemove")}),r.on("element.updateId",function(re){var ae=re.element,de=re.newId;if(ae.waypoints){var se=b(ae);se&&Ot(se,{"data-element-id":de})}}),this.addHandles=G,this.updateHandles=Z,this.getBendpointsContainer=b,this.getSegmentDragger=S}lw.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var cw=Math.round,Ud="reconnectStart",jc="reconnectEnd",$d="updateWaypoints";function Wy(r,s,a,c,u,h){this._injector=r,this.start=function(m,b,S,N){var j,G=a.getGraphics(b),Z=b.source,J=b.target,ae=(j=N||0!==S?N||S!==b.waypoints.length-1?$d:jc:Ud)===$d?"connection.updateWaypoints":"connection.reconnect",de=u.allowed(ae,{connection:b,source:Z,target:J});!1===de&&(de=u.allowed(ae,{connection:b,source:J,target:Z})),!1!==de&&c.init(m,"bendpoint.move",{data:{connection:b,connectionGfx:G,context:{allowed:de,bendpointIndex:S,connection:b,source:Z,target:J,insert:N,type:j}}})},s.on("bendpoint.move.hover",function(m){var b,S=m.context,N=S.connection,j=N.source,G=N.target,Z=m.hover,J=S.type;if(S.hover=Z,Z){var re=J===$d?"connection.updateWaypoints":"connection.reconnect";if(b=S.allowed=u.allowed(re,{connection:N,source:J===Ud?Z:j,target:J===jc?Z:G}))return S.source=J===Ud?Z:j,void(S.target=J===jc?Z:G);!1===b&&(b=S.allowed=u.allowed(re,{connection:N,source:J===jc?Z:G,target:J===Ud?Z:j})),b&&(S.source=J===jc?Z:G,S.target=J===Ud?Z:j)}}),s.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(m){var b=m.context,S=b.type;b.hover=null,b.source=null,b.target=null,S!==$d&&(b.allowed=!1)}),s.on("bendpoint.move.end",function(m){var b=m.context,S=b.allowed,N=b.bendpointIndex,j=b.connection,G=b.insert,Z=j.waypoints.slice(),J=b.source,re=b.target,ae=b.type,de=b.hints||{},se={x:cw(m.x),y:cw(m.y)};if(!S)return!1;ae===$d?(G?Z.splice(N,0,se):Z[N]=se,de.bendpointMove={insert:G,bendpointIndex:N},Z=this.cropWaypoints(j,Z),h.updateWaypoints(j,function(ce){ce=ce.slice();for(var be,ve,Ie,Ue=0;ce[Ue];)ve=ce[Ue-1],0===Yn(be=ce[Ue],Ie=ce[Ue+1])||ye(ve,Ie,be)?ce.splice(Ue,1):Ue++;return ce}(Z),de)):(ae===Ud?(de.docking="source",Xm(b)&&(de.docking="target",de.newWaypoints=Z.reverse())):ae===jc&&(de.docking="target",Xm(b)&&(de.docking="source",de.newWaypoints=Z.reverse())),h.reconnect(j,J,re,se,de))},this)}function Xm(r){var s=r.hover,a=r.source,c=r.target,u=r.type;return u===Ud?s&&c&&s===c&&a!==c:u===jc?s&&a&&s===a&&a!==c:void 0}Wy.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],Wy.prototype.cropWaypoints=function(r,s){var a=this._injector.get("connectionDocking",!1);if(!a)return s;var c=r.waypoints;return r.waypoints=s,r.waypoints=a.getCroppedWaypoints(r),s=r.waypoints,r.waypoints=c,s};var dw="updateWaypoints",Eh="connect-ok",Zm="connect-not-ok",uw="connect-hover",es="djs-updating",Qm="djs-element-hidden";function Gy(r,s,a,c){this._injector=s;var u=s.get("connectionPreview",!1);a.on("bendpoint.move.start",function(h){var m=h.context,b=m.bendpointIndex,S=m.connection,N=m.insert,j=S.waypoints,G=j.slice();m.waypoints=j,N&&G.splice(b,0,{x:h.x,y:h.y}),S.waypoints=G,Cn(m.draggerGfx=Xf(c.getLayer("overlays"))).add("djs-dragging"),c.addMarker(S,Qm),c.addMarker(S,es)}),a.on("bendpoint.move.hover",function(h){var m=h.context,b=m.allowed,S=m.hover,N=m.type;if(S){if(c.addMarker(S,uw),N===dw)return;b?(c.removeMarker(S,Zm),c.addMarker(S,Eh)):!1===b&&(c.removeMarker(S,Eh),c.addMarker(S,Zm))}}),a.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,function(h){var m=h.context,b=m.hover,S=m.target;b&&(c.removeMarker(b,uw),c.removeMarker(b,S?Eh:Zm))}),a.on("bendpoint.move.move",function(h){var m=h.context,b=m.allowed,S=m.bendpointIndex,N=m.draggerGfx,j=m.hover,G=m.type,Z=m.connection,J=Z.source,re=Z.target,ae=Z.waypoints.slice(),de={x:h.x,y:h.y},se=m.hints||{},ce={};u&&(se.connectionStart&&(ce.connectionStart=se.connectionStart),se.connectionEnd&&(ce.connectionEnd=se.connectionEnd),"reconnectStart"===G?Xm(m)?(ce.connectionEnd=ce.connectionEnd||de,ce.source=re,ce.target=j||J,ae=ae.reverse()):(ce.connectionStart=ce.connectionStart||de,ce.source=j||J,ce.target=re):"reconnectEnd"===G?Xm(m)?(ce.connectionStart=ce.connectionStart||de,ce.source=j||re,ce.target=J,ae=ae.reverse()):(ce.connectionEnd=ce.connectionEnd||de,ce.source=J,ce.target=j||re):(ce.noCropping=!0,ce.noLayout=!0,ae[S]=de),G===dw&&(ae=r.cropWaypoints(Z,ae)),ce.waypoints=ae,u.drawPreview(m,b,ce)),Lo(N,h.x,h.y)},this),a.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,function(h){var m=h.context,b=m.connection,S=m.draggerGfx,N=m.hover,j=m.target;b.waypoints=m.waypoints,Ni(S),c.removeMarker(b,es),c.removeMarker(b,Qm),N&&(c.removeMarker(N,Eh),c.removeMarker(N,j?Eh:Zm)),u&&u.cleanUp(m)})}Gy.$inject=["bendpointMove","injector","eventBus","canvas"];var qm="connect-hover",wo="djs-updating";function Ch(r,s,a){return Jm(r,s,r[s]+a)}function Jm(r,s,a){return{x:"x"===s?a:r.x,y:"y"===s?a:r.y}}function Yy(r){return"x"===r?"y":"x"}function hw(r,s,a){var c,u;return r.original?r.original:(c=Jt(s),Jm(r,u=Yy(a),c[u]))}function Ky(r,s,a,c,u,h){var m=r.get("connectionDocking",!1);function b(j,G){if(!m)return G;var Z,J=j.waypoints;return j.waypoints=G,Z=m.getCroppedWaypoints(j),j.waypoints=J,Z}function S(j){u.update("connection",j.connection,j.connectionGfx)}this.start=function(j,G,Z){var J,re,ae,de,se=a.getGraphics(G),ce=Z-1,be=Z,ve=G.waypoints,Ie=ve[ce],Ue=ve[be],ze=Kf(a,ve,j);(re=Se(Ie,Ue))&&(ae="v"===re?"x":"y",0===ce&&(Ie=hw(Ie,G.source,ae)),be===ve.length-1&&(Ue=hw(Ue,G.target,ae)),J={connection:G,segmentStartIndex:ce,segmentEndIndex:be,segmentStart:Ie,segmentEnd:Ue,axis:ae,dragPosition:de=ze?ze.point:{x:(Ie.x+Ue.x)/2,y:(Ie.y+Ue.y)/2}},c.init(j,de,"connectionSegment.move",{cursor:"x"===ae?"resize-ew":"resize-ns",data:{connection:G,connectionGfx:se,context:J}}))},s.on("connectionSegment.move.start",function(j){var G=j.context,Z=j.connection,J=a.getLayer("overlays");G.originalWaypoints=Z.waypoints.slice(),G.draggerGfx=Uy(J,G.segmentStart,G.segmentEnd),Cn(G.draggerGfx).add("djs-dragging"),a.addMarker(Z,wo)}),s.on("connectionSegment.move.move",function(j){var G,Z,J=j.context,re=J.connection,ae=J.segmentStartIndex,de=J.segmentEndIndex,se=J.segmentStart,ce=J.segmentEnd,be=J.axis,ve=J.originalWaypoints.slice(),Ie=Ch(se,be,j["d"+be]),Ue=Ch(ce,be,j["d"+be]),ze=ve.length,Ve=0;ve[ae]=Ie,ve[de]=Ue,ae<2&&(G=dr(re.source,Ie),1===ae?"intersect"===G&&(ve.shift(),ve[0]=Ie,Ve--):"intersect"!==G&&(ve.unshift(se),Ve++)),de>ze-3&&(Z=dr(re.target,Ue),de===ze-2?"intersect"===Z&&(ve.pop(),ve[ve.length-1]=Ue):"intersect"!==Z&&ve.push(ce)),J.newWaypoints=re.waypoints=b(re,ve),function N(j,G,Z){var ae,de,se,ce,be,ve,J=j.newWaypoints,re=(ae=Z,de=J[j.segmentStartIndex+G],se=J[j.segmentEndIndex+G],ce=Yy(j.axis),be=Math.max(de[ce],se[ce]),ve=Math.min(de[ce],se[ce]),Jm(de,ce,Math.min(Math.max(ve+20,ae[ce]),be-20)));Lo(j.draggerGfx,re.x,re.y)}(J,Ve,j),J.newSegmentStartIndex=ae+Ve,S(j)}),s.on("connectionSegment.move.hover",function(j){j.context.hover=j.hover,a.addMarker(j.hover,qm)}),s.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(j){var G=j.context.hover;G&&a.removeMarker(G,qm)}),s.on("connectionSegment.move.cleanup",function(j){var G=j.context,Z=G.connection;G.draggerGfx&&Ni(G.draggerGfx),a.removeMarker(Z,wo)}),s.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(j){var G=j.context;G.connection.waypoints=G.originalWaypoints,S(j)}),s.on("connectionSegment.move.end",function(j){var G=j.context,Z=G.connection,J=G.newWaypoints,re=G.newSegmentStartIndex;J=J.map(function(be){return{original:be.original,x:Math.round(be.x),y:Math.round(be.y)}});var be,ve,Ie,ae=(ve=re,Ie=0,{waypoints:(be=J).filter(function(ze,Ve){return!ye(be[Ve-1],be[Ve+1],ze)||(Ie=Ve<=ve?Ie-1:Ie,!1)}),segmentOffset:Ie}),de=b(Z,ae.waypoints);h.updateWaypoints(Z,de,{segmentMove:{segmentStartIndex:G.segmentStartIndex,newSegmentStartIndex:re+ae.segmentOffset}})})}Ky.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var yS=Math.abs,Xy=Math.round;function fw(r){return{x:r.x,y:r.y}}function Zy(r){return{x:r.x+r.width,y:r.y+r.height}}function sa(r,s){return!r||isNaN(r.x)||isNaN(r.y)?s:{x:Xy(r.x+r.width/2),y:Xy(r.y+r.height/2)}}function Sh(r,s){var a=r.snapped;return!!a&&("string"==typeof s?a[s]:a.x&&a.y)}function mr(r,s,a){if("string"!=typeof s)throw new Error("axis must be in [x, y]");if("number"!=typeof a&&!1!==a)throw new Error("value must be Number or false");var c,u=r[s],h=r.snapped=r.snapped||{};return!1===a?h[s]=!1:(h[s]=!0,r[s]+=c=a-u,r["d"+s]+=c),u}function eg(r){return r.children||[]}var bS=Math.abs,Dh=Math.round;function pw(r){function s(c,u){if(T(c)){for(var h=c.length;h--;)if(bS(c[h]-u)<=10)return c[h]}else{var m=u%(c=+c);if(m<10)return u-m;if(m>c-10)return u-m+c}return u}function a(c,u){return c.waypoints?function ps(r,s){return sw(r,function(c,u){for(var h,m=u.waypoints,b=1/0,S=0;S<m.length-1;S++){var N=gS(c,[m[S],m[S+1]]);N<b&&(b=N,h=S)}return[m[h],m[h+1]]}(r,s))}(u,c):c.width?{x:Dh(c.width/2+c.x),y:Dh(c.height/2+c.y)}:void 0}r.on("connectionSegment.move.move",1500,function(c){var u,h,m=function(G){var Z=G.context,J=Z.snapPoints,re=Z.connection,ae=re.waypoints,se=Z.segmentStartIndex,be=Z.segmentEndIndex,ve=Z.axis;if(J)return J;var Ie=[ae[se-1],Z.segmentStart,Z.segmentEnd,ae[be+1]];return se<2&&Ie.unshift(a(re.source,G)),be>ae.length-3&&Ie.unshift(a(re.target,G)),Z.snapPoints=J={horizontal:[],vertical:[]},y(Ie,function(Ue){Ue&&(Ue=Ue.original||Ue,"y"===ve&&J.horizontal.push(Ue.y),"x"===ve&&J.vertical.push(Ue.x))}),J}(c),b=c.x,S=c.y;if(m){var N=b-(u=s(m.vertical,b)),j=S-(h=s(m.horizontal,S));we(c,{dx:c.dx-N,dy:c.dy-j,x:u,y:h}),(N||-1!==m.vertical.indexOf(b))&&mr(c,"x",u),(j||-1!==m.horizontal.indexOf(S))&&mr(c,"y",h)}}),r.on(["connect.hover","connect.move","connect.end"],1500,function(c){var u=c.context.hover,h=u&&a(u,c);ji(u)&&h&&h.x&&h.y&&(mr(c,"x",h.x),mr(c,"y",h.y))}),r.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(c){var u,h,m=c.context,b=function(re){var ae=re.snapPoints,de=re.connection.waypoints,se=re.bendpointIndex;if(ae)return ae;var ce=[de[se-1],de[se+1]];return re.snapPoints=ae={horizontal:[],vertical:[]},y(ce,function(be){be&&(ae.horizontal.push((be=be.original||be).y),ae.vertical.push(be.x))}),ae}(m),S=m.hover,N=S&&a(S,c),j=c.x,G=c.y;if(b){var Z=j-(u=s(N?b.vertical.concat([N.x]):b.vertical,j)),J=G-(h=s(N?b.horizontal.concat([N.y]):b.horizontal,G));we(c,{dx:c.dx-Z,dy:c.dy-J,x:c.x-Z,y:c.y-J}),(Z||-1!==b.vertical.indexOf(j))&&mr(c,"x",u),(J||-1!==b.horizontal.indexOf(G))&&mr(c,"y",h)}})}pw.$inject=["eventBus"];var _S={__depends__:[bl,_l],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",lw],bendpointMove:["type",Wy],bendpointMovePreview:["type",Gy],connectionSegmentMove:["type",Ky],bendpointSnapping:["type",pw]};function tg(r,s,a,c){function u(h,m){return c.allowed("connection.create",{source:h,target:m})}r.on("connect.hover",function(h){var m,b=h.context,S=b.start,N=h.hover;if(b.hover=N,!F(m=b.canExecute=u(S,N))){if(!1!==m)return b.source=S,void(b.target=N);F(m=b.canExecute=u(N,S))||!1!==m&&(b.source=N,b.target=S)}}),r.on(["connect.out","connect.cleanup"],function(h){var m=h.context;m.hover=null,m.source=null,m.target=null,m.canExecute=!1}),r.on("connect.end",function(h){var m=h.context,b=m.canExecute,S=m.connectionStart,N={x:h.x,y:h.y},j=m.source,G=m.target;if(!b)return!1;var Z=null,J={connectionStart:Zf(m)?N:S,connectionEnd:Zf(m)?S:N};D(b)&&(Z=b),m.connection=a.connect(j,G,Z,J)}),this.start=function(h,m,b,S){D(b)||(S=b,b=Jt(m)),s.init(h,"connect",{autoActivate:S,data:{shape:m,context:{start:m,connectionStart:b}}})}}function Zf(r){var s=r.hover,a=r.source;return s&&a&&s===a&&a!==r.target}tg.$inject=["eventBus","dragging","modeling","rules"];var Qy="connect-ok",Wd="connect-not-ok";function Qf(r,s,a){var c=r.get("connectionPreview",!1);c&&s.on("connect.move",function(u){var h=u.context,m=h.canExecute,b=h.hover,S=h.source,N=h.start,G=h.target,Z=h.connectionStart||h.startPosition,J=h.connectionEnd||{x:u.x,y:u.y},re=Z,ae=J;Zf(h)&&(re=J,ae=Z),c.drawPreview(h,m,{source:S||N,target:G||b,connectionStart:re,connectionEnd:ae})}),s.on("connect.hover",900,function(u){var b=u.context.canExecute;null!==b&&a.addMarker(u.hover,b?Qy:Wd)}),s.on(["connect.out","connect.cleanup"],1100,function(u){var h=u.hover;h&&(a.removeMarker(h,Qy),a.removeMarker(h,Wd))}),c&&s.on("connect.cleanup",function(u){c.cleanUp(u.context)})}Qf.$inject=["injector","eventBus","canvas"];var ng={__depends__:[hs,_l,bl],__init__:["connectPreview"],connect:["type",tg],connectPreview:["type",Qf]};function Pa(r,s,a,c){this._canvas=s,this._graphicsFactory=a,this._elementFactory=c,this._connectionDocking=r.get("connectionDocking",!1),this._layouter=r.get("layouter",!1)}Pa.$inject=["injector","canvas","graphicsFactory","elementFactory"],Pa.prototype.drawPreview=function(r,s,a){var c,u,h,m=r.connectionPreviewGfx,b=r.getConnection,S=(a=a||{}).source,N=a.target,j=a.waypoints,G=a.connectionStart,Z=a.connectionEnd,J=a.noLayout,re=a.noCropping,ae=a.noNoop,de=this;m||(m=r.connectionPreviewGfx=this.createConnectionPreviewGfx()),Ys(m),b||(b=r.getConnection=(u=function(se,ce,be){return de.getConnection(se,ce,be)},h={},function(se){var ce=JSON.stringify(se),be=h[ce];return be||(be=h[ce]=u.apply(null,arguments)),be})),s&&(c=b(s,S,N)),c?(c.waypoints=j||[],this._layouter&&!J&&(c.waypoints=this._layouter.layoutConnection(c,{source:S,target:N,connectionStart:G,connectionEnd:Z,waypoints:a.waypoints||c.waypoints})),c.waypoints&&c.waypoints.length||(c.waypoints=[S?Jt(S):G,N?Jt(N):Z]),this._connectionDocking&&(S||N)&&!re&&(c.waypoints=this._connectionDocking.getCroppedWaypoints(c,S,N)),this._graphicsFactory.drawConnection(m,c)):!ae&&this.drawNoopPreview(m,a)},Pa.prototype.drawNoopPreview=function(r,s){var a=s.source,c=s.target,u=s.connectionStart||Jt(a),h=s.connectionEnd||Jt(c),m=this.cropWaypoints(u,h,a,c);Qt(r,this.createNoopConnection(m[0],m[1]))},Pa.prototype.cropWaypoints=function(r,s,a,c){var u=this._graphicsFactory,h=a&&u.getShapePath(a),m=c&&u.getShapePath(c),b=u.getConnectionPath({waypoints:[r,s]});return[r=a&&Yu(h,b,!0)||r,s=c&&Yu(m,b,!1)||s]},Pa.prototype.cleanUp=function(r){r&&r.connectionPreviewGfx&&Ni(r.connectionPreviewGfx)},Pa.prototype.getConnection=function(r){var a,s=D(a=r)?a:{};return this._elementFactory.createConnection(s)},Pa.prototype.createConnectionPreviewGfx=function(){var r=Gt("g");return Ot(r,{pointerEvents:"none"}),Cn(r).add("djs-connection-preview"),Qt(this._canvas.getActiveLayer(),r),r},Pa.prototype.createNoopConnection=function(r,s){return Xa([r,s],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};var ig={__init__:["connectionPreview"],connectionPreview:["type",Pa]},mw=Math.min,gw=Math.max;function qy(r){r.preventDefault()}function qf(r){r.stopPropagation()}function Ra(r){this.container=r.container,this.parent=En('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=oi("[contenteditable]",this.parent),this.keyHandler=r.keyHandler||function(){},this.resizeHandler=r.resizeHandler||function(){},this.autoResize=We(this.autoResize,this),this.handlePaste=We(this.handlePaste,this)}function aa(r,s){this._eventBus=r,this._providers=[],this._textbox=new Ra({container:s.getContainer(),keyHandler:We(this._handleKey,this),resizeHandler:We(this._handleResize,this)})}Ra.prototype.create=function(r,s,a,c){var u=this.parent,h=this.content,m=this.container;c=this.options=c||{};var b=Oe(s=this.style=s||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);we(u.style,{width:r.width+"px",height:r.height+"px",maxWidth:r.maxWidth+"px",maxHeight:r.maxHeight+"px",minWidth:r.minWidth+"px",minHeight:r.minHeight+"px",left:r.x+"px",top:r.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},b);var S=Oe(s,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return we(h.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},S),c.centerVertically&&we(h.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},S),h.innerText=a,Dt.bind(h,"keydown",this.keyHandler),Dt.bind(h,"mousedown",qf),Dt.bind(h,"paste",this.handlePaste),c.autoResize&&Dt.bind(h,"input",this.autoResize),c.resizable&&this.resizable(s),m.appendChild(u),this.setSelection(h.lastChild,h.lastChild&&h.lastChild.length),u},Ra.prototype.handlePaste=function(r){var s,a=this.options,c=this.style;if(r.preventDefault(),s=r.clipboardData?r.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(s),a.autoResize){var u=this.autoResize(c);u&&this.resizeHandler(u)}},Ra.prototype.insertText=function(r){r=r.replace(/\r\n|\r|\n/g,"\n"),document.execCommand("insertText",!1,r)||this._insertTextIE(r)},Ra.prototype._insertTextIE=function(r){var a,c,u=this.getSelection(),h=u.startContainer,m=u.endContainer,b=u.startOffset,S=u.endOffset,N=u.commonAncestorContainer,j=[].slice.call(N.childNodes);if(N.nodeType===Node.TEXT_NODE){var G=h.textContent;h.textContent=G.substring(0,b)+r+G.substring(S),a=h,c=b+r.length}else if(h===this.content&&m===this.content){var Z=document.createTextNode(r);this.content.insertBefore(Z,j[b]),a=Z,c=Z.textContent.length}else{var J=j.indexOf(h),re=j.indexOf(m);j.forEach(function(ae,de){de===J?ae.textContent=h.textContent.substring(0,b)+r+m.textContent.substring(S):de>J&&de<=re&&Do(ae)}),a=h,c=b+r.length}a&&void 0!==c&&setTimeout(function(){self.setSelection(a,c)})},Ra.prototype.autoResize=function(){var r=this.parent,s=this.content,a=parseInt(this.style.fontSize)||12;if(s.scrollHeight>r.offsetHeight||s.scrollHeight<r.offsetHeight-a){var c=r.getBoundingClientRect(),u=s.scrollHeight;r.style.height=u+"px",this.resizeHandler({width:c.width,height:c.height,dx:0,dy:u-c.height})}},Ra.prototype.resizable=function(){var r=this,s=this.parent,a=this.resizeHandle,c=parseInt(this.style.minWidth)||0,u=parseInt(this.style.minHeight)||0,h=parseInt(this.style.maxWidth)||1/0,m=parseInt(this.style.maxHeight)||1/0;if(!a){var b,S,N,j;a=this.resizeHandle=En('<div class="djs-direct-editing-resize-handle"></div>');var G=function(J){qy(J),qf(J);var re=mw(gw(N+J.clientX-b,c),h),ae=mw(gw(j+J.clientY-S,u),m);s.style.width=re+"px",s.style.height=ae+"px",r.resizeHandler({width:N,height:j,dx:J.clientX-b,dy:J.clientY-S})},Z=function(J){qy(J),qf(J),Dt.unbind(document,"mousemove",G,!1),Dt.unbind(document,"mouseup",Z,!1)};Dt.bind(a,"mousedown",function(J){qy(J),qf(J),b=J.clientX,S=J.clientY;var re=s.getBoundingClientRect();N=re.width,j=re.height,Dt.bind(document,"mousemove",G),Dt.bind(document,"mouseup",Z)})}we(a.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),s.appendChild(a)},Ra.prototype.destroy=function(){var r=this.parent,s=this.content,a=this.resizeHandle;s.innerText="",r.removeAttribute("style"),s.removeAttribute("style"),Dt.unbind(s,"keydown",this.keyHandler),Dt.unbind(s,"mousedown",qf),Dt.unbind(s,"input",this.autoResize),Dt.unbind(s,"paste",this.handlePaste),a&&(a.removeAttribute("style"),Do(a)),Do(r)},Ra.prototype.getValue=function(){return this.content.innerText.trim()},Ra.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},Ra.prototype.setSelection=function(r,s){var a=document.createRange();null===r?a.selectNodeContents(this.content):(a.setStart(r,s),a.setEnd(r,s));var c=window.getSelection();c.removeAllRanges(),c.addRange(a)},aa.$inject=["eventBus","canvas"],aa.prototype.registerProvider=function(r){this._providers.push(r)},aa.prototype.isActive=function(r){return!(!this._active||r&&this._active.element!==r)},aa.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},aa.prototype._fire=function(r,s){this._eventBus.fire("directEditing."+r,s||{active:this._active})},aa.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},aa.prototype.complete=function(){var r=this._active;if(r){var s,a=r.context.bounds,c=this.$textbox.getBoundingClientRect(),u=this.getValue();u===r.context.text&&c.height===a.height&&c.width===a.width||(s=this._textbox.container.getBoundingClientRect(),r.provider.update(r.element,u,r.context.text,{x:c.left-s.left,y:c.top-s.top,width:c.width,height:c.height})),this._fire("complete"),this.close()}},aa.prototype.getValue=function(){return this._textbox.getValue()},aa.prototype._handleKey=function(r){r.stopPropagation();var s=r.keyCode||r.charCode;return 27===s?(r.preventDefault(),this.cancel()):13!==s||r.shiftKey?void 0:(r.preventDefault(),this.complete())},aa.prototype._handleResize=function(r){this._fire("resize",r)},aa.prototype.activate=function(r){var s;this.isActive()&&this.cancel();var a=_(this._providers,function(c){return(s=c.activate(r))?c:null});return s&&(this.$textbox=this._textbox.create(s.bounds,s.style,s.text,s.options),this._active={element:r,context:s,provider:a},s.options&&s.options.resizable&&(this.resizable=!0),this._fire("activate")),!!s};var Jy={__depends__:[Xe],__init__:["directEditing"],directEditing:["type",aa]},eb=["marker-start","marker-mid","marker-end"],vw=["circle","ellipse","line","path","polygon","polyline","path","rect"];function ec(r,s,a,c){this._elementRegistry=r,this._canvas=a,this._styles=c,this._clonedMarkers={};var u=this;s.on("drag.cleanup",function(){y(u._clonedMarkers,function(h){Ni(h)}),u._clonedMarkers={}})}ec.$inject=["elementRegistry","eventBus","canvas","styles"],ec.prototype.getGfx=function(r){return this._elementRegistry.getGraphics(r)},ec.prototype.addDragger=function(r,s,a){var c=vd(a=a||this.getGfx(r)),u=a.getBoundingClientRect();return this._cloneMarkers(Ed(c)),Ot(c,this._styles.cls("djs-dragger",[],{x:u.top,y:u.left})),Qt(s,c),c},ec.prototype.addFrame=function(r,s){var a=Gt("rect",{class:"djs-resize-overlay",width:r.width,height:r.height,x:r.x,y:r.y});return Qt(s,a),a},ec.prototype._cloneMarkers=function(r){var s=this;if(r.childNodes)for(var a=0;a<r.childNodes.length;a++)s._cloneMarkers(r.childNodes[a]);-1!==vw.indexOf(r.nodeName)&&eb.forEach(function(c){if(Ot(r,c)){var u=(h=r,m=c,b=s._canvas.getContainer(),oi("marker#"+Ot(h,m).match(/url\(['"]?#([^'"]*)['"]?\)/)[1],b||document));s._cloneMarker(r,u,c)}var h,m,b})},ec.prototype._cloneMarker=function(r,s,a){var c=s.id,u=this._clonedMarkers[c];if(!u){var h=c+"-clone";(u=vd(s)).id=h,Cn(u).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[c]=u;var m=oi("defs",this._canvas._svg);m||(m=Gt("defs"),Qt(this._canvas._svg,m)),Qt(m,u)}Ot(r,a,"url(#"+this._clonedMarkers[c].id+")")};var Jf={__init__:["previewSupport"],previewSupport:["type",ec]},wS="drop-ok",rg="drop-not-ok",tb="attach-ok",Uc="new-parent";function ib(r,s,a,c,u){function h(b,S){[tb,wS,rg,Uc].forEach(function(N){N===S?r.addMarker(b,N):r.removeMarker(b,N)})}function m(){var b=s.context();b&&"create"===b.prefix&&s.cancel()}a.on(["create.move","create.hover"],function(b){var S=b.context,N=S.elements,j=b.hover,G=S.source,Z=S.hints||{};if(!j)return S.canExecute=!1,void(S.target=null);yw(b);var re=S.canExecute=j&&function(ae,de,se,ce,be){if(!de)return!1;var ve=_(ae=p(ae,function(Ke){var $t=Ke.labelTarget;return!(Ke.parent||Zn(Ke)&&-1!==ae.indexOf($t))}),function(Ke){return!ji(Ke)}),Ie=!1,Ue=!1,ze=!1;xS(ae)&&(Ie=u.allowed("shape.attach",{position:se,shape:ve,target:de})),Ie||(ze=xS(ae)?u.allowed("shape.create",{position:se,shape:ve,source:ce,target:de}):u.allowed("elements.create",{elements:ae,position:se,target:de}));var Ve=be.connectionTarget;return ze||Ie?(ve&&ce&&(Ue=u.allowed("connection.create",{source:Ve===ce?ve:ce,target:Ve===ce?ce:ve,hints:{targetParent:de,targetAttach:Ie}})),{attach:Ie,connect:Ue}):(null===ze||null===Ie)&&null}(N,j,{x:b.x,y:b.y},G,Z);j&&null!==re&&(S.target=j,h(j,re&&re.attach?tb:re?Uc:rg))}),a.on(["create.end","create.out","create.cleanup"],function(b){var S=b.hover;S&&h(S,null)}),a.on("create.end",function(b){var S=b.context,N=S.source,j=S.shape,G=S.elements,Z=S.target,J=S.canExecute,re=J&&J.attach,ae=J&&J.connect,de=S.hints||{};if(!1===J||!Z)return!1;yw(b);var se={x:b.x,y:b.y};j=ae?c.appendShape(N,j,se,Z,{attach:re,connection:!0===ae?{}:ae,connectionTarget:de.connectionTarget}):_(G=c.createElements(G,se,Z,we({},de,{attach:re})),function(ce){return!ji(ce)}),we(S,{elements:G,shape:j}),we(b,{elements:G,shape:j})}),a.on("create.init",function(){a.on("elements.changed",m),a.once(["create.cancel","create.end"],2e3,function(){a.off("elements.changed",m)})}),this.start=function(b,S,N){T(S)||(S=[S]);var j=_(S,function(Z){return!ji(Z)});if(j){N=we({elements:S,hints:{},shape:j},N||{}),y(S,function(Z){C(Z.x)||(Z.x=0),C(Z.y)||(Z.y=0)});var G=qt(p(S,function(Z){return!Z.hidden}));y(S,function(Z){ji(Z)&&(Z.waypoints=L(Z.waypoints,function(J){return{x:J.x-G.x-G.width/2,y:J.y-G.y-G.height/2}})),we(Z,{x:Z.x-G.x-G.width/2,y:Z.y-G.y-G.height/2})}),s.init(b,"create",{cursor:"grabbing",autoActivate:!0,data:{shape:j,elements:S,context:N}})}}}function yw(r){var s=r.context.createConstraints;s&&(s.left&&(r.x=Math.max(r.x,s.left)),s.right&&(r.x=Math.min(r.x,s.right)),s.top&&(r.y=Math.max(r.y,s.top)),s.bottom&&(r.y=Math.min(r.y,s.bottom)))}function xS(r){return r&&1===r.length&&!ji(r[0])}function ep(r,s,a,c,u){s.on("create.move",750,function(h){var m=h.hover,b=h.context,N=b.dragGroup;N||(N=b.dragGroup=function(j){var G=Gt("g");Ot(G,u.cls("djs-drag-group",["no-events"]));var Z=Gt("g");return j.forEach(function(J){var re;J.hidden||(J.waypoints?(re=a._createContainer("connection",Z),a.drawConnection(Ed(re),J)):(re=a._createContainer("shape",Z),a.drawShape(Ed(re),J),Lo(re,J.x,J.y)),c.addDragger(J,G,re))}),G}(b.elements)),m?(N.parentNode||Qt(r.getActiveLayer(),N),Lo(N,h.x,h.y)):Ni(N)}),s.on("create.cleanup",function(h){var m=h.context.dragGroup;m&&Ni(m)})}ib.$inject=["canvas","dragging","eventBus","modeling","rules"],ep.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];var og={__depends__:[bl,Jf,_l,hs],__init__:["create","createPreview"],create:["type",ib],createPreview:["type",ep]};function Mh(){}Mh.prototype.get=function(){return this._data},Mh.prototype.set=function(r){this._data=r},Mh.prototype.clear=function(){var r=this._data;return delete this._data,r},Mh.prototype.isEmpty=function(){return!this._data};var bw={clipboard:["type",Mh]};function sg(r){var s=this;function a(c){s._lastMoveEvent=c}this._lastMoveEvent=null,r.on("canvas.init",function(c){(s._svg=c.svg).addEventListener("mousemove",a)}),r.on("canvas.destroy",function(){s._lastMouseEvent=null,s._svg.removeEventListener("mousemove",a)})}sg.$inject=["eventBus"],sg.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||((a=document.createEvent("MouseEvent")).initMouseEvent&&a.initMouseEvent("mousemove",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a);var a};var Gd={__init__:["mouse"],mouse:["type",sg]};function la(r,s,a,c,u,h,m,b){this._canvas=r,this._create=s,this._clipboard=a,this._elementFactory=c,this._eventBus=u,this._modeling=h,this._mouse=m,this._rules=b,u.on("copyPaste.copyElement",function(S){var N=S.descriptor,j=S.element,G=S.elements;N.priority=1,N.id=j.id;var Z=_(G,function(J){return J===j.parent});Z&&(N.parent=j.parent.id),!!j.host&&(N.priority=2,N.host=j.host.id),ji(j)&&(N.priority=3,N.source=j.source.id,N.target=j.target.id,N.waypoints=L(j.waypoints,function(re){return(re=tp(re)).original&&(re.original=tp(re.original)),re})),Zn(j)&&(N.priority=4,N.labelTarget=j.labelTarget.id),y(["x","y","width","height"],function(J){C(j[J])&&(N[J]=j[J])}),N.hidden=j.hidden,N.collapsed=j.collapsed}),u.on("copyPaste.pasteElements",function(S){we(S.hints,{createElementsBehavior:!1})})}function tp(r){return we({},r)}la.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],la.prototype.copy=function(r){var s,a;return T(r)||(r=r?[r]:[]),a=!1===(s=this._eventBus.fire("copyPaste.canCopyElements",{elements:r}))?{}:this.createTree(T(s)?s:r),this._clipboard.set(a),this._eventBus.fire("copyPaste.elementsCopied",{elements:r,tree:a}),a},la.prototype.paste=function(r){var s=this._clipboard.get();if(!this._clipboard.isEmpty()){var a=r&&r.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:a});var c=this._createElements(s);if(r&&r.element&&r.point)return this._paste(c,r.element,r.point,a);this._create.start(this._mouse.getLastMoveEvent(),c,{hints:a||{}})}},la.prototype._paste=function(r,s,a,c){y(r,function(h){C(h.x)||(h.x=0),C(h.y)||(h.y=0)});var u=qt(r);return y(r,function(h){ji(h)&&(h.waypoints=L(h.waypoints,function(m){return{x:m.x-u.x-u.width/2,y:m.y-u.y-u.height/2}})),we(h,{x:h.x-u.x-u.width/2,y:h.y-u.y-u.height/2})}),this._modeling.createElements(r,a,s,we({},c))},la.prototype._createElements=function(r){var s=this,a=this._eventBus,c={},u=[];return y(r,function(h,m){y(h=fe(h,"priority"),function(b){var S,N=we({},Le(b,["priority"]));return c[b.parent]?N.parent=c[b.parent]:delete N.parent,a.fire("copyPaste.pasteElement",{cache:c,descriptor:N}),ji(N)?(N.source=c[b.source],N.target=c[b.target],S=c[b.id]=s.createConnection(N),void u.push(S)):Zn(N)?(N.labelTarget=c[N.labelTarget],S=c[b.id]=s.createLabel(N),void u.push(S)):(N.host&&(N.host=c[N.host]),S=c[b.id]=s.createShape(N),void u.push(S))})}),u},la.prototype.createConnection=function(r){return this._elementFactory.createConnection(Le(r,["id"]))},la.prototype.createLabel=function(r){return this._elementFactory.createLabel(Le(r,["id"]))},la.prototype.createShape=function(r){return this._elementFactory.createShape(Le(r,["id"]))},la.prototype.hasRelations=function(r,s){var a,c;return!(ji(r)&&(a=_(s,Ce({id:r.source.id})),c=_(s,Ce({id:r.target.id})),!a||!c)||Zn(r)&&!_(s,Ce({id:r.labelTarget.id})))},la.prototype.createTree=function(r){var s=this._rules,a=this,c={},u=[];function h(m,b){var j,G,S=_(u,function(N){return m===N.element});S?S.depth<b&&(-1!==(G=(j=u).indexOf(S))&&j.splice(G,1),(u=j).push({element:S.element,depth:b})):u.push({element:m,depth:b})}return Io(Gn(r),function(m,b,S){if(!Zn(m)){y(m.labels,function(j){h(j,S)}),y([m.attachers,m.incoming,m.outgoing],function(j){j&&j.length&&y(j,function(G){y(G.labels,function(Z){h(Z,S)}),h(G,S)})}),h(m,S);var N=[];return m.children&&(N=m.children.slice()),a._eventBus.fire("copyPaste.createTree",{element:m,children:N}),N}}),r=L(u,function(m){return m.element}),u=fe(u=L(u,function(m){return m.descriptor={},a._eventBus.fire("copyPaste.copyElement",{descriptor:m.descriptor,element:m.element,elements:r}),m}),function(m){return m.descriptor.priority}),r=L(u,function(m){return m.element}),y(u,function(m){var b=m.depth;a.hasRelations(m.element,r)&&s.allowed("element.copy",{element:m.element,elements:r})?(c[b]||(c[b]=[]),c[b].push(m.descriptor)):function Th(r,s){var a=s.indexOf(r);return-1===a?s:s.splice(a,1)}(m.element,r)}),c};var _w={__depends__:[bw,og,Gd,_l],__init__:["copyPaste"],copyPaste:["type",la]};function np(r,s,a){T(a)||(a=[a]),y(a,function(c){B(r[c])||(s[c]=r[c])})}function ip(r,s,a){function c(h,m){var b=r.create(h.$type);return a.copyElement(h,b,null,m)}s.on("copyPaste.copyElement",750,function(h){var m=h.descriptor,b=h.element,S=_t(b);if(Zn(b))return m;var N=m.businessObject=c(S,!0),j=m.di=c(qn(b),!0);j.bpmnElement=N,np(N,m,"name"),np(j,m,"isExpanded"),S.default&&(m.default=S.default.id)});var u="-bpmn-js-refs";s.on("copyPaste.pasteElement",function(h){var m=h.cache,b=h.descriptor,S=b.businessObject,N=b.di;if(Zn(b))return b.businessObject=_t(m[b.labelTarget]),void(b.di=qn(m[b.labelTarget]));S=b.businessObject=c(S),(N=b.di=c(N)).bpmnElement=S,np(b,S,["isExpanded","name"]),b.type=S.$type}),s.on("copyPaste.copyElement",750,function(h){var m=h.descriptor,b=h.element;if(me(b,"bpmn:Participant")){var S=_t(b);S.processRef&&(m.processRef=c(S.processRef,!0))}}),s.on("copyPaste.pasteElement",function(h){var m=h.descriptor,b=m.processRef;b&&(m.processRef=c(b))}),s.on("copyPaste.pasteElement",750,function(h){var b,m=h.cache;!function(b,S){b[u]=S}(m,function(b,S,N){var j=_t(b);return b.default&&(N[b.default]={element:j,property:"default"}),b.host&&(_t(b).attachedToRef=_t(S[b.host])),Le(N,v(N,function(G,Z,J){return J===b.id&&(Z.element[Z.property]=j,G.push(b.id)),G},[]))}(h.descriptor,m,(b=m,b[u]=b[u]||{})))})}ip.$inject=["bpmnFactory","eventBus","moddleCopy"];var ww=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"];function Yd(r,s,a){this._bpmnFactory=s,this._eventBus=r,this._moddle=a,r.on("moddleCopy.canCopyProperties",function(c){var u=c.propertyNames;if(u&&u.length)return fe(u,function(h){return"extensionElements"===h})}),r.on("moddleCopy.canCopyProperty",function(c){var u=c.parent,h=D(u)&&u.$descriptor,m=c.propertyName;return(!m||-1===ww.indexOf(m))&&!(m&&h&&!_(h.properties,Ce({name:m})))&&void 0}),r.on("moddleCopy.canSetCopiedProperty",function(c){var u,m=c.property;if("bpmn:ExtensionElements",(u=m)&&E(u.$instanceOf)&&u.$instanceOf("bpmn:ExtensionElements")&&(!m.values||!m.values.length))return!1})}function Kd(r,s){return v(r.properties,function(a,c){return s&&c.default?a:a.concat(c.name)},[])}Yd.$inject=["eventBus","bpmnFactory","moddle"],Yd.prototype.copyElement=function(r,s,a,c=!1){var u=this;a&&!T(a)&&(a=[a]),a=a||Kd(r.$descriptor);var h=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:a,sourceElement:r,targetElement:s,clone:c});return!1===h||(T(h)&&(a=h),y(a,function(m){var b;f(r,m)&&(b=r.get(m));var S=u.copyProperty(b,s,m,c);U(S)&&!1!==u._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:s,property:S,propertyName:m})&&s.set(m,S)})),s},Yd.prototype.copyProperty=function(r,s,a,c=!1){var u=this,h=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:s,property:r,propertyName:a,clone:c});if(!1!==h){if(h)return D(h)&&h.$type&&!h.$parent&&(h.$parent=s),h;var m=this._moddle.getPropertyDescriptor(s,a);if(!m.isReference)return m.isId?r&&this._copyId(r,s,c):T(r)?v(r,function(b,S){return(h=u.copyProperty(S,s,a,c))?b.concat(h):b},[]):D(r)&&r.$type?this._moddle.getElementDescriptor(r).isGeneric?void 0:((h=u._bpmnFactory.create(r.$type)).$parent=s,h=u.copyElement(r,h,null,c)):r}},Yd.prototype._copyId=function(r,s,a=!1){return a?r:this._moddle.ids.assigned(r)?void 0:(this._moddle.ids.claim(r,s),r)};var xw={__depends__:[_w],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",ip],moddleCopy:["type",Yd]},rb=Math.round;function ob(r,s){this._modeling=r,this._eventBus=s}function Ew(r,s){s.on("replace.end",500,function(a){const{newElement:c,hints:u={}}=a;!1!==u.select&&r.select(c)})}ob.$inject=["modeling","eventBus"],ob.prototype.replaceElement=function(r,s,a){if(r.waypoints)return null;var c=this._modeling,u=this._eventBus;u.fire("replace.start",{element:r,attrs:s,hints:a});var h=s.width||r.width,m=s.height||r.height,S=s.y||r.y,N=rb((s.x||r.x)+h/2),j=rb(S+m/2),G=c.replaceShape(r,we({},s,{x:N,y:j,width:h,height:m}),a);return u.fire("replace.end",{element:r,newElement:G,hints:a}),G},Ew.$inject=["selection","eventBus"];var ES={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",Ew],replace:["type",ob]},Cw=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function sb(r,s,a,c,u,h){this.replaceElement=function(m,b,S){S=S||{};var de,se,ce,N=b.type,j=m.businessObject;if(Xd(j)&&"bpmn:SubProcess"===N&&(se=b,(ce=(de=m)&&f(de,"collapsed")?de.collapsed:!Rn(de))!==(se&&(f(se,"collapsed")||f(se,"isExpanded"))?f(se,"collapsed")?se.collapsed:!se.isExpanded:ce)))return c.toggleCollapse(m),m;var G=r.create(N),Z={type:N,businessObject:G,di:{}};!function(de,se,ce){T(ce)||(ce=[ce]),y(ce,function(be){B(de[be])||(se[be]=de[be])})}(m.di,Z.di,["fill","stroke","background-color","border-color","color"]);var J=function(de,se){return de.filter(function(ce){return se.includes(ce)})}(Kd(j.$descriptor),Kd(G.$descriptor,!0));we(G,Oe(b,Cw));var re=p(J,function(de){return"eventDefinitions"===de?ag(m,b.eventDefinitionType):"loopCharacteristics"===de?!Bo(G):!f(G,de)&&("processRef"!==de||!1!==b.isExpanded)&&"triggeredByEvent"!==de});if(G=a.copyElement(j,G,re),b.eventDefinitionType&&(ag(G,b.eventDefinitionType)||(Z.eventDefinitionType=b.eventDefinitionType,Z.eventDefinitionAttrs=b.eventDefinitionAttrs)),me(j,"bpmn:Activity")){if(Xd(j))Z.isExpanded=Rn(m);else if(b&&f(b,"isExpanded")){Z.isExpanded=b.isExpanded;var ae=s.getDefaultSize(G,{isExpanded:Z.isExpanded});Z.width=ae.width,Z.height=ae.height,Z.x=m.x-(Z.width-m.width)/2,Z.y=m.y-(Z.height-m.height)/2}Rn(m)&&!me(j,"bpmn:Task")&&Z.isExpanded&&(Z.width=m.width,Z.height=m.height)}return Xd(j)&&!Xd(G)&&(S.moveChildren=!1),me(j,"bpmn:Participant")&&(!0===b.isExpanded?G.processRef=r.create("bpmn:Process"):S.moveChildren=!1,Z.width=m.width,Z.height=s.getDefaultSize(Z).height),h.allowed("shape.resize",{shape:G})||(Z.height=s.getDefaultSize(Z).height,Z.width=s.getDefaultSize(Z).width),G.name=j.name,jn(j,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&jn(G,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(G.default=j.default),b.host&&!me(j,"bpmn:BoundaryEvent")&&me(G,"bpmn:BoundaryEvent")&&(Z.host=b.host),"bpmn:DataStoreReference"!==Z.type&&"bpmn:DataObjectReference"!==Z.type||(Z.x=m.x+(m.width-Z.width)/2),u.replaceElement(m,Z,S)}}function Xd(r){return me(r,"bpmn:SubProcess")}function ag(r,s){var a=_t(r);return s&&a.get("eventDefinitions").some(function(c){return me(c,s)})}sb.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];var Zd={__depends__:[xw,ES,hs],bpmnReplace:["type",sb]};function Sw(r){return function(s){var a=s.target,c=_t(r),u=c.eventDefinitions&&c.eventDefinitions[0],h=c.$type===a.type,m=(u&&u.$type)===a.eventDefinitionType,b=!!a.triggeredByEvent==!!c.triggeredByEvent,S=void 0===a.isExpanded||a.isExpanded===Rn(r);return!(h&&m&&b&&S)}}var CS=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],I1=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],SS=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Intermediate Catch Event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message Intermediate Throw Event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Intermediate Catch Event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Intermediate Throw Event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Intermediate Catch Event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link Intermediate Catch Event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link Intermediate Throw Event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation Intermediate Throw Event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal Intermediate Catch Event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal Intermediate Throw Event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],ab=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message End Event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation End Event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error End Event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel End Event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation End Event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal End Event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate End Event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],DS=[{label:"Exclusive Gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel Gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive Gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex Gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event based Gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],rp=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],op=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],lb=op,cb=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User Task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service Task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send Task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive Task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual Task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business Rule Task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script Task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call Activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub Process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],Dw=[{label:"Data Store Reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],Mw=[{label:"Data Object Reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],Qd=[{label:"Message Boundary Event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Boundary Event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Boundary Event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Boundary Event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error Boundary Event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel Boundary Event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal Boundary Event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation Boundary Event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],MS=[{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Error Start Event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Escalation Start Event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Compensation Start Event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],TS=[{label:"Sequence Flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default Flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional Flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],kS=[{label:"Expanded Pool",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(r){var s="Empty Pool";return r.children&&r.children.length&&(s+=" (removes content)"),s},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}];function ca(r,s,a,c,u,h,m){this._bpmnFactory=r,this._popupMenu=s,this._modeling=a,this._moddle=c,this._bpmnReplace=u,this._rules=h,this._translate=m,this._register()}ca.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate"],ca.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},ca.prototype.getPopupMenuEntries=function(r){var s=r.businessObject,a=this._rules,c=[];if(T(r)||!a.allowed("shape.replace",{element:r}))return{};var u=Sw(r);return me(s,"bpmn:DataObjectReference")?this._createEntries(r,Dw):me(s,"bpmn:DataStoreReference")&&!me(r.parent,"bpmn:Collaboration")?this._createEntries(r,Mw):me(s,"bpmn:StartEvent")&&!me(s.$parent,"bpmn:SubProcess")?(c=p(CS,u),this._createEntries(r,c)):me(s,"bpmn:Participant")?(c=p(kS,function(h){return Rn(r)!==h.target.isExpanded}),this._createEntries(r,c)):me(s,"bpmn:StartEvent")&&Bo(s.$parent)?(c=p(MS,function(h){var m=h.target,b=!1!==m.isInterrupting,S=_t(m).isInterrupting===b;return u(h)||!u(h)&&!S}),this._createEntries(r,c)):me(s,"bpmn:StartEvent")&&!Bo(s.$parent)&&me(s.$parent,"bpmn:SubProcess")?(c=p(I1,u),this._createEntries(r,c)):me(s,"bpmn:EndEvent")?(c=p(ab,function(h){return!("bpmn:CancelEventDefinition"==h.target.eventDefinitionType&&!me(s.$parent,"bpmn:Transaction"))&&u(h)}),this._createEntries(r,c)):me(s,"bpmn:BoundaryEvent")?(c=p(Qd,function(h){var m=h.target;if("bpmn:CancelEventDefinition"==m.eventDefinitionType&&!me(s.attachedToRef,"bpmn:Transaction"))return!1;var S=s.cancelActivity==(!1!==m.cancelActivity);return u(h)||!u(h)&&!S}),this._createEntries(r,c)):me(s,"bpmn:IntermediateCatchEvent")||me(s,"bpmn:IntermediateThrowEvent")?(c=p(SS,u),this._createEntries(r,c)):me(s,"bpmn:Gateway")?(c=p(DS,u),this._createEntries(r,c)):me(s,"bpmn:Transaction")?(c=p(op,u),this._createEntries(r,c)):Bo(s)&&Rn(r)?(c=p(lb,u),this._createEntries(r,c)):me(s,"bpmn:SubProcess")&&Rn(r)?(c=p(rp,u),this._createEntries(r,c)):me(s,"bpmn:AdHocSubProcess")&&!Rn(r)?(c=p(cb,function(h){var m=h.target,b="bpmn:SubProcess"===m.type,S=!0===m.isExpanded;return Sw(m)&&(!b||S)}),this._createEntries(r,c)):me(s,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(r,TS):me(s,"bpmn:FlowNode")?(c=p(cb,u),me(s,"bpmn:SubProcess")&&!Rn(r)&&(c=p(c,function(h){return"Sub Process (collapsed)"!==h.label})),this._createEntries(r,c)):{}},ca.prototype.getPopupMenuHeaderEntries=function(r){var s={};return me(r,"bpmn:Activity")&&!Bo(r)&&(s={...s,...this._getLoopCharacteristicsHeaderEntries(r)}),me(r,"bpmn:DataObjectReference")&&(s={...s,...this._getCollectionHeaderEntries(r)}),me(r,"bpmn:Participant")&&(s={...s,...this._getParticipantMultiplicityHeaderEntries(r)}),!me(r,"bpmn:SubProcess")||me(r,"bpmn:Transaction")||Bo(r)||(s={...s,...this._getAdHocHeaderEntries(r)}),s},ca.prototype._createEntries=function(r,s){var a={},c=this;return y(s,function(u){a[u.actionName]=c._createEntry(u,r)}),a},ca.prototype._createSequenceFlowEntries=function(r,s){var a=_t(r),c={},u=this._modeling,h=this._moddle,m=this;return y(s,function(b){switch(b.actionName){case"replace-with-default-flow":a.sourceRef.default!==a&&(me(a.sourceRef,"bpmn:ExclusiveGateway")||me(a.sourceRef,"bpmn:InclusiveGateway")||me(a.sourceRef,"bpmn:ComplexGateway")||me(a.sourceRef,"bpmn:Activity"))&&(c={...c,[b.actionName]:m._createEntry(b,r,function(){u.updateProperties(r.source,{default:a})})});break;case"replace-with-conditional-flow":!a.conditionExpression&&me(a.sourceRef,"bpmn:Activity")&&(c={...c,[b.actionName]:m._createEntry(b,r,function(){var S=h.create("bpmn:FormalExpression",{body:""});u.updateProperties(r,{conditionExpression:S})})});break;default:me(a.sourceRef,"bpmn:Activity")&&a.conditionExpression&&(c={...c,[b.actionName]:m._createEntry(b,r,function(){u.updateProperties(r,{conditionExpression:void 0})})}),(me(a.sourceRef,"bpmn:ExclusiveGateway")||me(a.sourceRef,"bpmn:InclusiveGateway")||me(a.sourceRef,"bpmn:ComplexGateway")||me(a.sourceRef,"bpmn:Activity"))&&a.sourceRef.default===a&&(c={...c,[b.actionName]:m._createEntry(b,r,function(){u.updateProperties(r.source,{default:void 0})})})}}),c},ca.prototype._createEntry=function(r,s,a){var c=this._translate,u=this._bpmnReplace.replaceElement,h=r.label;return h&&"function"==typeof h&&(h=h(s)),a=a||function(){return u(s,r.target)},{label:c(h),className:r.className,action:a}},ca.prototype._getLoopCharacteristicsHeaderEntries=function(r){var s=this,a=this._translate;function c(S,N){var j=_t(r).loopCharacteristics;N.active?j=void 0:(!B(N.options.isSequential)&&j&&me(j,N.options.loopCharacteristics)||(j=s._moddle.create(N.options.loopCharacteristics)),j.isSequential=N.options.isSequential),s._modeling.updateProperties(r,{loopCharacteristics:j})}var u,h,m,b=_t(r).loopCharacteristics;return b&&(u=b.isSequential,h=void 0===b.isSequential,m=void 0!==b.isSequential&&!b.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:a("Parallel Multi Instance"),active:m,action:c,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:a("Sequential Multi Instance"),active:u,action:c,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:a("Loop"),active:h,action:c,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}},ca.prototype._getCollectionHeaderEntries=function(r){var s=this,c=r.businessObject.dataObjectRef;if(!c)return{};var u=c.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Collection"),active:u,action:function(h,m){s._modeling.updateModdleProperties(r,c,{isCollection:!m.active})}}}},ca.prototype._getParticipantMultiplicityHeaderEntries=function(r){var s=this,a=this._bpmnFactory,u=r.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Participant Multiplicity"),active:!!u,action:function(h,m){var b;m.active||(b=a.create("bpmn:ParticipantMultiplicity")),s._modeling.updateProperties(r,{participantMultiplicity:b})}}}},ca.prototype._getAdHocHeaderEntries=function(r){var s=this._translate,a=me(_t(r),"bpmn:AdHocSubProcess"),c=this._bpmnReplace.replaceElement;return{"toggle-adhoc":{className:"bpmn-icon-ad-hoc-marker",title:s("Ad-hoc"),active:a,action:function(u,h){return c(r,a?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}}};var AS={__depends__:[Ly,Zd,bh],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",ca]},Ho=Math.max,zs=Math.min;function Tw(r,s){return{top:r.top-s.top,right:r.right-s.right,bottom:r.bottom-s.bottom,left:r.left-s.left}}function lg(r,s,a){var c=s[r],u=a.min&&a.min[r],h=a.max&&a.max[r];return C(u)&&(c=(/top|left/.test(r)?zs:Ho)(c,u)),C(h)&&(c=(/top|left/.test(r)?Ho:zs)(c,h)),c}function sp(r,s){return void 0!==r?r:20}function OS(r){return!r.waypoints&&"label"!==r.type}function kw(r,s){var a,c,u,h,m,b,S;if((a=void 0===r.length?p(r.children,OS):r).length)return c=qt(a),"object"==typeof(u=s)?(h=sp(u.left),m=sp(u.right),b=sp(u.top),S=sp(u.bottom)):h=m=b=S=sp(u),{x:c.x-h,y:c.y-b,width:c.width+h+m,height:c.height+b+S}}var cg=Math.abs,Aw=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"];function dg(r,s){return s=s||[],r.children.filter(function(a){me(a,"bpmn:Lane")&&(dg(a,s),s.push(a))}),s}function qd(r){return r.children.filter(function(s){return me(s,"bpmn:Lane")})}function Na(r){return Wf(r,Aw)||r}function Vs(r,s,a,c,u,h,m,b,S,N,j,G){r=r||{},c.registerProvider(this),this._contextPad=c,this._modeling=u,this._elementFactory=h,this._connect=m,this._create=b,this._popupMenu=S,this._canvas=N,this._rules=j,this._translate=G,!1!==r.autoPlace&&(this._autoPlace=s.get("autoPlace",!1)),a.on("create.end",250,function(Z){var J=Z.context.shape;if(z(Z)&&c.isOpen(J)){var re=c.getEntries(J);re.replace&&re.replace.action.click(Z,J)}})}function Ah(r,s,a){var c=r.$instanceOf(s),u=!1;return y(r.eventDefinitions||[],function(h){h.$type===a&&(u=!0)}),c&&u}Vs.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate"],Vs.prototype.getMultiElementContextPadEntries=function(r){var s=this._modeling,a={};return this._isDeleteAllowed(r)&&we(a,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Remove"),action:{click:function(c,u){s.removeElements(u.slice())}}}}),a},Vs.prototype._isDeleteAllowed=function(r){var s=this._rules.allowed("elements.delete",{elements:r});return T(s)?w(s,function(a){return-1!==s.indexOf(a)}):s},Vs.prototype.getContextPadEntries=function(r){var s=this._contextPad,a=this._modeling,c=this._elementFactory,u=this._connect,h=this._create,m=this._popupMenu,b=this._rules,S=this._autoPlace,N=this._translate,j={};if("label"===r.type)return j;var G=r.businessObject;function Z(se,ce){u.start(se,ce)}function J(se,ce,be,ve){function Ie(ze,Ve){var Ke=c.createShape(we({type:se},ve));h.start(ze,Ke,{source:Ve})}return"string"!=typeof be&&(ve=be,be=N("Append {type}",{type:se.replace(/^bpmn:/,"")})),{group:"model",className:ce,title:be,action:{dragstart:Ie,click:S?function(ze,Ve){var Ke=c.createShape(we({type:se},ve));S.append(Ve,Ke)}:Ie}}}function re(se){return function(ce,be){a.splitLane(be,se),s.open(be,!0)}}if(jn(G,["bpmn:Lane","bpmn:Participant"])&&Rn(r)){var ae=qd(r);we(j,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:N("Add Lane above"),action:{click:function(se,ce){a.addLane(ce,"top")}}}}),ae.length<2&&(r.height>=120&&we(j,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:N("Divide into two Lanes"),action:{click:re(2)}}}),r.height>=180&&we(j,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:N("Divide into three Lanes"),action:{click:re(3)}}})),we(j,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:N("Add Lane below"),action:{click:function(se,ce){a.addLane(ce,"bottom")}}}})}me(G,"bpmn:FlowNode")&&(me(G,"bpmn:EventBasedGateway")?we(j,{"append.receive-task":J("bpmn:ReceiveTask","bpmn-icon-receive-task",N("Append ReceiveTask")),"append.message-intermediate-event":J("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",N("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":J("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",N("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":J("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",N("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":J("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",N("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):Ah(G,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?we(j,{"append.compensation-activity":J("bpmn:Task","bpmn-icon-task",N("Append compensation activity"),{isForCompensation:!0})}):me(G,"bpmn:EndEvent")||G.isForCompensation||Ah(G,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||Bo(G)||we(j,{"append.end-event":J("bpmn:EndEvent","bpmn-icon-end-event-none",N("Append EndEvent")),"append.gateway":J("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",N("Append Gateway")),"append.append-task":J("bpmn:Task","bpmn-icon-task",N("Append Task")),"append.intermediate-event":J("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",N("Append Intermediate/Boundary Event"))})),m.isEmpty(r,"bpmn-replace")||we(j,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:N("Change type"),action:{click:function(se,ce){var Ie,be=we({x:(Ie=s.getPad(ce).html.getBoundingClientRect()).left,y:Ie.bottom+5},{cursor:{x:se.x,y:se.y}});m.open(ce,"bpmn-replace",be,{title:N("Change element"),width:300,search:!0})}}}}),me(G,"bpmn:SequenceFlow")&&we(j,{"append.text-annotation":J("bpmn:TextAnnotation","bpmn-icon-text-annotation")}),jn(G,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&we(j,{"append.text-annotation":J("bpmn:TextAnnotation","bpmn-icon-text-annotation"),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:N("Connect using "+(G.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:Z,dragstart:Z}}}),me(G,"bpmn:TextAnnotation")&&we(j,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:N("Connect using Association"),action:{click:Z,dragstart:Z}}}),jn(G,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&we(j,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:N("Connect using DataInputAssociation"),action:{click:Z,dragstart:Z}}}),me(G,"bpmn:Group")&&we(j,{"append.text-annotation":J("bpmn:TextAnnotation","bpmn-icon-text-annotation")});var de=b.allowed("elements.delete",{elements:[r]});return T(de)&&(de=de[0]===r),de&&we(j,{delete:{group:"edit",className:"bpmn-icon-trash",title:N("Remove"),action:{click:function(se,ce){a.removeElements([ce])}}}}),j};var Ow={__depends__:[Jy,Bf,hs,ng,og,AS],__init__:["contextPadProvider"],contextPadProvider:["type",Vs]},Iw={horizontal:["x","width"],vertical:["y","height"]};function wl(r,s){this._modeling=r,this._filters=[],this.registerFilter(function(a){var c=s.allowed("elements.distribute",{elements:a});return T(c)?c:c?a:[]})}wl.$inject=["modeling","rules"],wl.prototype.registerFilter=function(r){if("function"!=typeof r)throw new Error("the filter has to be a function");this._filters.push(r)},wl.prototype.trigger=function(r,s){var a,c,u=this._modeling;if(!(r.length<3||(this._setOrientation(s),c=this._filterElements(r),(a=this._createGroups(c)).length<=2)))return u.distributeElements(a,this._axis,this._dimension),a},wl.prototype._filterElements=function(r){var s=this._filters,a=this._axis,c=this._dimension,u=[].concat(r);return s.length?(y(s,function(h){u=h(u,a,c)}),u):r},wl.prototype._createGroups=function(r){var s=[],a=this,c=this._axis,u=this._dimension;if(!c)throw new Error('must have a defined "axis" and "dimension"');return y(fe(r,c),function(h,m){var S=a._findRange(h,c,u),N=s[s.length-1];N&&a._hasIntersection(N.range,S)?s[s.length-1].elements.push(h):s.push({range:S,elements:[h]})}),s},wl.prototype._setOrientation=function(r){var s=Iw[r];this._axis=s[0],this._dimension=s[1]},wl.prototype._hasIntersection=function(r,s){return Math.max(r.min,r.max)>=Math.min(s.min,s.max)&&Math.min(r.min,r.max)<=Math.max(s.min,s.max)},wl.prototype._findRange=function(r){var s=r[this._axis];return{min:s+5,max:s+r[this._dimension]-5}};var P1={__init__:["distributeElements"],distributeElements:["type",wl]};function db(r){oa.call(this,r)}db.$inject=["eventBus"],W(db,oa),db.prototype.init=function(){this.addRule("elements.distribute",function(r){var s=r.elements;return!((s=Gn(s=p(s,function(a){var c=jn(a,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(a.labelTarget||c)}))).length<3)&&s})};var IS_horizontal="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linejoin%3Around%22%20d%3D%22M450%20400V150h900v250%22%2F%3E%3Crect%20x%3D%22150%22%20y%3D%22450%22%20width%3D%22600%22%20height%3D%221200%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%221050%22%20y%3D%22450%22%20width%3D%22600%22%20height%3D%22800%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",IS_vertical="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linejoin%3Around%22%20d%3D%22M400%201350H150V450h250%22%2F%3E%3Crect%20x%3D%22450%22%20y%3D%22150%22%20width%3D%221200%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22450%22%20y%3D%221050%22%20width%3D%22800%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E";function Jd(r,s,a,c){this._distributeElements=s,this._translate=a,this._popupMenu=r,this._rules=c,r.registerProvider("align-elements",900,this)}Jd.$inject=["popupMenu","distributeElements","translate","rules"],Jd.prototype.getPopupMenuEntries=function(r){var s={};return this._isAllowed(r)&&we(s,this._getEntries(r)),s},Jd.prototype._isAllowed=function(r){return this._rules.allowed("elements.distribute",{elements:r})},Jd.prototype._getEntries=function(r){var s=this._distributeElements,a=this._translate,c=this._popupMenu;return{"distribute-elements-horizontal":{group:"distribute",title:a("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageUrl:IS_horizontal,action:function(u,h){s.trigger(r,"horizontal"),c.close()}},"distribute-elements-vertical":{group:"distribute",title:a("Distribute elements vertically"),imageUrl:IS_vertical,action:function(u,h){s.trigger(r,"vertical"),c.close()}}}};var ub={__depends__:[Ly,P1],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",db],distributeElementsMenuProvider:["type",Jd]},PS="is not a registered action";function Fa(r,s){this._actions={};var a=this;r.on("diagram.init",function(){a._registerDefaultActions(s),r.fire("editorActions.init",{editorActions:a})})}function hg(r,s){return new Error(r+" "+s)}Fa.$inject=["eventBus","injector"],Fa.prototype._registerDefaultActions=function(r){var s=r.get("commandStack",!1),a=r.get("modeling",!1),c=r.get("selection",!1),u=r.get("zoomScroll",!1),h=r.get("copyPaste",!1),m=r.get("canvas",!1),b=r.get("rules",!1),S=r.get("keyboardMove",!1),N=r.get("keyboardMoveSelection",!1);s&&(this.register("undo",function(){s.undo()}),this.register("redo",function(){s.redo()})),h&&c&&this.register("copy",function(){var j=c.get();if(j.length)return h.copy(j)}),h&&this.register("paste",function(){h.paste()}),u&&this.register("stepZoom",function(j){u.stepZoom(j.value)}),m&&this.register("zoom",function(j){m.zoom(j.value)}),a&&c&&b&&this.register("removeSelection",function(){var j=c.get();if(j.length){var G,Z=b.allowed("elements.delete",{elements:j});!1!==Z&&(G=T(Z)?Z:j).length&&a.removeElements(G.slice())}}),S&&this.register("moveCanvas",function(j){S.moveCanvas(j)}),N&&this.register("moveSelection",function(j){N.moveSelection(j.direction,j.accelerated)})},Fa.prototype.trigger=function(r,s){if(!this._actions[r])throw hg(r,PS);return this._actions[r](s)},Fa.prototype.register=function(r,s){var a=this;if("string"==typeof r)return this._registerAction(r,s);y(r,function(c,u){a._registerAction(u,c)})},Fa.prototype._registerAction=function(r,s){if(this.isRegistered(r))throw hg(r,"is already registered");this._actions[r]=s},Fa.prototype.unregister=function(r){if(!this.isRegistered(r))throw hg(r,PS);this._actions[r]=void 0},Fa.prototype.getActions=function(){return Object.keys(this._actions)},Fa.prototype.isRegistered=function(r){return!!this._actions[r]};var RS={__init__:["editorActions"],editorActions:["type",Fa]};function fg(r){r.invoke(Fa,this)}W(fg,Fa),fg.$inject=["injector"],fg.prototype._registerDefaultActions=function(r){Fa.prototype._registerDefaultActions.call(this,r);var s=r.get("canvas",!1),a=r.get("elementRegistry",!1),c=r.get("selection",!1),u=r.get("spaceTool",!1),h=r.get("lassoTool",!1),m=r.get("handTool",!1),b=r.get("globalConnect",!1),S=r.get("distributeElements",!1),N=r.get("alignElements",!1),j=r.get("directEditing",!1),G=r.get("searchPad",!1),Z=r.get("modeling",!1),J=r.get("contextPad",!1);s&&a&&c&&this._registerAction("selectElements",function(){var re=s.getRootElement(),ae=a.filter(function(de){return de!==re});return c.select(ae),ae}),u&&this._registerAction("spaceTool",function(){u.toggle()}),h&&this._registerAction("lassoTool",function(){h.toggle()}),m&&this._registerAction("handTool",function(){m.toggle()}),b&&this._registerAction("globalConnectTool",function(){b.toggle()}),c&&S&&this._registerAction("distributeElements",function(re){var ae=c.get();ae.length&&S.trigger(ae,re.type)}),c&&N&&this._registerAction("alignElements",function(re){var ae=c.get(),de=[],se=re.type;ae.length&&(de=p(ae,function(ce){return!me(ce,"bpmn:Lane")}),N.trigger(de,se))}),c&&Z&&this._registerAction("setColor",function(re){var ae=c.get();ae.length&&Z.setColor(ae,re)}),c&&j&&this._registerAction("directEditing",function(){var re=c.get();re.length&&j.activate(re[0])}),G&&this._registerAction("find",function(){G.toggle()}),s&&Z&&this._registerAction("moveToOrigin",function(){var re,ae,de=s.getRootElement();re=qt(ae=me(de,"bpmn:Collaboration")?a.filter(function(se){return me(se.parent,"bpmn:Collaboration")}):a.filter(function(se){return se!==de&&!me(se.parent,"bpmn:SubProcess")})),Z.moveElements(ae,{x:-re.x,y:-re.y},de)}),c&&J&&this._registerAction("replaceElement",function(re){J.triggerEntry("replace","click",re)})};var NS={__depends__:[RS],editorActions:["type",fg]};function Pw(r){r.on(["create.init","shape.move.init"],function(s){var a=s.context;jn(s.shape,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(a.gridSnappingContext||(a.gridSnappingContext={}),a.gridSnappingContext.snapLocation="top-left")})}function pg(r,s,a){return a||(a="round"),Math[a](r/s)*s}function La(r,s,a){var c=!a||!1!==a.active;this._eventBus=s;var u=this;s.on("diagram.init",800,function(){u.setActive(c)}),s.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,function(h){var m=h.originalEvent;if(!(!u.active||m&&Fs(m))){var b=h.context,S=b.gridSnappingContext;S||(S=b.gridSnappingContext={}),["x","y"].forEach(function(N){var J,re,ae,se,ce,be,ve,j={},G=(re=N,ae=r,se=(J=h).shape,be=(ce=J.context.gridSnappingContext).snapLocation,(ve=ce.snapOffset)&&C(ve[re])||(ve||(ve=ce.snapOffset={}),C(ve[re])||(ve[re]=0),!se)||(ae.get(se.id)||(ap(re)?ve[re]+=se[re]+se.width/2:ve[re]+=se[re]+se.height/2),!be)||("x"===re?/left/.test(be)?ve[re]-=se.width/2:/right/.test(be)&&(ve[re]+=se.width/2):/top/.test(be)?ve[re]-=se.height/2:/bottom/.test(be)&&(ve[re]+=se.height/2)),ve[re]);G&&(j.offset=G);var Z=function(J,re){var ae=J.context,de=ae.createConstraints,se=ae.resizeConstraints||{},ce=ae.gridSnappingContext,be=ce.snapConstraints;if(be&&be[re])return be[re];be||(be=ce.snapConstraints={}),be[re]||(be[re]={});var ve=ae.direction;de&&(ap(re)?(be.x.min=de.left,be.x.max=de.right):(be.y.min=de.top,be.y.max=de.bottom));var Ie=se.min,Ue=se.max;return Ie&&(ap(re)?Rw(ve)?be.x.max=Ie.left:be.x.min=Ie.right:mg(ve)?be.y.max=Ie.top:be.y.min=Ie.bottom),Ue&&(ap(re)?Rw(ve)?be.x.min=Ue.left:be.x.max=Ue.right:mg(ve)?be.y.min=Ue.top:be.y.max=Ue.bottom),be[re]}(h,N);Z&&we(j,Z),Sh(h,N)||u.snapEvent(h,N,j)})}})}function ap(r){return"x"===r}function mg(r){return-1!==r.indexOf("n")}function Rw(r){return-1!==r.indexOf("w")}function ii(r,s){vt.call(this,r),this._gridSnapping=s;var a=this;this.preExecute("shape.resize",function(c){var u=c.context,h=(u.hints||{}).autoResize;if(h){var m=u.shape,b=u.newBounds;u.newBounds=I(h)?a.snapComplex(b,h):a.snapSimple(m,b)}})}function Nw(r,s){r.on(["spaceTool.move","spaceTool.end"],2e3,function(a){var c,u=a.context;u.initialized&&("x"===u.axis?(c=s.snapValue(a.dx),a.x=a.x+c-a.dx,a.dx=c):(c=s.snapValue(a.dy),a.y=a.y+c-a.dy,a.dy=c))})}Pw.$inject=["eventBus"],La.prototype.snapEvent=function(r,s,a){mr(r,s,this.snapValue(r[s],a))},La.prototype.getGridSpacing=function(){return 10},La.prototype.snapValue=function(r,s){var a,c,u=0;return s&&s.offset&&(u=s.offset),r=pg(r+=u,10),s&&s.min&&C(a=s.min)&&(a=pg(a+u,10,"ceil"),r=Math.max(r,a)),s&&s.max&&C(c=s.max)&&(c=pg(c+u,10,"floor"),r=Math.min(r,c)),r-u},La.prototype.isActive=function(){return this.active},La.prototype.setActive=function(r){this.active=r,this._eventBus.fire("gridSnapping.toggle",{active:r})},La.prototype.toggleActive=function(){this.setActive(!this.active)},La.$inject=["elementRegistry","eventBus","config.gridSnapping"],ii.$inject=["eventBus","gridSnapping","modeling"],W(ii,vt),ii.prototype.snapSimple=function(r,s){var a=this._gridSnapping;return s.width=a.snapValue(s.width,{min:s.width}),s.height=a.snapValue(s.height,{min:s.height}),s.x=r.x+r.width/2-s.width/2,s.y=r.y+r.height/2-s.height/2,s},ii.prototype.snapComplex=function(r,s){return/w|e/.test(s)&&(r=this.snapHorizontally(r,s)),/n|s/.test(s)&&(r=this.snapVertically(r,s)),r},ii.prototype.snapHorizontally=function(r,s){var a=this._gridSnapping,c=/w/.test(s),u=/e/.test(s),h={};return h.width=a.snapValue(r.width,{min:r.width}),u&&(c?(h.x=a.snapValue(r.x,{max:r.x}),h.width+=a.snapValue(r.x-h.x,{min:r.x-h.x})):r.x=r.x+r.width-h.width),we(r,h),r},ii.prototype.snapVertically=function(r,s){var a=this._gridSnapping,c=/n/.test(s),u=/s/.test(s),h={};return h.height=a.snapValue(r.height,{min:r.height}),c&&(u?(h.y=a.snapValue(r.y,{max:r.y}),h.height+=a.snapValue(r.y-h.y,{min:r.y-h.y})):r.y=r.y+r.height-h.height),we(r,h),r},Nw.$inject=["eventBus","gridSnapping"];var FS={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",ii],gridSnappingSpaceToolBehavior:["type",Nw]}],__init__:["gridSnapping"],gridSnapping:["type",La]};function hb(r,s){r.on("autoPlace",2e3,function(a){var c=a.source,u=Jt(c),h=a.shape,m=tw(c,h);return["x","y"].forEach(function(b){var S={};m[b]!==u[b]&&(m[b]>u[b]?S.min=m[b]:S.max=m[b],me(h,"bpmn:TextAnnotation")&&(S.offset="x"===b?-h.width/2:-h.height/2),m[b]=s.snapValue(m[b],S))}),m})}function fb(r,s,a){s.on(["create.start","shape.move.start"],1750,function(c){var u=c.context,h=u.shape,m=r.getRootElement();me(h,"bpmn:Participant")&&me(m,"bpmn:Process")&&m.children.length&&u.createConstraints&&(h.width=a.snapValue(h.width,{min:h.width}),h.height=a.snapValue(h.height,{min:h.height}))})}function gg(r,s,a){vt.call(this,r),this._gridSnapping=s;var c=this;this.postExecuted(["connection.create","connection.layout"],3e3,function(u){var h=u.context,m=h.connection,b=h.hints||{},S=m.waypoints;b.connectionStart||b.connectionEnd||!1===b.createElementsBehavior||S.length>3&&a.updateWaypoints(m,c.snapMiddleSegments(S))})}function LS(r,s,a){var c=Se(s,a),u={};return"h"===c&&(u.y=r.snapValue(s.y)),"v"===c&&(u.x=r.snapValue(s.x)),("x"in u||"y"in u)&&(s=we({},s,u),a=we({},a,u)),[s,a]}hb.$inject=["eventBus","gridSnapping"],fb.$inject=["canvas","eventBus","gridSnapping"],gg.$inject=["eventBus","gridSnapping","modeling"],W(gg,vt),gg.prototype.snapMiddleSegments=function(r){var s,a=this._gridSnapping;r=r.slice();for(var c=1;c<r.length-2;c++)s=LS(a,r[c],r[c+1]),r[c]=s[0],r[c+1]=s[1];return r};var BS={__depends__:[FS,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",hb],gridSnappingParticipantBehavior:["type",fb],gridSnappingLayoutConnectionBehavior:["type",gg]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",Pw]};function lp(r,s){this._interactionEvents=s;var a=this;r.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(c){var u=c.element,h=c.gfx;return me(u,"bpmn:Lane")?a._createParticipantHit(u,h):me(u,"bpmn:Participant")?Rn(u)?a._createParticipantHit(u,h):a._createDefaultHit(u,h):me(u,"bpmn:SubProcess")?Rn(u)?a._createSubProcessHit(u,h):a._createDefaultHit(u,h):void 0})}lp.$inject=["eventBus","interactionEvents"],lp.prototype._createDefaultHit=function(r,s){return this._interactionEvents.removeHits(s),this._interactionEvents.createDefaultHit(r,s),!0},lp.prototype._createParticipantHit=function(r,s){return this._interactionEvents.removeHits(s),this._interactionEvents.createBoxHit(s,"no-move",{width:r.width,height:r.height}),this._interactionEvents.createBoxHit(s,"click-stroke",{width:r.width,height:r.height}),this._interactionEvents.createBoxHit(s,"all",{width:30,height:r.height}),!0},lp.prototype._createSubProcessHit=function(r,s){return this._interactionEvents.removeHits(s),this._interactionEvents.createBoxHit(s,"no-move",{width:r.width,height:r.height}),this._interactionEvents.createBoxHit(s,"click-stroke",{width:r.width,height:r.height}),this._interactionEvents.createBoxHit(s,"all",{width:r.width,height:30}),!0};var Fw={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",lp]};function pb(r){r.invoke(Id,this)}W(pb,Id),pb.$inject=["injector"],pb.prototype.registerBindings=function(r,s){function a(c,u){s.isRegistered(c)&&r.addListener(u)}Id.prototype.registerBindings.call(this,r,s),a("selectElements",function(c){var u=c.keyEvent;if(r.isKey(["a","A"],u)&&r.isCmd(u))return s.trigger("selectElements"),!0}),a("find",function(c){var u=c.keyEvent;if(r.isKey(["f","F"],u)&&r.isCmd(u))return s.trigger("find"),!0}),a("spaceTool",function(c){var u=c.keyEvent;if(!r.hasModifier(u))return r.isKey(["s","S"],u)?(s.trigger("spaceTool"),!0):void 0}),a("lassoTool",function(c){var u=c.keyEvent;if(!r.hasModifier(u))return r.isKey(["l","L"],u)?(s.trigger("lassoTool"),!0):void 0}),a("handTool",function(c){var u=c.keyEvent;if(!r.hasModifier(u))return r.isKey(["h","H"],u)?(s.trigger("handTool"),!0):void 0}),a("globalConnectTool",function(c){var u=c.keyEvent;if(!r.hasModifier(u))return r.isKey(["c","C"],u)?(s.trigger("globalConnectTool"),!0):void 0}),a("directEditing",function(c){var u=c.keyEvent;if(!r.hasModifier(u))return r.isKey(["e","E"],u)?(s.trigger("directEditing"),!0):void 0}),a("replaceElement",function(c){var u=c.keyEvent;if(!r.hasModifier(u))return r.isKey(["r","R"],u)?(s.trigger("replaceElement",u),!0):void 0})};var R1={__depends__:[If],__init__:["keyboardBindings"],keyboardBindings:["type",pb]},cp={moveSpeed:1,moveSpeedAccelerated:10},Lw={ArrowLeft:"left",Left:"left",ArrowUp:"up",Up:"up",ArrowRight:"right",Right:"right",ArrowDown:"down",Down:"down"},Bw={left:function(r){return{x:-r,y:0}},up:function(r){return{x:0,y:-r}},right:function(r){return{x:r,y:0}},down:function(r){return{x:0,y:r}}};function vg(r,s,a,c,u){var h=this;this._config=we({},cp,r||{}),s.addListener(1500,function(m){var b=m.keyEvent,S=Lw[b.key];if(S&&!s.isCmd(b)){var N=s.isShift(b);return h.moveSelection(S,N),!0}}),this.moveSelection=function(m,b){var S=u.get();if(S.length){var j=Bw[m](this._config[b?"moveSpeedAccelerated":"moveSpeed"]);c.allowed("elements.move",{shapes:S})&&a.moveElements(S,j)}}}vg.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];var zS={__depends__:[If,hs],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",vg]};function Ih(r,s,a,c){this._dragging=c,this._rules=s;var u=this;r.on("resize.start",function(m){var b,N;N=(b=m.context).minBounds,void 0===b.resizeConstraints&&(void 0===N&&(N=u.computeMinResizeBox(b)),b.resizeConstraints={min:Ut(N)})}),r.on("resize.move",function(m){!function h(m,b){var Z,J,re,ae,de,se,N=m.shape,j=m.direction,G=m.resizeConstraints;m.delta=b,ae=(re=b).x,de=re.y,se={x:(Z=N).x,y:Z.y,width:Z.width,height:Z.height},-1!==(J=j).indexOf("n")?(se.y=Z.y+de,se.height=Z.height-de):-1!==J.indexOf("s")&&(se.height=Z.height+de),-1!==J.indexOf("e")?se.width=Z.width+ae:-1!==J.indexOf("w")&&(se.x=Z.x+ae,se.width=Z.width-ae),m.newBounds=function(Z,J){if(!J)return Z;var re=Ut(Z);return No({top:lg("top",re,J),right:lg("right",re,J),bottom:lg("bottom",re,J),left:lg("left",re,J)})}(se,G),m.canExecute=u.canResize(m)}(m.context,{x:m.dx,y:m.dy})}),r.on("resize.end",function(m){!function(b){var G,Z,S=b.shape,j=b.newBounds;if(b.canExecute){if(G=S,Z=j=Dc(j),G.x===Z.x&&G.y===Z.y&&G.width===Z.width&&G.height===Z.height)return;a.resizeShape(S,j)}}(m.context)})}function gb(r,s){var a=Jt(r),c=Ut(r),u={x:a.x,y:a.y};return-1!==s.indexOf("n")?u.y=c.top:-1!==s.indexOf("s")&&(u.y=c.bottom),-1!==s.indexOf("e")?u.x=c.right:-1!==s.indexOf("w")&&(u.x=c.left),u}function vb(r){return"n"===r||"s"===r?"resize-ns":"e"===r||"w"===r?"resize-ew":"nw"===r||"se"===r?"resize-nwse":"resize-nesw"}Ih.prototype.canResize=function(r){var s=this._rules,a=Oe(r,["newBounds","shape","delta","direction"]);return s.allowed("shape.resize",a)},Ih.prototype.activate=function(r,s,a){var c,u,h=this._dragging;if("string"==typeof a&&(a={direction:a}),!(u=(c=we({shape:s},a)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");h.init(r,gb(s,u),"resize",{autoActivate:!0,cursor:vb(u),data:{shape:s,context:c}})},Ih.prototype.computeMinResizeBox=function(r){var a,c,u,h,m,b,S,s=r.shape;return a=r.direction,c=s,u=r.minDimensions||{width:10,height:10},h=kw(s,r.childrenBoxPadding),m=Ut(c),b={top:/n/.test(a)?m.bottom-u.height:m.top,left:/w/.test(a)?m.right-u.width:m.left,bottom:/s/.test(a)?m.top+u.height:m.bottom,right:/e/.test(a)?m.left+u.width:m.right},S=h?Ut(h):b,No({top:zs(b.top,S.top),left:zs(b.left,S.left),bottom:Ho(b.bottom,S.bottom),right:Ho(b.right,S.right)})},Ih.$inject=["eventBus","rules","modeling","dragging"];var VS="djs-resizing",yg="resize-not-ok";function zw(r,s,a){r.on("resize.move",500,function(c){var u,h,m,b;h=(u=c.context).shape,m=u.newBounds,(b=u.frame)||(b=u.frame=a.addFrame(h,s.getActiveLayer()),s.addMarker(h,VS)),m.width>5&&Ot(b,{x:m.x,width:m.width}),m.height>5&&Ot(b,{y:m.y,height:m.height}),u.canExecute?Cn(b).remove(yg):Cn(b).add(yg)}),r.on("resize.cleanup",function(c){var u,h;h=(u=c.context).shape,u.frame&&Ni(u.frame),s.removeMarker(h,VS)})}zw.$inject=["eventBus","canvas","previewSupport"];var Hw=["n","w","s","e","nw","ne","se","sw"];function ms(r,s,a,c){this._resize=c,this._canvas=s;var u=this;r.on("selection.changed",function(h){var m=h.newSelection;u.removeResizers(),1===m.length&&y(m,We(u.addResizer,u))}),r.on("shape.changed",function(h){var m=h.element;a.isSelected(m)&&(u.removeResizers(),u.addResizer(m))})}ms.prototype.makeDraggable=function(r,s,a){var c=this._resize;function u(h){Fn(h)&&c.activate(h,r,a)}Dt.bind(s,"mousedown",u),Dt.bind(s,"touchstart",u)},ms.prototype._createResizer=function(r,s,a,c){var N,j,u=this._getResizersParent(),h=(j={x:0,y:0},-1!==(N=c).indexOf("e")?j.x=6:-1!==N.indexOf("w")&&(j.x=-6),-1!==N.indexOf("s")?j.y=6:-1!==N.indexOf("n")&&(j.y=-6),j),m=Gt("g");Cn(m).add("djs-resizer"),Cn(m).add("djs-resizer-"+r.id),Cn(m).add("djs-resizer-"+c),Qt(u,m);var b=Gt("rect");Ot(b,{x:-4+h.x,y:-4+h.y,width:8,height:8}),Cn(b).add("djs-resizer-visual"),Qt(m,b);var S=Gt("rect");return Ot(S,{x:-10+h.x,y:-10+h.y,width:20,height:20}),Cn(S).add("djs-resizer-hit"),Qt(m,S),Xu(m,s,a),m},ms.prototype.createResizer=function(r,s){var a=gb(r,s),c=this._createResizer(r,a.x,a.y,s);this.makeDraggable(r,c,s)},ms.prototype.addResizer=function(r){var s=this;!ji(r)&&this._resize.canResize({shape:r})&&y(Hw,function(a){s.createResizer(r,a)})},ms.prototype.removeResizers=function(){Ys(this._getResizersParent())},ms.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},ms.$inject=["eventBus","canvas","selection","resize"];var jw={__depends__:[_l,bl,Jf],__init__:["resize","resizePreview","resizeHandles"],resize:["type",Ih],resizePreview:["type",zw],resizeHandles:["type",ms]};function eu(r,s,a,c,u,h,m){function b(S,N){(N||jn(S,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||Ph(S))&&c.activate(S)}this._bpmnFactory=s,this._canvas=a,this._modeling=u,this._textRenderer=m,c.registerProvider(this),r.on("element.dblclick",function(S){b(S.element,!0)}),r.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(){c.isActive()&&c.complete()}),r.on(["shape.remove","connection.remove"],2e3,function(S){c.isActive(S.element)&&c.cancel()}),r.on(["commandStack.changed"],function(S){c.isActive()&&c.cancel()}),r.on("directEditing.activate",function(S){h.removeResizers()}),r.on("create.end",500,function(S){var N=S.context;S.isTouch||S.context.canExecute&&(N.hints&&!1===N.hints.createElementsBehavior||b(N.shape))}),r.on("autoPlace.end",500,function(S){b(S.shape)})}function Ph(r){return me(r,"bpmn:SubProcess")&&!Rn(r)}eu.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],eu.prototype.activate=function(r){var s=Jn(r);if(void 0!==s){var a={text:s};we(a,this.getEditingBBox(r));var c={};return(jn(r,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||Ph(r))&&we(c,{centerVertically:!0}),Zl(r)&&we(c,{autoResize:!0}),me(r,"bpmn:TextAnnotation")&&we(c,{resizable:!0,autoResize:!0}),we(a,{options:c}),a}},eu.prototype.getEditingBBox=function(r){var Ie,s=this._canvas,a=r.label||r,c=s.getAbsoluteBBox(a),u=c.x+c.width/2,h=c.y+c.height/2,m={x:c.x,y:c.y},b=s.zoom(),S=this._textRenderer.getDefaultStyle(),N=this._textRenderer.getExternalStyle(),j=N.fontSize*b,G=N.lineHeight,Z=S.fontSize*b,J=S.lineHeight,re={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};(me(r,"bpmn:Lane")||me(Ie=r,"bpmn:Participant")&&Rn(Ie))&&(we(m,{width:c.height,height:30*b,x:c.x-c.height/2+15*b,y:h-30*b/2}),we(re,{fontSize:Z+"px",lineHeight:J,paddingTop:7*b+"px",paddingBottom:7*b+"px",paddingLeft:5*b+"px",paddingRight:5*b+"px",transform:"rotate(-90deg)"})),(jn(r,["bpmn:Task","bpmn:CallActivity"])||function(Ie){return me(Ie,"bpmn:Participant")&&!Rn(Ie)}(r)||Ph(r))&&(we(m,{width:c.width,height:c.height}),we(re,{fontSize:Z+"px",lineHeight:J,paddingTop:7*b+"px",paddingBottom:7*b+"px",paddingLeft:5*b+"px",paddingRight:5*b+"px"})),function(Ie){return me(Ie,"bpmn:SubProcess")&&Rn(Ie)}(r)&&(we(m,{width:c.width,x:c.x}),we(re,{fontSize:Z+"px",lineHeight:J,paddingTop:7*b+"px",paddingBottom:7*b+"px",paddingLeft:5*b+"px",paddingRight:5*b+"px"}));var ae=90*b,de=7*b,se=4*b;if(a.labelTarget&&(we(m,{width:ae,height:c.height+de+se,x:u-ae/2,y:c.y-de}),we(re,{fontSize:j+"px",lineHeight:G,paddingTop:de+"px",paddingBottom:se+"px"})),Zl(a)&&!sh(a)&&!Zn(a)){var ce=ds(r),be=s.getAbsoluteBBox({x:ce.x,y:ce.y,width:0,height:0}),ve=j+de+se;we(m,{width:ae,height:ve,x:be.x-ae/2,y:be.y-ve/2}),we(re,{fontSize:j+"px",lineHeight:G,paddingTop:de+"px",paddingBottom:se+"px"})}return me(r,"bpmn:TextAnnotation")&&(we(m,{width:c.width,height:c.height,minWidth:30*b,minHeight:10*b}),we(re,{textAlign:"left",paddingTop:5*b+"px",paddingBottom:7*b+"px",paddingLeft:7*b+"px",paddingRight:5*b+"px",fontSize:Z+"px",lineHeight:J})),{bounds:m,style:re}},eu.prototype.update=function(r,s,a,c){var u,h,m;me(r,"bpmn:TextAnnotation")&&(h=this._canvas.getAbsoluteBBox(r),u={x:r.x,y:r.y,width:r.width/h.width*c.width,height:r.height/h.height*c.height}),(m=s)&&m.trim()||(s=null),this._modeling.updateLabel(r,s,u)};var Uw="djs-element-hidden",_g="djs-label-hidden";function dp(r,s,a){var c,u,h,m=this,b=s.getDefaultLayer();r.on("directEditing.activate",function(S){var N=S.active;if(me(c=N.element.label||N.element,"bpmn:TextAnnotation")){u=s.getAbsoluteBBox(c),h=Gt("g");var j=a.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:c.width,containerHeight:c.height,position:{mx:0,my:0}}),G=m.path=Gt("path");Ot(G,{d:j,strokeWidth:2,stroke:xl(c)}),Qt(h,G),Qt(b,h),Lo(h,c.x,c.y)}me(c,"bpmn:TextAnnotation")||c.labelTarget?s.addMarker(c,Uw):(me(c,"bpmn:Task")||me(c,"bpmn:CallActivity")||me(c,"bpmn:SubProcess")||me(c,"bpmn:Participant"))&&s.addMarker(c,_g)}),r.on("directEditing.resize",function(S){if(me(c,"bpmn:TextAnnotation")){var G=Math.max(c.height/u.height*(S.height+S.dy),0),Z=a.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:c.width,containerHeight:G,position:{mx:0,my:0}});Ot(m.path,{d:Z})}}),r.on(["directEditing.complete","directEditing.cancel"],function(S){var N=S.active;N&&(s.removeMarker(N.element.label||N.element,Uw),s.removeMarker(c,_g)),c=void 0,u=void 0,h&&(Ni(h),h=void 0)})}function xl(r,s){return qn(r).get("stroke")||s||"black"}dp.$inject=["eventBus","canvas","pathMap"];var yb={__depends__:[uy,jw,Jy],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",eu],labelEditingPreview:["type",dp]},up=["top","bottom","left","right"];function bb(r,s){function a(c){if(sh(c)){var u=function(h){var Z,J,m=Jt(h.label),b=_b(Jt(h),m);if(-1!==up.indexOf(b)){var N=(J=Jt(Z=h),[].concat(Z.incoming.map(function(ae){return ae.waypoints[ae.waypoints.length-2]}),Z.outgoing.map(function(ae){return ae.waypoints[1]})).map(function(ae){return _b(J,ae)}));if(h.host){var j=function(Z){var J,re=Z.host,ae=dr(Jt(Z),re);return J=ae.indexOf("-")>=0?ae.split("-"):[ae],up.filter(function(de){return-1===J.indexOf(de)})}(h);N=N.concat(j)}var G=up.filter(function(Z){return-1===N.indexOf(Z)});if(-1===G.indexOf(b))return G[0]}}(c);u&&function(h,m){var b=Jt(h),S=h.label,N=Jt(S);if(S.parent){var j,G=Ut(h);switch(m){case"top":j={x:b.x,y:G.top-10-S.height/2};break;case"left":j={x:G.left-10-S.width/2,y:b.y};break;case"bottom":j={x:b.x,y:G.bottom+10+S.height/2};break;case"right":j={x:G.right+10+S.width/2,y:b.y}}var Z=_o(j,N);s.moveShape(S,Z)}}(c,u)}}vt.call(this,r),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(c){var u=c.context,h=u.connection,b=h.target;!1!==(u.hints||{}).createElementsBehavior&&(a(h.source),a(b))}),this.postExecuted(["label.create"],function(c){var u=c.context;!1!==(u.hints||{}).createElementsBehavior&&a(u.shape.labelTarget)}),this.postExecuted(["elements.create"],function(c){var u=c.context;!1!==(u.hints||{}).createElementsBehavior&&u.elements.forEach(function(m){a(m)})})}function _b(r,s){return dr(s,r,5)}function $c(r){vt.call(this,r),this.preExecute("shape.append",function(s){var a=s.source,c=s.shape;s.position||(s.position=me(c,"bpmn:TextAnnotation")?{x:a.x+a.width/2+75,y:a.y-50-c.height/2}:{x:a.x+a.width+80+c.width/2,y:a.y+a.height/2})},!0)}function wb(r,s){r.invoke(vt,this),this.postExecute("shape.move",function(a){var c=a.newParent,u=a.shape;y(p(u.incoming.concat(u.outgoing),function(h){return me(h,"bpmn:Association")}),function(h){s.moveConnection(h,{x:0,y:0},c)})},!0)}function xg(r,s){s.invoke(vt,this),this._bpmnReplace=r;var a=this;this.postExecuted("elements.create",500,function(c){var u=c.elements;1===(u=u.filter(function(h){return $w(h,h.host)})).length&&u.map(function(h){return u.indexOf(h)}).forEach(function(h){c.elements[h]=a._replaceShape(u[h],u[h])})},!0),this.preExecute("elements.move",500,function(c){var u=c.shapes,h=c.newHost;if(1===u.length){var m=u[0];$w(m,h)&&(c.shapes=[a._replaceShape(m,h)])}},!0)}function $w(r,s){return!Zn(r)&&jn(r,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!s}function hp(r,s){function a(c){return p(c.attachers,function(u){return me(u,"bpmn:BoundaryEvent")})}vt.call(this,r),this.postExecute("connection.create",function(c){var u=c.context.source,h=c.context.target,m=a(h);me(u,"bpmn:EventBasedGateway")&&me(h,"bpmn:ReceiveTask")&&m.length>0&&s.removeElements(m)}),this.postExecute("connection.reconnect",function(c){var h=c.context.newSource;me(c.context.oldSource,"bpmn:Gateway")&&me(h,"bpmn:EventBasedGateway")&&y(h.outgoing,function(m){var b=m.target,S=a(b);me(b,"bpmn:ReceiveTask")&&S.length>0&&s.removeElements(S)})})}function Rh(r){r.invoke(vt,this),this.preExecute("shape.create",1500,function(s){var a=s.context,c=a.parent,u=a.shape;me(c,"bpmn:Lane")&&!me(u,"bpmn:Lane")&&(a.parent=Wf(c,"bpmn:Participant"))})}function xb(r,s){vt.call(this,r),this.preExecute("shape.create",function(a){var c=a.context.shape;if(me(c,"bpmn:DataObjectReference")&&"label"!==c.type){var u=s.create("bpmn:DataObject");c.businessObject.dataObjectRef=u}})}W(bb,vt),bb.$inject=["eventBus","modeling"],W($c,vt),$c.$inject=["eventBus"],W(wb,vt),wb.$inject=["injector","modeling"],xg.$inject=["bpmnReplace","injector"],W(xg,vt),xg.prototype._replaceShape=function(r,s){var a,c=(a=_t(r).eventDefinitions)&&a[0],u={type:"bpmn:BoundaryEvent",host:s};return c&&(u.eventDefinitionType=c.$type),this._bpmnReplace.replaceElement(r,u,{layoutConnection:!1})},hp.$inject=["eventBus","modeling"],W(hp,vt),Rh.$inject=["injector"],W(Rh,vt),xb.$inject=["eventBus","bpmnFactory"],W(xb,vt);function gs(r,s,a){function c(){var u=r.getRootElement();return me(u,"bpmn:Collaboration")?u:a.makeCollaboration()}vt.call(this,s),s.on(["create.start","shape.move.start"],2e3,function(u){var G,Z,h=u.context,m=h.shape,b=r.getRootElement();if(me(m,"bpmn:Participant")&&me(b,"bpmn:Process")&&b.children.length){var S=b.children.filter(function(G){return!me(G,"bpmn:Group")&&!Zn(G)&&!ji(G)});if(S.length){var N=qt(S),j=function(G,Z){Z={width:Z.width+40+30,height:Z.height+40};var J=Math.max(G.width,Z.width),re=Math.max(G.height,Z.height);return{x:-J/2,y:-re/2,width:J,height:re}}(m,N);we(m,j),h.createConstraints=(G=m,{bottom:(Z=Ut(Z=N)).top+G.height/2-20,left:Z.right-G.width/2+20,top:Z.bottom-G.height/2+20,right:Z.left+G.width/2-20-30})}}}),s.on("create.start",2e3,function(u){var h=u.context.shape,m=r.getRootElement(),b=r.getGraphics(m);function S(N){N.element=m,N.gfx=b}me(h,"bpmn:Participant")&&me(m,"bpmn:Process")&&(s.on("element.hover",2e3,S),s.once("create.cleanup",function(){s.off("element.hover",S)}))}),this.preExecute("elements.create",2e3,function(u){var h,b=u.parent,S=_(u.elements,function(j){return me(j,"bpmn:Participant")});S&&me(b,"bpmn:Process")&&(u.parent=c(),(h=u.hints=u.hints||{}).participant=S,h.process=b,h.processRef=_t(S).get("processRef"))},!0),this.preExecute("shape.create",function(u){var h=u.parent,m=u.shape;me(m,"bpmn:Participant")&&me(h,"bpmn:Process")&&(u.parent=c(),u.process=h,u.processRef=_t(m).get("processRef"))},!0),this.execute("shape.create",function(u){var h=u.hints||{},m=u.process||h.process,b=u.shape,S=h.participant;!m||S&&b!==S||_t(b).set("processRef",_t(m))},!0),this.revert("shape.create",function(u){var h=u.hints||{},b=u.processRef||h.processRef,S=u.shape,N=h.participant;!u.process&&!h.process||N&&S!==N||_t(S).set("processRef",b)},!0),this.postExecute("shape.create",function(u){var m=u.process||u.hints.process,b=u.shape,S=(u.hints||{}).participant;if(m){var N=m.children.slice();S?b===S&&a.moveElements(N,{x:0,y:0},S):a.moveElements(N,{x:0,y:0},b)}},!0)}gs.$inject=["canvas","eventBus","modeling"],W(gs,vt);var Eg="__targetRef_placeholder";function Sb(r,s){function a(h,m){var b=h.get("properties"),S=_(b,function(N){return N.name===Eg});return!S&&m&&Si(b,S=s.create("bpmn:Property",{name:Eg})),S}function c(h,m){var N,j,b=a(h);b&&(N=b,j=m,_(h.get("dataInputAssociations"),function(G){return G!==j&&G.targetRef===N})||Je(h.get("properties"),b))}function u(h){var m,b=h.context,S=b.connection,N=S.businessObject,j=S.target,G=j&&j.businessObject,Z=b.newTarget,J=Z&&Z.businessObject,re=b.oldTarget||b.target,ae=re&&re.businessObject,de=S.businessObject;ae&&ae!==G&&c(ae,N),J&&J!==G&&c(J,N),G?(m=a(G,!0),de.targetRef=m):de.targetRef=null}vt.call(this,r),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],HS(u)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],HS(u))}function HS(r){return function(s){if(me(s.context.connection,"bpmn:DataInputAssociation"))return r(s)}}function Cg(r){this._bpmnUpdater=r}function Ww(r,s,a,c){function u(m){return m.children.filter(function(b){return me(b,"bpmn:DataStoreReference")&&!b.labelTarget})}function h(m,b){var S=m.businessObject||m;if(b=b||a.filter(function(j){return me(j,"bpmn:Participant")&&_t(j).processRef})[0]){var N=b.businessObject||b;s.execute("dataStore.updateContainment",{dataStoreBo:S,dataStoreDi:qn(m),newSemanticParent:N.processRef||N,newDiParent:qn(b)})}}vt.call(this,c),s.registerHandler("dataStore.updateContainment",Cg),this.preExecute("shape.create",function(m){var b=m.context,S=b.shape;me(S,"bpmn:DataStoreReference")&&"label"!==S.type&&(b.hints||(b.hints={}),b.hints.autoResize=!1)}),this.preExecute("elements.move",function(m){var b=m.context,S=b.shapes;S.filter(function(N){return me(N,"bpmn:DataStoreReference")}).length&&(b.hints||(b.hints={}),b.hints.autoResize=S.filter(function(N){return!me(N,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(m){var b=m.context.shape,S=b.parent;me(b,"bpmn:DataStoreReference")&&"label"!==b.type&&me(S,"bpmn:Collaboration")&&h(b)}),this.postExecute("shape.move",function(m){var b=m.context,S=b.shape,N=b.oldParent,j=S.parent;me(N,"bpmn:Collaboration")||me(S,"bpmn:DataStoreReference")&&"label"!==S.type&&me(j,"bpmn:Collaboration")&&h(S,me(N,"bpmn:Participant")?N:function(G,Z){for(;G.parent;){if(me(G.parent,"bpmn:Participant"))return G.parent;G=G.parent}}(N))}),this.postExecute("shape.delete",function(m){var b=m.context.shape,S=r.getRootElement();jn(b,["bpmn:Participant","bpmn:SubProcess"])&&me(S,"bpmn:Collaboration")&&u(S).filter(function(N){return function(j,G){for(var Z=j.businessObject||j,J=G.businessObject||G;Z.$parent;){if(Z.$parent===J.processRef||J)return!0;Z=Z.$parent}return!1}(N,b)}).forEach(function(N){h(N)})}),this.postExecute("canvas.updateRoot",function(m){var b=m.context,N=b.newRoot;u(b.oldRoot).forEach(function(j){me(N,"bpmn:Process")&&h(j,N)})})}function Gw(r,s){vt.call(this,r),this.postExecuted("shape.delete",500,function(a){var b,N,j,G,Z,J,re,c=a.context,u=c.hints,h=c.shape,m=c.oldParent;me(h,"bpmn:Lane")&&(u&&u.nested||(b=h,Z=qd(m),J=[],re=[],Io(Z,function(ae){return ae.y>b.y?re.push(ae):J.push(ae),ae.children}),Z.length&&(N=re.length&&J.length?b.height/2:b.height,J.length&&(j=s.calculateAdjustments(J,"y",N,b.y-10),s.makeSpace(j.movingShapes,j.resizingShapes,{x:0,y:N},"s")),re.length&&(G=s.calculateAdjustments(re,"y",-N,b.y+b.height+10),s.makeSpace(G.movingShapes,G.resizingShapes,{x:0,y:-N},"n")))))})}function tu(r,s){s.invoke(vt,this),this._bpmnReplace=r;var a=this;this.postExecuted("elements.create",500,function(c){var u=c.elements;u.filter(function(h){return Yw(h,h.host)}).map(function(h){return u.indexOf(h)}).forEach(function(h){c.elements[h]=a._replaceShape(u[h])})},!0),this.preExecute("elements.move",500,function(c){var u=c.shapes,h=c.newHost;u.forEach(function(m,b){var N=m.host;Yw(m,-1!==u.indexOf(N)?N:h)&&(u[b]=a._replaceShape(m))})},!0)}function Yw(r,s){return!Zn(r)&&me(r,"bpmn:BoundaryEvent")&&!s}function fp(r,s,a){function c(u,h,m){var b,S,N,G,Z,J,re,ae=h.waypoints,de=u.outgoing.slice(),se=u.incoming.slice(),ce=ow(ae,re=C(m.width)?Jt(m):m);if(ce){if(b=ae.slice(0,ce.index),S=ae.slice(ce.index+(ce.bendpoint?1:0)),!b.length||!S.length)return;N=ce.bendpoint?ae[ce.index]:re,1!==b.length&&Sg(u,b[b.length-1])||b.push(Nh(N)),1!==S.length&&Sg(u,S[0])||S.unshift(Nh(N))}G=h.target,s.canConnect(h.source,u,h)&&(a.reconnectEnd(h,u,b||re),Z=h),s.canConnect(u,G,h)&&(Z?J=a.connect(u,G,{type:h.type,waypoints:S}):(a.reconnectStart(h,u,S||re),J=h));var be=[].concat(Z&&p(se,function(ve){return ve.source===Z.source})||[],J&&p(de,function(ve){return ve.target===J.target})||[]);be.length&&a.removeElements(be)}vt.call(this,r),this.preExecute("elements.move",function(u){var h=u.newParent,m=u.shapes,b=u.delta,S=m[0];if(S&&h){h&&h.waypoints&&(u.newParent=h=h.parent);var N=Jt(S),j={x:N.x+b.x,y:N.y+b.y},G=_(h.children,function(Z){return s.canInsert(m,Z)&&ow(Z.waypoints,j)});G&&(u.targetFlow=G,u.position=j)}},!0),this.postExecuted("elements.move",function(u){var m=u.targetFlow;m&&c(u.shapes[0],m,u.position)},!0),this.preExecute("shape.create",function(u){var h=u.parent;s.canInsert(u.shape,h)&&(u.targetFlow=h,u.parent=h.parent)},!0),this.postExecuted("shape.create",function(u){var m=u.targetFlow;m&&c(u.shape,m,u.position)},!0)}function Sg(r,s){var a=s.x,c=s.y;return a>=r.x&&a<=r.x+r.width&&c>=r.y&&c<=r.y+r.height}function Nh(r){return we({},r)}function pp(r,s){vt.call(this,r),this.preExecuted("connection.create",function(a){var c=a.context,h=c.source,m=c.target,b=c.hints;b&&!1===b.createElementsBehavior||!Gc(c.connection)||(me(h,"bpmn:EventBasedGateway")?m.incoming.filter(Gc):m.incoming.filter(function(N){return Gc(N)&&me(N.source,"bpmn:EventBasedGateway")})).forEach(function(N){s.removeConnection(N)})}),this.preExecuted("shape.replace",function(a){var c=a.context.newShape;me(c,"bpmn:EventBasedGateway")&&c.outgoing.filter(Gc).reduce(function(u,h){return u.includes(h.target)?u:u.concat(h.target)},[]).forEach(function(u){u.incoming.filter(Gc).forEach(function(h){const m=u.incoming.filter(Gc).filter(function(b){return b.source===c});(h.source!==c||m.length>1)&&s.removeConnection(h)})})})}function Gc(r){return me(r,"bpmn:SequenceFlow")}Sb.$inject=["eventBus","bpmnFactory"],W(Sb,vt),Cg.$inject=["bpmnUpdater"],Cg.prototype.execute=function(r){var s=r.dataStoreBo,a=r.dataStoreDi,c=r.newSemanticParent,u=r.newDiParent;return r.oldSemanticParent=s.$parent,r.oldDiParent=a.$parent,this._bpmnUpdater.updateSemanticParent(s,c),this._bpmnUpdater.updateDiParent(a,u),[]},Cg.prototype.revert=function(r){var a=r.dataStoreDi,u=r.oldDiParent;return this._bpmnUpdater.updateSemanticParent(r.dataStoreBo,r.oldSemanticParent),this._bpmnUpdater.updateDiParent(a,u),[]},Ww.$inject=["canvas","commandStack","elementRegistry","eventBus"],W(Ww,vt),Gw.$inject=["eventBus","spaceTool"],W(Gw,vt),tu.$inject=["bpmnReplace","injector"],W(tu,vt),tu.prototype._replaceShape=function(r){var a,c=(a=_t(r).eventDefinitions)&&a[0];return this._bpmnReplace.replaceElement(r,c?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:c.$type}:{type:"bpmn:IntermediateThrowEvent"},{layoutConnection:!1})},W(fp,vt),fp.$inject=["eventBus","bpmnRules","modeling"],pp.$inject=["eventBus","modeling"],W(pp,vt);function mp(r,s,a){s.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],1500,function(c){var u=c.context.shape||c.shape,h=c.hover;me(h,"bpmn:Lane")&&!jn(u,["bpmn:Lane","bpmn:Participant"])&&(c.hover=Na(h),c.hoverGfx=r.getGraphics(c.hover));var m=a.getRootElement();h!==m&&(u.labelTarget||me(u,"bpmn:Group"))&&(c.hover=m,c.hoverGfx=r.getGraphics(c.hover))}),s.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],1500,function(c){var u=c.hover;me(u,"bpmn:Lane")&&(c.hover=Na(u)||u,c.hoverGfx=r.getGraphics(c.hover))}),s.on(["bendpoint.move.hover"],1500,function(c){var h=c.hover,m=c.context.type;me(h,"bpmn:Lane")&&/reconnect/.test(m)&&(c.hover=Na(h)||h,c.hoverGfx=r.getGraphics(c.hover))}),s.on(["connect.start"],1500,function(c){var u=c.context,h=u.start;me(h,"bpmn:Lane")&&(u.start=Na(h)||h)}),s.on("shape.move.start",2e3,function(c){var u=c.shape;me(u,"bpmn:Lane")&&(c.shape=Na(u)||u)})}function nu(r,s,a,c,u,h){function m(G,Z,J){var de,re=a.filter(function(ae){return me(ae,"bpmn:Group")}).filter(function(ae){return ae.businessObject!==J});Z&&(de=Z,!re.some(function(se){var ce=_t(se);return(ce.categoryValueRef&&ce.categoryValueRef.$parent)===de}))&&function(ae){var de=ae.$parent;de&&(Je(de.get("rootElements"),ae),ae.$parent=null)}(Z),G&&!function(ae,de){return ae.some(function(se){return _t(se).categoryValueRef===de})}(re,G)&&function(ae){var de=ae.$parent;de&&(Je(de.get("categoryValue"),ae),ae.$parent=null)}(G)}function b(G,Z){return J=G,re=Z,ae=s.getDefinitions(),Si(re.get("categoryValue"),J),J.$parent=re,Si(ae.get("rootElements"),re),re.$parent=ae,J;var J,re,ae}function S(G,Z){var J=_t(G),re=J.categoryValueRef;re||(re=J.categoryValueRef=Z.categoryValue=Z.categoryValue||r.create("bpmn:CategoryValue"));var ae=re.$parent;ae||(ae=re.$parent=Z.category=Z.category||r.create("bpmn:Category")),b(re,ae,s.getDefinitions())}function N(G,Z){var J=Z.category,re=Z.categoryValue,ae=_t(G);re?(ae.categoryValueRef=null,m(re,J,ae)):m(null,ae.categoryValueRef.$parent,ae)}function j(G,Z){var J=r.create(G.$type);return h.copyElement(G,J,null,Z)}u.invoke(vt,this),this.execute("label.create",function(G){var Z=G.context,J=Z.labelTarget;me(J,"bpmn:Group")&&S(J,Z)}),this.revert("label.create",function(G){var Z=G.context,J=Z.labelTarget;me(J,"bpmn:Group")&&N(J,Z)}),this.execute("shape.delete",function(G){var Z=G.context,J=Z.shape,re=_t(J);if(me(J,"bpmn:Group")&&!J.labelTarget){var ae=Z.categoryValue=re.categoryValueRef;ae&&(m(ae,Z.category=ae.$parent,re),re.categoryValueRef=null)}}),this.reverted("shape.delete",function(G){var Z=G.context,J=Z.shape;if(me(J,"bpmn:Group")&&!J.labelTarget){var re=Z.category,ae=Z.categoryValue,de=_t(J);ae&&(de.categoryValueRef=ae,b(ae,re))}}),this.execute("shape.create",function(G){var Z=G.context,J=Z.shape;me(J,"bpmn:Group")&&!J.labelTarget&&_t(J).categoryValueRef&&S(J,Z)}),this.reverted("shape.create",function(G){var Z=G.context,J=Z.shape;me(J,"bpmn:Group")&&!J.labelTarget&&_t(J).categoryValueRef&&N(J,Z)}),c.on("copyPaste.copyElement",770,function(G){var Z=G.descriptor,J=G.element;if(me(J,"bpmn:Group")&&!J.labelTarget){var re=_t(J);if(re.categoryValueRef){var ae=re.categoryValueRef;Z.categoryValue=j(ae,!0),ae.$parent&&(Z.category=j(ae.$parent,!0))}}}),c.on("copyPaste.pasteElement",770,function(G){var Z=G.descriptor,re=Z.categoryValue,ae=Z.category;re&&(re=Z.businessObject.categoryValueRef=j(re)),ae&&(re.$parent=j(ae)),delete Z.category,delete Z.categoryValue})}function Dg(r,s,a,c){var u,b;return 0==(u=(c.y-a.y)*(s.x-r.x)-(c.x-a.x)*(s.y-r.y))?null:(b=((c.x-a.x)*(r.y-a.y)-(c.y-a.y)*(r.x-a.x))/u,{x:Math.round(r.x+b*(s.x-r.x)),y:Math.round(r.y+b*(s.y-r.y))})}function Mg(r){function s(a,c,u){var h,b={x:u.x-50,y:u.y},S=Dg(a,c,u,{x:u.x,y:u.y-50}),N=Dg(a,c,u,b);h=S&&N?gp(S,u)>gp(N,u)?N:S:S||N,a.original=h}r.on("bpmnElement.added",function(a){var c,u,h=a.element;h.waypoints&&(s((u=(c=h).waypoints)[0],u[1],Jt(c.source)),s(u[u.length-1],u[u.length-2],Jt(c.target)))})}function gp(r,s){return Math.sqrt(Math.pow(r.x-s.x,2)+Math.pow(r.y-s.y,2))}function Kw(r){vt.call(this,r);var s=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(a){var c=a.context.shape,u=_t(c),h=qn(c);jn(u,s)&&!h.get("isHorizontal")&&h.set("isHorizontal",!0)})}mp.$inject=["elementRegistry","eventBus","canvas"],nu.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"],W(nu,vt),Mg.$inject=["eventBus"],Kw.$inject=["eventBus"],W(Kw,vt);var Tg=Math.sqrt,kg=Math.min,Xw=Math.max,Zw=Math.abs;function Qw(r){return Math.pow(r,2)}function Fh(r,s){return Tg(Qw(r.x-s.x)+Qw(r.y-s.y))}function qw(r,s,a,c){var u=s.x-r.x,h=s.y-r.y,m=a.x-r.x,b=a.y-r.y,S=u*u+h*h,N=(u*m+h*b)/S,j=N*N-(m*m+b*b-c*c)/S;if(j<0&&j>-1e-6&&(j=0),j<0)return[];var G=Tg(j),Z=-N+G,J=-N-G,re={x:r.x-u*Z,y:r.y-h*Z};return 0===j?[re]:[re,{x:r.x-u*J,y:r.y-h*J}].filter(function(ae){return Jw((de=ae).x,(se=r).x,(ce=s).x)&&Jw(de.y,se.y,ce.y);var de,se,ce})}function Jw(r,s,a){return r>=kg(s,a)-Ag&&r<=Xw(s,a)+Ag}var Ag=.1;function jS(r,s){return Zw(r.x-s.x)<=Ag&&Zw(r.y-s.y)<=Ag}function ex(r,s,a,c){var u=0,h=0,m={point:r,delta:{x:0,y:0}},b=function(Ke,$t){var wt,Ze,at,un,Te,ue,Fe,tt,mt,zt,Ht,jt,Kt=0;for(Kt=0;Kt<$t.length-1;Kt++){if(jS(wt=$t[Kt],Ze=$t[Kt+1])?ue=[wt]:(at=Fh(Ke,wt),un=Fh(Ke,Ze),ue=qw(wt,Ze,Ke,kg(at,un))),ue.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===ue.length&&(Fe={type:"bendpoint",position:ue[0],segmentIndex:Kt,bendpointIndex:jS(wt,ue[0])?Kt:Kt+1}),2===ue.length&&(Fe={type:"segment",position:Te={x:((Ht=ue[0]).x+(jt=ue[1]).x)/2,y:(Ht.y+jt.y)/2},segmentIndex:Kt,relativeLocation:Fh(wt,Te)/Fh(wt,Ze)}),tt=Fh(Fe.position,Ke),(!zt||mt>tt)&&(zt=Fe,mt=tt)}return zt}(r,a),S=b.segmentIndex,N=function(Ke,$t,wt,Ze){var at=wt.segmentIndex,un=$t.length-Ke.length;if(Ze.segmentMove){var ue=Ze.segmentMove.newSegmentStartIndex;return at===Ze.segmentMove.segmentStartIndex?ue:at>=ue?at+un<ue?ue:at+un:at}if(Ze.bendpointMove){var Fe,tt=Ze.bendpointMove.insert,mt=Ze.bendpointMove.bendpointIndex;return 0===un?at:(at>=mt&&(Fe=tt?at+1:at-1),at<mt&&(Fe=at,tt&&"bendpoint"!==wt.type&&mt-1===at&&Og($t,mt)<wt.relativeLocation&&Fe++),Fe)}return 0===un?at:Ze.connectionStart&&0===at?0:Ze.connectionEnd&&at===Ke.length-2?$t.length-2:Math.floor(($t.length-2)/2)}(a,s,b,c);if(N<0||N>s.length-2||null===N)return m;var j,G,Ke,$t,wt,Ze,Z=Ig(a,S),J=Ig(s,N),re=b.position,ae=($t=re,wt=jy((Ke=Z)[0],Ke[1]),Ze=jy(Ke[0],$t),0===wt?0:Ze/wt),de=(j=J,G=mS(Z),mS(j)-G);if("bendpoint"===b.type){var se=s.length-a.length,ce=b.bendpointIndex;if(-1!==s.indexOf(a[ce]))return m;if(0===se){var ve=s[ce];return{delta:{x:u=ve.x-b.position.x,y:h=ve.y-b.position.y},point:{x:r.x+u,y:r.y+h}}}se<0&&0!==ce&&ce<a.length-1&&(ae=Og(a,ce))}var Ie,Ue,ze={x:(J[1].x-J[0].x)*ae+J[0].x,y:(J[1].y-J[0].y)*ae+J[0].y},Ve=(Ie={x:r.x-re.x,y:r.y-re.y},(Ue=de)?{x:Math.cos(Ue)*Ie.x-Math.sin(Ue)*Ie.y,y:Math.sin(Ue)*Ie.x+Math.cos(Ue)*Ie.y}:Ie);return u=ze.x+Ve.x-r.x,h=ze.y+Ve.y-r.y,{point:Ro(ze),delta:Ro({x:u,y:h})}}function Og(r,s){var a=jy(r[s-1],r[s]);return a/(a+jy(r[s],r[s+1]))}function Ig(r,s){return[r[s],r[s+1]]}function vp(r,s,a){var c=Wr(s),u=Wr(a),h=_o(r,c);return Ro({x:u.x+h.x*(a.width/s.width),y:u.y+h.y*(a.height/s.height)})}function Db(r,s,a){var c=Wr(r),u=Wr(s),h=Wr(a),m=_o(r,c),b=_o(c,u);return function(J,re,ae){var Ie,Ue,ze,Ve,de=Ut(re),se=Ut(ae);if((ze=Ie=de).right!==(Ve=Ue=se).right&&ze.left!==Ve.left||function(ze,Ve){return ze.top!==Ve.top&&ze.bottom!==Ve.bottom}(Ie,Ue))return null;var ce,ve=dr(re,J);if("top"===ve)ce={x:0,y:se.bottom-de.bottom};else if("bottom"===ve)ce={x:0,y:se.top-de.top};else if("right"===ve)ce={x:se.left-de.left,y:0};else{if("left"!==ve)return null;ce={x:se.right-de.right,y:0}}return dr(ae,{x:J.x+ce.x,y:J.y+ce.y})!==ve?null:ce}(c,s,a)||Ro({x:h.x+b.x*(a.width/s.width)+m.x-r.x,y:h.y+b.y*(a.height/s.height)+m.y-r.y})}function Tb(r,s,a,c){function u(m){var b=m.context,S=b.element,N=b.properties;if("name"in N&&s.updateLabel(S,N.name),"text"in N&&me(S,"bpmn:TextAnnotation")){var j=c.getTextAnnotationBounds({x:S.x,y:S.y,width:S.width,height:S.height},N.text||"");s.updateLabel(S,N.text,j)}}vt.call(this,r),this.postExecute("element.updateProperties",u),this.postExecute("element.updateModdleProperties",m=>{_t(m.context.element)===m.context.moddleElement&&u(m)}),this.postExecute(["shape.create","connection.create"],function(m){var b=m.context;if(!1!==(b.hints||{}).createElementsBehavior){var S=b.shape||b.connection;!Zn(S)&&Zl(S)&&Jn(S)&&s.updateLabel(S,Jn(S))}}),this.postExecute("shape.delete",function(m){var b=m.context,S=b.labelTarget;S&&!1!==(b.hints||{}).unsetLabel&&s.updateLabel(S,null,null,{removeShape:!1})}),this.postExecute(["connection.layout","connection.updateWaypoints"],function(m){var b=m.context;if(!1!==(b.hints||{}).labelBehavior){var S,N=b.connection.label;N&&N.parent&&(S=function h(m){var re,ae,de,b=m.context,S=b.connection,N=S.label,j=we({},b.hints),G=b.newWaypoints||S.waypoints,Z=b.oldWaypoints;return void 0===j.startChanged&&(j.startChanged=!!j.connectionStart),void 0===j.endChanged&&(j.endChanged=!!j.connectionEnd),re=G,ae=Z,de=j,ex(Jt(N),re,ae,de).delta}(m),s.moveShape(N,S))}}),this.postExecute(["shape.replace"],function(m){var b=m.context,S=b.newShape,N=b.oldShape,j=_t(S);j&&Zl(j)&&N.label&&S.label&&(S.label.x=N.label.x,S.label.y=N.label.y)}),this.postExecute("shape.resize",function(m){var b,S=m.context,N=S.shape,j=S.newBounds,G=S.oldBounds;if(sh(N)){var Z=N.label,re=function tx(r,s,a){return Ro(_o(vp(r,s,a),r))}(function(ae,de){var ce;if(de.length)return sw(ae,(ce=ae,fe(de.map(function(Ie){return{line:Ie,distance:gS(ce,Ie)}}),"distance")[0].line))}(Jt(Z),[[{x:(b=G).x,y:b.y},{x:b.x+(b.width||0),y:b.y}],[{x:b.x+(b.width||0),y:b.y},{x:b.x+(b.width||0),y:b.y+(b.height||0)}],[{x:b.x,y:b.y+(b.height||0)},{x:b.x+(b.width||0),y:b.y+(b.height||0)}],[{x:b.x,y:b.y},{x:b.x,y:b.y+(b.height||0)}]]),G,j);s.moveShape(Z,re)}})}function kb(r,s){function a(c,u){var h=c.context,m=h.connection,b=we({},h.hints),S=h.newWaypoints||m.waypoints,N=h.oldWaypoints;return void 0===b.startChanged&&(b.startChanged=!!b.connectionStart),void 0===b.endChanged&&(b.endChanged=!!b.connectionEnd),ex(u,S,N,b).point}vt.call(this,r),this.postExecute(["connection.layout","connection.updateWaypoints"],function(c){var u=c.context.connection,h=u.outgoing;u.incoming.forEach(function(m){var S=a(c,m.waypoints[m.waypoints.length-1]),N=[].concat(m.waypoints.slice(0,-1),[S]);s.updateWaypoints(m,N)}),h.forEach(function(m){var S=a(c,m.waypoints[0]),N=[].concat([S],m.waypoints.slice(1));s.updateWaypoints(m,N)})}),this.postExecute(["connection.move"],function(c){var u=c.context,h=u.connection,m=h.outgoing,S=u.delta;h.incoming.forEach(function(N){var j=N.waypoints[N.waypoints.length-1],G={x:j.x+S.x,y:j.y+S.y},Z=[].concat(N.waypoints.slice(0,-1),[G]);s.updateWaypoints(N,Z)}),m.forEach(function(N){var j=N.waypoints[0],Z=[].concat([{x:j.x+S.x,y:j.y+S.y}],N.waypoints.slice(1));s.updateWaypoints(N,Z)})})}function yp(r,s,a){var c=nc(r),u=Hn(c,s),h=c[0];return u.length?u[u.length-1]:vp(h.original||h,a,s)}function Ab(r,s,a){var c=nc(r),u=Hn(c,s),h=c[c.length-1];return u.length?u[0]:vp(h.original||h,a,s)}function Ob(r,s,a){var c=nc(r),u=nx(s,a),h=c[0];return vp(h.original||h,u,s)}function tc(r,s,a){var c=nc(r),u=nx(s,a),h=c[c.length-1];return vp(h.original||h,u,s)}function nx(r,s){return{x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}function nc(r){var s=r.waypoints;if(!s.length)throw new Error("connection#"+r.id+": no waypoints");return s}function Hn(r,s){return p(L(r,US),function(a){return"intersect"===dr(s,a,1)})}function US(r){return r.original||r}function iu(r,s){vt.call(this,r),this.postExecute("shape.replace",function(a){var j,G,c=a.oldShape,u=a.newShape;if(G=u,me(j=c,"bpmn:Participant")&&Rn(j)&&me(G,"bpmn:Participant")&&!Rn(G)){var h,m,b,S,N=(m=Zs([h=c],!1),b=[],S=[],m.forEach(function(j){j!==h&&(j.incoming.forEach(function(G){me(G,"bpmn:MessageFlow")&&b.push(G)}),j.outgoing.forEach(function(G){me(G,"bpmn:MessageFlow")&&S.push(G)}))},[]),{incoming:b,outgoing:S});N.incoming.forEach(function(j){var G=Ab(j,u,c);s.reconnectEnd(j,u,G)}),N.outgoing.forEach(function(j){var G=yp(j,u,c);s.reconnectStart(j,u,G)})}},!0)}function El(r,s,a){r.on(["shape.move.rejected","create.rejected"],function(c){var u,h,b=c.context,S=b.shape;me(b.target,"bpmn:Collaboration")&&me(S,"bpmn:FlowNode")&&(u=c,h=a("flow elements must be children of pools/participants"),s.add({position:{x:u.x+5,y:u.y+5},type:"error",timeout:2e3,html:"<div>"+h+"</div>"}))})}function Ib(r,s){vt.call(this,r),this.preExecute("shape.resize",function(a){var c=a.shape,u=qn(c),h=u&&u.get("label");h&&h.get("bounds")&&s.updateModdleProperties(c,h,{bounds:void 0})},!0)}function Pb(r,s,a){vt.call(this,r),this.preExecute("shape.delete",function(c){var S,N,j,u=c.context.shape;if(1===u.incoming.length&&1===u.outgoing.length){var h=u.incoming[0],m=u.outgoing[0];if(me(h,"bpmn:SequenceFlow")&&me(m,"bpmn:SequenceFlow")&&s.canConnect(h.source,m.target,h)){var b=(N=m.waypoints,(j=Dg(da((S=h.waypoints)[S.length-2]),da(S[S.length-1]),da(N[1]),da(N[0])))?[].concat(S.slice(0,S.length-1),[j],N.slice(1)):[da(S[0]),da(N[N.length-1])]);a.reconnectEnd(h,m.target,b)}}})}function da(r){return r.original||r}function Rb(r,s){vt.call(this,r),this.preExecute("shape.delete",function(a){var c=a.shape,u=c.parent;me(c,"bpmn:Participant")&&(a.collaborationRoot=u)},!0),this.postExecute("shape.delete",function(a){var c=a.collaborationRoot;c&&!c.businessObject.participants.length&&s.makeProcess()},!0)}function bp(r,s,a,c){vt.call(this,r);var u=c.get("dragging",!1);function h(m){var b,S,N=m.source,j=m.target;m.parent&&(me(m,"bpmn:SequenceFlow")&&(a.canConnectSequenceFlow(N,j)||(S=!0),a.canConnectMessageFlow(N,j)&&(b="bpmn:MessageFlow")),me(m,"bpmn:MessageFlow")&&(a.canConnectMessageFlow(N,j)||(S=!0),a.canConnectSequenceFlow(N,j)&&(b="bpmn:SequenceFlow")),me(m,"bpmn:Association")&&!a.canConnectAssociation(N,j)&&(S=!0),S&&s.removeConnection(m),b&&s.connect(N,j,{type:b,waypoints:m.waypoints.slice()}))}this.postExecuted("elements.move",function(m){y(m.closure.allConnections,h)},!0),this.preExecute("connection.reconnect",function(m){var b,S,J,re,ae,de,se,N=m.context,j=N.connection,G=N.newSource||j.source,Z=N.newTarget||j.target;(b=a.canConnect(G,Z))&&b.type!==j.type&&(S=s.connect(G,Z,{type:b.type,waypoints:j.waypoints.slice()}),s.removeConnection(j),N.connection=S,u&&(J=j,re=S,!(se=(de=u.context())&&de.payload.previousSelection)||!se.length||-1!==(ae=se.indexOf(J))&&se.splice(ae,1,re)))}),this.postExecuted("element.updateProperties",function(m){var b,S=m.context,N=S.properties,j=S.element,G=j.businessObject;N.default&&(b=_(j.outgoing,Ce({id:j.businessObject.default.id})))&&s.updateProperties(b,{conditionExpression:void 0}),N.conditionExpression&&G.sourceRef.default===G&&s.updateProperties(j.source,{default:void 0})})}function Kc(r,s,a,c,u,h){c.invoke(vt,this),this._bpmnReplace=r,this._elementRegistry=a,this._selection=h,this.postExecuted(["elements.create"],500,function(m){var b=m.context,S=b.parent,N=b.elements,j=v(N,function(G,Z){var J=s.canReplace([Z],Z.host||Z.parent||S);return J?G.concat(J.replacements):G},[]);j.length&&this._replaceElements(N,j)},this),this.postExecuted(["elements.move"],500,function(m){var b=m.context,S=b.newParent,N=b.newHost,j=[];y(b.closure.topLevel,function(Z){j=Bo(Z)?j.concat(Z.children):j.concat(Z)}),1===j.length&&N&&(S=N);var G=s.canReplace(j,S);G&&this._replaceElements(j,G.replacements,N)},this),this.postExecute(["shape.replace"],1500,function(m){var b,S=m.context,G=S.oldShape.attachers;G&&G.length&&(b=s.canReplace(G,S.newShape),this._replaceElements(G,b.replacements))},this),this.postExecuted(["shape.replace"],1500,function(m){var b=m.context,S=b.oldShape,N=b.newShape;u.unclaimId(S.businessObject.id,S.businessObject),u.updateProperties(N,{id:S.id})})}W(Tb,vt),Tb.$inject=["eventBus","modeling","bpmnFactory","textRenderer"],W(kb,vt),kb.$inject=["eventBus","modeling"],iu.$inject=["eventBus","modeling"],W(iu,vt),El.$inject=["eventBus","tooltips","translate"],W(Ib,vt),Ib.$inject=["eventBus","modeling"],W(Pb,vt),Pb.$inject=["eventBus","bpmnRules","modeling"],Rb.$inject=["eventBus","modeling"],W(Rb,vt),W(bp,vt),bp.$inject=["eventBus","modeling","bpmnRules","injector"],W(Kc,vt),Kc.prototype._replaceElements=function(r,s){var a=this._elementRegistry,c=this._bpmnReplace,u=this._selection;y(s,function(h){var m={type:h.newElementType},b=a.get(h.oldElementId),S=r.indexOf(b);r[S]=c.replaceElement(b,m,{select:!1})}),s&&u.select(r)},Kc.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var ix={width:140,height:120},ru=60,vs={width:300,height:150},ou={width:140,height:120},Nb={width:50,height:30};function _p(r){r.on("resize.start",1500,function(s){var m,b,S,N,j,G,Z,J,re,ae,a=s.context,c=a.shape,u=a.direction,h=a.balanced;(me(c,"bpmn:Lane")||me(c,"bpmn:Participant"))&&(a.resizeConstraints=(b=u,S=h,N=Na(m=c),j=!0,G=!0,Z=dg(N,[N]),J=Ut(m),re={},ae={},/e/.test(b)?ae.right=J.left+300:/w/.test(b)&&(ae.left=J.right-300),Z.forEach(function(se){var ce=Ut(se);/n/.test(b)&&(ce.top<J.top-10&&(j=!1),S&&su(J.top-ce.bottom)<10&&Ng(re,"top",ce.top+ru),su(J.top-ce.top)<5&&Rg(ae,"top",ce.bottom-ru)),/s/.test(b)&&(ce.bottom>J.bottom+10&&(G=!1),S&&su(J.bottom-ce.top)<10&&Rg(re,"bottom",ce.bottom-ru),su(J.bottom-ce.bottom)<5&&Ng(ae,"bottom",ce.top+ru))}),N.children.filter(function(se){return!se.hidden&&!se.waypoints&&(me(se,"bpmn:FlowElement")||me(se,"bpmn:Artifact"))}).forEach(function(se){var ce=Ut(se);j&&/n/.test(b)&&Rg(ae,"top",ce.top-20),/e/.test(b)&&Ng(ae,"right",ce.right+20),G&&/s/.test(b)&&Ng(ae,"bottom",ce.bottom+20),/w/.test(b)&&Rg(ae,"left",ce.left-50)}),{min:ae,max:re})),me(c,"bpmn:Participant")&&(a.minDimensions=vs),me(c,"bpmn:SubProcess")&&Rn(c)&&(a.minDimensions=ou),me(c,"bpmn:TextAnnotation")&&(a.minDimensions=Nb)})}_p.$inject=["eventBus"];var su=Math.abs,rx=Math.min,ox=Math.max;function sx(r,s,a,c){var u=r[s];r[s]=void 0===u?a:c(a,u)}function Rg(r,s,a){return sx(r,s,a,rx)}function Ng(r,s,a){return sx(r,s,a,ox)}function ax(r,s){r.on("resize.start",1501,function(a){var c=a.context,u=c.shape;(me(u,"bpmn:Lane")||me(u,"bpmn:Participant"))&&(c.balanced=!z(a))}),r.on("resize.end",1001,function(a){var c=a.context,u=c.shape,h=c.canExecute,m=c.newBounds;if(me(u,"bpmn:Lane")||me(u,"bpmn:Participant"))return h&&(m=Dc(m),s.resizeLane(u,m,c.balanced)),!1})}function Fb(r,s,a,c,u){function h(N){return jn(N,["bpmn:ReceiveTask","bpmn:SendTask"])||(j=N,T(G=["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])||(G=[G]),M(G,function(Z){return oh(j,Z)}));var j,G}function m(N){return!!_(r.getDefinitions().get("rootElements"),Ce({id:N.id}))}function b(N){return me(N,"bpmn:ErrorEventDefinition")?"errorRef":me(N,"bpmn:EscalationEventDefinition")?"escalationRef":me(N,"bpmn:MessageEventDefinition")?"messageRef":me(N,"bpmn:SignalEventDefinition")?"signalRef":void 0}function S(N){if(jn(N,["bpmn:ReceiveTask","bpmn:SendTask"]))return N.get("messageRef");var j=N.get("eventDefinitions")[0];return j.get(b(j))}a.invoke(vt,this),this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],function(N){var j=N.shape||N.element;if(h(j)){var G=S(_t(j));G&&!m(G)&&(Si(r.getDefinitions().get("rootElements"),G),N.addedRootElement=G)}},!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],function(N){var j=N.addedRootElement;j&&Je(r.getDefinitions().get("rootElements"),j)},!0),s.on("copyPaste.copyElement",function(N){var j=N.descriptor,G=N.element;if(!G.labelTarget&&h(G)){var Z=S(_t(G));Z&&(j.referencedRootElement=Z)}}),s.on("copyPaste.pasteElement",500,function(N){var j=N.descriptor,G=j.businessObject,Z=j.referencedRootElement;Z&&(m(Z)||(Z=c.copyElement(Z,u.create(Z.$type))),function(J,re){if(jn(J,["bpmn:ReceiveTask","bpmn:SendTask"]))return J.set("messageRef",re);var ae=J.get("eventDefinitions")[0];ae.set(b(ae),re)}(G,Z),delete j.referencedRootElement)})}ax.$inject=["eventBus","modeling"],Fb.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],W(Fb,vt);var WS=Math.max;function Lb(r){r.on("spaceTool.getMinDimensions",function(s){var c=s.axis,u=s.start,h={};return y(s.shapes,function(m){var b=m.id;me(m,"bpmn:Participant")&&(h[b]="x"===c?vs:{width:vs.width,height:Lh(m,u)}),me(m,"bpmn:SubProcess")&&Rn(m)&&(h[b]=ou),me(m,"bpmn:TextAnnotation")&&(h[b]=Nb),me(m,"bpmn:Group")&&(h[b]=ix)}),h})}function Lh(r,s){var c,u,h;return qd(r).length?(u=s,h=Cl(qd(c=r),u),WS(vs.height,c.height-h.height+ru)):vs.height}function Cl(r,s){var a,c,u;for(a=0;a<r.length;a++)if(s>=(c=r[a]).y&&s<=c.y+c.height)return(u=qd(c)).length?Cl(u,s):c}Lb.$inject=["eventBus"];function au(r,s,a,c,u,h,m){vt.call(this,s),this._canvas=r,this._eventBus=s,this._modeling=a,this._elementFactory=c,this._bpmnFactory=u,this._bpmnjs=h,this._elementRegistry=m;var b=this;function S(G){return me(G,"bpmn:SubProcess")&&!Rn(G)}function N(G){var J=G.newRootElement,re=_t(G.shape);J=b._addDiagram(J||re),G.newRootElement=r.addRootElement(J)}function j(G){var Z=_t(G.shape);b._removeDiagram(Z);var J=G.newRootElement=m.get(Ur(Z));r.removeRootElement(J)}this.executed("shape.create",function(G){S(G.shape)&&N(G)},!0),this.postExecuted("shape.create",function(G){var Z=G.shape,J=G.newRootElement;J&&Z.children&&(b._showRecursively(Z.children),b._moveChildrenToShape(Z,J))},!0),this.reverted("shape.create",function(G){S(G.shape)&&j(G)},!0),this.preExecuted("shape.delete",function(G){var Z=G.shape;if(S(Z)){var J=m.get(Ur(Z));J&&a.removeElements(J.children.slice())}},!0),this.executed("shape.delete",function(G){S(G.shape)&&j(G)},!0),this.reverted("shape.delete",function(G){S(G.shape)&&N(G)},!0),this.preExecuted("shape.replace",function(G){var Z=G.oldShape,J=G.newShape;S(Z)&&S(J)&&(G.oldRoot=r.removeRootElement(Ur(Z)))},!0),this.postExecuted("shape.replace",function(G){var J=G.oldRoot,re=r.findRoot(Ur(G.newShape));J&&re&&a.moveElements(J.children,{x:0,y:0},re)},!0),this.executed("element.updateProperties",function(G){var Z=G.element;if(me(Z,"bpmn:SubProcess")){var re=G.oldProperties.id,ae=G.properties.id;if(re!==ae){if($r(Z))return m.updateId(Z,bo(ae)),void m.updateId(re,ae);m.get(bo(re))&&m.updateId(bo(re),bo(ae))}}},!0),this.reverted("element.updateProperties",function(G){var Z=G.element;if(me(Z,"bpmn:SubProcess")){var re=G.oldProperties.id,ae=G.properties.id;if(re!==ae){if($r(Z))return m.updateId(Z,bo(re)),void m.updateId(ae,re);var de=m.get(bo(ae));de&&m.updateId(de,bo(re))}}},!0),s.on("element.changed",function(G){var Z=G.element;if($r(Z)){var J=Z,re=m.get(gi(J));re&&re!==J&&s.fire("element.changed",{element:re})}}),this.executed("shape.toggleCollapse",400,function(G){var Z=G.shape;me(Z,"bpmn:SubProcess")&&(Rn(Z)?j(G):(N(G),b._showRecursively(Z.children)))},!0),this.reverted("shape.toggleCollapse",400,function(G){var Z=G.shape;me(Z,"bpmn:SubProcess")&&(Rn(Z)?j(G):(N(G),b._showRecursively(Z.children)))},!0),this.postExecuted("shape.toggleCollapse",600,function(G){var Z=G.shape;if(me(Z,"bpmn:SubProcess")){var J=G.newRootElement;J&&(Rn(Z)?b._moveChildrenToShape(J,Z):b._moveChildrenToShape(Z,J))}},!0),s.on("copyPaste.createTree",function(G){var Z=G.element,J=G.children;if(S(Z)){var re=Ur(Z),ae=m.get(re);ae&&J.push.apply(J,ae.children)}}),s.on("copyPaste.copyElement",function(G){var Z=G.descriptor,re=G.elements,ae=G.element.parent;if(me(qn(ae),"bpmndi:BPMNPlane")){var de=gi(ae),se=_(re,function(ce){return ce.id===de});se&&(Z.parent=se.id)}}),s.on("copyPaste.pasteElement",function(G){var Z=G.descriptor;Z.parent&&(S(Z.parent)||Z.parent.hidden)&&(Z.hidden=!0)})}function lx(r,s){r.invoke(vt,this),this.postExecuted("shape.replace",function(a){var c=a.context.oldShape,u=a.context.newShape;if(me(u,"bpmn:SubProcess")&&(me(c,"bpmn:Task")||me(c,"bpmn:CallActivity"))&&Rn(u)){var h,m={x:(h=u).x+h.width/6,y:h.y+h.height/2};s.createShape({type:"bpmn:StartEvent"},m,u)}})}function Fg(r,s){vt.call(this,r),this.postExecuted("shape.toggleCollapse",1500,function(a){var c=a.shape;if(!Rn(c)){var u=Zs(c);u.forEach(function(m){var b=m.incoming.slice(),S=m.outgoing.slice();y(b,function(N){h(N,!0)}),y(S,function(N){h(N,!1)})})}function h(m,b){-1!==u.indexOf(m.source)&&-1!==u.indexOf(m.target)||(b?s.reconnectEnd(m,c,Jt(c)):s.reconnectStart(m,c,Jt(c)))}},!0)}function cx(r,s,a){vt.call(this,r),this.executed(["shape.toggleCollapse"],500,function(c){var u,h=c.context.shape;me(h,"bpmn:SubProcess")&&(h.collapsed?qn(h).isExpanded=!1:((u=h.children).length&&u.forEach(function(m){"label"!==m.type||m.businessObject.name||(m.hidden=!0)}),qn(h).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],500,function(c){var u=c.context.shape;qn(u).isExpanded=!u.collapsed}),this.postExecuted(["shape.toggleCollapse"],500,function(c){var u,b,S,h=c.context.shape,m=s.getDefaultSize(h);u=h.collapsed?{x:(b=h).x+(b.width-(S=m).width)/2,y:b.y+(b.height-S.height)/2,width:S.width,height:S.height}:function(b,S){var j,G,J=S;return(j=kw((G=b.children,G.filter(function(re){return!re.hidden})).concat([b])))?(J.width=Math.max(j.width,J.width),J.height=Math.max(j.height,J.height),J.x=j.x+(j.width-J.width)/2,J.y=j.y+(j.height-J.height)/2):(J.x=b.x+(b.width-J.width)/2,J.y=b.y+(b.height-J.height)/2),J}(h,m),a.resizeShape(h,u,null,{autoResize:!h.collapsed&&"nwse"})})}function Lg(r,s,a,c){s.invoke(vt,this),this.preExecute("shape.delete",function(u){var h=u.context.shape,m=h.businessObject;Zn(h)||(me(h,"bpmn:Participant")&&Rn(h)&&a.ids.unclaim(m.processRef.id),c.unclaimId(m.id,m))}),this.preExecute("connection.delete",function(u){var h=u.context.connection.businessObject;c.unclaimId(h.id,h)}),this.preExecute("canvas.updateRoot",function(){var u=r.getRootElement(),h=u.businessObject;me(u,"bpmn:Collaboration")&&a.ids.unclaim(h.id)})}function Bh(r,s){vt.call(this,r),this.preExecute("connection.delete",function(a){var c=a.context.connection,u=c.source;(function(h,m){if(!me(h,"bpmn:SequenceFlow"))return!1;var b=_t(m),S=_t(h);return b.get("default")===S})(c,u)&&s.updateProperties(u,{default:null})})}function Bg(r,s,a){var c;vt.call(this,r);var h=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(h,5e3,function(m){(c=c||new dx).enter()}),this.postExecuted(h,500,function(m){!function(){if(!c)throw new Error(a("out of bounds release"));c.leave()&&(s.updateLaneRefs(c.flowNodes,c.lanes),c=null)}()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(m){var b=m.context.shape,S=function u(){if(!c)throw new Error(a("out of bounds release"));return c}();b.labelTarget||(me(b,"bpmn:Lane")&&S.addLane(b),me(b,"bpmn:FlowNode")&&S.addFlowNode(b))})}function dx(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(r){this.lanes.push(r)},this.addFlowNode=function(r){this.flowNodes.push(r)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}W(au,vt),au.prototype._moveChildrenToShape=function(r,s){var a,c=this._modeling,u=r.children;if(u){var h=(u=u.concat(u.reduce(function(N,j){return j.label&&j.label.parent!==r?N.concat(j.label):N},[]))).filter(function(N){return!N.hidden});if(h.length){var m=qt(h);if(s.x){var b=Jt(s),S=Jt(m);a={x:b.x-S.x,y:b.y-S.y}}else a={x:180-m.x,y:160-m.y};c.moveElements(u,a,s,{autoResize:!1})}else c.moveElements(u,{x:0,y:0},s,{autoResize:!1})}},au.prototype._showRecursively=function(r,s){var a=this,c=[];return r.forEach(function(u){u.hidden=!!s,c=c.concat(u),u.children&&(c=c.concat(a._showRecursively(u.children,u.collapsed||s)))}),c},au.prototype._addDiagram=function(r){var s=this._bpmnjs.getDefinitions().diagrams;return r.businessObject||(r=this._createNewDiagram(r)),s.push(r.di.$parent),r},au.prototype._createNewDiagram=function(r){var s=this._bpmnFactory,a=this._elementFactory,c=s.create("bpmndi:BPMNPlane",{bpmnElement:r}),u=s.create("bpmndi:BPMNDiagram",{plane:c});return c.$parent=u,a.createRoot({id:Ur(r),type:r.$type,di:c,businessObject:r,collapsed:!0})},au.prototype._removeDiagram=function(r){var s=this._bpmnjs.getDefinitions().diagrams,a=_(s,function(c){return c.plane.bpmnElement.id===r.id});return s.splice(s.indexOf(a),1),a},au.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"],lx.$inject=["injector","modeling"],W(lx,vt),W(Fg,vt),Fg.$inject=["eventBus","modeling"],W(cx,vt),cx.$inject=["eventBus","elementFactory","modeling"],W(Lg,vt),Lg.$inject=["canvas","injector","moddle","modeling"],W(Bh,vt),Bh.$inject=["eventBus","modeling"],Bg.$inject=["eventBus","modeling","translate"],W(Bg,vt);var ux={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","modelingFeedback","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior"],adaptiveLabelPositioningBehavior:["type",bb],appendBehavior:["type",$c],associationBehavior:["type",wb],attachEventBehavior:["type",xg],boundaryEventBehavior:["type",hp],createBehavior:["type",Rh],createDataObjectBehavior:["type",xb],createParticipantBehavior:["type",gs],dataInputAssociationBehavior:["type",Sb],dataStoreBehavior:["type",Ww],deleteLaneBehavior:["type",Gw],detachEventBehavior:["type",tu],dropOnFlowBehavior:["type",fp],eventBasedGatewayBehavior:["type",pp],fixHoverBehavior:["type",mp],groupBehavior:["type",nu],importDockingFix:["type",Mg],isHorizontalFix:["type",Kw],labelBehavior:["type",Tb],layoutConnectionBehavior:["type",kb],messageFlowBehavior:["type",iu],modelingFeedback:["type",El],removeElementBehavior:["type",Pb],removeEmbeddedLabelBoundsBehavior:["type",Ib],removeParticipantBehavior:["type",Rb],replaceConnectionBehavior:["type",bp],replaceElementBehaviour:["type",Kc],resizeBehavior:["type",_p],resizeLaneBehavior:["type",ax],rootElementReferenceBehavior:["type",Fb],spaceToolBehavior:["type",Lb],subProcessPlaneBehavior:["type",au],subProcessStartEventBehavior:["type",lx],toggleCollapseConnectionBehaviour:["type",Fg],toggleElementCollapseBehaviour:["type",cx],unclaimIdBehavior:["type",Lg],unsetDefaultFlowBehavior:["type",Bh],updateFlowNodeRefsBehavior:["type",Bg]};function Tn(r,s){var a=dr(r,s,-15);return"intersect"!==a?a:null}function yt(r){oa.call(this,r)}function zg(r){return!r||Zn(r)}function YS(r){do{if(me(r,"bpmn:Process"))return _t(r);if(me(r,"bpmn:Participant"))return _t(r).processRef||_t(r)}while(r=r.parent)}function Bb(r){return me(r,"bpmn:TextAnnotation")}function Vg(r){return me(r,"bpmn:Group")&&!r.labelTarget}function zb(r){return me(r,"bpmn:BoundaryEvent")&&Sl(r,"bpmn:CompensateEventDefinition")}function zh(r){return _t(r).isForCompensation}function Vb(r){for(var s=r;s=s.parent;){if(me(s,"bpmn:FlowElementsContainer"))return _t(s);if(me(s,"bpmn:Participant"))return _t(s).processRef}return null}function Sl(r,s){return!!_(_t(r).eventDefinitions||[],function(a){return me(a,s)})}function Hb(r,s){return(_t(r).eventDefinitions||[]).every(function(a){return me(a,s)})}function jb(r,s){return-1!==function(c){for(var u=[];c;)(c=c.parent)&&u.push(c);return u}(s).indexOf(r)}function Hg(r,s,a){if(zg(r)||zg(s))return null;if(!me(a,"bpmn:DataAssociation")){if(Ug(r,s))return{type:"bpmn:MessageFlow"};if($g(r,s))return{type:"bpmn:SequenceFlow"}}return Sp(r,s)||(zb(r)&&zh(s)?{type:"bpmn:Association",associationDirection:"One"}:!!Ub(r,s)&&{type:"bpmn:Association"})}function wp(r,s){return!(!Zn(r)&&!Vg(r))||!(me(s,"bpmn:Participant")&&!Rn(s))&&(me(r,"bpmn:Participant")?me(s,"bpmn:Process")||me(s,"bpmn:Collaboration"):jn(r,["bpmn:DataInput","bpmn:DataOutput"])&&r.parent?s===r.parent:me(r,"bpmn:Lane")?me(s,"bpmn:Participant")||me(s,"bpmn:Lane"):!(me(r,"bpmn:BoundaryEvent")&&(a=r,!_t(a).cancelActivity||!ys(a)&&!Re(a)))&&(me(r,"bpmn:FlowElement")&&!me(r,"bpmn:DataStoreReference")?me(s,"bpmn:FlowElementsContainer")?Rn(s):jn(s,["bpmn:Participant","bpmn:Lane"]):me(r,"bpmn:DataStoreReference")&&me(s,"bpmn:Collaboration")?M(_t(s).get("participants"),function(a){return!!a.get("processRef")}):jn(r,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?jn(s,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!me(r,"bpmn:MessageFlow")&&(me(s,"bpmn:Collaboration")||r.source.parent==s||r.target.parent==s)));var a}function hx(r){return me(r,"bpmn:Lane")}function ys(r){var s=_t(r);return s&&!(s.eventDefinitions&&s.eventDefinitions.length)}function Re(r){return jg(r,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function jg(r,s){return s.some(function(a){return Sl(r,a)})}function xp(r,s,a,c){if(Array.isArray(r)||(r=[r]),1!==r.length)return!1;var h,u=r[0];return!Zn(u)&&!!function fx(r){return!!function(s){return!Zn(s)&&me(s,"bpmn:BoundaryEvent")}(r)||!(!me(r,"bpmn:IntermediateThrowEvent")||!ys(r))||me(r,"bpmn:IntermediateCatchEvent")&&Re(r)}(u)&&!Bo(s)&&!(!me(s,"bpmn:Activity")||zh(s))&&!(c&&!Tn(c,s))&&!(me(h=s,"bpmn:ReceiveTask")&&_(h.incoming,function(m){return me(m.source,"bpmn:EventBasedGateway")}))&&"attach"}function Ep(r,s,a){if(!s)return!1;var c={replacements:[]};return y(r,function(u){var h;Bo(s)||me(u,"bpmn:StartEvent")&&"label"!==u.type&&wp(u,s)&&((h=u)&&!1!==_t(h).isInterrupting||c.replacements.push({oldElementId:u.id,newElementType:"bpmn:StartEvent"}),(function(h){return oh(h,"bpmn:ErrorEventDefinition")}(u)||function(h){return oh(h,"bpmn:EscalationEventDefinition")}(u)||function(h){return oh(h,"bpmn:CompensateEventDefinition")}(u))&&c.replacements.push({oldElementId:u.id,newElementType:"bpmn:StartEvent"}),jg(u,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&me(s,"bpmn:SubProcess")&&c.replacements.push({oldElementId:u.id,newElementType:"bpmn:StartEvent"})),me(s,"bpmn:Transaction")||Sl(u,"bpmn:CancelEventDefinition")&&"label"!==u.type&&(me(u,"bpmn:EndEvent")&&wp(u,s)&&c.replacements.push({oldElementId:u.id,newElementType:"bpmn:EndEvent"}),me(u,"bpmn:BoundaryEvent")&&xp(u,s,0,a)&&c.replacements.push({oldElementId:u.id,newElementType:"bpmn:BoundaryEvent"}))}),!!c.replacements.length&&c}function lu(r,s){return!M(r,hx)&&(!s||r.every(function(a){return wp(a,s)}))}function Cp(r,s,a,c){return!!s&&(!(!Zn(r)&&!Vg(r))||!(a===s||a&&jb(a,s))&&(wp(r,s)||Dp(r,s)))}function Vh(r,s){return me(r,"bpmn:SubProcess")?Rn(r)&&(!s||s.width>=100&&s.height>=80):me(r,"bpmn:Lane")?!s||s.width>=130&&s.height>=60:me(r,"bpmn:Participant")?!s||s.width>=250&&s.height>=50:!!Bb(r)||!!Vg(r)}function Ub(r,s){return!(!zb(r)||!zh(s))||!jb(s,r)&&!jb(r,s)&&(c=s,u=Bb(r),h=Bb(c),!(!u&&!h||u===h)||!!Sp(r,s));var c,u,h}function Ug(r,s){return!(px(r)&&!px(s))&&me(a=r,"bpmn:InteractionNode")&&!me(a,"bpmn:BoundaryEvent")&&(!me(a,"bpmn:Event")||me(a,"bpmn:ThrowEvent")&&Hb(a,"bpmn:MessageEventDefinition"))&&me(c=s,"bpmn:InteractionNode")&&!zh(c)&&(!me(c,"bpmn:Event")||me(c,"bpmn:CatchEvent")&&Hb(c,"bpmn:MessageEventDefinition"))&&!(me(c,"bpmn:BoundaryEvent")&&!Sl(c,"bpmn:MessageEventDefinition"))&&!function(c,u){return YS(c)===YS(u)}(r,s);var c,a}function $g(r,s){return me(a=r,"bpmn:FlowNode")&&!me(a,"bpmn:EndEvent")&&!Bo(a)&&!(me(a,"bpmn:IntermediateThrowEvent")&&Sl(a,"bpmn:LinkEventDefinition"))&&!zb(a)&&!zh(a)&&me(c=s,"bpmn:FlowNode")&&!me(c,"bpmn:StartEvent")&&!me(c,"bpmn:BoundaryEvent")&&!Bo(c)&&!(me(c,"bpmn:IntermediateCatchEvent")&&Sl(c,"bpmn:LinkEventDefinition"))&&!zh(c)&&function(c,u){return Vb(c)===Vb(u)}(r,s)&&!(me(r,"bpmn:EventBasedGateway")&&!function(c){return me(c,"bpmn:ReceiveTask")||me(c,"bpmn:IntermediateCatchEvent")&&(Sl(c,"bpmn:MessageEventDefinition")||Sl(c,"bpmn:TimerEventDefinition")||Sl(c,"bpmn:ConditionalEventDefinition")||Sl(c,"bpmn:SignalEventDefinition"))}(s));var c,a}function Sp(r,s){return jn(r,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&jn(s,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!jn(s,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!jn(r,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function Dp(r,s,a){if(!s)return!1;if(Array.isArray(r)){if(1!==r.length)return!1;r=r[0]}return s.source!==r&&s.target!==r&&jn(s,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!Zn(s)&&me(r,"bpmn:FlowNode")&&!me(r,"bpmn:BoundaryEvent")&&wp(r,s.parent)}function Wg(r,s){return!!Zn(s)||!(me(s,"bpmn:Lane")&&(a=r,c=s.parent,!a||!c||-1===a.indexOf(c)));var a,c}function px(r){return Wf(r,"bpmn:Process")||Wf(r,"bpmn:Collaboration")}W(yt,oa),yt.$inject=["eventBus"],yt.prototype.init=function(){this.addRule("connection.start",function(r){return function(s){return zg(s)?null:jn(s,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}(r.source)}),this.addRule("connection.create",function(r){var s=r.source,a=r.target,c=r.hints||{},u=c.targetParent;if(c.targetAttach)return!1;u&&(a.parent=u);try{return Hg(s,a)}finally{u&&(a.parent=null)}}),this.addRule("connection.reconnect",function(r){return Hg(r.source,r.target,r.connection)}),this.addRule("connection.updateWaypoints",function(r){return{type:r.connection.type}}),this.addRule("shape.resize",function(r){return Vh(r.shape,r.newBounds)}),this.addRule("elements.create",function(r){var s=r.elements,a=r.position,c=r.target;return!(ji(c)&&!Dp(s,c))&&w(s,function(u){return ji(u)?Hg(u.source,u.target,u):u.host?xp(u,u.host,0,a):Cp(u,c,null)})}),this.addRule("elements.move",function(r){var s=r.target,a=r.shapes,c=r.position;return xp(a,s,0,c)||Ep(a,s,c)||lu(a,s)||Dp(a,s)}),this.addRule("shape.create",function(r){return Cp(r.shape,r.target,r.source)}),this.addRule("shape.attach",function(r){return xp(r.shape,r.target,0,r.position)}),this.addRule("element.copy",function(r){return Wg(r.elements,r.element)})},yt.prototype.canConnectMessageFlow=Ug,yt.prototype.canConnectSequenceFlow=$g,yt.prototype.canConnectDataAssociation=Sp,yt.prototype.canConnectAssociation=Ub,yt.prototype.canMove=lu,yt.prototype.canAttach=xp,yt.prototype.canReplace=Ep,yt.prototype.canDrop=wp,yt.prototype.canInsert=Dp,yt.prototype.canCreate=Cp,yt.prototype.canConnect=Hg,yt.prototype.canResize=Vh,yt.prototype.canCopy=Wg;var KS={__depends__:[_l],__init__:["bpmnRules"],bpmnRules:["type",yt]};function mx(r,s){r.on("saveXML.start",2e3,function(){y(s.getRootElements(),function(a){var c,u=qn(a);c=L(p(Zs([a],!1),function(h){return h!==a&&!h.labelTarget}),qn),u.set("planeElement",c)})})}mx.$inject=["eventBus","canvas"];var gx={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",mx]};function Gg(r){vt.call(this,r);var s=this;this.preExecute(["shape.create","connection.create"],function(a){var c=a.context,m=s.getOrdering(c.shape||c.connection,c.parent);m&&(void 0!==m.parent&&(c.parent=m.parent),c.parentIndex=m.index)}),this.preExecute(["shape.move","connection.move"],function(a){var c=a.context,u=c.shape||c.connection,m=s.getOrdering(u,c.newParent||u.parent);m&&(void 0!==m.parent&&(c.newParent=m.parent),c.newParentIndex=m.index)})}function $b(r,s,a){Gg.call(this,r);var c=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function u(h){var m=h.order;if(m||(h.order=m=function(b){if(b.labelTarget)return{level:10};var S=_(c,function(N){return jn(b,[N.type])});return S&&S.order||{level:1}}(h)),!m)throw new Error("no order for <"+h.id+">");return m}this.getOrdering=function(h,m){if(h.labelTarget)return{parent:s.findRoot(m)||s.getRootElement(),index:-1};var b=u(h);b.containers&&(m=function(j,G,Z){for(var J=G;J&&!jn(J,Z);)J=J.parent;if(!J)throw new Error("no parent for <"+j.id+"> in <"+(G&&G.id)+">");return J}(h,m,b.containers));var S=m.children.indexOf(h),N=g(m.children,function(j){return!(!h.labelTarget&&j.labelTarget)&&b.level<u(j).level});return-1!==N&&-1!==S&&S<N&&(N-=1),{index:N,parent:m}}}Gg.prototype.getOrdering=function(r,s){return null},W(Gg,vt),$b.$inject=["eventBus","canvas","translate"],W($b,Gg);var XS={__depends__:[Rr],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",$b]};function cu(r,s){this._eventBus=r,this._dragging=s,this._tools=[],this._active=null}cu.$inject=["eventBus","dragging"],cu.prototype.registerTool=function(r,s){var a=this._tools;if(!s)throw new Error('A tool has to be registered with it\'s "events"');a.push(r),this.bindEvents(r,s)},cu.prototype.isActive=function(r){return r&&this._active===r},cu.prototype.length=function(r){return this._tools.length},cu.prototype.setActive=function(r){var s=this._eventBus;this._active!==r&&(this._active=r,s.fire("tool-manager.update",{tool:r}))},cu.prototype.bindEvents=function(r,s){var a=this._eventBus,c=this._dragging,u=[];a.on(s.tool+".init",function(h){if(!h.context.reactivate&&this.isActive(r))return this.setActive(null),void c.cancel();this.setActive(r)},this),y(s,function(h){u.push(h+".ended"),u.push(h+".canceled")}),a.on(u,250,function(h){var m,b;this._active&&((b=(m=h).originalEvent&&m.originalEvent.target)&&ti(b,'.group[data-group="tools"]')||this.setActive(null))},this)};var Mp={__depends__:[bl],__init__:["toolManager"],toolManager:["type",cu]};function Hh(r,s){return-1!==r.indexOf(s)}var Wb=Math.abs,ZS=Math.round,Mr={x:"width",y:"height"},vx="crosshair",Xc={n:"top",w:"left",s:"bottom",e:"right"},Gb={n:"s",w:"e",s:"n",e:"w"};function bs(r,s,a,c,u,h,m){this._canvas=r,this._dragging=s,this._eventBus=a,this._modeling=c,this._rules=u,this._toolManager=h,this._mouse=m;var b=this;h.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),a.on("spaceTool.selection.end",function(S){a.once("spaceTool.selection.ended",function(){b.activateMakeSpace(S.originalEvent)})}),a.on("spaceTool.move",1500,function(S){var N=S.context,j=N.initialized;j||(j=N.initialized=b.init(S,N)),j&&yx(S)}),a.on("spaceTool.end",function(S){var N=S.context,j=N.axis,G=N.direction,Z=N.movingShapes,J=N.resizingShapes,re=N.start;if(N.initialized){yx(S);var ae={x:0,y:0};ae[j]=ZS(S["d"+j]),b.makeSpace(Z,J,ae,G,re),a.once("spaceTool.ended",function(de){b.activateSelection(de.originalEvent,!0,!0)})}})}function Yb(r){return{top:r.top-20,right:r.right+20,bottom:r.bottom+20,left:r.left-20}}function yx(r){var s,a,c=r.context.spaceToolConstraints;c&&(C(c.left)&&(s=Math.max(r.x,c.left),r.dx=r.dx+s-r.x,r.x=s),C(c.right)&&(s=Math.min(r.x,c.right),r.dx=r.dx+s-r.x,r.x=s),C(c.top)&&(a=Math.max(r.y,c.top),r.dy=r.dy+a-r.y,r.y=a),C(c.bottom)&&(a=Math.min(r.y,c.bottom),r.dy=r.dy+a-r.y,r.y=a))}function du(r,s){return-1!==r.indexOf(s)}bs.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],bs.prototype.activateSelection=function(r,s,a){this._dragging.init(r,"spaceTool.selection",{autoActivate:s,cursor:vx,data:{context:{reactivate:a}},trapClick:!1})},bs.prototype.activateMakeSpace=function(r){this._dragging.init(r,"spaceTool",{autoActivate:!0,cursor:vx,data:{context:{}}})},bs.prototype.makeSpace=function(r,s,a,c,u){return this._modeling.createSpace(r,s,a,c,u)},bs.prototype.init=function(r,s){var a=Wb(r.dx)>Wb(r.dy)?"x":"y",c=r["d"+a],u=r[a]-c;if(Wb(c)<5)return!1;c<0&&(c*=-1),z(r)&&(c*=-1);var h=function(N,j){if("x"===N){if(j>0)return"e";if(j<0)return"w"}if("y"===N){if(j>0)return"s";if(j<0)return"n"}return null}(a,c),m=Zs(this._canvas.getRootElement(),!0),b=this.calculateAdjustments(m,a,c,u);return we(s,b,{axis:a,direction:h,spaceToolConstraints:function(N,j,G,Z,J){var re=N.movingShapes,ae=N.resizingShapes;if(ae.length){var de,se,ce={};return y(ae,function(be){var ve,Ie,Ue,ze,Ve,Ke,$t=be.attachers,wt=be.children,Ze=Ut(be),at=p(wt,function(tt){return!(ji(tt)||Zn(tt)||du(re,tt)||du(ae,tt))}),un=p(wt,function(tt){return!ji(tt)&&!Zn(tt)&&du(re,tt)}),Te=[],ue=[];at.length&&(Ie=Yb(Ut(qt(at))),ve=Z-Ze[Xc[G]]+Ie[Xc[G]],"n"===G?ce.bottom=se=C(se)?Math.min(se,ve):ve:"w"===G?ce.right=se=C(se)?Math.min(se,ve):ve:"s"===G?ce.top=de=C(de)?Math.max(de,ve):ve:"e"===G&&(ce.left=de=C(de)?Math.max(de,ve):ve)),un.length&&(Ue=Yb(Ut(qt(un))),ve=Z-Ue[Xc[Gb[G]]]+Ze[Xc[Gb[G]]],"n"===G?ce.bottom=se=C(se)?Math.min(se,ve):ve:"w"===G?ce.right=se=C(se)?Math.min(se,ve):ve:"s"===G?ce.top=de=C(de)?Math.max(de,ve):ve:"e"===G&&(ce.left=de=C(de)?Math.max(de,ve):ve)),$t&&$t.length&&($t.forEach(function(tt){du(re,tt)?Te.push(tt):ue.push(tt)}),Te.length&&(ze=Ut(qt(Te.map(Jt))),Ve=Ze[Xc[Gb[G]]]-(ze[Xc[Gb[G]]]-Z)),ue.length&&(Ke=Ut(qt(ue.map(Jt)))[Xc[G]]-(Ze[Xc[G]]-Z)),"n"===G?(ve=Math.min(Ve||1/0,Ke||1/0),ce.bottom=se=C(se)?Math.min(se,ve):ve):"w"===G?(ve=Math.min(Ve||1/0,Ke||1/0),ce.right=se=C(se)?Math.min(se,ve):ve):"s"===G?(ve=Math.max(Ve||-1/0,Ke||-1/0),ce.top=de=C(de)?Math.max(de,ve):ve):"e"===G&&(ve=Math.max(Ve||-1/0,Ke||-1/0),ce.left=de=C(de)?Math.max(de,ve):ve));var Fe=J&&J[be.id];Fe&&("n"===G?(ve=Z+be[Mr[j]]-Fe[Mr[j]],ce.bottom=se=C(se)?Math.min(se,ve):ve):"w"===G?(ve=Z+be[Mr[j]]-Fe[Mr[j]],ce.right=se=C(se)?Math.min(se,ve):ve):"s"===G?(ve=Z-be[Mr[j]]+Fe[Mr[j]],ce.top=de=C(de)?Math.max(de,ve):ve):"e"===G&&(ve=Z-be[Mr[j]]+Fe[Mr[j]],ce.left=de=C(de)?Math.max(de,ve):ve))}),ce}}(b,a,h,u,this._eventBus.fire("spaceTool.getMinDimensions",{axis:a,direction:h,shapes:b.resizingShapes,start:u})),start:u}),uh("resize-"+("x"===a?"ew":"ns")),!0},bs.prototype.calculateAdjustments=function(r,s,a,c){var u=this._rules,h=[],m=[],b=[],S=[];function N(G){h.includes(G)||h.push(G);var Z=G.label;Z&&!h.includes(Z)&&h.push(Z)}y(r,function(G){if(G.parent&&!Zn(G))if(ji(G))S.push(G);else{var Z=G[s],J=Z+G[Mr[s]];if(G.host&&(a>0&&Jt(G)[s]>c||a<0&&Jt(G)[s]<c))b.push(G);else{var re;if(!(a>0&&Z>c||a<0&&J<c))return Z<c&&J>c&&u.allowed("shape.resize",{shape:G})?void(m.includes(re=G)||m.push(re)):void 0;N(G)}}}),y(h,function(G){var Z=G.attachers;Z&&y(Z,function(J){N(J)})});var j=h.concat(m);return y(b,function(G){du(j,G.host)&&N(G)}),j=h.concat(m),y(S,function(G){var J=G.target,re=G.label;du(j,G.source)&&du(j,J)&&re&&N(re)}),{movingShapes:h,resizingShapes:m}},bs.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var r=this._mouse.getLastMoveEvent();this.activateSelection(r,!!r)},bs.prototype.isActive=function(){var r=this._dragging.context();return!!r&&/^spaceTool/.test(r.prefix)};var Kb="djs-dragging",Xb="djs-resizing",Yg=Math.max;function bx(r,s,a,c,u){function h(m,b){y(m,function(S){u.addDragger(S,b),a.addMarker(S,Kb)})}r.on("spaceTool.selection.start",function(m){var b=a.getLayer("space"),S=m.context,G=Gt("g");Ot(G,c.cls("djs-crosshair-group",["no-events"])),Qt(b,G);var Z=Gt("path");Ot(Z,"d","M 0,-10000 L 0,10000"),Cn(Z).add("djs-crosshair"),Qt(G,Z);var J=Gt("path");Ot(J,"d","M -10000,0 L 10000,0"),Cn(J).add("djs-crosshair"),Qt(G,J),S.crosshairGroup=G}),r.on("spaceTool.selection.move",function(m){Lo(m.context.crosshairGroup,m.x,m.y)}),r.on("spaceTool.selection.cleanup",function(m){var b=m.context.crosshairGroup;b&&Ni(b)}),r.on("spaceTool.move",250,function(m){var b=m.context,S=b.line,N=b.axis,j=b.movingShapes,G=b.resizingShapes;if(b.initialized){if(!b.dragGroup){var Z=a.getLayer("space");Ot(S=Gt("path"),"d","M0,0 L0,0"),Cn(S).add("djs-crosshair"),Qt(Z,S),b.line=S;var J=Gt("g");Ot(J,c.cls("djs-drag-group",["no-events"])),Qt(a.getActiveLayer(),J),h(j,J),h(b.movingConnections=s.filter(function(se){var ce=!1;y(j,function(Ue){y(Ue.outgoing,function(ze){se===ze&&(ce=!0)})});var be=!1;y(j,function(Ue){y(Ue.incoming,function(ze){se===ze&&(be=!0)})});var ve=!1;y(G,function(Ue){y(Ue.outgoing,function(ze){se===ze&&(ve=!0)})});var Ie=!1;return y(G,function(Ue){y(Ue.incoming,function(ze){se===ze&&(Ie=!0)})}),ji(se)&&(ce||ve)&&(be||Ie)}),J),b.dragGroup=J}if(!b.frameGroup){var re=Gt("g");Ot(re,c.cls("djs-frame-group",["no-events"])),Qt(a.getActiveLayer(),re);var ae=[];y(G,function(se){var ce=u.addFrame(se,re),be=ce.getBBox();ae.push({element:ce,initialBounds:be}),a.addMarker(se,Xb)}),b.frameGroup=re,b.frames=ae}Ot(S,{d:{x:"M"+m.x+", -10000 L"+m.x+", 10000",y:"M -10000, "+m.y+" L 10000, "+m.y}[N]});var de={x:m.dx,y:m.dy};de[{x:"y",y:"x"}[b.axis]]=0,Lo(b.dragGroup,de.x,de.y),y(b.frames,function(se){var ce,be,ve=se.element,Ie=se.initialBounds;Ot(ve,"e"===b.direction?{width:Yg(Ie.width+de.x,5)}:{width:ce=Yg(Ie.width-de.x,5),x:Ie.x+Ie.width-ce}),Ot(ve,"s"===b.direction?{height:Yg(Ie.height+de.y,5)}:{height:be=Yg(Ie.height-de.y,5),y:Ie.y+Ie.height-be})})}}),r.on("spaceTool.cleanup",function(m){var b=m.context,N=b.movingConnections,j=b.resizingShapes,G=b.line,Z=b.dragGroup,J=b.frameGroup;y(b.movingShapes,function(re){a.removeMarker(re,Kb)}),y(N,function(re){a.removeMarker(re,Kb)}),Z&&(Ni(G),Ni(Z)),y(j,function(re){a.removeMarker(re,Xb)}),J&&Ni(J)})}bx.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var Zb={__init__:["spaceToolPreview"],__depends__:[bl,_l,Mp,Jf,Gd],spaceTool:["type",bs],spaceToolPreview:["type",bx]};function Kg(r){r.invoke(bs,this)}Kg.$inject=["injector"],W(Kg,bs),Kg.prototype.calculateAdjustments=function(r,s,a,c){var u=bs.prototype.calculateAdjustments.call(this,r,s,a,c);return u.resizingShapes=u.resizingShapes.filter(function(h){return!me(h,"bpmn:TextAnnotation")}),u};var _x={__depends__:[Zb],spaceTool:["type",Kg]};function or(r,s){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=s,this._eventBus=r,this._uid=1,r.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}or.$inject=["eventBus","injector"],or.prototype.execute=function(r,s){if(!r)throw new Error("command required");this._currentExecution.trigger="execute";const a={command:r,context:s};this._pushAction(a),this._internalExecute(a),this._popAction()},or.prototype.canExecute=function(r,s){const a={command:r,context:s},c=this._getHandler(r);let u=this._fire(r,"canExecute",a);if(void 0===u){if(!c)return!1;c.canExecute&&(u=c.canExecute(s))}return u},or.prototype.clear=function(r){this._stack.length=0,this._stackIdx=-1,!1!==r&&this._fire("changed",{trigger:"clear"})},or.prototype.undo=function(){let r,s=this._getUndoAction();if(s){for(this._currentExecution.trigger="undo",this._pushAction(s);s&&(this._internalUndo(s),r=this._getUndoAction(),r&&r.id===s.id);)s=r;this._popAction()}},or.prototype.redo=function(){let r,s=this._getRedoAction();if(s){for(this._currentExecution.trigger="redo",this._pushAction(s);s&&(this._internalExecute(s,!0),r=this._getRedoAction(),r&&r.id===s.id);)s=r;this._popAction()}},or.prototype.register=function(r,s){this._setHandler(r,s)},or.prototype.registerHandler=function(r,s){if(!r||!s)throw new Error("command and handlerCls must be defined");const a=this._injector.instantiate(s);this.register(r,a)},or.prototype.canUndo=function(){return!!this._getUndoAction()},or.prototype.canRedo=function(){return!!this._getRedoAction()},or.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},or.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},or.prototype._internalUndo=function(r){const s=r.command,a=r.context,c=this._getHandler(s);this._atomicDo(()=>{this._fire(s,"revert",r),c.revert&&this._markDirty(c.revert(a)),this._revertedAction(r),this._fire(s,"reverted",r)})},or.prototype._fire=function(r,s,a){arguments.length<3&&(a=s,s=null);const c=s?[r+"."+s,s]:[r];let u;a=this._eventBus.createEvent(a);for(const h of c)if(u=this._eventBus.fire("commandStack."+h,a),a.cancelBubble)break;return u},or.prototype._createId=function(){return this._uid++},or.prototype._atomicDo=function(r){const s=this._currentExecution;s.atomic=!0;try{r()}finally{s.atomic=!1}},or.prototype._internalExecute=function(r,s){const a=r.command,c=r.context,u=this._getHandler(a);if(!u)throw new Error("no command handler registered for <"+a+">");this._pushAction(r),s||(this._fire(a,"preExecute",r),u.preExecute&&u.preExecute(c),this._fire(a,"preExecuted",r)),this._atomicDo(()=>{this._fire(a,"execute",r),u.execute&&this._markDirty(u.execute(c)),this._executedAction(r,s),this._fire(a,"executed",r)}),s||(this._fire(a,"postExecute",r),u.postExecute&&u.postExecute(c),this._fire(a,"postExecuted",r)),this._popAction()},or.prototype._pushAction=function(r){const s=this._currentExecution,a=s.actions,c=a[0];if(s.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+r.command+")");r.id||(r.id=c&&c.id||this._createId()),a.push(r)},or.prototype._popAction=function(){const r=this._currentExecution,s=r.trigger,a=r.actions,c=r.dirty;a.pop(),a.length||(this._eventBus.fire("elements.changed",{elements:ie("id",c.reverse())}),c.length=0,this._fire("changed",{trigger:s}),r.trigger=null)},or.prototype._markDirty=function(r){const s=this._currentExecution;r&&(r=T(r)?r:[r],s.dirty=s.dirty.concat(r))},or.prototype._executedAction=function(r,s){const a=++this._stackIdx;s||this._stack.splice(a,this._stack.length,r)},or.prototype._revertedAction=function(r){this._stackIdx--},or.prototype._getHandler=function(r){return this._handlerMap[r]},or.prototype._setHandler=function(r,s){if(!r||!s)throw new Error("command and handler required");if(this._handlerMap[r])throw new Error("overriding handler for command <"+r+">");this._handlerMap[r]=s};var QS={commandStack:["type",or]},qS=new ah("tt");function ua(r,s){r.style.display=!1===s?"none":""}var Tp=".djs-tooltip";function ts(r,s){var a,c;this._eventBus=r,this._canvas=s,this._ids=qS,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=(a=s.getContainer(),Mn(c=En('<div class="djs-tooltip-container" />'),{position:"absolute",width:"0",height:"0"}),a.insertBefore(c,a.firstChild),c);var u=this;tr.bind(this._tooltipRoot,Tp,"mousedown",function(h){h.stopPropagation()}),tr.bind(this._tooltipRoot,Tp,"mouseover",function(h){u.trigger("mouseover",h)}),tr.bind(this._tooltipRoot,Tp,"mouseout",function(h){u.trigger("mouseout",h)}),this._init()}ts.$inject=["eventBus","canvas"],ts.prototype.add=function(r){if(!r.position)throw new Error("must specifiy tooltip position");if(!r.html)throw new Error("must specifiy tooltip html");var s=this._ids.next();return r=we({},this._tooltipDefaults,r,{id:s}),this._addTooltip(r),r.timeout&&this.setTimeout(r),s},ts.prototype.trigger=function(r,s){var c=this.get(zn(s.delegateTarget||s.target,"data-tooltip-id"));c&&("mouseover"===r&&c.timeout&&this.clearTimeout(c),"mouseout"===r&&c.timeout&&(c.timeout=1e3,this.setTimeout(c)))},ts.prototype.get=function(r){return"string"!=typeof r&&(r=r.id),this._tooltips[r]},ts.prototype.clearTimeout=function(r){if(r=this.get(r)){var s=r.removeTimer;s&&(clearTimeout(s),r.removeTimer=null)}},ts.prototype.setTimeout=function(r){if(r=this.get(r)){this.clearTimeout(r);var s=this;r.removeTimer=setTimeout(function(){s.remove(r)},r.timeout)}},ts.prototype.remove=function(r){var s=this.get(r);s&&(Do(s.html),Do(s.htmlContainer),delete s.htmlContainer,delete this._tooltips[s.id])},ts.prototype.show=function(){ua(this._tooltipRoot)},ts.prototype.hide=function(){ua(this._tooltipRoot,!1)},ts.prototype._updateRoot=function(r){var s=r.scale||1,a=r.scale||1,c="matrix("+s+",0,0,"+a+","+-1*r.x*s+","+-1*r.y*a+")";this._tooltipRoot.style.transform=c,this._tooltipRoot.style["-ms-transform"]=c},ts.prototype._addTooltip=function(r){var s,a=r.id,c=r.html,u=this._tooltipRoot;c.get&&c.constructor.prototype.jquery&&(c=c.get(0)),I(c)&&(c=En(c)),Mn(s=En('<div data-tooltip-id="'+a+'" class="djs-tooltip">'),{position:"absolute"}),s.appendChild(c),r.type&&Zt(s).add("djs-tooltip-"+r.type),r.className&&Zt(s).add(r.className),r.htmlContainer=s,u.appendChild(s),this._tooltips[a]=r,this._updateTooltip(r)},ts.prototype._updateTooltip=function(r){var s=r.position;Mn(r.htmlContainer,{left:s.x+"px",top:s.y+"px"})},ts.prototype._updateTooltipVisibilty=function(r){y(this._tooltips,function(s){var a=s.show,u=!0;a&&((a.minZoom>r.scale||a.maxZoom<r.scale)&&(u=!1),ua(s.htmlContainer,u))})},ts.prototype._init=function(){var r=this;this._eventBus.on("canvas.viewbox.changing",function(s){r.hide()}),this._eventBus.on("canvas.viewbox.changed",function(s){var a;r._updateRoot(a=s.viewbox),r._updateTooltipVisibilty(a),r.show()})};var wx={__init__:["tooltips"],tooltips:["type",ts]};function Zc(r,s){if("function"!=typeof s)throw new Error("removeFn iterator must be a function");if(r){for(var a;a=r[0];)s(a);return r}}function Xg(r,s,a){vt.call(this,s);var c=r.get("movePreview",!1);s.on("shape.move.start",1400,function(u){var h=u.context,b=h.validatedShapes;h.shapes=Qb(h.shapes),h.validatedShapes=Qb(b)}),c&&s.on("shape.move.start",250,function(u){var h=u.context,b=[];y(h.shapes,function(S){y(S.labels,function(N){N.hidden||-1!==h.shapes.indexOf(N)||b.push(N),S.labelTarget&&b.push(S)})}),y(b,function(S){c.makeDraggable(h,S,!0)})}),this.preExecuted("elements.move",1400,function(u){var h=u.context.closure,m=h.enclosedElements,b=[];y(m,function(S){y(S.labels,function(N){m[N.id]||b.push(N)})}),h.addAll(b)}),this.preExecute(["connection.delete","shape.delete"],function(u){var h=u.context;Zc((h.connection||h.shape).labels,function(m){a.removeShape(m,{nested:!0})})}),this.execute("shape.delete",function(u){var h=u.context,m=h.shape,b=m.labelTarget;b&&(h.labelTargetIndex=rn(b.labels,m),h.labelTarget=b,m.labelTarget=null)}),this.revert("shape.delete",function(u){var h=u.context,m=h.shape,b=h.labelTarget;b&&(Si(b.labels,m,h.labelTargetIndex),m.labelTarget=b)})}function Qb(r){return p(r,function(s){return-1===r.indexOf(s.labelTarget)})}W(Xg,vt),Xg.$inject=["injector","eventBus","modeling"];var Zg={__init__:["labelSupport"],labelSupport:["type",Xg]},Qg="attach-ok";function xx(r,s,a,c,u){vt.call(this,s);var h=r.get("movePreview",!1);s.on("shape.move.start",1401,function(m){var b,S,Z,J,N=m.context,G=N.validatedShapes;N.shapes=(S=qg(b=N.shapes),oe("id",b,S)),N.validatedShapes=(J=te(Z=G,"id"),p(Z,function(re){for(;re;){if(re.host&&J[re.host.id])return!1;re=re.parent}return!0}))}),h&&s.on("shape.move.start",251,function(m){var b=m.context;y(qg(b.shapes),function(S){h.makeDraggable(b,S,!0),y(S.labels,function(N){h.makeDraggable(b,N,!0)})})}),h&&s.on("shape.move.start",function(m){var b=m.context.shapes;if(1===b.length){var S=b[0].host;S&&(a.addMarker(S,Qg),s.once(["shape.move.out","shape.move.cleanup"],function(){a.removeMarker(S,Qg)}))}}),this.preExecuted("elements.move",1401,function(m){var b=m.context,S=b.closure;y(qg(b.shapes),function(N){S.add(N,S.topLevel[N.host.id])})}),this.postExecuted("elements.move",function(m){var b=m.context,S=b.shapes,N=b.newHost;N&&1!==S.length||y(N?S:p(S,function(j){return!!j.host&&-1===S.indexOf(j.host)}),function(j){u.updateAttachment(j,N)})}),this.postExecuted("elements.move",function(m){y(m.context.shapes,function(b){y(b.attachers,function(S){y(S.outgoing.slice(),function(N){c.allowed("connection.reconnect",{connection:N,source:N.source,target:N.target})||u.removeConnection(N)}),y(S.incoming.slice(),function(N){c.allowed("connection.reconnect",{connection:N,source:N.source,target:N.target})||u.removeConnection(N)})})})}),this.postExecute("shape.create",function(m){var b=m.context,N=b.host;N&&u.updateAttachment(b.shape,N)}),this.postExecute("shape.replace",function(m){var b=m.context,S=b.oldShape,N=b.newShape;Zc(S.attachers,function(j){"attach"===c.allowed("elements.move",{target:N,shapes:[j]})?u.updateAttachment(j,N):u.removeShape(j)}),N.attachers.length&&y(N.attachers,function(j){var G=Db(j,S,N);u.moveShape(j,G,j.parent)})}),this.postExecute("shape.resize",function(m){var b=m.context,N=b.oldBounds,j=b.newBounds;!1!==(b.hints||{}).attachSupport&&y(b.shape.attachers,function(Z){var J=Db(Z,N,j);u.moveShape(Z,J,Z.parent),y(Z.labels,function(re){u.moveShape(re,J,re.parent)})})}),this.preExecute("shape.delete",function(m){var b=m.context.shape;Zc(b.attachers,function(S){u.removeShape(S)}),b.host&&u.updateAttachment(b,null)})}function qg(r){return H(L(r,function(s){return s.attachers||[]}))}W(xx,vt),xx.$inject=["injector","eventBus","canvas","rules","modeling"];var Ex={__depends__:[_l],__init__:["attachSupport"],attachSupport:["type",xx]};function Hs(r){this._model=r}function ns(r,s,a,c){vt.call(this,r),this._bpmnFactory=s,this._translate=c;var u=this;function h(G){y(G.context.oldRoot.children,function(Z){me(Z,"bpmn:BaseElement")&&u.updateParent(Z)})}function m(G){var Z=G.context.shape;me(Z,"bpmn:BaseElement")&&u.updateBounds(Z)}function b(G){u.updateConnection(G.context)}function S(G){u.updateConnectionWaypoints(G.context.connection)}function N(G){u.updateAttachment(G.context)}function j(G){const{element:Z}=G.context,J=Jn(Z),re=qn(Z),ae=re&&re.get("label");Zl(Z)||(J&&!ae?re.set("label",s.create("bpmndi:BPMNLabel")):!J&&ae&&re.set("label",void 0))}this.executed(["connection.layout","connection.create"],function(G){var Z,J=G.context;J.cropped||!1===(J.hints||{}).createElementsBehavior||((Z=J.connection).waypoints=a.getCroppedWaypoints(Z),J.cropped=!0)}),this.reverted(["connection.layout"],function(G){delete G.context.cropped}),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],jo(function(G){var Z=G.context;u.updateParent(Z.shape||Z.connection,Z.oldParent)})),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],jo(function(G){var Z=G.context;u.updateParent(Z.shape||Z.connection,Z.parent||Z.newParent)})),this.executed(["canvas.updateRoot"],h),this.reverted(["canvas.updateRoot"],h),this.executed(["shape.move","shape.create","shape.resize"],jo(function(G){"label"!==G.context.shape.type&&m(G)})),this.reverted(["shape.move","shape.create","shape.resize"],jo(function(G){"label"!==G.context.shape.type&&m(G)})),r.on("shape.changed",function(G){"label"===G.element.type&&m({context:{shape:G.element}})}),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],jo(b)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],jo(b)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],jo(S)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],jo(S)),this.executed("connection.reconnect",jo(function(G){var Z=G.context,re=Z.oldSource,ae=Z.newSource,de=_t(Z.connection),se=_t(re),ce=_t(ae);de.conditionExpression&&!jn(ce,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(Z.oldConditionExpression=de.conditionExpression,delete de.conditionExpression),re!==ae&&se.default===de&&(Z.oldDefault=se.default,delete se.default)})),this.reverted("connection.reconnect",jo(function(G){var Z=G.context,re=Z.oldSource,ae=Z.newSource,de=_t(Z.connection),se=_t(re),ce=_t(ae);Z.oldConditionExpression&&(de.conditionExpression=Z.oldConditionExpression),Z.oldDefault&&(se.default=Z.oldDefault,delete ce.default)})),this.executed(["element.updateAttachment"],jo(N)),this.reverted(["element.updateAttachment"],jo(N)),this.executed("element.updateLabel",jo(j)),this.reverted("element.updateLabel",jo(j))}function jo(r){return function(s){var a=s.context;me(a.shape||a.connection||a.element,"bpmn:BaseElement")&&r(s)}}function Uo(r,s,a){pi.call(this),this._bpmnFactory=r,this._moddle=s,this._translate=a}function Cx(r,s,a){return void 0===s[a]?s:(r[a]=s[a],Le(s,[a]))}function Jg(r,s){this._modeling=r,this._canvas=s}function jh(r){this._modeling=r}function ev(r,s){this._canvas=r,this._layouter=s}Hs.$inject=["moddle"],Hs.prototype._needsId=function(r){return jn(r,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},Hs.prototype._ensureId=function(r){var s;r.id?this._model.ids.claim(r.id,r):(s=me(r,"bpmn:Activity")?"Activity":me(r,"bpmn:Event")?"Event":me(r,"bpmn:Gateway")?"Gateway":jn(r,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(r.$type||"").replace(/^[^:]*:/g,""),s+="_",!r.id&&this._needsId(r)&&(r.id=this._model.ids.nextPrefixed(s,r)))},Hs.prototype.create=function(r,s){var a=this._model.create(r,s||{});return this._ensureId(a),a},Hs.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},Hs.prototype.createDiShape=function(r,s){return this.create("bpmndi:BPMNShape",we({bpmnElement:r,bounds:this.createDiBounds()},s))},Hs.prototype.createDiBounds=function(r){return this.create("dc:Bounds",r)},Hs.prototype.createDiWaypoints=function(r){var s=this;return L(r,function(a){return s.createDiWaypoint(a)})},Hs.prototype.createDiWaypoint=function(r){return this.create("dc:Point",Oe(r,["x","y"]))},Hs.prototype.createDiEdge=function(r,s){return this.create("bpmndi:BPMNEdge",we({bpmnElement:r,waypoint:this.createDiWaypoints([])},s))},Hs.prototype.createDiPlane=function(r,s){return this.create("bpmndi:BPMNPlane",we({bpmnElement:r},s))},W(ns,vt),ns.$inject=["eventBus","bpmnFactory","connectionDocking","translate"],ns.prototype.updateAttachment=function(r){var s=r.shape,c=s.host;s.businessObject.attachedToRef=c&&c.businessObject},ns.prototype.updateParent=function(r,s){if(!(Zn(r)||me(r,"bpmn:DataStoreReference")&&r.parent&&me(r.parent,"bpmn:Collaboration"))){var a=r.parent,c=r.businessObject,u=qn(r),h=a&&a.businessObject,m=qn(a);me(r,"bpmn:FlowNode")&&this.updateFlowNodeRefs(c,h,s&&s.businessObject),me(r,"bpmn:DataOutputAssociation")&&(h=r.source?r.source.businessObject:null),me(r,"bpmn:DataInputAssociation")&&(h=r.target?r.target.businessObject:null),this.updateSemanticParent(c,h),me(r,"bpmn:DataObjectReference")&&c.dataObjectRef&&this.updateSemanticParent(c.dataObjectRef,h),this.updateDiParent(u,m)}},ns.prototype.updateBounds=function(r){var s=qn(r),a=function(m){if(me(m,"bpmn:Activity")){var b=qn(m);if(b){var S=b.get("label");if(S)return S.get("bounds")}}}(r);if(a){var c=_o(a,s.get("bounds"));we(a,{x:r.x+c.x,y:r.y+c.y})}var u=Zn(r)?this._getLabel(s):s,h=u.bounds;h||(h=this._bpmnFactory.createDiBounds(),u.set("bounds",h)),we(h,{x:r.x,y:r.y,width:r.width,height:r.height})},ns.prototype.updateFlowNodeRefs=function(r,s,a){a!==s&&(me(a,"bpmn:Lane")&&Je(a.get("flowNodeRef"),r),me(s,"bpmn:Lane")&&Si(s.get("flowNodeRef"),r))},ns.prototype.updateDiConnection=function(r,s,a){var c=qn(r),u=qn(s),h=qn(a);c.sourceElement&&c.sourceElement.bpmnElement!==_t(s)&&(c.sourceElement=s&&u),c.targetElement&&c.targetElement.bpmnElement!==_t(a)&&(c.targetElement=a&&h)},ns.prototype.updateDiParent=function(r,s){if(s&&!me(s,"bpmndi:BPMNPlane")&&(s=s.$parent),r.$parent!==s){var a=(s||r.$parent).get("planeElement");s?(a.push(r),r.$parent=s):(Je(a,r),r.$parent=null)}},ns.prototype.getLaneSet=function(r){var s,a;return me(r,"bpmn:Lane")?((s=r.childLaneSet)||(s=this._bpmnFactory.create("bpmn:LaneSet"),r.childLaneSet=s,s.$parent=r),s):(me(r,"bpmn:Participant")&&(r=r.processRef),(s=(a=r.get("laneSets"))[0])||((s=this._bpmnFactory.create("bpmn:LaneSet")).$parent=r,a.push(s)),s)},ns.prototype.updateSemanticParent=function(r,s,a){var c,u=this._translate;if(r.$parent!==s&&(!me(r,"bpmn:DataInput")&&!me(r,"bpmn:DataOutput")||(me(s,"bpmn:Participant")&&"processRef"in s&&(s=s.processRef),!("ioSpecification"in s)||s.ioSpecification!==r.$parent))){if(me(r,"bpmn:Lane"))s&&(s=this.getLaneSet(s)),c="lanes";else if(me(r,"bpmn:FlowElement")){if(s)if(me(s,"bpmn:Participant"))s=s.processRef;else if(me(s,"bpmn:Lane"))do{s=s.$parent.$parent}while(me(s,"bpmn:Lane"));c="flowElements"}else if(me(r,"bpmn:Artifact")){for(;s&&!me(s,"bpmn:Process")&&!me(s,"bpmn:SubProcess")&&!me(s,"bpmn:Collaboration");){if(me(s,"bpmn:Participant")){s=s.processRef;break}s=s.$parent}c="artifacts"}else if(me(r,"bpmn:MessageFlow"))c="messageFlows";else if(me(r,"bpmn:Participant")){c="participants";var h,m=r.processRef;m&&(h=function(N){for(;N&&!me(N,"bpmn:Definitions");)N=N.$parent;return N}(r.$parent||s),r.$parent&&(Je(h.get("rootElements"),m),m.$parent=null),s&&(Si(h.get("rootElements"),m),m.$parent=h))}else me(r,"bpmn:DataOutputAssociation")?c="dataOutputAssociations":me(r,"bpmn:DataInputAssociation")&&(c="dataInputAssociations");if(!c)throw new Error(u("no parent for {element} in {parent}",{element:r.id,parent:s.id}));var b;if(r.$parent&&Je(b=r.$parent.get(c),r),s?((b=s.get(c)).push(r),r.$parent=s):r.$parent=null,a){var S=a.get(c);Je(b,r),s&&(S||s.set(c,S=[]),S.push(r))}}},ns.prototype.updateConnectionWaypoints=function(r){qn(r).set("waypoint",this._bpmnFactory.createDiWaypoints(r.waypoints))},ns.prototype.updateConnection=function(r){var a=r.connection,c=_t(a),u=a.source,h=_t(u),m=a.target,b=_t(a.target);if(me(c,"bpmn:DataAssociation"))me(c,"bpmn:DataInputAssociation")?(c.get("sourceRef")[0]=h,this.updateSemanticParent(c,b,r.parent||r.newParent||b)):me(c,"bpmn:DataOutputAssociation")&&(this.updateSemanticParent(c,h,r.parent||r.newParent||h),c.targetRef=b);else{var S=me(c,"bpmn:SequenceFlow");c.sourceRef!==h&&(S&&(Je(c.sourceRef&&c.sourceRef.get("outgoing"),c),h&&h.get("outgoing")&&h.get("outgoing").push(c)),c.sourceRef=h),c.targetRef!==b&&(S&&(Je(c.targetRef&&c.targetRef.get("incoming"),c),b&&b.get("incoming")&&b.get("incoming").push(c)),c.targetRef=b)}this.updateConnectionWaypoints(a),this.updateDiConnection(a,u,m)},ns.prototype._getLabel=function(r){return r.label||(r.label=this._bpmnFactory.createDiLabel()),r.label},W(Uo,pi),Uo.$inject=["bpmnFactory","moddle","translate"],Uo.prototype._baseCreate=pi.prototype.create,Uo.prototype.create=function(r,s){if("label"===r){var a=s.di||this._bpmnFactory.createDiLabel();return this._baseCreate(r,we({type:"label",di:a},Ic,s))}return this.createElement(r,s)},Uo.prototype.createElement=function(r,s){var a,c,u,N,j,h=this._translate,m=(s=we({},s||{})).businessObject,b=s.di;if(!m){if(!s.type)throw new Error(h("no shape type specified"));Am(m=this._bpmnFactory.create(s.type))}if(!jn(b,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])){var S=we({},b||{},{id:m.id+"_di"});b="root"===r?this._bpmnFactory.createDiPlane(m,S):"connection"===r?this._bpmnFactory.createDiEdge(m,S):this._bpmnFactory.createDiShape(m,S)}return me(m,"bpmn:Group")&&(s=we({isFrame:!0},s)),N=m,j=s,y(["processRef","isInterrupting","associationDirection","isForCompensation"],function(Z){j=Cx(N,j,Z)}),(s=j).isExpanded&&(s=Cx(b,s,"isExpanded")),me(m,"bpmn:SubProcess")&&(s.collapsed=!Rn(m,b)),me(m,"bpmn:ExclusiveGateway")&&(b.isMarkerVisible=!0),U(s.triggeredByEvent)&&(m.triggeredByEvent=s.triggeredByEvent,delete s.triggeredByEvent),U(s.cancelActivity)&&(m.cancelActivity=s.cancelActivity,delete s.cancelActivity),s.eventDefinitionType&&(c=m.get("eventDefinitions")||[],u=this._bpmnFactory.create(s.eventDefinitionType,s.eventDefinitionAttrs),"bpmn:ConditionalEventDefinition"===s.eventDefinitionType&&(u.condition=this._bpmnFactory.create("bpmn:FormalExpression")),c.push(u),u.$parent=m,m.eventDefinitions=c,delete s.eventDefinitionType),a=this.getDefaultSize(m,b),s=we({id:m.id},a,s,{businessObject:m,di:b}),this._baseCreate(r,s)},Uo.prototype.getDefaultSize=function(r,s){var a=_t(r);return s=s||qn(r),me(a,"bpmn:SubProcess")?Rn(a,s)?{width:350,height:200}:{width:100,height:80}:me(a,"bpmn:Task")?{width:100,height:80}:me(a,"bpmn:Gateway")?{width:50,height:50}:me(a,"bpmn:Event")?{width:36,height:36}:me(a,"bpmn:Participant")?Rn(a,s)?{width:600,height:250}:{width:400,height:60}:me(a,"bpmn:Lane")?{width:400,height:100}:me(a,"bpmn:DataObjectReference")?{width:36,height:50}:me(a,"bpmn:DataStoreReference")?{width:50,height:50}:me(a,"bpmn:TextAnnotation")?{width:100,height:30}:me(a,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},Uo.prototype.createParticipantShape=function(r){return D(r)||(r={isExpanded:r}),!1!==(r=we({type:"bpmn:Participant"},r||{})).isExpanded&&(r.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(r)},Jg.$inject=["modeling","canvas"],Jg.prototype.preExecute=function(r){var s=this._modeling,c=r.alignment;y(r.elements,function(u){var h={x:0,y:0};U(c.left)?h.x=c.left-u.x:U(c.right)?h.x=c.right-u.width-u.x:U(c.center)?h.x=c.center-Math.round(u.width/2)-u.x:U(c.top)?h.y=c.top-u.y:U(c.bottom)?h.y=c.bottom-u.height-u.y:U(c.middle)&&(h.y=c.middle-Math.round(u.height/2)-u.y),s.moveElements([u],h,u.parent)})},Jg.prototype.postExecute=function(r){},jh.$inject=["modeling"],jh.prototype.preExecute=function(r){var s=r.source;if(!s)throw new Error("source required");var c=r.shape;c=r.shape=this._modeling.createShape(c,r.position,r.target||s.parent,{attach:(r.hints||{}).attach}),r.shape=c},jh.prototype.postExecute=function(r){var a,c=r.hints||{};a=r.shape,M(r.source.outgoing,function(u){return u.target===a})||(c.connectionTarget===r.source?this._modeling.connect(r.shape,r.source,r.connection):this._modeling.connect(r.source,r.shape,r.connection))},ev.$inject=["canvas","layouter"],ev.prototype.execute=function(r){var s=r.connection,a=r.source,c=r.target,u=r.parent,h=r.parentIndex,m=r.hints;if(!a||!c)throw new Error("source and target required");if(!u)throw new Error("parent required");return s.source=a,s.target=c,s.waypoints||(s.waypoints=this._layouter.layoutConnection(s,m)),this._canvas.addConnection(s,u,h),s},ev.prototype.revert=function(r){var s=r.connection;return this._canvas.removeConnection(s),s.source=null,s.target=null,s};var tv=Math.round;function qb(r){this._modeling=r}qb.$inject=["modeling"],qb.prototype.preExecute=function(r){var s=r.elements,a=r.parent,c=r.parentIndex,u=r.position,h=r.hints,m=this._modeling;y(s,function(j){C(j.x)||(j.x=0),C(j.y)||(j.y=0)});var b=qt(p(s,function(j){return!j.hidden}));y(s,function(j){ji(j)&&(j.waypoints=L(j.waypoints,function(G){return{x:tv(G.x-b.x-b.width/2+u.x),y:tv(G.y-b.y-b.height/2+u.y)}})),we(j,{x:tv(j.x-b.x-b.width/2+u.x),y:tv(j.y-b.y-b.height/2+u.y)})});var S=Gn(s),N={};y(s,function(j){if(ji(j))N[j.id]=C(c)?m.createConnection(N[j.source.id],N[j.target.id],c,j,j.parent||a,h):m.createConnection(N[j.source.id],N[j.target.id],j,j.parent||a,h);else{var G=we({},h);-1===S.indexOf(j)&&(G.autoResize=!1),Zn(j)&&(G=Le(G,["attach"])),N[j.id]=C(c)?m.createShape(j,Oe(j,["x","y","width","height"]),j.parent||a,c,G):m.createShape(j,Oe(j,["x","y","width","height"]),j.parent||a,G)}}),r.elements=q(N)};var JS=Math.round;function ic(r){this._canvas=r}function kp(r){ic.call(this,r)}ic.$inject=["canvas"],ic.prototype.execute=function(r){var s=r.shape,a=r.position,c=r.parent,u=r.parentIndex;if(!c)throw new Error("parent required");if(!a)throw new Error("position required");return we(s,void 0!==a.width?a:{x:a.x-JS(s.width/2),y:a.y-JS(s.height/2)}),this._canvas.addShape(s,c,u),s},ic.prototype.revert=function(r){var s=r.shape;return this._canvas.removeShape(s),s},W(kp,ic),kp.$inject=["canvas"];var nv=ic.prototype.execute;kp.prototype.execute=function(r){var a,s=r.shape;return a=s,["width","height"].forEach(function(c){void 0===a[c]&&(a[c]=0)}),s.labelTarget=r.labelTarget,nv.call(this,r)};var Ap=ic.prototype.revert;function Qc(r,s){this._canvas=r,this._modeling=s}function Sx(r,s){this._modeling=r,this._elementRegistry=s}function Op(r,s){this._canvas=r,this._modeling=s}function uu(r){this._modeling=r}kp.prototype.revert=function(r){return r.shape.labelTarget=null,Ap.call(this,r)},Qc.$inject=["canvas","modeling"],Qc.prototype.preExecute=function(r){var s=this._modeling,a=r.connection;Zc(a.incoming,function(c){s.removeConnection(c,{nested:!0})}),Zc(a.outgoing,function(c){s.removeConnection(c,{nested:!0})})},Qc.prototype.execute=function(r){var s=r.connection,a=s.parent;return r.parent=a,r.parentIndex=rn(a.children,s),r.source=s.source,r.target=s.target,this._canvas.removeConnection(s),s.source=null,s.target=null,s},Qc.prototype.revert=function(r){var s=r.connection,a=r.parent,c=r.parentIndex;return s.source=r.source,s.target=r.target,Si(a.children,s,c),this._canvas.addConnection(s,a),s},Sx.$inject=["modeling","elementRegistry"],Sx.prototype.postExecute=function(r){var s=this._modeling,a=this._elementRegistry;y(r.elements,function(c){a.get(c.id)&&(c.waypoints?s.removeConnection(c):s.removeShape(c))})},Op.$inject=["canvas","modeling"],Op.prototype.preExecute=function(r){var s=this._modeling,a=r.shape;Zc(a.incoming,function(c){s.removeConnection(c,{nested:!0})}),Zc(a.outgoing,function(c){s.removeConnection(c,{nested:!0})}),Zc(a.children,function(c){ji(c)?s.removeConnection(c,{nested:!0}):s.removeShape(c,{nested:!0})})},Op.prototype.execute=function(r){var s=this._canvas,a=r.shape,c=a.parent;return r.oldParent=c,r.oldParentIndex=rn(c.children,a),s.removeShape(a),a},Op.prototype.revert=function(r){var s=this._canvas,a=r.shape,c=r.oldParent;return Si(c.children,a,r.oldParentIndex),s.addShape(a,c),a},uu.$inject=["modeling"];var Dx={x:"y",y:"x"};function iv(r,s){this._layouter=r,this._canvas=s}function Jb(){}function Ip(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function Pp(r){this._modeling=r}function qc(r){this._helper=new Pp(r)}function hu(r){this._modeling=r,this._helper=new Pp(r)}function Uh(r){this._modeling=r}function e_(r){return r.original||r}function rc(r,s){this._modeling=r,this._rules=s}function Rp(r){this._modeling=r}function ha(r){this._modeling=r}function Mx(r){return we({},r)}function eD(r){switch(r){case"n":case"s":return"y";case"w":case"e":return"x"}}function Tx(r,s,a){var c=eD(a);return/e|s/.test(a)?r[c]>s:/n|w/.test(a)?r[c]<s:void 0}function Jc(r,s){return-1!==r.indexOf(s)}function rv(r){this._modeling=r}function kx(r){var s={};return y(r,function(a){s[a.id]=a.hidden,a.children&&(s=we({},s,kx(a.children)))}),s}function Ax(r,s){var a=[];return y(r,function(c){c.hidden=s,a=a.concat(c),c.children&&(a=a.concat(Ax(c.children,c.collapsed||s)))}),a}function Ox(r,s){var a=[];return y(r,function(c){c.hidden=s[c.id],a=a.concat(c),c.children&&(a=a.concat(Ox(c.children,s)))}),a}function ov(r){this._modeling=r}function t_(r,s){return Je(r&&r.attachers,s)}function nn(r,s,a){if(r){var c=r.attachers;c||(r.attachers=c=[]),Si(c,s,a)}}function n_(){}function wi(r,s,a){this._eventBus=r,this._elementFactory=s,this._commandStack=a;var c=this;r.on("diagram.init",function(){c.registerHandlers(a)})}function Np(r){this._elementRegistry=r}function Ix(r,s){y(s,function(a,c){r.set(c,a)})}uu.prototype.preExecute=function(r){var s=this._modeling,a=r.groups,c=r.axis,u=r.dimension;function h(ae,de){ae.range.min=Math.min(de[c],ae.range.min),ae.range.max=Math.max(de[c]+de[u],ae.range.max)}function m(ae){return ae[c]+ae[u]/2}function b(ae){return ae.length-1}function S(ae){return ae.max-ae.min}var N,j,G=a[0],Z=b(a),J=a[Z],re=0;y(a,function(ae,de){var se,ce,be;ae.elements.length<2?de&&de!==a.length-1&&(h(ae,ae.elements[0]),re+=S(ae.range)):(ce=(se=fe(ae.elements,c))[0],de===Z&&(ce=se[b(se)]),be=m(ce),ae.range=null,y(se,function(ve){var Ue,ze;(ze={y:0})[c]=be-m(Ue=ve),ze[c]&&(ze[Dx[c]]=0,s.moveElements([Ue],ze,Ue.parent)),null!==ae.range?h(ae,ve):ae.range={min:ve[c],max:ve[c]+ve[u]}}),de&&de!==a.length-1&&(re+=S(ae.range)))}),j=Math.abs(J.range.min-G.range.max),(N=Math.round((j-re)/(a.length-1)))<a.length-1||y(a,function(ae,de){var se,ce={};ae!==G&&ae!==J&&(se=a[de-1],ae.range.max=0,y(ae.elements,function(be,ve){ce[Dx[c]]=0,ce[c]=se.range.max-be[c]+N,ae.range.min!==be[c]&&(ce[c]+=be[c]-ae.range.min),ce[c]&&s.moveElements([be],ce,be.parent),ae.range.max=Math.max(be[c]+be[u],ve?ae.range.max:0)}))})},uu.prototype.postExecute=function(r){},iv.$inject=["layouter","canvas"],iv.prototype.execute=function(r){var s=r.connection;return we(r,{oldWaypoints:s.waypoints}),s.waypoints=this._layouter.layoutConnection(s,r.hints),s},iv.prototype.revert=function(r){var s=r.connection;return s.waypoints=r.oldWaypoints,s},Jb.prototype.execute=function(r){var s=r.connection,a=r.delta,c=r.newParent||s.parent,u=r.newParentIndex,h=s.parent;return r.oldParent=h,r.oldParentIndex=Je(h.children,s),Si(c.children,s,u),s.parent=c,y(s.waypoints,function(m){m.x+=a.x,m.y+=a.y,m.original&&(m.original.x+=a.x,m.original.y+=a.y)}),s},Jb.prototype.revert=function(r){var s=r.connection,c=r.oldParent,u=r.oldParentIndex,h=r.delta;return Je(s.parent.children,s),Si(c.children,s,u),s.parent=c,y(s.waypoints,function(m){m.x-=h.x,m.y-=h.y,m.original&&(m.original.x-=h.x,m.original.y-=h.y)}),s},Ip.prototype.add=function(r,s){return this.addAll([r],s)},Ip.prototype.addAll=function(r,s){return we(this,function(c,u,h){B(u)&&(u=!0),D(u)&&(h=u,u=!0);var m=fo((h=h||{}).allShapes),b=fo(h.allConnections),S=fo(h.enclosedElements),N=fo(h.enclosedConnections),j=fo(h.topLevel,u&&te(c,function(Z){return Z.id}));function G(Z){j[Z.source.id]&&j[Z.target.id]&&(j[Z.id]=[Z]),m[Z.source.id]&&m[Z.target.id]&&(N[Z.id]=S[Z.id]=Z),b[Z.id]=Z}return Io(c,function(Z){if(S[Z.id]=Z,!Z.waypoints)return m[Z.id]=Z,y(Z.incoming,G),y(Z.outgoing,G),Z.children;N[Z.id]=b[Z.id]=Z}),{allShapes:m,allConnections:b,topLevel:j,enclosedConnections:N,enclosedElements:S}}(r,!!s,this)),this},Pp.prototype.moveRecursive=function(r,s,a){return r?this.moveClosure(this.getClosure(r),s,a):[]},Pp.prototype.moveClosure=function(r,s,a,c,u){var h=this._modeling,m=r.allShapes,b=r.allConnections,S=r.enclosedConnections,N=r.topLevel,j=!1;u&&u.parent===a&&(j=!0),y(m,function(G){h.moveShape(G,s,N[G.id]&&!j&&a,{recurse:!1,layout:!1})}),y(b,function(G){var Z=!!m[G.source.id],J=!!m[G.target.id];S[G.id]&&Z&&J?h.moveConnection(G,s,N[G.id]&&!j&&a):h.layoutConnection(G,{connectionStart:Z&&Ob(G,G.source,s),connectionEnd:J&&tc(G,G.target,s)})})},Pp.prototype.getClosure=function(r){return(new Ip).addAll(r,!0)},qc.$inject=["modeling"],qc.prototype.preExecute=function(r){r.closure=this._helper.getClosure(r.shapes)},qc.prototype.postExecute=function(r){var s,a=r.hints;a&&a.primaryShape&&(a.oldParent=(s=a.primaryShape).parent),this._helper.moveClosure(r.closure,r.delta,r.newParent,r.newHost,s)},hu.$inject=["modeling"],hu.prototype.execute=function(r){var s=r.shape,a=r.delta,c=r.newParent||s.parent,u=r.newParentIndex,h=s.parent;return r.oldBounds=Oe(s,["x","y","width","height"]),r.oldParent=h,r.oldParentIndex=Je(h.children,s),Si(c.children,s,u),we(s,{parent:c,x:s.x+a.x,y:s.y+a.y}),s},hu.prototype.postExecute=function(r){var s=r.shape,a=r.delta,c=r.hints,u=this._modeling;!1!==c.layout&&(y(s.incoming,function(h){u.layoutConnection(h,{connectionEnd:tc(h,s,a)})}),y(s.outgoing,function(h){u.layoutConnection(h,{connectionStart:Ob(h,s,a)})})),!1!==c.recurse&&this.moveChildren(r)},hu.prototype.revert=function(r){var s=r.shape,a=r.oldParent,u=r.delta;return Si(a.children,s,r.oldParentIndex),we(s,{parent:a,x:s.x-u.x,y:s.y-u.y}),s},hu.prototype.moveChildren=function(r){this._helper.moveRecursive(r.shape.children,r.delta,null)},hu.prototype.getNewParent=function(r){return r.newParent||r.shape.parent},Uh.$inject=["modeling"],Uh.prototype.execute=function(r){var s=r.newSource,a=r.newTarget,c=r.connection,u=r.dockingOrPoints;if(!s&&!a)throw new Error("newSource or newTarget required");return T(u)&&(r.oldWaypoints=c.waypoints,c.waypoints=u),s&&(r.oldSource=c.source,c.source=s),a&&(r.oldTarget=c.target,c.target=a),c},Uh.prototype.postExecute=function(r){var s=r.connection,a=r.newSource,c=r.newTarget,u=r.dockingOrPoints,h=r.hints||{},m={};h.connectionStart&&(m.connectionStart=h.connectionStart),h.connectionEnd&&(m.connectionEnd=h.connectionEnd),!1!==h.layoutConnection&&(!a||c&&"source"!==h.docking||(m.connectionStart=m.connectionStart||e_(T(u)?u[0]:u)),!c||a&&"target"!==h.docking||(m.connectionEnd=m.connectionEnd||e_(T(u)?u[u.length-1]:u)),h.newWaypoints&&(m.waypoints=h.newWaypoints),this._modeling.layoutConnection(s,m))},Uh.prototype.revert=function(r){var s=r.oldSource,a=r.oldTarget,c=r.oldWaypoints,u=r.connection;return s&&(u.source=s),a&&(u.target=a),c&&(u.waypoints=c),u},rc.$inject=["modeling","rules"],rc.prototype.preExecute=function(r){var s,a=this,c=this._modeling,u=this._rules,h=r.oldShape,m=r.newData,b=r.hints||{};function S(re,ae,de){return u.allowed("connection.reconnect",{connection:de,source:re,target:ae})}var N,G={x:h.x,y:h.y,width:h.width,height:h.height};s=r.newShape=r.newShape||a.createShape(m,{x:m.x,y:m.y},h.parent,b),h.host&&c.updateAttachment(s,h.host),!1!==b.moveChildren&&(N=h.children.slice(),c.moveElements(N,{x:0,y:0},s,b));var Z=h.incoming.slice(),J=h.outgoing.slice();y(Z,function(re){S(re.source,s,re)&&a.reconnectEnd(re,s,Ab(re,s,G),b)}),y(J,function(re){S(s,re.target,re)&&a.reconnectStart(re,s,yp(re,s,G),b)})},rc.prototype.postExecute=function(r){this._modeling.removeShape(r.oldShape)},rc.prototype.execute=function(r){},rc.prototype.revert=function(r){},rc.prototype.createShape=function(r,s,a,c){return this._modeling.createShape(r,s,a,c)},rc.prototype.reconnectStart=function(r,s,a,c){this._modeling.reconnectStart(r,s,a,c)},rc.prototype.reconnectEnd=function(r,s,a,c){this._modeling.reconnectEnd(r,s,a,c)},Rp.$inject=["modeling"],Rp.prototype.execute=function(r){var s=r.shape,a=r.newBounds,c=r.minBounds;if(void 0===a.x||void 0===a.y||void 0===a.width||void 0===a.height)throw new Error("newBounds must have {x, y, width, height} properties");if(c&&(a.width<c.width||a.height<c.height))throw new Error("width and height cannot be less than minimum height and width");if(!c&&a.width<10||a.height<10)throw new Error("width and height cannot be less than 10px");return r.oldBounds={width:s.width,height:s.height,x:s.x,y:s.y},we(s,{width:a.width,height:a.height,x:a.x,y:a.y}),s},Rp.prototype.postExecute=function(r){var s=this._modeling,a=r.shape,c=r.oldBounds;!1!==(r.hints||{}).layout&&(y(a.incoming,function(u){s.layoutConnection(u,{connectionEnd:Ab(u,a,c)})}),y(a.outgoing,function(u){s.layoutConnection(u,{connectionStart:yp(u,a,c)})}))},Rp.prototype.revert=function(r){var s=r.shape,a=r.oldBounds;return we(s,{width:a.width,height:a.height,x:a.x,y:a.y}),s},ha.$inject=["modeling"],ha.prototype.preExecute=function(r){var b,S,N,s=r.delta,a=r.direction,c=r.movingShapes,u=r.resizingShapes,h=r.start,m={};this.moveShapes(c,s),y(u,function(b){var S;m[b.id]={x:(S=b).x,y:S.y,height:S.height,width:S.width}}),this.resizeShapes(u,s,a),this.updateConnectionWaypoints((N=[],y((b=c).concat(S=u),function(j){y(j.incoming.concat(j.outgoing),function(J){var re=J.source,ae=J.target;(Hh(b,re)||Hh(b,ae)||Hh(S,re)||Hh(S,ae))&&(Hh(N,J)||N.push(J))})}),N),s,a,h,c,u,m)},ha.prototype.execute=function(){},ha.prototype.revert=function(){},ha.prototype.moveShapes=function(r,s){var a=this;y(r,function(c){a._modeling.moveShape(c,s,null,{autoResize:!1,layout:!1,recurse:!1})})},ha.prototype.resizeShapes=function(r,s,a){var c=this;y(r,function(u){var h=function(m,b,S){var N=m.x,j=m.y,G=m.width,Z=m.height,J=S.x,re=S.y;switch(b){case"n":return{x:N,y:j+re,width:G,height:Z-re};case"s":return{x:N,y:j,width:G,height:Z+re};case"w":return{x:N+J,y:j,width:G-J,height:Z};case"e":return{x:N,y:j,width:G+J,height:Z};default:throw new Error("unknown direction: "+b)}}(u,a,s);c._modeling.resizeShape(u,h,null,{attachSupport:!1,autoResize:!1,layout:!1})})},ha.prototype.updateConnectionWaypoints=function(r,s,a,c,u,h,m){var b=this,S=u.concat(h);y(r,function(N){var j=N.source,G=N.target,Z=L(N.waypoints,function(de){return(de=Mx(de)).original&&(de.original=Mx(de.original)),de}),J=eD(a),re={};Jc(S,j)&&Jc(S,G)?(Z=L(Z,function(ae){return Tx(ae,c,a)&&(ae[J]=ae[J]+s[J]),ae.original&&Tx(ae.original,c,a)&&(ae.original[J]=ae.original[J]+s[J]),ae}),b._modeling.updateWaypoints(N,Z,{labelBehavior:!1})):(Jc(S,j)||Jc(S,G))&&(Jc(u,j)?re.connectionStart=Ob(N,j,s):Jc(u,G)?re.connectionEnd=tc(N,G,s):Jc(h,j)?re.connectionStart=yp(N,j,m[j.id]):Jc(h,G)&&(re.connectionEnd=Ab(N,G,m[G.id])),b._modeling.layoutConnection(N,re))})},rv.$inject=["modeling"],rv.prototype.execute=function(r){var s=r.shape,a=s.children;r.oldChildrenVisibility=kx(a),s.collapsed=!s.collapsed;var c=Ax(a,s.collapsed);return[s].concat(c)},rv.prototype.revert=function(r){var s=r.shape,c=Ox(s.children,r.oldChildrenVisibility);return s.collapsed=!s.collapsed,[s].concat(c)},ov.$inject=["modeling"],ov.prototype.execute=function(r){var s=r.shape,a=r.newHost,c=s.host;return r.oldHost=c,r.attacherIdx=t_(c,s),nn(a,s),s.host=a,s},ov.prototype.revert=function(r){var s=r.shape,a=r.newHost,c=r.oldHost,u=r.attacherIdx;return s.host=c,t_(a,s),nn(c,s,u),s},n_.prototype.execute=function(r){var s=r.connection,a=r.newWaypoints;return r.oldWaypoints=s.waypoints,s.waypoints=a,s},n_.prototype.revert=function(r){var s=r.connection;return s.waypoints=r.oldWaypoints,s},wi.$inject=["eventBus","elementFactory","commandStack"],wi.prototype.getHandlers=function(){return{"shape.append":jh,"shape.create":ic,"shape.delete":Op,"shape.move":hu,"shape.resize":Rp,"shape.replace":rc,"shape.toggleCollapse":rv,spaceTool:ha,"label.create":kp,"connection.create":ev,"connection.delete":Qc,"connection.move":Jb,"connection.layout":iv,"connection.updateWaypoints":n_,"connection.reconnect":Uh,"elements.create":qb,"elements.move":qc,"elements.delete":Sx,"elements.distribute":uu,"elements.align":Jg,"element.updateAttachment":ov}},wi.prototype.registerHandlers=function(r){y(this.getHandlers(),function(s,a){r.registerHandler(a,s)})},wi.prototype.moveShape=function(r,s,a,c,u){"object"==typeof c&&(u=c,c=null),this._commandStack.execute("shape.move",{shape:r,delta:s,newParent:a,newParentIndex:c,hints:u||{}})},wi.prototype.updateAttachment=function(r,s){this._commandStack.execute("element.updateAttachment",{shape:r,newHost:s})},wi.prototype.moveElements=function(r,s,a,c){var u,h=(c=c||{}).attach,m=a;!0===h?(u=a,m=a.parent):!1===h&&(u=null),this._commandStack.execute("elements.move",{shapes:r,delta:s,newParent:m,newHost:u,hints:c})},wi.prototype.moveConnection=function(r,s,a,c,u){"object"==typeof c&&(u=c,c=void 0),this._commandStack.execute("connection.move",{connection:r,delta:s,newParent:a,newParentIndex:c,hints:u||{}})},wi.prototype.layoutConnection=function(r,s){this._commandStack.execute("connection.layout",{connection:r,hints:s||{}})},wi.prototype.createConnection=function(r,s,a,c,u,h){"object"==typeof a&&(h=u,u=c,c=a,a=void 0);var m={source:r,target:s,parent:u,parentIndex:a,connection:c=this._create("connection",c),hints:h};return this._commandStack.execute("connection.create",m),m.connection},wi.prototype.createShape=function(r,s,a,c,u){"number"!=typeof c&&(u=c,c=void 0);var h,m,b=(u=u||{}).attach;r=this._create("shape",r),b?(h=a.parent,m=a):h=a;var S={position:s,shape:r,parent:h,parentIndex:c,host:m,hints:u};return this._commandStack.execute("shape.create",S),S.shape},wi.prototype.createElements=function(r,s,a,c,u){T(r)||(r=[r]),"number"!=typeof c&&(u=c,c=void 0);var h={position:s,elements:r,parent:a,parentIndex:c,hints:u=u||{}};return this._commandStack.execute("elements.create",h),h.elements},wi.prototype.createLabel=function(r,s,a,c){a=this._create("label",a);var u={labelTarget:r,position:s,parent:c||r.parent,shape:a};return this._commandStack.execute("label.create",u),u.shape},wi.prototype.appendShape=function(r,s,a,c,u){u=u||{};var h={source:r,position:a,target:c,shape:s=this._create("shape",s),connection:u.connection,connectionParent:u.connectionParent,hints:u};return this._commandStack.execute("shape.append",h),h.shape},wi.prototype.removeElements=function(r){this._commandStack.execute("elements.delete",{elements:r})},wi.prototype.distributeElements=function(r,s,a){this._commandStack.execute("elements.distribute",{groups:r,axis:s,dimension:a})},wi.prototype.removeShape=function(r,s){this._commandStack.execute("shape.delete",{shape:r,hints:s||{}})},wi.prototype.removeConnection=function(r,s){this._commandStack.execute("connection.delete",{connection:r,hints:s||{}})},wi.prototype.replaceShape=function(r,s,a){var c={oldShape:r,newData:s,hints:a||{}};return this._commandStack.execute("shape.replace",c),c.newShape},wi.prototype.alignElements=function(r,s){this._commandStack.execute("elements.align",{elements:r,alignment:s})},wi.prototype.resizeShape=function(r,s,a,c){this._commandStack.execute("shape.resize",{shape:r,newBounds:s,minBounds:a,hints:c})},wi.prototype.createSpace=function(r,s,a,c,u){this._commandStack.execute("spaceTool",{delta:a,direction:c,movingShapes:r,resizingShapes:s,start:u})},wi.prototype.updateWaypoints=function(r,s,a){this._commandStack.execute("connection.updateWaypoints",{connection:r,newWaypoints:s,hints:a||{}})},wi.prototype.reconnect=function(r,s,a,c,u){this._commandStack.execute("connection.reconnect",{connection:r,newSource:s,newTarget:a,dockingOrPoints:c,hints:u||{}})},wi.prototype.reconnectStart=function(r,s,a,c){c||(c={}),this.reconnect(r,s,r.target,a,we(c,{docking:"source"}))},wi.prototype.reconnectEnd=function(r,s,a,c){c||(c={}),this.reconnect(r,r.source,s,a,we(c,{docking:"target"}))},wi.prototype.connect=function(r,s,a,c){return this.createConnection(r,s,a||{},r.parent,c)},wi.prototype._create=function(r,s){return s instanceof il?s:this._elementFactory.create(r,s)},wi.prototype.toggleCollapse=function(r,s){this._commandStack.execute("shape.toggleCollapse",{shape:r,hints:s||{}})},Np.$inject=["elementRegistry"],Np.prototype.execute=function(r){var s=r.element,a=r.moddleElement,c=r.properties;if(!a)throw new Error("<moddleElement> required");var m,u=r.changed||this._getVisualReferences(a).concat(s),h=r.oldProperties||(m=a,v(X(c),function(S,N){return S[N]=m.get(N),S},{}));return Ix(a,c),r.oldProperties=h,r.changed=u,u},Np.prototype.revert=function(r){var c=r.changed;return Ix(r.moddleElement,r.oldProperties),c},Np.prototype._getVisualReferences=function(r){var a,s=this._elementRegistry;return me(r,"bpmn:DataObject")?(a=r,s.filter(function(u){return me(u,"bpmn:DataObjectReference")&&_t(u).dataObjectRef===a})):[]};var iD={width:0,height:0};function Fp(r,s,a,c,u){this._elementRegistry=r,this._moddle=s,this._translate=a,this._modeling=c,this._textRenderer=u}function i_(r,s){return"id"in r&&r.id!==s.id}function r_(r,s){var a=r.businessObject,c=qn(r);y(s,function(u,h){var m;"di"!==h?a.set(h,u):c&&(m=c,y(u,function(S,N){m.set(N,S)}))})}Fp.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],Fp.prototype.execute=function(r){var s=r.element,a=[s];if(!s)throw new Error((0,this._translate)("element required"));var N,j,u=this._elementRegistry,h=this._moddle.ids,m=s.businessObject,b=(j=we({},N=r.properties),rD.forEach(function(G){G in N&&(j[G]=_t(j[G]))}),j),S=r.oldProperties||function(N,j){var G=X(j),Z=N.businessObject,J=qn(N);return v(G,function(re,ae){return re[ae]="di"!==ae?Z.get(ae):(de=J,v(X(j.di),function(ce,be){return ce[be]=de&&de.get(be),ce},{})),re;var de},{})}(s,b);return i_(b,m)&&(h.unclaim(m.id),u.updateId(s,b.id),h.claim(b.id,m)),"default"in b&&(b.default&&a.push(u.get(b.default.id)),m.default&&a.push(u.get(m.default.id))),r_(s,b),r.oldProperties=S,r.changed=a,a},Fp.prototype.postExecute=function(r){var s=r.element.label,a=s&&_t(s).name;if(a){var c=this._textRenderer.getExternalLabelBounds(s,a);this._modeling.resizeShape(s,c,iD)}},Fp.prototype.revert=function(r){var s=r.element,a=r.properties,c=r.oldProperties,u=s.businessObject,h=this._elementRegistry,m=this._moddle.ids;return r_(s,c),i_(a,u)&&(m.unclaim(a.id),h.updateId(s,c.id),m.claim(c.id,u)),r.changed};var rD=["default"];function o_(r,s){this._canvas=r,this._modeling=s}function sv(r,s){this._modeling=r,this._spaceTool=s}function Rx(r,s){this._modeling=r,this._translate=s}function ed(r,s){this._modeling=r,this._spaceTool=s}o_.$inject=["canvas","modeling"],o_.prototype.execute=function(r){var s=this._canvas,a=r.newRoot,c=a.businessObject,u=s.getRootElement(),h=u.businessObject,m=h.$parent,b=qn(u);return s.setRootElement(a),s.removeRootElement(u),Si(m.rootElements,c),c.$parent=m,Je(m.rootElements,h),h.$parent=null,u.di=null,b.bpmnElement=c,a.di=b,r.oldRoot=u,[]},o_.prototype.revert=function(r){var s=this._canvas,a=r.newRoot,c=a.businessObject,u=r.oldRoot,h=u.businessObject,m=c.$parent,b=qn(a);return s.setRootElement(u),s.removeRootElement(a),Je(m.rootElements,c),c.$parent=null,Si(m.rootElements,h),h.$parent=m,a.di=null,b.bpmnElement=h,u.di=b,[]},sv.$inject=["modeling","spaceTool"],sv.prototype.preExecute=function(r){var s=this._spaceTool,a=this._modeling,c=r.shape,u=r.location,h=Na(c),m=h===c,b=m?c:c.parent;qd(b).length||a.createShape({type:"bpmn:Lane"},{x:c.x+30,y:c.y,width:c.width-30,height:c.height},b);var S=[];Io(h,function(re){return S.push(re),re.label&&S.push(re.label),re===c?[]:p(re.children,function(ae){return ae!==c})});var N="top"===u?-120:120,j="top"===u?c.y:c.y+c.height,G=j+("top"===u?10:-10),Z="top"===u?"n":"s",J=s.calculateAdjustments(S,"y",N,G);s.makeSpace(J.movingShapes,J.resizingShapes,{x:0,y:N},Z,G),r.newLane=a.createShape({type:"bpmn:Lane"},{x:c.x+(m?30:0),y:j-("top"===u?120:0),width:c.width-(m?30:0),height:120},b)},Rx.$inject=["modeling","translate"],Rx.prototype.preExecute=function(r){var s=this._modeling,a=this._translate,c=r.shape,u=r.count,h=qd(c),m=h.length;if(m>u)throw new Error(a("more than {count} child lanes",{count:u}));var N,G,Z=Math.round(c.height/u);for(G=0;G<u;G++)N={x:c.x+30,y:c.y+G*Z,width:c.width-30,height:G===u-1?c.height-Z*G:Z},G<m?s.resizeShape(h[G],N):s.createShape({type:"bpmn:Lane"},N,c)},ed.$inject=["modeling","spaceTool"],ed.prototype.preExecute=function(r){var s=r.shape,a=r.newBounds;!1!==r.balanced?this.resizeBalanced(s,a):this.resizeSpace(s,a)},ed.prototype.resizeBalanced=function(r,s){var a=this._modeling,c=function ug(r,s){var S,a=Na(r),c=dg(a,me(a,"bpmn:Process")?[]:[a]),u=Ut(r),h=Ut(s),m=(S=r,Tw(Ut(s),Ut(S))),b=[];return c.forEach(function(S){if(S!==r){var N,j,G=0,Z=m.right,J=0,re=m.left,ae=Ut(S);m.top&&(cg(ae.bottom-u.top)<10&&(J=h.top-ae.bottom),cg(ae.top-u.top)<5&&(G=h.top-ae.top)),m.bottom&&(cg(ae.top-u.bottom)<10&&(G=h.bottom-ae.top),cg(ae.bottom-u.bottom)<5&&(J=h.bottom-ae.bottom)),(G||Z||J||re)&&b.push({shape:S,newBounds:(N=S,j={top:G,right:Z,bottom:J,left:re},{x:N.x+(j.left||0),y:N.y+(j.top||0),width:N.width-(j.left||0)+(j.right||0),height:N.height-(j.top||0)+(j.bottom||0)})})}}),b}(r,s);a.resizeShape(r,s),c.forEach(function(u){a.resizeShape(u.shape,u.newBounds)})},ed.prototype.resizeSpace=function(r,s){var a,u,m,b=this._spaceTool,S=Ut(r),N=Tw(Ut(s),S),j=Na(r),G=[],Z=[];Io(j,function(J){return G.push(J),(me(J,"bpmn:Lane")||me(J,"bpmn:Participant"))&&Z.push(J),J.children}),(N.bottom||N.top)&&(a=N.bottom||N.top,u=N.bottom?"s":"n",m=b.calculateAdjustments(G,"y",N.top>0||N.bottom<0?-a:a,r.y+(N.bottom?r.height:0)+(N.bottom?-10:10)),b.makeSpace(m.movingShapes,m.resizingShapes,{x:0,y:a},u)),(N.left||N.right)&&(a=N.right||N.left,u=N.right?"e":"w",m=b.calculateAdjustments(Z,"x",N.left>0||N.right<0?-a:a,r.x+(N.right?r.width:0)+(N.right?-10:100)),b.makeSpace(m.movingShapes,m.resizingShapes,{x:a,y:0},u))};var Lp="flowNodeRef",s_="lanes";function fu(r){this._elementRegistry=r}function av(r){this._moddle=r}fu.$inject=["elementRegistry"],fu.prototype._computeUpdates=function(r,s){var a=[],c=[],u={},h=[];function m(S){-1===a.indexOf(S)&&(h.push(S),a.push(S))}return s.forEach(function(S){var N=Na(S);N&&-1===a.indexOf(N)&&(N.children.filter(function(G){return me(G,"bpmn:FlowNode")}).forEach(m),a.push(N))}),r.forEach(m),h.forEach(function(S){var N=S.businessObject,j=N.get(s_).slice(),G=function b(S){return S.parent?(G=Na(S),u[G.id]||(u[G.id]=dg(G)),u[G.id]).filter(function(j){return G=S,Z=Ut(j),re=G.y+G.height/2,(J=G.x+G.width/2)>Z.left&&J<Z.right&&re>Z.top&&re<Z.bottom;var G,Z,J,re}).map(function(j){return j.businessObject}):[];var G}(S);c.push({flowNode:N,remove:j,add:G})}),s.forEach(function(S){var N=S.businessObject;S.parent||N.get(Lp).forEach(function(j){c.push({flowNode:j,remove:[N],add:[]})})}),c},fu.prototype.execute=function(r){var s=r.updates;return s||(s=r.updates=this._computeUpdates(r.flowNodeShapes,r.laneShapes)),s.forEach(function(a){var c=a.flowNode,u=c.get(s_);a.remove.forEach(function(h){Je(u,h),Je(h.get(Lp),c)}),a.add.forEach(function(h){Si(u,h),Si(h.get(Lp),c)})}),[]},fu.prototype.revert=function(r){return r.updates.forEach(function(s){var a=s.flowNode,c=a.get(s_);s.add.forEach(function(u){Je(c,u),Je(u.get(Lp),a)}),s.remove.forEach(function(u){Si(c,u),Si(u.get(Lp),a)})}),[]},av.$inject=["moddle"],av.prototype.execute=function(r){var s=this._moddle.ids,a=r.id;return r.claiming?s.claim(a,r.element):s.unclaim(a),[]},av.prototype.revert=function(r){var s=this._moddle.ids,a=r.id,c=r.element;return r.claiming?s.unclaim(a):s.claim(a,c),[]};var Dl={fill:void 0,stroke:void 0};function pu(r){this._commandStack=r,this._normalizeColor=function(s){if(s){if(I(s)){var a=(c=s,(u=document.createElement("canvas").getContext("2d")).fillStyle="transparent",u.fillStyle=c,/^#[0-9a-fA-F]{6}$/.test(u.fillStyle)?u.fillStyle:null);if(a)return a}throw new Error("invalid color value: "+s)}var c,u}}pu.$inject=["commandStack"],pu.prototype.postExecute=function(r){var s=r.elements,a=r.colors||Dl,c=this,u={};"fill"in a&&we(u,{"background-color":this._normalizeColor(a.fill)}),"stroke"in a&&we(u,{"border-color":this._normalizeColor(a.stroke)}),y(s,function(h){var S,m=ji(h)?Oe(u,["border-color"]):u,b=qn(h);if("border-color"in(S=m)&&(S.stroke=S["border-color"]),"background-color"in S&&(S.fill=S["background-color"]),Zn(h))c._commandStack.execute("element.updateModdleProperties",{element:h,moddleElement:b.label,properties:{color:u["border-color"]}});else{if(!jn(b,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;c._commandStack.execute("element.updateProperties",{element:h,properties:{di:m}})}})};var $o={width:0,height:0};function td(r,s,a){function c(u,h){var N,j,G,m=u.label||u,b=u.labelTarget||u;return N=h,(G=kd(j=m.businessObject))&&("categoryValueRef"===G?j.categoryValueRef.value=N:j[G]=N),[m,b]}this.preExecute=function(u){var h=u.element,m=h.businessObject,b=u.newLabel;if(!Zn(h)&&Zl(h)&&!sh(h)&&!Bp(b)){var S=ds(h);r.createLabel(h,S={x:S.x,y:S.y+7},{id:m.id+"_label",businessObject:m,di:h.di})}},this.execute=function(u){return u.oldLabel=Jn(u.element),c(u.element,u.newLabel)},this.revert=function(u){return c(u.element,u.oldLabel)},this.postExecute=function(u){var h=u.element,m=h.label||h,b=u.newLabel,S=u.newBounds,N=u.hints||{};if(Zn(m)||me(m,"bpmn:TextAnnotation"))if(Zn(m)&&Bp(b))!1!==N.removeShape&&r.removeShape(m,{unsetLabel:!1});else{var j=Jn(h);void 0===S&&(S=s.getExternalLabelBounds(m,j)),S&&r.resizeShape(m,S,$o)}}}function Bp(r){return!r||!r.trim()}function $i(r,s,a,c){wi.call(this,r,s,a),this._bpmnRules=c}function Bi(){}td.$inject=["modeling","textRenderer","bpmnFactory"],W($i,wi),$i.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],$i.prototype.getHandlers=function(){var r=wi.prototype.getHandlers.call(this);return r["element.updateModdleProperties"]=Np,r["element.updateProperties"]=Fp,r["canvas.updateRoot"]=o_,r["lane.add"]=sv,r["lane.resize"]=ed,r["lane.split"]=Rx,r["lane.updateRefs"]=fu,r["id.updateClaim"]=av,r["element.setColor"]=pu,r["element.updateLabel"]=td,r},$i.prototype.updateLabel=function(r,s,a,c){this._commandStack.execute("element.updateLabel",{element:r,newLabel:s,newBounds:a,hints:c||{}})},$i.prototype.connect=function(r,s,a,c){if(a||(a=this._bpmnRules.canConnect(r,s)),a)return this.createConnection(r,s,a,r.parent,c)},$i.prototype.updateModdleProperties=function(r,s,a){this._commandStack.execute("element.updateModdleProperties",{element:r,moddleElement:s,properties:a})},$i.prototype.updateProperties=function(r,s){this._commandStack.execute("element.updateProperties",{element:r,properties:s})},$i.prototype.resizeLane=function(r,s,a){this._commandStack.execute("lane.resize",{shape:r,newBounds:s,balanced:a})},$i.prototype.addLane=function(r,s){var a={shape:r,location:s};return this._commandStack.execute("lane.add",a),a.newLane},$i.prototype.splitLane=function(r,s){this._commandStack.execute("lane.split",{shape:r,count:s})},$i.prototype.makeCollaboration=function(){var r=this._create("root",{type:"bpmn:Collaboration"});return this._commandStack.execute("canvas.updateRoot",{newRoot:r}),r},$i.prototype.makeProcess=function(){var r={newRoot:this._create("root",{type:"bpmn:Process"})};this._commandStack.execute("canvas.updateRoot",r)},$i.prototype.updateLaneRefs=function(r,s){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:r,laneShapes:s})},$i.prototype.claimId=function(r,s){this._commandStack.execute("id.updateClaim",{id:r,element:s,claiming:!0})},$i.prototype.unclaimId=function(r,s){this._commandStack.execute("id.updateClaim",{id:r,element:s})},$i.prototype.setColor=function(r,s){r.length||(r=[r]),this._commandStack.execute("element.setColor",{elements:r,colors:s})},Bi.prototype.layoutConnection=function(r,s){return[(s=s||{}).connectionStart||Jt(s.source||r.source),s.connectionEnd||Jt(s.target||r.target)]};var oc=Math.round,$h={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function mu(r,s,a){var c,u,m=dr(s,r,5),b=a.split(":")[0],S=oc((s.x-r.x)/2+r.x),N=oc((s.y-r.y)/2+r.y),j={t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[b].test(m),G=/h|r|l/.test(b),J=!1;return j?(c=G?{x:S,y:r.y}:{x:r.x,y:N},u=G?"h:h":"v:v"):(u=G?"h:v":"v:h",{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[b].test(m)?c={x:S,y:N}:G?(J=N===r.y,c={x:r.x+20*(/l/.test(b)?-1:1),y:J?N+20:N}):c={x:(J=S===r.x)?S+20:S,y:r.y+20*(/t/.test(b)?-1:1)}),{waypoints:nd(r,c,u).concat(c),directions:u,turnNextDirections:J}}function gu(r){return r.split(":").reverse().join(":")}function nd(r,s,a){if(!(m=a=a||"h:h")||!/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(m))throw new Error("unknown directions: <"+a+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");var m;if(a_(a)){var c=function(m,b,S){return mu(m,b,S)}(r,s,a),u=function(m,b,S){var N=mu(b,m,gu(S));return{waypoints:N.waypoints.slice().reverse(),directions:gu(N.directions),turnNextDirections:N.turnNextDirections}}(r,s,a),h=function(m,b){var S=m.directions.split(":")[1],N=b.directions.split(":")[0];m.turnNextDirections&&(S="h"==S?"v":"h"),b.turnNextDirections&&(N="h"==N?"v":"h");var j=S+":"+N;return{waypoints:nd(m.waypoints[m.waypoints.length-1],b.waypoints[0],j),directions:j}}(c,u);return[].concat(c.waypoints,h.waypoints,u.waypoints)}return function(m,b,S){var N=oc((b.x-m.x)/2+m.x),j=oc((b.y-m.y)/2+m.y);if("h:v"===S)return[{x:b.x,y:m.y}];if("v:h"===S)return[{x:m.x,y:b.y}];if("h:h"===S)return[{x:N,y:m.y},{x:N,y:b.y}];if("v:v"===S)return[{x:m.x,y:j},{x:b.x,y:j}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(r,s,a)}function Wh(r,s,a,c,u){var h=function O(r,s){if(B(r))return[];!function(c){if(!T(c))throw new Error("must supply array")}(r);const a=Ae(s);return r.filter(function(c,u){return!a(c,u)})}(u&&u.preferredLayouts||[],"straight")[0]||"h:h",m=dr(r,s,$h[h]||0),b=function(j,G){if(a_(G))return G;switch(j){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return G}}(m,h);a=a||Jt(r),c=c||Jt(s);var j,G,J,S=b.split(":");return j=l_(a,r,S[0],{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[m]),G=l_(c,s,S[1],m),(J=nd(j,G,b)).unshift(j),J.push(G),c_(J)}function vu(r,s,a){return(c=s[r])>=a[r]&&c<=a[r]+a[{x:"width",y:"height"}[r]];var c}function id(r,s,a,c){if((b=c).length<3||!(b.length>4)&&_(b,function(S,N){var j=b[N-1];return j&&Yn(S,j)<3}))return null;var b,u,h=c[0],m=c.slice();return m[0]=a,m[1]=function(b,S,N){switch(Se(S,b)){case"v":return{x:N.x,y:b.y};case"h":return{x:b.x,y:N.y}}return{x:b.x,y:b.y}}(m[1],h,a),u=function(b,S,N){var j;for(j=b.length-2;0!==j;j--)if(qe(b[j],S,20)||qe(b[j],N,20))return b.slice(j);return b}(m,r,s),u!==m&&(m=id(r,s,a,u)),m&&Se(m)?null:m}function a_(r){return r&&/t|r|b|l/.test(r)}function l_(r,s,a,c){if("h"===a&&(a=/left/.test(c)?"l":"r"),"v"===a&&(a=/top/.test(c)?"t":"b"),"t"===a)return{original:r,x:r.x,y:s.y};if("r"===a)return{original:r,x:s.x+s.width,y:r.y};if("b"===a)return{original:r,x:r.x,y:s.y+s.height};if("l"===a)return{original:r,x:s.x,y:r.y};throw new Error("unexpected dockingDirection: <"+a+">")}function c_(r){return r.reduce(function(s,a,c){return ye(s[s.length-1],r[c+1],a,0)||s.push(a),s},[])}var lv={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},zp={top:"t",right:"r",bottom:"b",left:"l"};function cv(){}function Nx(r,s){return me(s,"bpmn:Participant")?"source":me(r,"bpmn:Participant")?"target":Vp(s)?"source":Vp(r)||me(s,"bpmn:Event")?"target":me(r,"bpmn:Event")?"source":null}function Fx(r){return Vp(r)?"target":"source"}function d_(r,s){return r?r.original||r:Jt(s)}function dv(r,s){return me(s,"bpmn:Activity")&&me(r,"bpmn:BoundaryEvent")&&s.businessObject.isForCompensation}function Vp(r){return me(r,"bpmn:SubProcess")&&Rn(r)}function uv(r,s){return r===s}function hv(r){var s=/right|left/.exec(r);return s&&s[0]}function yu(r){var s=/top|bottom/.exec(r);return s&&s[0]}function u_(r){return"right"===r||"left"===r}function F1(r,s){var a=s.waypoints,c=a&&a.length&&dr(a[0],r);return"top"===c?["t:r"]:"right"===c?["r:b"]:"left"===c?["l:t"]:["b:l"]}function oD(r,s,a){var c,u,h,m,J,re,ae,de,se,be,b=Jt(r),S=Jt(s),N=(m=(h=r).host,dr(Jt(h),m,-10)),j=uv(r.host,s),G=-1!==["top","right","bottom","left"].indexOf(N),Z=dr(S,b,{x:r.width/2+s.width/2,y:r.height/2+s.height/2});return j?(J=N,ae=r,de=s,se=a,be=(re=G)?J:yu(J),[zp[be]+":"+(re?u_(J)?sD("y",ae,de,se)?"h":"b":sD("x",ae,de,se)?"v":"l":"v")]):(c=function(J,re,ae){return ae?zp[J]:uv(yu(J),yu(re))||function(de,se){return lv[de]===se}(hv(J),hv(re))?zp[yu(J)]:zp[hv(J)]}(N,Z,G),u=function(J,re,ae){return ae?u_(J)?function(de,se){var ce=hv(de);return-1!==se.indexOf(lv[ce])}(J,re)||uv(J,re)?"h":"v":function(de,se){var ce=yu(de);return-1!==se.indexOf(lv[ce])}(J,re)||uv(J,re)?"v":"h":u_(re)||uv(yu(J),yu(re))&&hv(re)?"h":"v"}(N,Z,G),[c+":"+u])}function sD(r,s,a,c){return!(h_(r,c,a,40)||h_(r,c,{x:a.x+a.width,y:a.y+a.height},40)||h_(r,c,Jt(s),40))}function h_(r,s,a,c){return Math.abs(s[r]-a[r])<c}function Lx(r){return we({original:r.point.original||r.point},r.actual)}function rd(r,s){this._elementRegistry=r,this._graphicsFactory=s}W(cv,Bi),cv.prototype.layoutConnection=function(r,s){s||(s={});var a,c,u=s.source||r.source,h=s.target||r.target,m=s.waypoints||r.waypoints,b=s.connectionStart,S=s.connectionEnd;return b||(b=d_(m&&m[0],u)),S||(S=d_(m&&m[m.length-1],h)),(me(r,"bpmn:Association")||me(r,"bpmn:DataAssociation"))&&m&&!dv(u,h)?[].concat([b],m.slice(1,-1),[S]):(me(r,"bpmn:MessageFlow")?a={preferredLayouts:["straight","v:v"],preserveDocking:Nx(u,h)}:(me(r,"bpmn:SequenceFlow")||dv(u,h))&&(a=u===h?{preferredLayouts:F1(u,r)}:me(u,"bpmn:BoundaryEvent")?{preferredLayouts:oD(u,h,S)}:Vp(u)||Vp(h)?{preferredLayouts:["straight","h:h"],preserveDocking:Fx(u)}:me(u,"bpmn:Gateway")?{preferredLayouts:["v:h"]}:me(h,"bpmn:Gateway")?{preferredLayouts:["h:v"]}:{preferredLayouts:["h:h"]}),a&&(c=c_(function Gh(r,s,a,c,u,h){var m,b,S,N,j,G,Z,J,re;return T(a)&&(u=a,h=c,a=Jt(r),c=Jt(s)),u=u||[],(m=-1!==(h=we({preferredLayouts:[]},h)).preferredLayouts.indexOf("straight")&&(N=a,j=c,G=h,re={},J=dr(b=r,S=s),/^(top|bottom|left|right)$/.test(J)?(/top|bottom/.test(J)&&(Z="x"),/left|right/.test(J)&&(Z="y"),"target"===G.preserveDocking?vu(Z,j,b)?(re[Z]=j[Z],[{x:void 0!==re.x?re.x:N.x,y:void 0!==re.y?re.y:N.y,original:{x:void 0!==re.x?re.x:N.x,y:void 0!==re.y?re.y:N.y}},{x:j.x,y:j.y}]):null:vu(Z,N,S)?(re[Z]=N[Z],[{x:N.x,y:N.y},{x:void 0!==re.x?re.x:j.x,y:void 0!==re.y?re.y:j.y,original:{x:void 0!==re.x?re.x:j.x,y:void 0!==re.y?re.y:j.y}}]):null):null))||(m=h.connectionEnd&&function(b,S,N,j){var G=j.slice().reverse();return(G=id(b,S,N,G))?G.reverse():null}(s,r,c,u),m||(m=h.connectionStart&&id(r,s,a,u))||(!h.connectionStart&&!h.connectionEnd&&u&&u.length?u:Wh(r,s,a,c,h)))}(u,h,b,S,m,a=we(a,s)))),c||[b,S])},rd.$inject=["elementRegistry","graphicsFactory"],rd.prototype.getCroppedWaypoints=function(r,s,a){a=a||r.target;var c=this.getDockingPoint(r,s=s||r.source,!0),u=this.getDockingPoint(r,a),h=r.waypoints.slice(c.idx+1,u.idx);return h.unshift(Lx(c)),h.push(Lx(u)),h},rd.prototype.getDockingPoint=function(r,s,a){var c,u,h=r.waypoints;return{point:u=h[c=a?0:h.length-1],actual:this._getIntersection(s,r,a)||u,idx:c}},rd.prototype._getIntersection=function(r,s,a){return Yu(this._getShapePath(r),this._getConnectionPath(s),a)},rd.prototype._getConnectionPath=function(r){return this._graphicsFactory.getConnectionPath(r)},rd.prototype._getShapePath=function(r){return this._graphicsFactory.getShapePath(r)},rd.prototype._getGfx=function(r){return this._elementRegistry.getGraphics(r)};var f_={__init__:["modeling","bpmnUpdater"],__depends__:[ux,KS,gx,XS,Zd,QS,wx,Zg,Ex,hs,uy,_x],bpmnFactory:["type",Hs],bpmnUpdater:["type",ns],elementFactory:["type",Uo],modeling:["type",$i],layouter:["type",cv],connectionDocking:["type",rd]},od=Math.round;function fv(r,s,a,c,u){function h(b,S,N,j){return u.allowed("elements.move",{shapes:b,delta:S,position:N,target:j})}function m(b,S,N,j){if(D(N)&&(j=N,N=!1),!S.waypoints&&S.parent&&!Cn(b.target).has("djs-hit-no-move")){var G={x:(Z=S).x+od(Z.width/2),y:Z.y+od(Z.height/2)};return s.init(b,G,"shape.move",{cursor:"grabbing",autoActivate:N,data:{shape:S,context:j||{}}}),!0}var Z}r.on("shape.move.start",1500,function(b){var G,Z,S=b.context,N=b.shape,j=c.get().slice();-1===j.indexOf(N)&&(j=[N]),Z=te(G=j,"id"),we(S,{shapes:j=p(G,function(J){for(;J=J.parent;)if(Z[J.id])return!1;return!0}),validatedShapes:j,shape:N})}),r.on("shape.move.start",1250,function(b){var S=b.context;if(!(S.canExecute=h(S.validatedShapes)))return!1}),r.on("shape.move.move",500,function(b){var S,N=b.context,G=b.hover,Z={x:b.dx,y:b.dy};S=h(N.validatedShapes,Z,{x:b.x,y:b.y},G),N.delta=Z,N.canExecute=S,N.target=null!==S?G:null}),r.on("shape.move.end",function(b){var S=b.context,N=S.delta,j=S.canExecute,G="attach"===j,Z=S.shapes;if(!1===j)return!1;N.x=od(N.x),N.y=od(N.y),0===N.x&&0===N.y||a.moveElements(Z,N,S.target,{primaryShape:S.shape,attach:G})}),r.on("element.mousedown",function(b){if(Fn(b)){var S=fl(b);if(!S)throw new Error("must supply DOM mousedown event");return m(S,b.element)}}),this.start=m}fv.$inject=["eventBus","dragging","modeling","selection","rules"];var Yh="djs-dragging",p_="drop-ok",Kh="drop-not-ok",m_="new-parent",Bx="attach-ok";function Xh(r,s,a,c){function h(b){var S=Zs(b,!0),N=L(S,function(j){return(j.incoming||[]).concat(j.outgoing||[])});return H(S.concat(N))}function m(b,S){[Bx,p_,Kh,m_].forEach(function(N){N===S?s.addMarker(b,N):s.removeMarker(b,N)})}r.on("shape.move.start",499,function(b){var S=b.context,N=S.shapes,j=S.allDraggedElements,G=function u(b){var N;return p(N=h(b),function(j){return!ji(j)||_(N,Ce({id:j.source.id}))&&_(N,Ce({id:j.target.id}))})}(N);if(!S.dragGroup){var Z=Gt("g");Ot(Z,a.cls("djs-drag-group",["no-events"])),Qt(s.getActiveLayer(),Z),S.dragGroup=Z}G.forEach(function(J){c.addDragger(J,S.dragGroup)}),y(j=j?H([j,h(N)]):h(N),function(J){s.addMarker(J,Yh)}),S.allDraggedElements=j,S.differentParents=1!==X(te(N,function(J){return J.parent&&J.parent.id})).length}),r.on("shape.move.move",499,function(b){var S=b.context,N=S.dragGroup,j=S.target;j&&m(j,"attach"===S.canExecute?Bx:S.canExecute&&j&&j.id!==S.shape.parent.id?m_:S.canExecute?p_:Kh),Lo(N,b.dx,b.dy)}),r.on(["shape.move.out","shape.move.cleanup"],function(b){var S=b.context.target;S&&m(S,null)}),r.on("shape.move.cleanup",function(b){var S=b.context,j=S.dragGroup;y(S.allDraggedElements,function(G){s.removeMarker(G,Yh)}),j&&Ni(j)}),this.makeDraggable=function(b,S,N){c.addDragger(S,b.dragGroup),N&&s.addMarker(S,Yh),b.allDraggedElements?b.allDraggedElements.push(S):b.allDraggedElements=[S]}}Xh.$inject=["eventBus","canvas","styles","previewSupport"];var aD={__depends__:[Xe,hs,en,_l,bl,Jf],__init__:["move","movePreview"],move:["type",fv],movePreview:["type",Xh]};function sr(r,s){this._eventBus=r,this._canvas=s;var a=this;r.on("tool-manager.update",function(c){a.updateToolHighlight(c.tool)}),r.on("i18n.changed",function(){a._update()}),r.on("diagram.init",function(){a._diagramInitialized=!0,a._rebuild()})}function pv(r,s){var a=s.getPaletteEntries();return E(a)?a(r):(y(a,function(c,u){r[u]=c}),r)}sr.$inject=["eventBus","canvas"],sr.prototype.registerProvider=function(r,s){s||(s=r,r=1e3),this._eventBus.on("palette.getProviders",r,function(a){a.providers.push(s)}),this._rebuild()},sr.prototype.getEntries=function(){return this._getProviders().reduce(pv,{})},sr.prototype._rebuild=function(){this._diagramInitialized&&this._getProviders().length&&(this._container||this._init(),this._update())},sr.prototype._init=function(){var r=this,s=this._eventBus,a=this._getParentContainer(),c=this._container=En(sr.HTML_MARKUP);a.appendChild(c),Zt(a).add("djs-palette-shown"),tr.bind(c,".djs-palette-toggle, .entry","click",function(u){if(Oi(u.delegateTarget,".djs-palette-toggle"))return r.toggle();r.trigger("click",u)}),Dt.bind(c,"mousedown",function(u){u.stopPropagation()}),tr.bind(c,".entry","dragstart",function(u){r.trigger("dragstart",u)}),s.on("canvas.resized",this._layoutChanged,this),s.fire("palette.create",{container:c})},sr.prototype._getProviders=function(r){var s=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(s),s.providers},sr.prototype._toggleState=function(r){r=r||{};var s,a=this._getParentContainer(),u=this._eventBus,h=Zt(this._container),m=Zt(a);s="twoColumn"in r?r.twoColumn:this._needsCollapse(a.clientHeight,this._entries||{}),h.toggle("two-column",s),m.toggle("djs-palette-two-column",s),"open"in r&&(h.toggle("open",r.open),m.toggle("djs-palette-open",r.open)),u.fire("palette.changed",{twoColumn:s,open:this.isOpen()})},sr.prototype._update=function(){var r=oi(".djs-palette-entries",this._container),s=this._entries=this.getEntries();Vi(r),y(s,function(a,c){var u=a.group||"default",h=oi("[data-group="+kf(u)+"]",r);h||(zn(h=En('<div class="group"></div>'),"data-group",u),r.appendChild(h));var j,G,b=En(a.html||(a.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'));if(h.appendChild(b),!a.separator&&(zn(b,"data-action",c),a.title&&zn(b,"title",a.title),a.className&&(j=a.className,G=Zt(b),(T(j)?j:j.split(/\s+/g)).forEach(function(Z){G.add(Z)})),a.imageUrl)){var S=En("<img>");zn(S,"src",a.imageUrl),b.appendChild(S)}}),this.open()},sr.prototype.trigger=function(r,s,a){var c,h=s.delegateTarget||s.target;return h?(c=zn(h,"data-action"),this.triggerEntry(c,r,s.originalEvent||s,a)):s.preventDefault()},sr.prototype.triggerEntry=function(r,s,a,c){var u,h;if((u=this._entries[r])&&(h=u.action,!1!==this._eventBus.fire("palette.trigger",{entry:u,event:a}))){if(E(h)){if("click"===s)return h(a,c)}else if(h[s])return h[s](a,c);a.preventDefault()}},sr.prototype._layoutChanged=function(){this._toggleState({})},sr.prototype._needsCollapse=function(r,s){return r<46*Object.keys(s).length+50},sr.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},sr.prototype.open=function(){this._toggleState({open:!0})},sr.prototype.toggle=function(){this.isOpen()?this.close():this.open()},sr.prototype.isActiveTool=function(r){return r&&this._activeTool===r},sr.prototype.updateToolHighlight=function(r){var s;this._toolsContainer||(s=oi(".djs-palette-entries",this._container),this._toolsContainer=oi("[data-group=tools]",s)),y(this._toolsContainer.children,function(a){var c=a.getAttribute("data-action");if(c){var u=Zt(a);c=c.replace("-tool",""),u.contains("entry")&&c===r?u.add("highlighted-entry"):u.remove("highlighted-entry")}})},sr.prototype.isOpen=function(){return Zt(this._container).has("open")},sr.prototype._getParentContainer=function(){return this._canvas.getContainer()},sr.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';var L1={__init__:["palette"],palette:["type",sr]},Vx="crosshair";function bu(r,s,a,c,u,h,m){this._selection=u,this._dragging=a,this._mouse=m;var b=this;h.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),r.on("lasso.selection.end",function(G){(G.hover||G.originalEvent.target instanceof SVGElement)&&r.once("lasso.selection.ended",function(){b.activateLasso(G.originalEvent,!0)})}),r.on("lasso.end",function(G){var Z=Hp(G),J=c.filter(function(re){return re});b.select(J,Z)}),r.on("lasso.start",function(G){var Z=G.context;Z.bbox=Hp(G),function(G){var Z,J=s.getActiveLayer();Ot(Z=G.frame=Gt("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),Qt(J,Z)}(Z)}),r.on("lasso.move",function(G){var Z=G.context;Z.bbox=Hp(G),function(G){var J=G.bbox;Ot(G.frame,{x:J.x,y:J.y,width:J.width,height:J.height})}(Z)}),r.on("lasso.cleanup",function(G){!function(G){G.frame&&Ni(G.frame)}(G.context)}),r.on("element.mousedown",1500,function(G){if(Q(G))return b.activateLasso(G.originalEvent),!0})}function Hp(r){var s={x:r.x-r.dx,y:r.y-r.dy},a={x:r.x,y:r.y};return s.x<=a.x&&s.y<a.y||s.x<a.x&&s.y<=a.y?{x:s.x,y:s.y,width:a.x-s.x,height:a.y-s.y}:s.x>=a.x&&s.y<a.y||s.x>a.x&&s.y<=a.y?{x:a.x,y:s.y,width:s.x-a.x,height:a.y-s.y}:s.x<=a.x&&s.y>a.y||s.x<a.x&&s.y>=a.y?{x:s.x,y:a.y,width:a.x-s.x,height:s.y-a.y}:s.x>=a.x&&s.y>a.y||s.x>a.x&&s.y>=a.y?{x:a.x,y:a.y,width:s.x-a.x,height:s.y-a.y}:{x:a.x,y:a.y,width:0,height:0}}bu.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],bu.prototype.activateLasso=function(r,s){this._dragging.init(r,"lasso",{autoActivate:s,cursor:Vx,data:{context:{}}})},bu.prototype.activateSelection=function(r,s){this._dragging.init(r,"lasso.selection",{trapClick:!1,autoActivate:s,cursor:Vx,data:{context:{}}})},bu.prototype.select=function(r,s){var u,h,a=(u=s,h={},y(r,function(m){var b=m;b.waypoints&&(b=qt(b)),!C(u.y)&&b.x>u.x&&(h[m.id]=m),!C(u.x)&&b.y>u.y&&(h[m.id]=m),b.x>u.x&&b.y>u.y&&(C(u.width)&&C(u.height)&&b.width+b.x<u.width+u.x&&b.height+b.y<u.height+u.y?h[m.id]=m:C(u.width)&&C(u.height)||(h[m.id]=m))}),h);this._selection.select(q(a))},bu.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var r=this._mouse.getLastMoveEvent();this.activateSelection(r,!!r)},bu.prototype.isActive=function(){var r=this._dragging.context();return r&&/^lasso/.test(r.prefix)};var dD={__depends__:[Mp,Gd],__init__:["lassoTool"],lassoTool:["type",bu]};function Zh(r,s,a,c,u,h){this._dragging=a,this._mouse=h;var m=this,b=c.get("keyboard",!1);u.registerTool("hand",{tool:"hand",dragging:"hand.move"}),r.on("element.mousedown",1500,function(S){if(z(S))return m.activateMove(S.originalEvent,!0),!1}),b&&b.addListener(1500,function(S){if(Yt(S.keyEvent)&&!m.isActive()){var N=m._mouse.getLastMoveEvent();m.activateMove(N,!!N)}},"keyboard.keydown"),b&&b.addListener(1500,function(S){Yt(S.keyEvent)&&m.isActive()&&m.toggle()},"keyboard.keyup"),r.on("hand.end",function(S){if(!(S.hover||S.originalEvent.target instanceof SVGElement))return!1;r.once("hand.ended",function(){m.activateMove(S.originalEvent,{reactivate:!0})})}),r.on("hand.move.move",function(S){var N=s.viewbox().scale;s.scroll({dx:S.dx*N,dy:S.dy*N})}),r.on("hand.move.end",function(S){var N=S.context.reactivate;return!z(S)&&N&&r.once("hand.move.ended",function(j){m.activateHand(j.originalEvent,!0,!0)}),!1})}function Yt(r){return Cr("Space",r)}Zh.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],Zh.prototype.activateMove=function(r,s,a){"object"==typeof s&&(a=s,s=!1),this._dragging.init(r,"hand.move",{autoActivate:s,cursor:"grab",data:{context:a||{}}})},Zh.prototype.activateHand=function(r,s,a){this._dragging.init(r,"hand",{trapClick:!1,autoActivate:s,cursor:"grab",data:{context:{reactivate:a}}})},Zh.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var r=this._mouse.getLastMoveEvent();this.activateHand(r,!!r)},Zh.prototype.isActive=function(){var r=this._dragging.context();return!!r&&/^(hand|hand\.move)$/.test(r.prefix)};var jx={__depends__:[Mp,Gd],__init__:["handTool"],handTool:["type",Zh]},v_="connect-ok",Ux="connect-not-ok";function Qh(r,s,a,c,u,h,m){var b=this;this._dragging=s,this._rules=h,this._mouse=m,u.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),r.on("global-connect.hover",function(S){var N=S.context,j=S.hover,G=N.canStartConnect=b.canStartConnect(j);null!==G&&(N.startTarget=j,c.addMarker(j,G?v_:Ux))}),r.on(["global-connect.out","global-connect.cleanup"],function(S){var N=S.context.startTarget;N&&c.removeMarker(N,S.context.canStartConnect?v_:Ux)}),r.on(["global-connect.ended"],function(S){var N=S.context.startTarget,j={x:S.x,y:S.y};if(b.canStartConnect(N))return r.once("element.out",function(){r.once(["connect.ended","connect.canceled"],function(){r.fire("global-connect.drag.ended")}),a.start(null,N,j)}),!1})}Qh.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],Qh.prototype.start=function(r,s){this._dragging.init(r,"global-connect",{autoActivate:s,trapClick:!1,data:{context:{}}})},Qh.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var r=this._mouse.getLastMoveEvent();return this.start(r,!!r)},Qh.prototype.isActive=function(){var r=this._dragging.context();return r&&/^global-connect/.test(r.prefix)},Qh.prototype.canStartConnect=function(r){return this._rules.allowed("connection.start",{source:r})};var uD={__depends__:[ng,_l,bl,Mp,Gd],globalConnect:["type",Qh]};function js(r,s,a,c,u,h,m,b){this._palette=r,this._create=s,this._elementFactory=a,this._spaceTool=c,this._lassoTool=u,this._handTool=h,this._globalConnect=m,this._translate=b,r.registerProvider(this)}js.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],js.prototype.getPaletteEntries=function(){var r={},s=this._create,a=this._elementFactory,c=this._spaceTool,u=this._lassoTool,h=this._handTool,m=this._globalConnect,b=this._translate;function S(G,Z,J,re,ae){function de(ce){var be=a.createShape(we({type:G},ae));ae&&(qn(be).isExpanded=ae.isExpanded),s.start(ce,be)}var se=G.replace(/^bpmn:/,"");return{group:Z,className:J,title:re||b("Create {type}",{type:se}),action:{dragstart:de,click:de}}}function N(G){var Z=a.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),J=a.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:Z});s.start(G,[Z,J],{hints:{autoSelect:[Z]}})}function j(G){s.start(G,a.createParticipantShape())}return we(r,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:b("Activate the hand tool"),action:{click:function(G){h.activateHand(G)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:b("Activate the lasso tool"),action:{click:function(G){u.activateSelection(G)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:b("Activate the create/remove space tool"),action:{click:function(G){c.activateSelection(G)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:b("Activate the global connect tool"),action:{click:function(G){m.start(G)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":S("bpmn:StartEvent","event","bpmn-icon-start-event-none",b("Create StartEvent")),"create.intermediate-event":S("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",b("Create Intermediate/Boundary Event")),"create.end-event":S("bpmn:EndEvent","event","bpmn-icon-end-event-none",b("Create EndEvent")),"create.exclusive-gateway":S("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",b("Create Gateway")),"create.task":S("bpmn:Task","activity","bpmn-icon-task",b("Create Task")),"create.data-object":S("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",b("Create DataObjectReference")),"create.data-store":S("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",b("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:b("Create expanded SubProcess"),action:{dragstart:N,click:N}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:b("Create Pool/Participant"),action:{dragstart:j,click:j}},"create.group":S("bpmn:Group","artifact","bpmn-icon-group",b("Create Group"))}),r};var Pt={__depends__:[L1,og,_x,dD,jx,uD,Rr],__init__:["paletteProvider"],paletteProvider:["type",js]};function jp(r,s,a,c,u){vt.call(this,r),r.on("shape.move.move",250,function(h){var S,m=h.context,b=m.canExecute;m.visualReplacements||(m.visualReplacements={}),b&&b.replacements?y((S=m).canExecute.replacements,function(N){var j=N.oldElementId,G={type:N.newElementType};if(!S.visualReplacements[j]){var Z=s.get(j);we(G,{x:Z.x,y:Z.y});var J=a.createShape(G);c.addShape(J,Z.parent);var re=oi('[data-element-id="'+kf(Z.id)+'"]',S.dragGroup);re&&Ot(re,{display:"none"});var ae=u.addDragger(J,S.dragGroup);S.visualReplacements[j]=ae,c.removeShape(J)}}):function(S){var N=S.visualReplacements;y(N,function(j,G){var Z=oi('[data-element-id="'+kf(G)+'"]',S.dragGroup);Z&&Ot(Z,{display:"inline"}),j.remove(),N[G]&&delete N[G]})}(m)})}jp.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],W(jp,vt);var hD={__depends__:[Jf],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",jp]},ft=["x","y"],yn=Math.abs;function y_(r){r.on(["connect.hover","connect.move","connect.end"],1250,function(s){var S,N,j,a=s.context,c=a.canExecute,u=a.start,h=a.hover,m=a.source,b=a.target;s.originalEvent&&Fs(s.originalEvent)||(a.initialConnectionStart||(a.initialConnectionStart=a.connectionStart),c&&h&&(S=s,N=h,j=me(h,"bpmn:Task")?10:20,ft.forEach(function(G){var Z=Gx(G,N);S[G]<N[G]+j?mr(S,G,N[G]+j):S[G]>N[G]+Z-j&&mr(S,G,N[G]+Z-j)})),h&&function(S,N){return M(["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"],function(j){return Wx(S,j)})}(c)?(a.connectionStart=sa(u),jn(h,["bpmn:Event","bpmn:Gateway"])&&$x(s,sa(h)),jn(h,["bpmn:Task","bpmn:SubProcess"])&&function(S,N){var j=sa(N);ft.forEach(function(G){var Z,J,re;(Z=S)[re=G]>(J=N)[re]+20&&Z[re]<J[re]+Gx(re,J)-20&&mr(S,G,j[G])})}(s,h),me(m,"bpmn:BoundaryEvent")&&b===m.host&&function(S){var ae,de,se,N=S.context,G=N.target;if(se=(ae=N).source,!(de=ae.hover)||!se||de!==se){var Z=sa(N.source),J=dr(Z,G,-10),re=[];/top|bottom/.test(J)&&re.push("x"),/left|right/.test(J)&&re.push("y"),re.forEach(function(ae){var se=S[ae];yn(se-Z[ae])<40&&mr(S,ae,se>Z[ae]?Z[ae]+40:Z[ae]-40)})}}(s)):Wx(c,"bpmn:MessageFlow")?(me(u,"bpmn:Event")&&(a.connectionStart=sa(u)),me(h,"bpmn:Event")&&$x(s,sa(h))):a.connectionStart=a.initialConnectionStart)})}function $x(r,s){mr(r,"x",s.x),mr(r,"y",s.y)}function Wx(r,s){return r&&r.type===s}function Gx(r,s){return"x"===r?s.width:s.height}function _s(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function Ml(){this._snapValues={}}function Nr(r,s,a){var c=this;this._elementRegistry=r,s.on(["create.start","shape.move.start"],function(u){c.initSnap(u)}),s.on(["create.move","create.end","shape.move.move","shape.move.end"],1250,function(u){var h=u.context,m=h.shape,b=h.snapContext,S=h.target;if((!u.originalEvent||!Fs(u.originalEvent))&&!Sh(u)&&S){var N=b.pointsForTarget(S);N.initialized||((N=c.addSnapTargetPoints(N,m,S)).initialized=!0),a.snap(u,N)}}),s.on(["create.cleanup","shape.move.cleanup"],function(){a.hide()})}function _u(r,s){s.invoke(Nr,this),r.on(["create.move","create.end"],1500,fD),r.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,function(a){var m,b,S,N,j,G,c=a.context,u=c.canExecute,h=c.target;u&&("attach"===u||u.attach)&&!Sh(a)&&(m=a,N=Ut(b=h),j=Tn(m,b),S=(G=m.context.shape).parent?{x:0,y:0}:Jt(G),/top/.test(j)?mr(m,"y",N.top-S.y):/bottom/.test(j)&&mr(m,"y",N.bottom-S.y),/left/.test(j)?mr(m,"x",N.left-S.x):/right/.test(j)&&mr(m,"x",N.right-S.x))})}function fD(r){var s=r.context.createConstraints;if(s){var a=s.top,c=s.right,u=s.bottom,h=s.left;(h&&h>=r.x||c&&c<=r.x)&&mr(r,"x",r.x),(a&&a>=r.y||u&&u<=r.y)&&mr(r,"y",r.y)}}function Yx(r,s){return-1!==r.indexOf(s)}function sc(r,s,a){return s?{x:r.x-a.x,y:r.y-a.y}:{x:r.x,y:r.y}}function ac(r,s){var a=this;r.on(["resize.start"],function(c){a.initSnap(c)}),r.on(["resize.move","resize.end"],1250,function(c){var j,u=c.context,h=u.shape,m=h.parent,b=u.direction,S=u.snapContext;if(!(c.originalEvent&&Fs(c.originalEvent)||Sh(c))){var N=S.pointsForTarget(m);N.initialized||((N=a.addSnapTargetPoints(N,h,m,b)).initialized=!0),("n"===(j=b)||"s"===j)&&mr(c,"x",c.x),function(j){return"e"===j||"w"===j}(b)&&mr(c,"y",c.y),s.snap(c,N)}}),r.on(["resize.cleanup"],function(){s.hide()})}function b_(r,s){var a=Jt(r),c=Ut(r),u={x:a.x,y:a.y};return-1!==s.indexOf("n")?u.y=c.top:-1!==s.indexOf("s")&&(u.y=c.bottom),-1!==s.indexOf("e")?u.x=c.right:-1!==s.indexOf("w")&&(u.x=c.left),u}function bn(r){this._canvas=r,this._asyncHide=it(We(this.hide,this),1e3)}y_.$inject=["eventBus"],_s.prototype.getSnapOrigin=function(r){return this._snapOrigins[r]},_s.prototype.setSnapOrigin=function(r,s){this._snapOrigins[r]=s,-1===this._snapLocations.indexOf(r)&&this._snapLocations.push(r)},_s.prototype.addDefaultSnap=function(r,s){var a=this._defaultSnaps[r];a||(a=this._defaultSnaps[r]=[]),a.push(s)},_s.prototype.getSnapLocations=function(){return this._snapLocations},_s.prototype.setSnapLocations=function(r){this._snapLocations=r},_s.prototype.pointsForTarget=function(r){var s=r.id||r,a=this._targets[s];return a||(a=this._targets[s]=new Ml).initDefaults(this._defaultSnaps),a},Ml.prototype.add=function(r,s){var a=this._snapValues[r];a||(a=this._snapValues[r]={x:[],y:[]}),-1===a.x.indexOf(s.x)&&a.x.push(s.x),-1===a.y.indexOf(s.y)&&a.y.push(s.y)},Ml.prototype.snap=function(r,s,a,c){var u=this._snapValues[s];return u&&function(h,m,b){var S,N;for(b=void 0===b?10:b,S=0;S<m.length;S++)if(yS((N=m[S])-h)<=b)return N}(r[a],u[a],c)},Ml.prototype.initDefaults=function(r){var s=this;y(r||{},function(a,c){y(a,function(u){s.add(c,u)})})},Nr.$inject=["elementRegistry","eventBus","snapping"],Nr.prototype.initSnap=function(r){var s,a=this._elementRegistry,c=r.context,u=c.shape,h=c.snapContext;h||(h=c.snapContext=new _s);var m=(s=a.get(u.id)?sa(u,r):{x:r.x+sa(u).x,y:r.y+sa(u).y}).x-u.width/2,b=s.y-u.height/2,S=s.x+u.width/2,N=s.y+u.height/2;return h.setSnapOrigin("mid",{x:s.x-r.x,y:s.y-r.y}),Zn(u)||(h.setSnapOrigin("top-left",{x:m-r.x,y:b-r.y}),h.setSnapOrigin("bottom-right",{x:S-r.x,y:N-r.y})),h},Nr.prototype.addSnapTargetPoints=function(r,s,a){return y(this.getSnapTargets(s,a),function(c){if(Zn(c))Zn(s)&&r.add("mid",sa(c));else if(ji(c)){if(c.waypoints.length<3)return;y(c.waypoints.slice(1,-1),function(u){r.add("mid",u)})}else r.add("mid",sa(c))}),C(s.x)&&C(s.y)&&this._elementRegistry.get(s.id)&&r.add("mid",sa(s)),r},Nr.prototype.getSnapTargets=function(r,s){return eg(s).filter(function(a){return!a.hidden})},W(_u,Nr),_u.$inject=["eventBus","injector"],_u.prototype.initSnap=function(r){var s=Nr.prototype.initSnap.call(this,r),a=r.shape,c=!!this._elementRegistry.get(a.id);return y(a.outgoing,function(u){var h=u.waypoints[0];s.setSnapOrigin(u.id+"-docking",sc(h=h.original||h,c,r))}),y(a.incoming,function(u){var h=u.waypoints[u.waypoints.length-1];s.setSnapOrigin(u.id+"-docking",sc(h=h.original||h,c,r))}),me(a,"bpmn:Participant")&&s.setSnapLocations(["top-left","bottom-right","mid"]),s},_u.prototype.addSnapTargetPoints=function(r,s,a){Nr.prototype.addSnapTargetPoints.call(this,r,s,a);var c=this.getSnapTargets(s,a);y(c,function(h){var b;(me(b=h,"bpmn:SubProcess")&&Rn(b)||me(b,"bpmn:Participant")||("bpmn:TextAnnotation",[s,h].every(function(b){return me(b,"bpmn:TextAnnotation")})))&&(r.add("top-left",fw(h)),r.add("bottom-right",Zy(h)))});var u=this._elementRegistry;return y(s.incoming,function(h){if(u.get(s.id)){Yx(c,h.source)||r.add("mid",Jt(h.source));var m=h.waypoints[0];r.add(h.id+"-docking",m.original||m)}}),y(s.outgoing,function(h){if(u.get(s.id)){Yx(c,h.target)||r.add("mid",Jt(h.target));var m=h.waypoints[h.waypoints.length-1];r.add(h.id+"-docking",m.original||m)}}),me(a,"bpmn:SequenceFlow")&&(r=this.addSnapTargetPoints(r,s,a.parent)),r},_u.prototype.getSnapTargets=function(r,s){return Nr.prototype.getSnapTargets.call(this,r,s).filter(function(a){return!me(a,"bpmn:Lane")})},ac.prototype.initSnap=function(r){var s=r.context,a=s.shape,c=s.direction,u=s.snapContext;u||(u=s.snapContext=new _s);var h=b_(a,c);return u.setSnapOrigin("corner",{x:h.x-r.x,y:h.y-r.y}),u},ac.prototype.addSnapTargetPoints=function(r,s,a,c){return y(this.getSnapTargets(s,a),function(u){r.add("corner",Zy(u)),r.add("corner",fw(u))}),r.add("corner",b_(s,c)),r},ac.$inject=["eventBus","snapping"],ac.prototype.getSnapTargets=function(r,s){return eg(s).filter(function(a){return!(a.host===r||ji(a)||(h=a,h.hidden)||Zn(a));var h})},bn.$inject=["canvas"],bn.prototype.snap=function(r,s){var a=r.context.snapContext,c=a.getSnapLocations(),u={x:Sh(r,"x"),y:Sh(r,"y")};y(c,function(h){var m=a.getSnapOrigin(h),b={x:r.x+m.x,y:r.y+m.y};if(y(["x","y"],function(S){var N;u[S]||void 0!==(N=s.snap(b,h,S,7))&&(u[S]={value:N,originValue:N-m[S]})}),u.x&&u.y)return!1}),this.showSnapLine("vertical",u.x&&u.x.value),this.showSnapLine("horizontal",u.y&&u.y.value),y(["x","y"],function(h){var m=u[h];D(m)&&mr(r,h,m.originValue)})},bn.prototype._createLine=function(r){var s=this._canvas.getLayer("snap"),a=Gt("path");return Ot(a,{d:"M0,0 L0,0"}),Cn(a).add("djs-snap-line"),Qt(s,a),{update:function(c){C(c)?Ot(a,"horizontal"===r?{d:"M-100000,"+c+" L+100000,"+c,display:""}:{d:"M "+c+",-100000 L "+c+", +100000",display:""}):Ot(a,{display:"none"})}}},bn.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},bn.prototype.showSnapLine=function(r,s){var a=this.getSnapLine(r);a&&a.update(s),this._asyncHide()},bn.prototype.getSnapLine=function(r){return this._snapLines||this._createSnapLines(),this._snapLines[r]},bn.prototype.hide=function(){y(this._snapLines,function(r){r.update()})};var Kx={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",Nr],resizeSnapping:["type",ac],snapping:["type",bn]}],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",y_],createMoveSnapping:["type",_u]};function dn(r,s,a,c){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=r,this._eventBus=s,this._overlays=a,this._selection=c,this._container=En(dn.BOX_HTML),this._searchInput=oi(dn.INPUT_SELECTOR,this._container),this._resultsContainer=oi(dn.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),s.on(["canvas.destroy","diagram.destroy"],this.close,this)}function __(r,s,a){var m,c=(m="",s.forEach(function(b){m+=b.matched?'<strong class="'+dn.RESULT_HIGHLIGHT_CLASS+'">'+fy(b.matched)+"</strong>":fy(b.normal)}),""!==m?m:null),u=En(a);u.innerHTML=c,r.appendChild(u)}dn.$inject=["canvas","eventBus","overlays","selection"],dn.prototype._bindEvents=function(){var r=this;function s(a,c,u,h){r._eventMaps.push({el:a,type:u,listener:tr.bind(a,c,u,h)})}s(document,"html","click",function(a){r.close()}),s(this._container,dn.INPUT_SELECTOR,"click",function(a){a.stopPropagation(),a.delegateTarget.focus()}),s(this._container,dn.RESULT_SELECTOR,"mouseover",function(a){a.stopPropagation(),r._scrollToNode(a.delegateTarget),r._preselect(a.delegateTarget)}),s(this._container,dn.RESULT_SELECTOR,"click",function(a){a.stopPropagation(),r._select(a.delegateTarget)}),s(this._container,dn.INPUT_SELECTOR,"keydown",function(a){Cr("ArrowUp",a)&&a.preventDefault(),Cr("ArrowDown",a)&&a.preventDefault()}),s(this._container,dn.INPUT_SELECTOR,"keyup",function(a){if(Cr("Escape",a))return r.close();if(Cr("Enter",a)){var c=r._getCurrentResult();return c?r._select(c):r.close()}return Cr("ArrowUp",a)?r._scrollToDirection(!0):Cr("ArrowDown",a)?r._scrollToDirection():void(Cr(["ArrowLeft","ArrowRight"],a)||r._search(a.delegateTarget.value))})},dn.prototype._unbindEvents=function(){this._eventMaps.forEach(function(r){tr.unbind(r.el,r.type,r.listener)})},dn.prototype._search=function(r){var s=this;if(this._clearResults(),r&&""!==r){var a=this._searchProvider.find(r);if(a.length){a.forEach(function(u){var h=u.element.id,m=s._createResultNode(u,h);s._results[h]={element:u.element,node:m}});var c=oi(dn.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(c),this._preselect(c)}}},dn.prototype._scrollToDirection=function(r){var s=this._getCurrentResult();if(s){var a=r?s.previousElementSibling:s.nextElementSibling;a&&(this._scrollToNode(a),this._preselect(a))}},dn.prototype._scrollToNode=function(r){if(r&&r!==this._getCurrentResult()){var s=r.offsetTop,a=this._resultsContainer.scrollTop,c=s-this._resultsContainer.clientHeight+r.clientHeight;s<a?this._resultsContainer.scrollTop=s:a<c&&(this._resultsContainer.scrollTop=c)}},dn.prototype._clearResults=function(){Vi(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},dn.prototype._getCurrentResult=function(){return oi(dn.RESULT_SELECTED_SELECTOR,this._resultsContainer)},dn.prototype._createResultNode=function(r,s){var a=En(dn.RESULT_HTML);return r.primaryTokens.length>0&&__(a,r.primaryTokens,dn.RESULT_PRIMARY_HTML),__(a,r.secondaryTokens,dn.RESULT_SECONDARY_HTML),zn(a,dn.RESULT_ID_ATTRIBUTE,s),this._resultsContainer.appendChild(a),a},dn.prototype.registerProvider=function(r){this._searchProvider=r},dn.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,Zt(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},dn.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,Zt(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},dn.prototype.toggle=function(){this.isOpen()?this.close():this.open()},dn.prototype.isOpen=function(){return this._open},dn.prototype._preselect=function(r){var s=this._getCurrentResult();if(r!==s){s&&Zt(s).remove(dn.RESULT_SELECTED_CLASS);var a=zn(r,dn.RESULT_ID_ATTRIBUTE),c=this._results[a].element;Zt(r).add(dn.RESULT_SELECTED_CLASS),this._resetOverlay(c),this._canvas.scrollToElement(c,{top:400}),this._selection.select(c),this._eventBus.fire("searchPad.preselected",c)}},dn.prototype._select=function(r){var s=zn(r,dn.RESULT_ID_ATTRIBUTE),a=this._results[s].element;this.close(),this._resetOverlay(),this._canvas.scrollToElement(a,{top:400}),this._selection.select(a),this._eventBus.fire("searchPad.selected",a)},dn.prototype._resetOverlay=function(r){if(this._overlayId&&this._overlays.remove(this._overlayId),r){var s=(m={width:(u=(a=qt(r)).width+2*6)+"px",height:(h=a.height+12)+"px"},Mn(b=En('<div class="'+dn.OVERLAY_CLASS+'"></div>'),m),{position:{bottom:h-6,right:u-6},show:!0,html:b});this._overlayId=this._overlays.add(r,s)}var a,u,h,m,b},dn.CONTAINER_SELECTOR=".djs-search-container",dn.INPUT_SELECTOR=".djs-search-input input",dn.RESULTS_CONTAINER_SELECTOR=".djs-search-results",dn.RESULT_SELECTOR=".djs-search-result",dn.RESULT_SELECTED_SELECTOR="."+(dn.RESULT_SELECTED_CLASS="djs-search-result-selected"),dn.RESULT_ID_ATTRIBUTE="data-result-id",dn.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",dn.OVERLAY_CLASS="djs-search-overlay",dn.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',dn.RESULT_HTML='<div class="djs-search-result"></div>',dn.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',dn.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';var Xx={__depends__:[Fm,hs],searchPad:["type",dn]};function gv(r,s,a){this._elementRegistry=r,this._canvas=a,s.registerProvider(this)}function Ln(r){return p(r,function(s){return!!s.matched}).length>0}function Zx(r,s){var a=[],c=r;if(!r)return a;r=r.toLowerCase(),s=s.toLowerCase();var u=r.indexOf(s);return u>-1?(0!==u&&a.push({normal:c.substr(0,u)}),a.push({matched:c.substr(u,s.length)}),s.length+u<r.length&&a.push({normal:c.substr(s.length+u,r.length)})):a.push({normal:c}),a}gv.$inject=["elementRegistry","searchPad","canvas"],gv.prototype.find=function(r){var s=this._canvas.getRootElement(),a=this._elementRegistry.filter(function(c){return!c.labelTarget});return a=p(a,function(c){return c!==s}),fe(a=p(a=L(a,function(c){return{primaryTokens:Zx(Jn(c),r),secondaryTokens:Zx(c.id,r),element:c}}),function(c){return Ln(c.primaryTokens)||Ln(c.secondaryTokens)}),function(c){return Jn(c.element)+c.element.id})};var lc={__depends__:[Xx],__init__:["bpmnSearch"],bpmnSearch:["type",gv]};function Wi(r){rh.call(this,r)}return W(Wi,rh),Wi.Viewer=Ns,Wi.NavigatedViewer=ra,Wi.prototype.createDiagram=Td(Wi.prototype.createDiagram=function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')}),Wi.prototype._modules=[].concat(Ns.prototype._modules,Wi.prototype._interactionModules=[_y,Nc,fh,Pf],Wi.prototype._modelingModules=[$m,bh,k1,T1,_S,ng,ig,Ow,xw,og,ub,NS,BS,Fw,R1,zS,yb,f_,aD,Pt,hD,jw,Kx,lc]),Wi}()},133:function(Ga){"use strict";Ga.exports=function(ge){var ee={};function P(W){if(ee[W])return ee[W].exports;var R=ee[W]={i:W,l:!1,exports:{}};return ge[W].call(R.exports,R,R.exports,P),R.l=!0,R.exports}return P.m=ge,P.c=ee,P.d=function(W,R,V){P.o(W,R)||Object.defineProperty(W,R,{configurable:!1,enumerable:!0,get:V})},P.n=function(W){var R=W&&W.__esModule?function(){return W.default}:function(){return W};return P.d(R,"a",R),R},P.o=function(W,R){return Object.prototype.hasOwnProperty.call(W,R)},P.p="",P(P.s=123)}([function(ge,ee,P){ee.__esModule=!0,ee.default=function(W,R){if(!(W instanceof R))throw new TypeError("Cannot call a class as a function")}},function(ge,ee,P){ee.__esModule=!0;var R=function V(H){return H&&H.__esModule?H:{default:H}}(P(169));ee.default=function(){function H($,Y){for(var B=0;B<Y.length;B++){var U=Y[B];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),(0,R.default)($,U.key,U)}}return function($,Y,B){return Y&&H($.prototype,Y),B&&H($,B),$}}()},function(ge,ee,P){var R=F(P(77)),H=F(P(29)),Y=F(P(8)),U=F(P(6));function F(f){return f&&f.__esModule?f:{default:f}}var T=P(9),D=P(157);function C(f,_,g,p){var y=!1;!0===p&&(y=null===_[g]&&void 0!==f[g]),y?delete f[g]:f[g]=_[g]}ee.isNumber=function(f){return f instanceof Number||"number"==typeof f},ee.recursiveDOMDelete=function(f){if(f)for(;!0===f.hasChildNodes();)ee.recursiveDOMDelete(f.firstChild),f.removeChild(f.firstChild)},ee.giveRange=function(f,_,g,p){return _==f?.5:Math.max(0,1/(_-f)*(p-f))},ee.isString=function(f){return f instanceof String||"string"==typeof f},ee.isDate=function(f){if(f instanceof Date)return!0;if(ee.isString(f)){if(E.exec(f))return!0;if(!isNaN(Date.parse(f)))return!0}return!1},ee.randomUUID=function(){return D.v4()},ee.assignAllKeys=function(f,_){for(var g in f)f.hasOwnProperty(g)&&"object"!==(0,U.default)(f[g])&&(f[g]=_)},ee.fillIfDefined=function(f,_){var g=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var p in f)void 0!==_[p]&&(null===_[p]||"object"!==(0,U.default)(_[p])?C(f,_,p,g):"object"===(0,U.default)(f[p])&&ee.fillIfDefined(f[p],_[p],g))},ee.extend=function(f,_){for(var g=1;g<arguments.length;g++){var p=arguments[g];for(var y in p)p.hasOwnProperty(y)&&(f[y]=p[y])}return f},ee.selectiveExtend=function(f,_,g){if(!Array.isArray(f))throw new Error("Array with property names expected as first argument");for(var p=2;p<arguments.length;p++)for(var y=arguments[p],O=0;O<f.length;O++){var v=f[O];y&&y.hasOwnProperty(v)&&(_[v]=y[v])}return _},ee.selectiveDeepExtend=function(f,_,g){var p=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(g))throw new TypeError("Arrays are not supported by deepExtend");for(var y=0;y<f.length;y++){var O=f[y];if(g.hasOwnProperty(O))if(g[O]&&g[O].constructor===Object)void 0===_[O]&&(_[O]={}),_[O].constructor===Object?ee.deepExtend(_[O],g[O],!1,p):C(_,g,O,p);else{if(Array.isArray(g[O]))throw new TypeError("Arrays are not supported by deepExtend");C(_,g,O,p)}}return _},ee.selectiveNotDeepExtend=function(f,_,g){var p=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(g))throw new TypeError("Arrays are not supported by deepExtend");for(var y in g)if(g.hasOwnProperty(y)&&-1===f.indexOf(y))if(g[y]&&g[y].constructor===Object)void 0===_[y]&&(_[y]={}),_[y].constructor===Object?ee.deepExtend(_[y],g[y]):C(_,g,y,p);else if(Array.isArray(g[y])){_[y]=[];for(var O=0;O<g[y].length;O++)_[y].push(g[y][O])}else C(_,g,y,p);return _},ee.deepExtend=function(f,_){var g=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var y in _)if(_.hasOwnProperty(y)||!0===g)if(_[y]&&_[y].constructor===Object)void 0===f[y]&&(f[y]={}),f[y].constructor===Object?ee.deepExtend(f[y],_[y],g):C(f,_,y,p);else if(Array.isArray(_[y])){f[y]=[];for(var O=0;O<_[y].length;O++)f[y].push(_[y][O])}else C(f,_,y,p);return f},ee.equalArray=function(f,_){if(f.length!=_.length)return!1;for(var g=0,p=f.length;g<p;g++)if(f[g]!=_[g])return!1;return!0},ee.convert=function(f,_){var g;if(void 0!==f){if(null===f)return null;if(!_)return f;if("string"!=typeof _&&!(_ instanceof String))throw new Error("Type must be a string");switch(_){case"boolean":case"Boolean":return!!f;case"number":case"Number":return ee.isString(f)&&!isNaN(Date.parse(f))?T(f).valueOf():Number(f.valueOf());case"string":case"String":return String(f);case"Date":if(ee.isNumber(f))return new Date(f);if(f instanceof Date)return new Date(f.valueOf());if(T.isMoment(f))return new Date(f.valueOf());if(ee.isString(f))return(g=E.exec(f))?new Date(Number(g[1])):T(new Date(f)).toDate();throw new Error("Cannot convert object of type "+ee.getType(f)+" to type Date");case"Moment":if(ee.isNumber(f))return T(f);if(f instanceof Date)return T(f.valueOf());if(T.isMoment(f))return T(f);if(ee.isString(f))return g=E.exec(f),T(g?Number(g[1]):f);throw new Error("Cannot convert object of type "+ee.getType(f)+" to type Date");case"ISODate":if(ee.isNumber(f))return new Date(f);if(f instanceof Date)return f.toISOString();if(T.isMoment(f))return f.toDate().toISOString();if(ee.isString(f))return(g=E.exec(f))?new Date(Number(g[1])).toISOString():T(f).format();throw new Error("Cannot convert object of type "+ee.getType(f)+" to type ISODate");case"ASPDate":if(ee.isNumber(f))return"/Date("+f+")/";if(f instanceof Date)return"/Date("+f.valueOf()+")/";if(ee.isString(f))return"/Date("+((g=E.exec(f))?new Date(Number(g[1])).valueOf():new Date(f).valueOf())+")/";throw new Error("Cannot convert object of type "+ee.getType(f)+" to type ASPDate");default:throw new Error('Unknown type "'+_+'"')}}};var E=/^\/?Date\((\-?\d+)/i;ee.getType=function(f){var _=typeof f>"u"?"undefined":(0,U.default)(f);return"object"==_?null===f?"null":f instanceof Boolean?"Boolean":f instanceof Number?"Number":f instanceof String?"String":Array.isArray(f)?"Array":f instanceof Date?"Date":"Object":"number"==_?"Number":"boolean"==_?"Boolean":"string"==_?"String":void 0===_?"undefined":_},ee.copyAndExtendArray=function(f,_){for(var g=[],p=0;p<f.length;p++)g.push(f[p]);return g.push(_),g},ee.copyArray=function(f){for(var _=[],g=0;g<f.length;g++)_.push(f[g]);return _},ee.getAbsoluteLeft=function(f){return f.getBoundingClientRect().left},ee.getAbsoluteRight=function(f){return f.getBoundingClientRect().right},ee.getAbsoluteTop=function(f){return f.getBoundingClientRect().top},ee.addClassName=function(f,_){var g=f.className.split(" "),p=_.split(" ");g=g.concat(p.filter(function(y){return g.indexOf(y)<0})),f.className=g.join(" ")},ee.removeClassName=function(f,_){var g=f.className.split(" "),p=_.split(" ");g=g.filter(function(y){return p.indexOf(y)<0}),f.className=g.join(" ")},ee.forEach=function(f,_){var g,p;if(Array.isArray(f))for(g=0,p=f.length;g<p;g++)_(f[g],g,f);else for(g in f)f.hasOwnProperty(g)&&_(f[g],g,f)},ee.toArray=function(f){var _=[];for(var g in f)f.hasOwnProperty(g)&&_.push(f[g]);return _},ee.updateProperty=function(f,_,g){return f[_]!==g&&(f[_]=g,!0)},ee.throttle=function(f){var _=!1;return function(){_||(_=!0,requestAnimationFrame(function(){_=!1,f()}))}},ee.addEventListener=function(f,_,g,p){f.addEventListener?(void 0===p&&(p=!1),"mousewheel"===_&&navigator.userAgent.indexOf("Firefox")>=0&&(_="DOMMouseScroll"),f.addEventListener(_,g,p)):f.attachEvent("on"+_,g)},ee.removeEventListener=function(f,_,g,p){f.removeEventListener?(void 0===p&&(p=!1),"mousewheel"===_&&navigator.userAgent.indexOf("Firefox")>=0&&(_="DOMMouseScroll"),f.removeEventListener(_,g,p)):f.detachEvent("on"+_,g)},ee.preventDefault=function(f){f||(f=window.event),f.preventDefault?f.preventDefault():f.returnValue=!1},ee.getTarget=function(f){var _;return f||(f=window.event),f.target?_=f.target:f.srcElement&&(_=f.srcElement),null!=_.nodeType&&3==_.nodeType&&(_=_.parentNode),_},ee.hasParent=function(f,_){for(var g=f;g;){if(g===_)return!0;g=g.parentNode}return!1},ee.option={},ee.option.asBoolean=function(f,_){return"function"==typeof f&&(f=f()),null!=f?0!=f:_||null},ee.option.asNumber=function(f,_){return"function"==typeof f&&(f=f()),null!=f?Number(f)||_||null:_||null},ee.option.asString=function(f,_){return"function"==typeof f&&(f=f()),null!=f?String(f):_||null},ee.option.asSize=function(f,_){return"function"==typeof f&&(f=f()),ee.isString(f)?f:ee.isNumber(f)?f+"px":_||null},ee.option.asElement=function(f,_){return"function"==typeof f&&(f=f()),f||_||null},ee.hexToRGB=function(f){f=f.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(p,y,O,v){return y+y+O+O+v+v});var g=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);return g?{r:parseInt(g[1],16),g:parseInt(g[2],16),b:parseInt(g[3],16)}:null},ee.overrideOpacity=function(f,_){var g;return-1!=f.indexOf("rgba")?f:-1!=f.indexOf("rgb")?"rgba("+(g=f.substr(f.indexOf("(")+1).replace(")","").split(","))[0]+","+g[1]+","+g[2]+","+_+")":null==(g=ee.hexToRGB(f))?f:"rgba("+g.r+","+g.g+","+g.b+","+_+")"},ee.RGBToHex=function(f,_,g){return"#"+((1<<24)+(f<<16)+(_<<8)+g).toString(16).slice(1)},ee.parseColor=function(f){var _;if(!0===ee.isString(f)){if(!0===ee.isValidRGB(f)){var g=f.substr(4).substr(0,f.length-5).split(",").map(function(M){return parseInt(M)});f=ee.RGBToHex(g[0],g[1],g[2])}if(!0===ee.isValidHex(f)){var p=ee.hexToHSV(f),y={h:p.h,s:.8*p.s,v:Math.min(1,1.02*p.v)},O={h:p.h,s:Math.min(1,1.25*p.s),v:.8*p.v},v=ee.HSVToHex(O.h,O.s,O.v),w=ee.HSVToHex(y.h,y.s,y.v);_={background:f,border:v,highlight:{background:w,border:v},hover:{background:w,border:v}}}else _={background:f,border:f,highlight:{background:f,border:f},hover:{background:f,border:f}}}else(_={}).background=f.background||void 0,_.border=f.border||void 0,ee.isString(f.highlight)?_.highlight={border:f.highlight,background:f.highlight}:(_.highlight={},_.highlight.background=f.highlight&&f.highlight.background||void 0,_.highlight.border=f.highlight&&f.highlight.border||void 0),ee.isString(f.hover)?_.hover={border:f.hover,background:f.hover}:(_.hover={},_.hover.background=f.hover&&f.hover.background||void 0,_.hover.border=f.hover&&f.hover.border||void 0);return _},ee.RGBToHSV=function(f,_,g){f/=255,_/=255,g/=255;var p=Math.min(f,Math.min(_,g)),y=Math.max(f,Math.max(_,g));return p==y?{h:0,s:0,v:p}:{h:60*((f==p?3:g==p?1:5)-(f==p?_-g:g==p?f-_:g-f)/(y-p))/360,s:(y-p)/y,v:y}};var I_split=function(_){var g={};return _.split(";").forEach(function(p){if(""!=p.trim()){var y=p.split(":"),O=y[0].trim(),v=y[1].trim();g[O]=v}}),g},I_join=function(_){return(0,Y.default)(_).map(function(g){return g+": "+_[g]}).join("; ")};ee.addCssText=function(f,_){var g=I_split(f.style.cssText),p=I_split(_),y=ee.extend(g,p);f.style.cssText=I_join(y)},ee.removeCssText=function(f,_){var g=I_split(f.style.cssText),p=I_split(_);for(var y in p)p.hasOwnProperty(y)&&delete g[y];f.style.cssText=I_join(g)},ee.HSVToRGB=function(f,_,g){var p,y,O,v=Math.floor(6*f),w=6*f-v,M=g*(1-_),L=g*(1-w*_),X=g*(1-(1-w)*_);switch(v%6){case 0:p=g,y=X,O=M;break;case 1:p=L,y=g,O=M;break;case 2:p=M,y=g,O=X;break;case 3:p=M,y=L,O=g;break;case 4:p=X,y=M,O=g;break;case 5:p=g,y=M,O=L}return{r:Math.floor(255*p),g:Math.floor(255*y),b:Math.floor(255*O)}},ee.HSVToHex=function(f,_,g){var p=ee.HSVToRGB(f,_,g);return ee.RGBToHex(p.r,p.g,p.b)},ee.hexToHSV=function(f){var _=ee.hexToRGB(f);return ee.RGBToHSV(_.r,_.g,_.b)},ee.isValidHex=function(f){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(f)},ee.isValidRGB=function(f){return f=f.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(f)},ee.isValidRGBA=function(f){return f=f.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(f)},ee.selectiveBridgeObject=function(f,_){if(null!==_&&"object"===(typeof _>"u"?"undefined":(0,U.default)(_))){for(var g=(0,H.default)(_),p=0;p<f.length;p++)_.hasOwnProperty(f[p])&&"object"==(0,U.default)(_[f[p]])&&(g[f[p]]=ee.bridgeObject(_[f[p]]));return g}return null},ee.bridgeObject=function(f){if(null!==f&&"object"===(typeof f>"u"?"undefined":(0,U.default)(f))){var _=(0,H.default)(f);if(f instanceof Element)_=f;else for(var g in _=(0,H.default)(f),f)f.hasOwnProperty(g)&&"object"==(0,U.default)(f[g])&&(_[g]=ee.bridgeObject(f[g]));return _}return null},ee.insertSort=function(f,_){for(var g=0;g<f.length;g++){for(var p=f[g],y=g;y>0&&_(p,f[y-1])<0;y--)f[y]=f[y-1];f[y]=p}return f},ee.mergeOptions=function(f,_,g){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},y=function(oe){return null!=oe},O=function(oe){return null!==oe&&"object"===(typeof oe>"u"?"undefined":(0,U.default)(oe))};if(!O(f))throw new Error("Parameter mergeTarget must be an object");if(!O(_))throw new Error("Parameter options must be an object");if(!y(g))throw new Error("Parameter option must have a value");if(!O(p))throw new Error("Parameter globalOptions must be an object");var M=_[g],X=O(p)&&!function(oe){for(var fe in oe)if(oe.hasOwnProperty(fe))return!1;return!0}(p)?p[g]:void 0,q=X?X.enabled:void 0;if(void 0!==M){if("boolean"==typeof M)return O(f[g])||(f[g]={}),void(f[g].enabled=M);if(null===M&&!O(f[g])){if(!y(X))return;f[g]=(0,H.default)(X)}if(O(M)){var te=!0;void 0!==M.enabled?te=M.enabled:void 0!==q&&(te=X.enabled),function(oe,fe,Ce){O(oe[Ce])||(oe[Ce]={});var De=fe[Ce],Ae=oe[Ce];for(var Ye in De)De.hasOwnProperty(Ye)&&(Ae[Ye]=De[Ye])}(f,_,g),f[g].enabled=te}}},ee.binarySearchCustom=function(f,_,g,p){for(var O=0,v=0,w=f.length-1;v<=w&&O<1e4;){var M=Math.floor((v+w)/2),L=f[M],q=_(void 0===p?L[g]:L[g][p]);if(0==q)return M;-1==q?v=M+1:w=M-1,O++}return-1},ee.binarySearchValue=function(f,_,g,p,y){var L,X,q,te,v=0,w=0,M=f.length-1;for(y=y??function(ie,oe){return ie==oe?0:ie<oe?-1:1};w<=M&&v<1e4;){if(te=Math.floor(.5*(M+w)),L=f[Math.max(0,te-1)][g],X=f[te][g],q=f[Math.min(f.length-1,te+1)][g],0==y(X,_))return te;if(y(L,_)<0&&y(X,_)>0)return"before"==p?Math.max(0,te-1):te;if(y(X,_)<0&&y(q,_)>0)return"before"==p?te:Math.min(f.length-1,te+1);y(X,_)<0?w=te+1:M=te-1,v++}return-1},ee.easingFunctions={linear:function(_){return _},easeInQuad:function(_){return _*_},easeOutQuad:function(_){return _*(2-_)},easeInOutQuad:function(_){return _<.5?2*_*_:(4-2*_)*_-1},easeInCubic:function(_){return _*_*_},easeOutCubic:function(_){return--_*_*_+1},easeInOutCubic:function(_){return _<.5?4*_*_*_:(_-1)*(2*_-2)*(2*_-2)+1},easeInQuart:function(_){return _*_*_*_},easeOutQuart:function(_){return 1- --_*_*_*_},easeInOutQuart:function(_){return _<.5?8*_*_*_*_:1-8*--_*_*_*_},easeInQuint:function(_){return _*_*_*_*_},easeOutQuint:function(_){return 1+--_*_*_*_*_},easeInOutQuint:function(_){return _<.5?16*_*_*_*_*_:1+16*--_*_*_*_*_}},ee.getScrollBarWidth=function(){var f=document.createElement("p");f.style.width="100%",f.style.height="200px";var _=document.createElement("div");_.style.position="absolute",_.style.top="0px",_.style.left="0px",_.style.visibility="hidden",_.style.width="200px",_.style.height="150px",_.style.overflow="hidden",_.appendChild(f),document.body.appendChild(_);var g=f.offsetWidth;_.style.overflow="scroll";var p=f.offsetWidth;return g==p&&(p=_.clientWidth),document.body.removeChild(_),g-p},ee.topMost=function(f,_){var g=void 0;Array.isArray(_)||(_=[_]);var p=!0,y=!1,O=void 0;try{for(var w,v=(0,R.default)(f);!(p=(w=v.next()).done);p=!0){var M=w.value;if(M){g=M[_[0]];for(var L=1;L<_.length;L++)g&&(g=g[_[L]]);if(typeof g<"u")break}}}catch(X){y=!0,O=X}finally{try{!p&&v.return&&v.return()}finally{if(y)throw O}}return g}},function(ge,ee,P){ge.exports={default:P(194),__esModule:!0}},function(ge,ee,P){ee.__esModule=!0;var R=function V(H){return H&&H.__esModule?H:{default:H}}(P(6));ee.default=function(H,$){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||"object"!==(typeof $>"u"?"undefined":(0,R.default)($))&&"function"!=typeof $?H:$}},function(ge,ee,P){ee.__esModule=!0;var R=B(P(196)),H=B(P(29)),Y=B(P(6));function B(U){return U&&U.__esModule?U:{default:U}}ee.default=function(U,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function, not "+(typeof F>"u"?"undefined":(0,Y.default)(F)));U.prototype=(0,H.default)(F&&F.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),F&&(R.default?(0,R.default)(U,F):U.__proto__=F)}},function(ge,ee,P){ee.__esModule=!0;var R=Y(P(142)),H=Y(P(144)),$="function"==typeof H.default&&"symbol"==typeof R.default?function(B){return typeof B}:function(B){return B&&"function"==typeof H.default&&B.constructor===H.default&&B!==H.default.prototype?"symbol":typeof B};function Y(B){return B&&B.__esModule?B:{default:B}}ee.default="function"==typeof H.default&&"symbol"===$(R.default)?function(B){return typeof B>"u"?"undefined":$(B)}:function(B){return B&&"function"==typeof H.default&&B.constructor===H.default&&B!==H.default.prototype?"symbol":typeof B>"u"?"undefined":$(B)}},function(ge,ee){var P=ge.exports={version:"2.5.1"};"number"==typeof __e&&(__e=P)},function(ge,ee,P){ge.exports={default:P(140),__esModule:!0}},function(ge,ee,P){ge.exports=typeof window<"u"&&window.moment||P(154)},function(ge,ee,P){if(typeof window<"u"){var R=P(175),V=window.Hammer||P(176);ge.exports=R(V,{preventDefault:"mouse"})}else ge.exports=function(){return function W(){var H=function(){};return{on:H,off:H,destroy:H,emit:H,get:function(Y){return{set:H}}}}()}},function(ge,ee,P){var R=B(P(19)),H=B(P(6)),Y=B(P(8));function B(D){return D&&D.__esModule?D:{default:D}}var U=P(2),F=P(43);function T(D,C){if(D&&!Array.isArray(D)&&(C=D,D=null),this._options=C||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var E=(0,Y.default)(this._options.type),I=0,f=E.length;I<f;I++){var _=E[I],g=this._options.type[_];this._type[_]="Date"==g||"ISODate"==g||"ASPDate"==g?"Date":g}this._subscribers={},D&&this.add(D),this.setOptions(C)}T.prototype.setOptions=function(D){D&&void 0!==D.queue&&(!1===D.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=F.extend(this,{replace:["add","update","remove"]})),"object"===(0,H.default)(D.queue)&&this._queue.setOptions(D.queue)))},T.prototype.on=function(D,C){var E=this._subscribers[D];E||(this._subscribers[D]=E=[]),E.push({callback:C})},T.prototype.off=function(D,C){var E=this._subscribers[D];E&&(this._subscribers[D]=E.filter(function(I){return I.callback!=C}))},T.prototype._trigger=function(D,C,E){if("*"==D)throw new Error("Cannot trigger event *");var I=[];D in this._subscribers&&(I=I.concat(this._subscribers[D])),"*"in this._subscribers&&(I=I.concat(this._subscribers["*"]));for(var f=0,_=I.length;f<_;f++){var g=I[f];g.callback&&g.callback(D,C,E||null)}},T.prototype.add=function(D,C){var I,E=[];if(Array.isArray(D))for(var _=0,g=D.length;_<g;_++)I=this._addItem(D[_]),E.push(I);else{if(!D||"object"!==(typeof D>"u"?"undefined":(0,H.default)(D)))throw new Error("Unknown dataType");I=this._addItem(D),E.push(I)}return E.length&&this._trigger("add",{items:E},C),E},T.prototype.update=function(D,C){var E=[],I=[],f=[],_=[],g=this,p=g._fieldId,y=function(L){var X=L[p];if(g._data[X]){var q=U.extend({},g._data[X]);X=g._updateItem(L),I.push(X),_.push(L),f.push(q)}else X=g._addItem(L),E.push(X)};if(Array.isArray(D))for(var O=0,v=D.length;O<v;O++)D[O]&&"object"===(0,H.default)(D[O])?y(D[O]):console.warn("Ignoring input item, which is not an object at index "+O);else{if(!D||"object"!==(typeof D>"u"?"undefined":(0,H.default)(D)))throw new Error("Unknown dataType");y(D)}return E.length&&this._trigger("add",{items:E},C),I.length&&this._trigger("update",{items:I,oldData:f,data:_},C),E.concat(I)},T.prototype.get=function(D){var E,I,f,g,C=this,_=U.getType(arguments[0]);"String"==_||"Number"==_?(E=arguments[0],f=arguments[1]):"Array"==_?(I=arguments[0],f=arguments[1]):f=arguments[0],g=f&&f.returnType?-1==["Array","Object"].indexOf(f.returnType)?"Array":f.returnType:"Array";var w,M,X,q,y=f&&f.type||this._options.type,O=f&&f.filter,v=[];if(null!=E)(w=C._getItem(E,y))&&O&&!O(w)&&(w=null);else if(null!=I)for(X=0,q=I.length;X<q;X++)w=C._getItem(I[X],y),(!O||O(w))&&v.push(w);else for(X=0,q=(M=(0,Y.default)(this._data)).length;X<q;X++)w=C._getItem(M[X],y),(!O||O(w))&&v.push(w);if(f&&f.order&&null==E&&this._sort(v,f.order),f&&f.fields){var te=f.fields;if(null!=E)w=this._filterFields(w,te);else for(X=0,q=v.length;X<q;X++)v[X]=this._filterFields(v[X],te)}if("Object"==g){var oe,ie={};for(X=0,q=v.length;X<q;X++)ie[(oe=v[X]).id]=oe;return ie}return null!=E?w:v},T.prototype.getIds=function(D){var g,p,O,v,C=this._data,E=D&&D.filter,I=D&&D.order,f=D&&D.type||this._options.type,_=(0,Y.default)(C),w=[];if(E)if(I){for(v=[],g=0,p=_.length;g<p;g++)E(O=this._getItem(_[g],f))&&v.push(O);for(this._sort(v,I),g=0,p=v.length;g<p;g++)w.push(v[g][this._fieldId])}else for(g=0,p=_.length;g<p;g++)E(O=this._getItem(_[g],f))&&w.push(O[this._fieldId]);else if(I){for(v=[],g=0,p=_.length;g<p;g++)v.push(C[_[g]]);for(this._sort(v,I),g=0,p=v.length;g<p;g++)w.push(v[g][this._fieldId])}else for(g=0,p=_.length;g<p;g++)w.push((O=C[_[g]])[this._fieldId]);return w},T.prototype.getDataSet=function(){return this},T.prototype.forEach=function(D,C){var g,p,y,O,E=C&&C.filter,I=C&&C.type||this._options.type,_=(0,Y.default)(this._data);if(C&&C.order){var v=this.get(C);for(g=0,p=v.length;g<p;g++)D(y=v[g],O=y[this._fieldId])}else for(g=0,p=_.length;g<p;g++)y=this._getItem(O=_[g],I),(!E||E(y))&&D(y,O)},T.prototype.map=function(D,C){var p,y,O,v,E=C&&C.filter,I=C&&C.type||this._options.type,f=[],g=(0,Y.default)(this._data);for(p=0,y=g.length;p<y;p++)v=this._getItem(O=g[p],I),(!E||E(v))&&f.push(D(v,O));return C&&C.order&&this._sort(f,C.order),f},T.prototype._filterFields=function(D,C){if(!D)return D;var _,g,E={},I=(0,Y.default)(D),f=I.length;if(Array.isArray(C))for(_=0;_<f;_++)-1!=C.indexOf(g=I[_])&&(E[g]=D[g]);else for(_=0;_<f;_++)C.hasOwnProperty(g=I[_])&&(E[C[g]]=D[g]);return E},T.prototype._sort=function(D,C){if(U.isString(C)){var E=C;D.sort(function(I,f){var _=I[E],g=f[E];return _>g?1:_<g?-1:0})}else{if("function"!=typeof C)throw new TypeError("Order must be a function or a string");D.sort(C)}},T.prototype.remove=function(D,C){var _,g,p,y,f,E=[],I=[];for(_=0,g=(f=Array.isArray(D)?D:[D]).length;_<g;_++)(y=this._remove(f[_]))&&null!=(p=y[this._fieldId])&&(E.push(p),I.push(y));return E.length&&this._trigger("remove",{items:E,oldData:I},C),E},T.prototype._remove=function(D){var C,E;return U.isNumber(D)||U.isString(D)?E=D:D&&"object"===(typeof D>"u"?"undefined":(0,H.default)(D))&&(E=D[this._fieldId]),void 0!==E&&this._data[E]?(C=this._data[E],delete this._data[E],this.length--,C):null},T.prototype.clear=function(D){var C,E,I=(0,Y.default)(this._data),f=[];for(C=0,E=I.length;C<E;C++)f.push(this._data[I[C]]);return this._data={},this.length=0,this._trigger("remove",{items:I,oldData:f},D),I},T.prototype.max=function(D){var _,g,C=this._data,E=(0,Y.default)(C),I=null,f=null;for(_=0,g=E.length;_<g;_++){var y=C[E[_]],O=y[D];null!=O&&(!I||O>f)&&(I=y,f=O)}return I},T.prototype.min=function(D){var _,g,C=this._data,E=(0,Y.default)(C),I=null,f=null;for(_=0,g=E.length;_<g;_++){var y=C[E[_]],O=y[D];null!=O&&(!I||O<f)&&(I=y,f=O)}return I},T.prototype.distinct=function(D){var g,p,y,C=this._data,E=(0,Y.default)(C),I=[],f=this._options.type&&this._options.type[D]||null,_=0;for(g=0,y=E.length;g<y;g++){var w=C[E[g]][D],M=!1;for(p=0;p<_;p++)if(I[p]==w){M=!0;break}!M&&void 0!==w&&(I[_]=w,_++)}if(f)for(g=0,y=I.length;g<y;g++)I[g]=U.convert(I[g],f);return I},T.prototype._addItem=function(D){var C=D[this._fieldId];if(null!=C){if(this._data[C])throw new Error("Cannot add item: item with id "+C+" already exists")}else C=U.randomUUID(),D[this._fieldId]=C;var f,_,E={},I=(0,Y.default)(D);for(f=0,_=I.length;f<_;f++){var g=I[f];E[g]=U.convert(D[g],this._type[g])}return this._data[C]=E,this.length++,C},T.prototype._getItem=function(D,C){var E,f,_,g=this._data[D];if(!g)return null;var p={},y=(0,Y.default)(g);if(C)for(f=0,_=y.length;f<_;f++)p[E=y[f]]=U.convert(g[E],C[E]);else for(f=0,_=y.length;f<_;f++)p[E=y[f]]=g[E];return p[this._fieldId]||(p[this._fieldId]=g.id),p},T.prototype._updateItem=function(D){var C=D[this._fieldId];if(null==C)throw new Error("Cannot update item: item has no id (item: "+(0,R.default)(D)+")");var E=this._data[C];if(!E)throw new Error("Cannot update item: no item with id "+C+" found");for(var I=(0,Y.default)(D),f=0,_=I.length;f<_;f++){var g=I[f];E[g]=U.convert(D[g],this._type[g])}return C},ge.exports=T},function(ge,ee,P){var R=function V(B){return B&&B.__esModule?B:{default:B}}(P(8));var H=P(2),$=P(11);function Y(B,U){this._data=null,this._ids={},this.length=0,this._options=U||{},this._fieldId="id",this._subscribers={};var F=this;this.listener=function(){F._onEvent.apply(F,arguments)},this.setData(B)}Y.prototype.setData=function(B){var U,T,D,C;if(this._data){for(this._data.off&&this._data.off("*",this.listener),C=[],T=0,D=(U=this._data.getIds({filter:this._options&&this._options.filter})).length;T<D;T++)C.push(this._data._data[U[T]]);this._ids={},this.length=0,this._trigger("remove",{items:U,oldData:C})}if(this._data=B,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",T=0,D=(U=this._data.getIds({filter:this._options&&this._options.filter})).length;T<D;T++)this._ids[U[T]]=!0;this.length=U.length,this._trigger("add",{items:U}),this._data.on&&this._data.on("*",this.listener)}},Y.prototype.refresh=function(){var B,U,F,T=this._data.getIds({filter:this._options&&this._options.filter}),D=(0,R.default)(this._ids),C={},E=[],I=[],f=[];for(U=0,F=T.length;U<F;U++)C[B=T[U]]=!0,this._ids[B]||(E.push(B),this._ids[B]=!0);for(U=0,F=D.length;U<F;U++)C[B=D[U]]||(I.push(B),f.push(this._data._data[B]),delete this._ids[B]);this.length+=E.length-I.length,E.length&&this._trigger("add",{items:E}),I.length&&this._trigger("remove",{items:I,oldData:f})},Y.prototype.get=function(B){var F,T,D,U=this,C=H.getType(arguments[0]);"String"==C||"Number"==C||"Array"==C?(F=arguments[0],T=arguments[1],D=arguments[2]):(T=arguments[0],D=arguments[1]);var E=H.extend({},this._options,T);this._options.filter&&T&&T.filter&&(E.filter=function(f){return U._options.filter(f)&&T.filter(f)});var I=[];return null!=F&&I.push(F),I.push(E),I.push(D),this._data&&this._data.get.apply(this._data,I)},Y.prototype.getIds=function(B){var U;if(this._data){var F=this._options.filter;U=this._data.getIds({filter:B&&B.filter?F?function(C){return F(C)&&B.filter(C)}:B.filter:F,order:B&&B.order})}else U=[];return U},Y.prototype.map=function(B,U){var F=[];if(this._data){var T=this._options.filter;F=this._data.map(B,{filter:U&&U.filter?T?function(E){return T(E)&&U.filter(E)}:U.filter:T,order:U&&U.order})}else F=[];return F},Y.prototype.getDataSet=function(){for(var B=this;B instanceof Y;)B=B._data;return B||null},Y.prototype._onEvent=function(B,U,F){var T,D,C,I=U&&U.items,f=[],_=[],g=[],p=[],y=[],O=[];if(I&&this._data){switch(B){case"add":for(T=0,D=I.length;T<D;T++)this.get(C=I[T])&&(this._ids[C]=!0,f.push(C));break;case"update":for(T=0,D=I.length;T<D;T++)this.get(C=I[T])?this._ids[C]?(_.push(C),y.push(U.data[T]),p.push(U.oldData[T])):(this._ids[C]=!0,f.push(C)):this._ids[C]&&(delete this._ids[C],g.push(C),O.push(U.oldData[T]));break;case"remove":for(T=0,D=I.length;T<D;T++)this._ids[C=I[T]]&&(delete this._ids[C],g.push(C),O.push(U.oldData[T]))}this.length+=f.length-g.length,f.length&&this._trigger("add",{items:f},F),_.length&&this._trigger("update",{items:_,oldData:p,data:y},F),g.length&&this._trigger("remove",{items:g,oldData:O},F)}},Y.prototype.on=$.prototype.on,Y.prototype.off=$.prototype.off,Y.prototype._trigger=$.prototype._trigger,Y.prototype.subscribe=Y.prototype.on,Y.prototype.unsubscribe=Y.prototype.off,ge.exports=Y},function(ge,ee,P){var W=P(57)("wks"),R=P(40),V=P(18).Symbol,H="function"==typeof V;(ge.exports=function(Y){return W[Y]||(W[Y]=H&&V[Y]||(H?V:R)("Symbol."+Y))}).store=W},function(ge,ee,P){ee.prepareElements=function(W){for(var R in W)W.hasOwnProperty(R)&&(W[R].redundant=W[R].used,W[R].used=[])},ee.cleanupElements=function(W){for(var R in W)if(W.hasOwnProperty(R)&&W[R].redundant){for(var V=0;V<W[R].redundant.length;V++)W[R].redundant[V].parentNode.removeChild(W[R].redundant[V]);W[R].redundant=[]}},ee.resetElements=function(W){ee.prepareElements(W),ee.cleanupElements(W),ee.prepareElements(W)},ee.getSVGElement=function(W,R,V){var H;return R.hasOwnProperty(W)?R[W].redundant.length>0?(H=R[W].redundant[0],R[W].redundant.shift()):(H=document.createElementNS("http://www.w3.org/2000/svg",W),V.appendChild(H)):(H=document.createElementNS("http://www.w3.org/2000/svg",W),R[W]={used:[],redundant:[]},V.appendChild(H)),R[W].used.push(H),H},ee.getDOMElement=function(W,R,V,H){var $;return R.hasOwnProperty(W)?R[W].redundant.length>0?($=R[W].redundant[0],R[W].redundant.shift()):($=document.createElement(W),void 0!==H?V.insertBefore($,H):V.appendChild($)):($=document.createElement(W),R[W]={used:[],redundant:[]},void 0!==H?V.insertBefore($,H):V.appendChild($)),R[W].used.push($),$},ee.drawPoint=function(W,R,V,H,$,Y){var B;if("circle"==V.style?((B=ee.getSVGElement("circle",H,$)).setAttributeNS(null,"cx",W),B.setAttributeNS(null,"cy",R),B.setAttributeNS(null,"r",.5*V.size)):((B=ee.getSVGElement("rect",H,$)).setAttributeNS(null,"x",W-.5*V.size),B.setAttributeNS(null,"y",R-.5*V.size),B.setAttributeNS(null,"width",V.size),B.setAttributeNS(null,"height",V.size)),void 0!==V.styles&&B.setAttributeNS(null,"style",V.styles),B.setAttributeNS(null,"class",V.className+" vis-point"),Y){var U=ee.getSVGElement("text",H,$);Y.xOffset&&(W+=Y.xOffset),Y.yOffset&&(R+=Y.yOffset),Y.content&&(U.textContent=Y.content),Y.className&&U.setAttributeNS(null,"class",Y.className+" vis-label"),U.setAttributeNS(null,"x",W),U.setAttributeNS(null,"y",R)}return B},ee.drawBar=function(W,R,V,H,$,Y,B,U){if(0!=H){H<0&&(R-=H*=-1);var F=ee.getSVGElement("rect",Y,B);F.setAttributeNS(null,"x",W-.5*V),F.setAttributeNS(null,"y",R),F.setAttributeNS(null,"width",V),F.setAttributeNS(null,"height",H),F.setAttributeNS(null,"class",$),U&&F.setAttributeNS(null,"style",U)}}},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0}),ee.printStyle=void 0;var R=D(P(19)),H=D(P(6)),Y=D(P(8)),U=D(P(0)),T=D(P(1));function D(g){return g&&g.__esModule?g:{default:g}}var C=P(2),E=!1,I=void 0,f="background: #FFeeee; color: #dd0000",_=function(){function g(){(0,U.default)(this,g)}return(0,T.default)(g,null,[{key:"validate",value:function(y,O,v){E=!1,I=O;var w=O;return void 0!==v&&(w=O[v]),g.parse(y,w,[]),E}},{key:"parse",value:function(y,O,v){for(var w in y)y.hasOwnProperty(w)&&g.check(w,y,O,v)}},{key:"check",value:function(y,O,v,w){if(void 0!==v[y]||void 0!==v.__any__){var M=y,L=!0;void 0===v[y]&&void 0!==v.__any__&&(M="__any__",L="object"===g.getType(O[y]));var X=v[M];L&&void 0!==X.__type__&&(X=X.__type__),g.checkFields(y,O,v,M,X,w)}else g.getSuggestion(y,v,w)}},{key:"checkFields",value:function(y,O,v,w,M,L){var X=function(oe){console.log("%c"+oe+g.printLocation(L,y),f)},q=g.getType(O[y]),te=M[q];void 0!==te?"array"===g.getType(te)&&-1===te.indexOf(O[y])?(X('Invalid option detected in "'+y+'". Allowed values are:'+g.print(te)+' not "'+O[y]+'". '),E=!0):"object"===q&&"__any__"!==w&&(L=C.copyAndExtendArray(L,y),g.parse(O[y],v[w],L)):void 0===M.any&&(X('Invalid type received for "'+y+'". Expected: '+g.print((0,Y.default)(M))+". Received ["+q+'] "'+O[y]+'"'),E=!0)}},{key:"getType",value:function(y){var O=typeof y>"u"?"undefined":(0,H.default)(y);return"object"===O?null===y?"null":y instanceof Boolean?"boolean":y instanceof Number?"number":y instanceof String?"string":Array.isArray(y)?"array":y instanceof Date?"date":void 0!==y.nodeType?"dom":!0===y._isAMomentObject?"moment":"object":"number"===O?"number":"boolean"===O?"boolean":"string"===O?"string":void 0===O?"undefined":O}},{key:"getSuggestion",value:function(y,O,v){var q,w=g.findInOptions(y,O,v,!1),M=g.findInOptions(y,I,[],!0);q=void 0!==w.indexMatch?" in "+g.printLocation(w.path,y,"")+'Perhaps it was incomplete? Did you mean: "'+w.indexMatch+'"?\n\n':M.distance<=4&&w.distance>M.distance?" in "+g.printLocation(w.path,y,"")+"Perhaps it was misplaced? Matching option found at: "+g.printLocation(M.path,M.closestMatch,""):w.distance<=8?'. Did you mean "'+w.closestMatch+'"?'+g.printLocation(w.path,y):". Did you mean one of these: "+g.print((0,Y.default)(O))+g.printLocation(v,y),console.log('%cUnknown option detected: "'+y+'"'+q,f),E=!0}},{key:"findInOptions",value:function(y,O,v){var w=arguments.length>3&&void 0!==arguments[3]&&arguments[3],M=1e9,L="",X=[],q=y.toLowerCase(),te=void 0;for(var ie in O){var oe=void 0;if(void 0!==O[ie].__type__&&!0===w){var fe=g.findInOptions(y,O[ie],C.copyAndExtendArray(v,ie));M>fe.distance&&(L=fe.closestMatch,X=fe.path,M=fe.distance,te=fe.indexMatch)}else-1!==ie.toLowerCase().indexOf(q)&&(te=ie),M>(oe=g.levenshteinDistance(y,ie))&&(L=ie,X=C.copyArray(v),M=oe)}return{closestMatch:L,path:X,distance:M,indexMatch:te}}},{key:"printLocation",value:function(y,O){for(var w="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",M=0;M<y.length;M++){for(var L=0;L<M+1;L++)w+="  ";w+=y[M]+": {\n"}for(var X=0;X<y.length+1;X++)w+="  ";w+=O+"\n";for(var q=0;q<y.length+1;q++){for(var te=0;te<y.length-q;te++)w+="  ";w+="}\n"}return w+"\n\n"}},{key:"print",value:function(y){return(0,R.default)(y).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(y,O){if(0===y.length)return O.length;if(0===O.length)return y.length;var w,M,v=[];for(w=0;w<=O.length;w++)v[w]=[w];for(M=0;M<=y.length;M++)v[0][M]=M;for(w=1;w<=O.length;w++)for(M=1;M<=y.length;M++)v[w][M]=O.charAt(w-1)==y.charAt(M-1)?v[w-1][M-1]:Math.min(v[w-1][M-1]+1,Math.min(v[w][M-1]+1,v[w-1][M]+1));return v[O.length][y.length]}}]),g}();ee.default=_,ee.printStyle=f},function(ge,ee,P){var W=P(2);function R(V,H){this.options=null,this.props=null}R.prototype.setOptions=function(V){V&&W.extend(this.options,V)},R.prototype.redraw=function(){return!1},R.prototype.destroy=function(){},R.prototype._isResized=function(){var V=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,V},ge.exports=R},function(ge,ee,P){var W=P(18),R=P(7),V=P(80),H=P(26),$="prototype",Y=function(B,U,F){var y,O,v,T=B&Y.F,D=B&Y.G,C=B&Y.S,E=B&Y.P,I=B&Y.B,f=B&Y.W,_=D?R:R[U]||(R[U]={}),g=_[$],p=D?W:C?W[U]:(W[U]||{})[$];for(y in D&&(F=U),F)(!(O=!T&&p&&void 0!==p[y])||!(y in _))&&(v=O?p[y]:F[y],_[y]=D&&"function"!=typeof p[y]?F[y]:I&&O?V(v,W):f&&p[y]==v?function(w){var M=function(L,X,q){if(this instanceof w){switch(arguments.length){case 0:return new w;case 1:return new w(L);case 2:return new w(L,X)}return new w(L,X,q)}return w.apply(this,arguments)};return M[$]=w[$],M}(v):E&&"function"==typeof v?V(Function.call,v):v,E&&((_.virtual||(_.virtual={}))[y]=v,B&Y.R&&g&&!g[y]&&H(g,y,v)))};Y.F=1,Y.G=2,Y.S=4,Y.P=8,Y.B=16,Y.W=32,Y.U=64,Y.R=128,ge.exports=Y},function(ge,ee){var P=ge.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=P)},function(ge,ee,P){ge.exports={default:P(160),__esModule:!0}},function(ge,ee,P){var W=P(27),R=P(81),V=P(53),H=Object.defineProperty;ee.f=P(21)?Object.defineProperty:function(Y,B,U){if(W(Y),B=V(B,!0),W(U),R)try{return H(Y,B,U)}catch{}if("get"in U||"set"in U)throw TypeError("Accessors not supported!");return"value"in U&&(Y[B]=U.value),Y}},function(ge,ee,P){ge.exports=!P(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(ge,ee){var P={}.hasOwnProperty;ge.exports=function(W,R){return P.call(W,R)}},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=B(P(6)),H=B(P(0)),Y=B(P(1));function B(F){return F&&F.__esModule?F:{default:F}}var U=function(){function F(T,D,C){(0,H.default)(this,F),this.body=D,this.labelModule=C,this.setOptions(T),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,Y.default)(F,[{key:"setOptions",value:function(D){this.options=D}},{key:"_setMargins",value:function(D){this.margin={},this.options.margin&&("object"==(0,R.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),D.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(D,C){var E=this.options.borderWidth;return this.resize(D),Math.min(Math.abs(this.width/2/Math.cos(C)),Math.abs(this.height/2/Math.sin(C)))+E}},{key:"enableShadow",value:function(D,C){C.shadow&&(D.shadowColor=C.shadowColor,D.shadowBlur=C.shadowSize,D.shadowOffsetX=C.shadowX,D.shadowOffsetY=C.shadowY)}},{key:"disableShadow",value:function(D,C){C.shadow&&(D.shadowColor="rgba(0,0,0,0)",D.shadowBlur=0,D.shadowOffsetX=0,D.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(D,C){if(!1!==C.borderDashes)if(void 0!==D.setLineDash){var E=C.borderDashes;!0===E&&(E=[5,15]),D.setLineDash(E)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,C.borderDashes=!1}},{key:"disableBorderDashes",value:function(D,C){!1!==C.borderDashes&&(void 0!==D.setLineDash?D.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,C.borderDashes=!1))}},{key:"needsRefresh",value:function(D,C){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(D,C)}},{key:"initContextForDraw",value:function(D,C){D.lineWidth=Math.min(this.width,C.borderWidth/this.body.view.scale),D.strokeStyle=C.borderColor,D.fillStyle=C.color}},{key:"performStroke",value:function(D,C){var E=C.borderWidth/this.body.view.scale;D.save(),E>0&&(this.enableBorderDashes(D,C),D.stroke(),this.disableBorderDashes(D,C)),D.restore()}},{key:"performFill",value:function(D,C){this.enableShadow(D,C),D.fill(),this.disableShadow(D,C),this.performStroke(D,C)}},{key:"_addBoundingBoxMargin",value:function(D){this.boundingBox.left-=D,this.boundingBox.top-=D,this.boundingBox.bottom+=D,this.boundingBox.right+=D}},{key:"_updateBoundingBox",value:function(D,C,E,I,f){void 0!==E&&this.resize(E,I,f),this.left=D-this.width/2,this.top=C-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(D,C,E,I,f){this._updateBoundingBox(D,C,E,I,f)}},{key:"getDimensionsFromLabel",value:function(D,C,E){this.textSize=this.labelModule.getTextSize(D,C,E);var I=this.textSize.width,f=this.textSize.height;return 0===I&&(I=14,f=14),{width:I,height:f}}}]),F}();ee.default=U},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"resize",value:function(p){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(y,O)){this.labelModule.getTextSize(p,y,O);var w=2*v.size;this.width=w,this.height=w,this.radius=.5*this.width}}},{key:"_drawShape",value:function(p,y,O,v,w,M,L,X){this.resize(p,M,L,X),this.left=v-this.width/2,this.top=w-this.height/2,this.initContextForDraw(p,X),p[y](v,w,X.size),this.performFill(p,X),void 0!==this.options.label&&(this.labelModule.calculateLabelSize(p,M,L,v,w,"hanging"),this.labelModule.draw(p,v,w+.5*this.height+.5*this.labelModule.size.height,M,L,"hanging")),this.updateBoundingBox(v,w)}},{key:"updateBoundingBox",value:function(p,y){this.boundingBox.top=y-this.options.size,this.boundingBox.left=p-this.options.size,this.boundingBox.right=p+this.options.size,this.boundingBox.bottom=y+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),_}(E(P(23)).default);ee.default=I},function(ge,ee,P){var W=P(78),R=P(51);ge.exports=function(V){return W(R(V))}},function(ge,ee,P){var W=P(20),R=P(39);ge.exports=P(21)?function(V,H,$){return W.f(V,H,R(1,$))}:function(V,H,$){return V[H]=$,V}},function(ge,ee,P){var W=P(32);ge.exports=function(R){if(!W(R))throw TypeError(R+" is not an object!");return R}},function(ge,ee){ge.exports=function(P){try{return!!P()}catch{return!0}}},function(ge,ee,P){ge.exports={default:P(138),__esModule:!0}},function(ge,ee,P){ee.__esModule=!0;var R=$(P(188)),H=$(P(77));function $(Y){return Y&&Y.__esModule?Y:{default:Y}}ee.default=function(B,U){if(Array.isArray(B))return B;if((0,R.default)(Object(B)))return function Y(B,U){var F=[],T=!0,D=!1,C=void 0;try{for(var I,E=(0,H.default)(B);!(T=(I=E.next()).done)&&(F.push(I.value),!U||F.length!==U);T=!0);}catch(f){D=!0,C=f}finally{try{!T&&E.return&&E.return()}finally{if(D)throw C}}return F}(B,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(ge,ee){ge.exports={}},function(ge,ee){ge.exports=function(P){return"object"==typeof P?null!==P:"function"==typeof P}},function(ge,ee,P){var W=P(84),R=P(58);ge.exports=Object.keys||function(H){return W(H,R)}},function(ge,ee,P){function W(R,V,H){this.x=void 0!==R?R:0,this.y=void 0!==V?V:0,this.z=void 0!==H?H:0}W.subtract=function(R,V){var H=new W;return H.x=R.x-V.x,H.y=R.y-V.y,H.z=R.z-V.z,H},W.add=function(R,V){var H=new W;return H.x=R.x+V.x,H.y=R.y+V.y,H.z=R.z+V.z,H},W.avg=function(R,V){return new W((R.x+V.x)/2,(R.y+V.y)/2,(R.z+V.z)/2)},W.crossProduct=function(R,V){var H=new W;return H.x=R.y*V.z-R.z*V.y,H.y=R.z*V.x-R.x*V.z,H.z=R.x*V.y-R.y*V.x,H},W.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},ge.exports=W},function(ge,ee,P){var W,V;void 0!==(V="function"==typeof(W=function(){return function H($){var D,Y=$&&$.preventDefault||!1,B=$&&$.container||window,U={},F={keydown:{},keyup:{}},T={};for(D=97;D<=122;D++)T[String.fromCharCode(D)]={code:D-97+65,shift:!1};for(D=65;D<=90;D++)T[String.fromCharCode(D)]={code:D,shift:!0};for(D=0;D<=9;D++)T[""+D]={code:48+D,shift:!1};for(D=1;D<=12;D++)T["F"+D]={code:111+D,shift:!1};for(D=0;D<=9;D++)T["num"+D]={code:96+D,shift:!1};T["num*"]={code:106,shift:!1},T["num+"]={code:107,shift:!1},T["num-"]={code:109,shift:!1},T["num/"]={code:111,shift:!1},T["num."]={code:110,shift:!1},T.left={code:37,shift:!1},T.up={code:38,shift:!1},T.right={code:39,shift:!1},T.down={code:40,shift:!1},T.space={code:32,shift:!1},T.enter={code:13,shift:!1},T.shift={code:16,shift:void 0},T.esc={code:27,shift:!1},T.backspace={code:8,shift:!1},T.tab={code:9,shift:!1},T.ctrl={code:17,shift:!1},T.alt={code:18,shift:!1},T.delete={code:46,shift:!1},T.pageup={code:33,shift:!1},T.pagedown={code:34,shift:!1},T["="]={code:187,shift:!1},T["-"]={code:189,shift:!1},T["]"]={code:221,shift:!1},T["["]={code:219,shift:!1};var C=function(f){I(f,"keydown")},E=function(f){I(f,"keyup")},I=function(f,_){if(void 0!==F[_][f.keyCode]){for(var g=F[_][f.keyCode],p=0;p<g.length;p++)(void 0===g[p].shift||1==g[p].shift&&1==f.shiftKey||0==g[p].shift&&0==f.shiftKey)&&g[p].fn(f);1==Y&&f.preventDefault()}};return U.bind=function(f,_,g){if(void 0===g&&(g="keydown"),void 0===T[f])throw new Error("unsupported key: "+f);void 0===F[g][T[f].code]&&(F[g][T[f].code]=[]),F[g][T[f].code].push({fn:_,shift:T[f].shift})},U.bindAll=function(f,_){for(var g in void 0===_&&(_="keydown"),T)T.hasOwnProperty(g)&&U.bind(g,f,_)},U.getKey=function(f){for(var _ in T)if(T.hasOwnProperty(_)){if(1==f.shiftKey&&1==T[_].shift&&f.keyCode==T[_].code)return _;if(0==f.shiftKey&&0==T[_].shift&&f.keyCode==T[_].code)return _;if(f.keyCode==T[_].code&&"shift"==_)return _}return"unknown key, currently not supported"},U.unbind=function(f,_,g){if(void 0===g&&(g="keydown"),void 0===T[f])throw new Error("unsupported key: "+f);if(void 0!==_){var p=[],y=F[g][T[f].code];if(void 0!==y)for(var O=0;O<y.length;O++)y[O].fn==_&&y[O].shift==T[f].shift||p.push(F[g][T[f].code][O]);F[g][T[f].code]=p}else F[g][T[f].code]=[]},U.reset=function(){F={keydown:{},keyup:{}}},U.destroy=function(){F={keydown:{},keyup:{}},B.removeEventListener("keydown",C,!0),B.removeEventListener("keyup",E,!0)},B.addEventListener("keydown",C,!0),B.addEventListener("keyup",E,!0),U}})?W.apply(ee,[]):W)&&(ge.exports=V)},function(ge,ee,P){ee.convertHiddenOptions=function(W,R,V){if(V&&!Array.isArray(V))return ee.convertHiddenOptions(W,R,[V]);if(R.hiddenDates=[],V&&1==Array.isArray(V)){for(var H=0;H<V.length;H++)if(void 0===V[H].repeat){var $={};$.start=W(V[H].start).toDate().valueOf(),$.end=W(V[H].end).toDate().valueOf(),R.hiddenDates.push($)}R.hiddenDates.sort(function(Y,B){return Y.start-B.start})}},ee.updateHiddenDates=function(W,R,V){if(V&&!Array.isArray(V))return ee.updateHiddenDates(W,R,[V]);if(V&&void 0!==R.domProps.centerContainer.width){ee.convertHiddenOptions(W,R,V);for(var H=W(R.range.start),$=W(R.range.end),B=(R.range.end-R.range.start)/R.domProps.centerContainer.width,U=0;U<V.length;U++)if(void 0!==V[U].repeat){var F=W(V[U].start),T=W(V[U].end);if("Invalid Date"==F._d)throw new Error("Supplied start date is not valid: "+V[U].start);if("Invalid Date"==T._d)throw new Error("Supplied end date is not valid: "+V[U].end);if(T-F>=4*B){var C=0,E=$.clone();switch(V[U].repeat){case"daily":F.day()!=T.day()&&(C=1),F.dayOfYear(H.dayOfYear()),F.year(H.year()),F.subtract(7,"days"),T.dayOfYear(H.dayOfYear()),T.year(H.year()),T.subtract(7-C,"days"),E.add(1,"weeks");break;case"weekly":var I=T.diff(F,"days"),f=F.day();F.date(H.date()),F.month(H.month()),F.year(H.year()),T=F.clone(),F.day(f),T.day(f),T.add(I,"days"),F.subtract(1,"weeks"),T.subtract(1,"weeks"),E.add(1,"weeks");break;case"monthly":F.month()!=T.month()&&(C=1),F.month(H.month()),F.year(H.year()),F.subtract(1,"months"),T.month(H.month()),T.year(H.year()),T.subtract(1,"months"),T.add(C,"months"),E.add(1,"months");break;case"yearly":F.year()!=T.year()&&(C=1),F.year(H.year()),F.subtract(1,"years"),T.year(H.year()),T.subtract(1,"years"),T.add(C,"years"),E.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",V[U].repeat)}for(;F<E;)switch(R.hiddenDates.push({start:F.valueOf(),end:T.valueOf()}),V[U].repeat){case"daily":F.add(1,"days"),T.add(1,"days");break;case"weekly":F.add(1,"weeks"),T.add(1,"weeks");break;case"monthly":F.add(1,"months"),T.add(1,"months");break;case"yearly":F.add(1,"y"),T.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",V[U].repeat)}R.hiddenDates.push({start:F.valueOf(),end:T.valueOf()})}}ee.removeDuplicates(R);var _=ee.isHidden(R.range.start,R.hiddenDates),g=ee.isHidden(R.range.end,R.hiddenDates),p=R.range.start,y=R.range.end;1==_.hidden&&(p=1==R.range.startToFront?_.startDate-1:_.endDate+1),1==g.hidden&&(y=1==R.range.endToFront?g.startDate-1:g.endDate+1),(1==_.hidden||1==g.hidden)&&R.range._applyRange(p,y)}},ee.removeDuplicates=function(W){for(var R=W.hiddenDates,V=[],H=0;H<R.length;H++)for(var $=0;$<R.length;$++)H!=$&&1!=R[$].remove&&1!=R[H].remove&&(R[$].start>=R[H].start&&R[$].end<=R[H].end?R[$].remove=!0:R[$].start>=R[H].start&&R[$].start<=R[H].end?(R[H].end=R[$].end,R[$].remove=!0):R[$].end>=R[H].start&&R[$].end<=R[H].end&&(R[H].start=R[$].start,R[$].remove=!0));for(H=0;H<R.length;H++)!0!==R[H].remove&&V.push(R[H]);W.hiddenDates=V,W.hiddenDates.sort(function(Y,B){return Y.start-B.start})},ee.printDates=function(W){for(var R=0;R<W.length;R++)console.log(R,new Date(W[R].start),new Date(W[R].end),W[R].start,W[R].end,W[R].remove)},ee.stepOverHiddenDates=function(W,R,V){for(var H=!1,$=R.current.valueOf(),Y=0;Y<R.hiddenDates.length;Y++){var U=R.hiddenDates[Y].end;if($>=R.hiddenDates[Y].start&&$<U){H=!0;break}}if(1==H&&$<R._end.valueOf()&&$!=V){var F=W(V),T=W(U);F.year()!=T.year()?R.switchedYear=!0:F.month()!=T.month()?R.switchedMonth=!0:F.dayOfYear()!=T.dayOfYear()&&(R.switchedDay=!0),R.current=T}},ee.toScreen=function(W,R,V){var H;if(0==W.body.hiddenDates.length)return H=W.range.conversion(V),(R.valueOf()-H.offset)*H.scale;var $=ee.isHidden(R,W.body.hiddenDates);1==$.hidden&&(R=$.startDate);var Y=ee.getHiddenDurationBetween(W.body.hiddenDates,W.range.start,W.range.end);if(R<W.range.start){H=W.range.conversion(V,Y);var B=ee.getHiddenDurationBeforeStart(W.body.hiddenDates,R,H.offset);return R=W.options.moment(R).toDate().valueOf(),-(H.offset-(R+=B).valueOf())*H.scale}return R>W.range.end?(R=ee.correctTimeForHidden(W.options.moment,W.body.hiddenDates,{start:W.range.start,end:R},R),H=W.range.conversion(V,Y),(R.valueOf()-H.offset)*H.scale):(R=ee.correctTimeForHidden(W.options.moment,W.body.hiddenDates,W.range,R),H=W.range.conversion(V,Y),(R.valueOf()-H.offset)*H.scale)},ee.toTime=function(W,R,V){if(0==W.body.hiddenDates.length){var H=W.range.conversion(V);return new Date(R/H.scale+H.offset)}var $=ee.getHiddenDurationBetween(W.body.hiddenDates,W.range.start,W.range.end),B=(W.range.end-W.range.start-$)*R/V,U=ee.getAccumulatedHiddenDuration(W.body.hiddenDates,W.range,B);return new Date(U+B+W.range.start)},ee.getHiddenDurationBetween=function(W,R,V){for(var H=0,$=0;$<W.length;$++){var Y=W[$].start,B=W[$].end;Y>=R&&B<V&&(H+=B-Y)}return H},ee.getHiddenDurationBeforeStart=function(W,R,V){for(var H=0,$=0;$<W.length;$++){var Y=W[$].start,B=W[$].end;Y>=R&&B<=V&&(H+=B-Y)}return H},ee.correctTimeForHidden=function(W,R,V,H){return(H=W(H).toDate().valueOf())-ee.getHiddenDurationBefore(W,R,V,H)},ee.getHiddenDurationBefore=function(W,R,V,H){var $=0;H=W(H).toDate().valueOf();for(var Y=0;Y<R.length;Y++){var B=R[Y].start,U=R[Y].end;B>=V.start&&U<V.end&&H>=U&&($+=U-B)}return $},ee.getAccumulatedHiddenDuration=function(W,R,V){for(var H=0,$=0,Y=R.start,B=0;B<W.length;B++){var U=W[B].start,F=W[B].end;if(U>=R.start&&F<R.end){if($+=U-Y,Y=F,$>=V)break;H+=F-U}}return H},ee.snapAwayFromHidden=function(W,R,V,H){var $=ee.isHidden(R,W);return 1==$.hidden?V<0?1==H?$.startDate-($.endDate-R)-1:$.startDate-1:1==H?$.endDate+(R-$.startDate)+1:$.endDate+1:R},ee.isHidden=function(W,R){for(var V=0;V<R.length;V++){var H=R[V].start,$=R[V].end;if(W>=H&&W<$)return{hidden:!0,startDate:H,endDate:$}}return{hidden:!1,startDate:H,endDate:$}}},function(ge,ee,P){ee.onTouch=function(W,R){R.inputHandler=function(V){V.isFirst&&R(V)},W.on("hammer.input",R.inputHandler)},ee.onRelease=function(W,R){return R.inputHandler=function(V){V.isFinal&&R(V)},W.on("hammer.input",R.inputHandler)},ee.offTouch=function(W,R){W.off("hammer.input",R.inputHandler)},ee.offRelease=ee.offTouch,ee.disablePreventDefaultVertically=function(W){return W.getTouchAction=function(){return["pan-y"]},W}},function(ge,ee,P){var R=$(P(6)),H=$(P(8));function $(T){return T&&T.__esModule?T:{default:T}}var Y=P(10),B=P(2),U=P(9);function F(T,D,C){this.id=null,this.parent=null,this.data=T,this.dom=null,this.conversion=D||{},this.options=C||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}F.prototype.stack=!0,F.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},F.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},F.prototype.setData=function(T){null!=T.group&&this.data.group!=T.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,T.group),this.parent&&(this.parent.stackDirty=!0),null!=T.subgroup&&this.data.subgroup!=T.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,T.subgroup),this.data=T,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},F.prototype.setParent=function(T){this.displayed?(this.hide(),this.parent=T,this.parent&&this.show()):this.parent=T},F.prototype.isVisible=function(T){return!1},F.prototype.show=function(){return!1},F.prototype.hide=function(){return!1},F.prototype.redraw=function(){},F.prototype.repositionX=function(){},F.prototype.repositionY=function(){},F.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var T=this,D=document.createElement("div");D.className="vis-drag-center",D.dragCenterItem=this;var C=new Y(D);C.on("tap",function(E){T.parent.itemSet.body.emitter.emit("click",{event:E,item:T.id})}),C.on("doubletap",function(E){E.stopPropagation(),T.parent.itemSet._onUpdateItem(T),T.parent.itemSet.body.emitter.emit("doubleClick",{event:E,item:T.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(D,this.dom.dragLeft):this.dom.box.appendChild(D):this.dom.point&&this.dom.point.appendChild(D),this.dom.dragCenter=D}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},F.prototype._repaintDeleteButton=function(T){if(this.selected&&((this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove)&&!this.dom.deleteButton){var C=this,E=document.createElement("div");E.className=this.options.rtl?"vis-delete-rtl":"vis-delete",E.title="Delete this item",new Y(E).on("tap",function(I){I.stopPropagation(),C.parent.removeFromDataSet(C)}),T.appendChild(E),this.dom.deleteButton=E}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},F.prototype._repaintOnItemUpdateTimeTooltip=function(T){if(this.options.tooltipOnItemUpdateTime){var g;if(!this.selected||!this.options.editable.updateTime&&!0!==this.data.editable||!1===this.data.editable||this.dom.onItemUpdateTimeTooltip)!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);else{var C=document.createElement("div");C.className="vis-onUpdateTime-tooltip",T.appendChild(C),this.dom.onItemUpdateTimeTooltip=C}this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left,("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-this.parent.itemSet.body.domProps.scrollTop?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?g=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(g="start: "+U(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(g+="<br> end: "+U(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=g)}},F.prototype._updateContents=function(T){var D,E,I,f,_=this.parent.itemSet.itemsData.get(this.id),g=this.dom.box||this.dom.point,p=g.getElementsByClassName("vis-item-visible-frame")[0];if(I=this.options.visibleFrameTemplate?(f=this.options.visibleFrameTemplate.bind(this))(_,g):"",p)if(I instanceof Object&&!(I instanceof Element))f(_,p);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(I)){if(I instanceof Element)p.innerHTML="",p.appendChild(I);else if(null!=I)p.innerHTML=I;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=I}if((D=this.options.template?(E=this.options.template.bind(this))(_,T,this.data):this.data.content)instanceof Object&&!(D instanceof Element))E(_,T);else if(this._contentToString(this.content)!==this._contentToString(D)){if(D instanceof Element)T.innerHTML="",T.appendChild(D);else if(null!=D)T.innerHTML=D;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=D}},F.prototype._updateDataAttributes=function(T){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var D=[];if(Array.isArray(this.options.dataAttributes))D=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;D=(0,H.default)(this.data)}for(var C=0;C<D.length;C++){var E=D[C],I=this.data[E];null!=I?T.setAttribute("data-"+E,I):T.removeAttribute("data-"+E)}}},F.prototype._updateStyle=function(T){this.style&&(B.removeCssText(T,this.style),this.style=null),this.data.style&&(B.addCssText(T,this.data.style),this.style=this.data.style)},F.prototype._contentToString=function(T){return"string"==typeof T?T:T&&"outerHTML"in T?T.outerHTML:T},F.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,R.default)(this.options.editable)&&(this.editable={},B.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||!0!==this.options.editable.overrideItems)&&this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,R.default)(this.data.editable)&&(this.editable={},B.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},F.prototype.getWidthLeft=function(){return 0},F.prototype.getWidthRight=function(){return 0},F.prototype.getTitle=function(){return this.data.title},ge.exports=F},function(ge,ee){ge.exports=function(P,W){return{enumerable:!(1&P),configurable:!(2&P),writable:!(4&P),value:W}}},function(ge,ee){var P=0,W=Math.random();ge.exports=function(R){return"Symbol(".concat(void 0===R?"":R,")_",(++P+W).toString(36))}},function(ge,ee,P){var W=P(51);ge.exports=function(R){return Object(W(R))}},function(ge,ee){ee.f={}.propertyIsEnumerable},function(ge,ee,P){function W(R){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(R)}W.prototype.setOptions=function(R){R&&typeof R.delay<"u"&&(this.delay=R.delay),R&&typeof R.max<"u"&&(this.max=R.max),this._flushIfNeeded()},W.extend=function(R,V){var H=new W(V);if(void 0!==R.flush)throw new Error("Target object already has a property flush");R.flush=function(){H.flush()};var $=[{name:"flush",original:void 0}];if(V&&V.replace)for(var Y=0;Y<V.replace.length;Y++){var B=V.replace[Y];$.push({name:B,original:R[B]}),H.replace(R,B)}return H._extended={object:R,methods:$},H},W.prototype.destroy=function(){if(this.flush(),this._extended){for(var R=this._extended.object,V=this._extended.methods,H=0;H<V.length;H++){var $=V[H];$.original?R[$.name]=$.original:delete R[$.name]}this._extended=null}},W.prototype.replace=function(R,V){var H=this,$=R[V];if(!$)throw new Error("Method "+V+" undefined");R[V]=function(){for(var Y=[],B=0;B<arguments.length;B++)Y[B]=arguments[B];H.queue({args:Y,fn:$,context:this})}},W.prototype.queue=function(R){this._queue.push("function"==typeof R?{fn:R}:R),this._flushIfNeeded()},W.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var R=this;this._timeout=setTimeout(function(){R.flush()},this.delay)}},W.prototype.flush=function(){for(;this._queue.length>0;){var R=this._queue.shift();R.fn.apply(R.context||R.fn,R.args||[])}},ge.exports=W},function(ge,ee){function P(R){if(R)return function W(R){for(var V in P.prototype)R[V]=P.prototype[V];return R}(R)}ge.exports=P,P.prototype.on=P.prototype.addEventListener=function(R,V){return this._callbacks=this._callbacks||{},(this._callbacks[R]=this._callbacks[R]||[]).push(V),this},P.prototype.once=function(R,V){var H=this;function $(){H.off(R,$),V.apply(this,arguments)}return this._callbacks=this._callbacks||{},$.fn=V,this.on(R,$),this},P.prototype.off=P.prototype.removeListener=P.prototype.removeAllListeners=P.prototype.removeEventListener=function(R,V){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var H=this._callbacks[R];if(!H)return this;if(1==arguments.length)return delete this._callbacks[R],this;for(var $,Y=0;Y<H.length;Y++)if(($=H[Y])===V||$.fn===V){H.splice(Y,1);break}return this},P.prototype.emit=function(R){this._callbacks=this._callbacks||{};var V=[].slice.call(arguments,1),H=this._callbacks[R];if(H)for(var $=0,Y=(H=H.slice(0)).length;$<Y;++$)H[$].apply(this,V);return this},P.prototype.listeners=function(R){return this._callbacks=this._callbacks||{},this._callbacks[R]||[]},P.prototype.hasListeners=function(R){return!!this.listeners(R).length}},function(ge,ee,P){var R=function V(D){return D&&D.__esModule?D:{default:D}}(P(6));var H=P(2),$=P(16),Y=P(66),B=P(36),U=P(9);function F(D,C){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:Y.FORMAT,moment:U,timeAxis:null},this.options=H.extend({},this.defaultOptions),this.body=D,this._create(),this.setOptions(C)}(F.prototype=new $).setOptions=function(D){D&&(H.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,D),H.selectiveDeepExtend(["format"],this.options,D),"orientation"in D&&("string"==typeof D.orientation?this.options.orientation.axis=D.orientation:"object"===(0,R.default)(D.orientation)&&"axis"in D.orientation&&(this.options.orientation.axis=D.orientation.axis)),"locale"in D&&("function"==typeof U.locale?U.locale(D.locale):U.lang(D.locale)))},F.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},F.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},F.prototype.redraw=function(){var D=this.props,C=this.dom.foreground,E=this.dom.background,I="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,f=C.parentNode!==I;this._calculateCharSize();var g=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;D.minorLabelHeight=this.options.showMinorLabels&&"none"!==this.options.orientation.axis?D.minorCharHeight:0,D.majorLabelHeight=g?D.majorCharHeight:0,D.height=D.minorLabelHeight+D.majorLabelHeight,D.width=C.offsetWidth,D.minorLineHeight=this.body.domProps.root.height-D.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),D.minorLineWidth=1,D.majorLineHeight=D.minorLineHeight+D.majorLabelHeight,D.majorLineWidth=1;var p=C.nextSibling,y=E.nextSibling;return C.parentNode&&C.parentNode.removeChild(C),E.parentNode&&E.parentNode.removeChild(E),C.style.height=this.props.height+"px",this._repaintLabels(),p?I.insertBefore(C,p):I.appendChild(C),y?this.body.dom.backgroundVertical.insertBefore(E,y):this.body.dom.backgroundVertical.appendChild(E),this._isResized()||f},F.prototype._repaintLabels=function(){var D=this.options.orientation.axis,C=H.convert(this.body.range.start,"Number"),E=H.convert(this.body.range.end,"Number"),I=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),f=I-B.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,I);f-=this.body.util.toTime(0).valueOf();var _=new Y(new Date(C),new Date(E),f,this.body.hiddenDates,this.options);_.setMoment(this.options.moment),this.options.format&&_.setFormat(this.options.format),this.options.timeAxis&&_.setScale(this.options.timeAxis),this.step=_;var g=this.dom;g.redundant.lines=g.lines,g.redundant.majorTexts=g.majorTexts,g.redundant.minorTexts=g.minorTexts,g.lines=[],g.majorTexts=[],g.minorTexts=[];var y,O,v,w,L,q,te,ie,De,X=0,oe=void 0,fe=0;for(_.start(),y=_.getCurrent(),v=this.body.util.toScreen(y);_.hasNext()&&fe<1e3;){if(L="week"===(fe++,w=_.isMajor(),De=_.getClassName(),ie=_.getLabelMinor(),O=v,_.next(),y=_.getCurrent(),_.isMajor(),q=X,X=(v=this.body.util.toScreen(y))-O,_.scale)||X>=.4*q,this.options.showMinorLabels&&L){var Ae=this._repaintMinorText(O,ie,D,De);Ae.style.width=X+"px"}w&&this.options.showMajorLabels?(O>0&&(null==oe&&(oe=O),Ae=this._repaintMajorText(O,_.getLabelMajor(),D,De)),te=this._repaintMajorLine(O,X,D,De)):L?te=this._repaintMinorLine(O,X,D,De):te&&(te.style.width=parseInt(te.style.width)+X+"px")}if(1e3===fe&&!T&&(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),T=!0),this.options.showMajorLabels){var Ye=this.body.util.toTime(0),st=_.getLabelMajor(Ye);(null==oe||st.length*(this.props.majorCharWidth||10)+10<oe)&&this._repaintMajorText(0,st,D,De)}H.forEach(this.dom.redundant,function(We){for(;We.length;){var we=We.pop();we&&we.parentNode&&we.parentNode.removeChild(we)}})},F.prototype._repaintMinorText=function(D,C,E,I){var f=this.dom.redundant.minorTexts.shift();if(!f){var _=document.createTextNode("");(f=document.createElement("div")).appendChild(_),this.dom.foreground.appendChild(f)}return this.dom.minorTexts.push(f),f.innerHTML=C,f.style.top="top"==E?this.props.majorLabelHeight+"px":"0",this.options.rtl?(f.style.left="",f.style.right=D+"px"):f.style.left=D+"px",f.className="vis-text vis-minor "+I,f},F.prototype._repaintMajorText=function(D,C,E,I){var f=this.dom.redundant.majorTexts.shift();if(!f){var _=document.createElement("div");(f=document.createElement("div")).appendChild(_),this.dom.foreground.appendChild(f)}return f.childNodes[0].innerHTML=C,f.className="vis-text vis-major "+I,f.style.top="top"==E?"0":this.props.minorLabelHeight+"px",this.options.rtl?(f.style.left="",f.style.right=D+"px"):f.style.left=D+"px",this.dom.majorTexts.push(f),f},F.prototype._repaintMinorLine=function(D,C,E,I){var f=this.dom.redundant.lines.shift();f||(f=document.createElement("div"),this.dom.background.appendChild(f)),this.dom.lines.push(f);var _=this.props;return f.style.top="top"==E?_.majorLabelHeight+"px":this.body.domProps.top.height+"px",f.style.height=_.minorLineHeight+"px",this.options.rtl?(f.style.left="",f.style.right=D-_.minorLineWidth/2+"px",f.className="vis-grid vis-vertical-rtl vis-minor "+I):(f.style.left=D-_.minorLineWidth/2+"px",f.className="vis-grid vis-vertical vis-minor "+I),f.style.width=C+"px",f},F.prototype._repaintMajorLine=function(D,C,E,I){var f=this.dom.redundant.lines.shift();f||(f=document.createElement("div"),this.dom.background.appendChild(f)),this.dom.lines.push(f);var _=this.props;return f.style.top="top"==E?"0":this.body.domProps.top.height+"px",this.options.rtl?(f.style.left="",f.style.right=D-_.majorLineWidth/2+"px",f.className="vis-grid vis-vertical-rtl vis-major "+I):(f.style.left=D-_.majorLineWidth/2+"px",f.className="vis-grid vis-vertical vis-major "+I),f.style.height=_.majorLineHeight+"px",f.style.width=C+"px",f},F.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var T=!1;ge.exports=F},function(ge,ee,P){var W=P(10),R=P(2),V=P(16),H=P(9),$=P(98);function Y(B,U){this.body=B,this.defaultOptions={moment:H,locales:$,locale:"en",id:void 0,title:void 0},this.options=R.extend({},this.defaultOptions),this.customTime=U&&U.time?U.time:new Date,this.eventParams={},this.setOptions(U),this._create()}(Y.prototype=new V).setOptions=function(B){B&&R.selectiveExtend(["moment","locale","locales","id"],this.options,B)},Y.prototype._create=function(){var B=document.createElement("div");B["custom-time"]=this,B.className="vis-custom-time "+(this.options.id||""),B.style.position="absolute",B.style.top="0px",B.style.height="100%",this.bar=B;var U=document.createElement("div");function F(T){this.body.range._onMouseWheel(T)}U.style.position="relative",U.style.top="0px",U.style.left="-10px",U.style.height="100%",U.style.width="20px",U.addEventListener?(U.addEventListener("mousewheel",F.bind(this),!1),U.addEventListener("DOMMouseScroll",F.bind(this),!1)):U.attachEvent("onmousewheel",F.bind(this)),B.appendChild(U),this.hammer=new W(U),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:W.DIRECTION_HORIZONTAL})},Y.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},Y.prototype.redraw=function(){var B=this.body.dom.backgroundVertical;this.bar.parentNode!=B&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),B.appendChild(this.bar));var U=this.body.util.toScreen(this.customTime),F=this.options.locales[this.options.locale];F||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),F=this.options.locales.en);var T=this.options.title;return void 0===T?T=(T=F.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+T.substring(1):"function"==typeof T&&(T=T.call(this.customTime)),this.bar.style.left=U+"px",this.bar.title=T,!1},Y.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},Y.prototype.setCustomTime=function(B){this.customTime=R.convert(B,"Date"),this.redraw()},Y.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},Y.prototype.setCustomTitle=function(B){this.options.title=B},Y.prototype._onDragStart=function(B){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,B.stopPropagation()},Y.prototype._onDrag=function(B){if(this.eventParams.dragging){var U=this.body.util.toScreen(this.eventParams.customTime)+B.deltaX,F=this.body.util.toTime(U);this.setCustomTime(F),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:B}),B.stopPropagation()}},Y.prototype._onDragEnd=function(B){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:B}),B.stopPropagation())},Y.customTimeFromTarget=function(B){for(var U=B.target;U;){if(U.hasOwnProperty("custom-time"))return U["custom-time"];U=U.parentNode}return null},ge.exports=Y},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(te){return te&&te.__esModule?te:{default:te}}var Y=P(2),B=P(117).default,U=P(48).default,F=P(193).default,T=P(200).default,D=P(201).default,C=P(202).default,E=P(203).default,I=P(204).default,f=P(205).default,_=P(206).default,g=P(207).default,p=P(208).default,y=P(209).default,O=P(210).default,v=P(211).default,w=P(212).default,M=P(213).default,X=P(15).printStyle,q=function(){function te(ie,oe,fe,Ce,De,Ae){(0,R.default)(this,te),this.options=Y.bridgeObject(De),this.globalOptions=De,this.defaultOptions=Ae,this.body=oe,this.edges=[],this.id=void 0,this.imagelist=fe,this.grouplist=Ce,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new B(this.body,this.options,!1),this.setOptions(ie)}return(0,H.default)(te,[{key:"attachEdge",value:function(oe){-1===this.edges.indexOf(oe)&&this.edges.push(oe)}},{key:"detachEdge",value:function(oe){var fe=this.edges.indexOf(oe);-1!=fe&&this.edges.splice(fe,1)}},{key:"setOptions",value:function(oe){var fe=this.options.shape;if(oe){if(void 0!==oe.id&&(this.id=oe.id),void 0===this.id)throw new Error("Node must have an id");return te.checkMass(oe,this.id),void 0!==oe.x&&(null===oe.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(oe.x),this.predefinedPosition=!0)),void 0!==oe.y&&(null===oe.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(oe.y),this.predefinedPosition=!0)),void 0!==oe.size&&(this.baseSize=oe.size),void 0!==oe.value&&(oe.value=parseFloat(oe.value)),te.parseOptions(this.options,oe,!0,this.globalOptions,this.grouplist),this.chooser=U.choosify("node",[oe,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(oe),this.updateShape(fe),void 0!==oe.hidden||void 0!==oe.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var oe={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(oe.borderWidth*=2,oe.color=this.options.color.highlight.background,oe.borderColor=this.options.color.highlight.border,oe.shadow=this.options.shadow.enabled):this.hover&&(oe.color=this.options.color.hover.background,oe.borderColor=this.options.color.hover.border,oe.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(oe,this.options.id,this.selected,this.hover),!1===oe.shadow&&(oe.shadowColor!==this.options.shadow.color||oe.shadowSize!==this.options.shadow.size||oe.shadowX!==this.options.shadow.x||oe.shadowY!==this.options.shadow.y)&&(oe.shadow=!0)):oe.shadow=this.options.shadow.enabled,oe}},{key:"updateLabelModule",value:function(oe){null==this.options.label&&(this.options.label=""),te.updateGroupOptions(this.options,oe,this.grouplist);var fe=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[oe,this.options,fe,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(oe){if(oe===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new F(this.options,this.body,this.labelModule);break;case"circle":this.shape=new T(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new D(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new C(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new E(this.options,this.body,this.labelModule);break;case"dot":this.shape=new I(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new f(this.options,this.body,this.labelModule);break;case"icon":this.shape=new _(this.options,this.body,this.labelModule);break;case"image":this.shape=new g(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new p(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new y(this.options,this.body,this.labelModule);break;case"star":this.shape=new O(this.options,this.body,this.labelModule);break;case"text":this.shape=new v(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new w(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new M(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(oe,fe){return this.shape.distanceToBorder(oe,fe)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(oe,fe,Ce){if(void 0!==this.options.value){var De=this.options.scaling.customScalingFunction(oe,fe,Ce,this.options.value),Ae=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+De*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+De*Ae}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(oe){var fe=this.getFormattingValues();this.shape.draw(oe,this.x,this.y,this.selected,this.hover,fe)}},{key:"updateBoundingBox",value:function(oe){this.shape.updateBoundingBox(this.x,this.y,oe)}},{key:"resize",value:function(oe){var fe=this.getFormattingValues();this.shape.resize(oe,this.selected,this.hover,fe)}},{key:"getItemsOnPoint",value:function(oe){var fe=[];return this.labelModule.visible()&&U.pointInRect(this.labelModule.getSize(),oe)&&fe.push({nodeId:this.id,labelId:0}),U.pointInRect(this.shape.boundingBox,oe)&&fe.push({nodeId:this.id}),fe}},{key:"isOverlappingWith",value:function(oe){return this.shape.left<oe.right&&this.shape.left+this.shape.width>oe.left&&this.shape.top<oe.bottom&&this.shape.top+this.shape.height>oe.top}},{key:"isBoundingBoxOverlappingWith",value:function(oe){return this.shape.boundingBox.left<oe.right&&this.shape.boundingBox.right>oe.left&&this.shape.boundingBox.top<oe.bottom&&this.shape.boundingBox.bottom>oe.top}}],[{key:"updateGroupOptions",value:function(oe,fe,Ce){if(void 0!==Ce){var De=oe.group;if(void 0!==fe&&void 0!==fe.group&&De!==fe.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof De||"string"==typeof De&&""!=De){var Ye=Ce.get(De);Y.selectiveNotDeepExtend(["font"],oe,Ye),oe.color=Y.parseColor(oe.color)}}}},{key:"parseOptions",value:function(oe,fe){var Ce=arguments.length>2&&void 0!==arguments[2]&&arguments[2],De=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},Ae=arguments[4];if(Y.selectiveNotDeepExtend(["color","fixed","shadow"],oe,fe,Ce),te.checkMass(fe),Y.mergeOptions(oe,fe,"shadow",De),null!=fe.color){var st=Y.parseColor(fe.color);Y.fillIfDefined(oe.color,st)}else!0===Ce&&null===fe.color&&(oe.color=Y.bridgeObject(De.color));null!=fe.fixed&&("boolean"==typeof fe.fixed?(oe.fixed.x=fe.fixed,oe.fixed.y=fe.fixed):(void 0!==fe.fixed.x&&"boolean"==typeof fe.fixed.x&&(oe.fixed.x=fe.fixed.x),void 0!==fe.fixed.y&&"boolean"==typeof fe.fixed.y&&(oe.fixed.y=fe.fixed.y))),!0===Ce&&null===fe.font&&(oe.font=Y.bridgeObject(De.font)),te.updateGroupOptions(oe,fe,Ae),void 0!==fe.scaling&&Y.mergeOptions(oe.scaling,fe.scaling,"label",De.scaling)}},{key:"checkMass",value:function(oe,fe){if(void 0!==oe.mass&&oe.mass<=0){var Ce="";void 0!==fe&&(Ce=" in node id: "+fe),console.log("%cNegative or zero mass disallowed"+Ce+", setting mass to 1.",X),oe.mass=1}}}]),te}();ee.default=q},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=B(P(6)),H=B(P(0)),Y=B(P(1));function B(T){return T&&T.__esModule?T:{default:T}}var U=P(2),F=function(){function T(){(0,H.default)(this,T)}return(0,Y.default)(T,null,[{key:"choosify",value:function(C,E){var I=["node","edge","label"],f=!0,_=U.topMost(E,"chosen");if("boolean"==typeof _)f=_;else if("object"===(typeof _>"u"?"undefined":(0,R.default)(_))){if(-1===I.indexOf(C))throw new Error("choosify: subOption '"+C+"' should be one of '"+I.join("', '")+"'");var g=U.topMost(E,["chosen",C]);("boolean"==typeof g||"function"==typeof g)&&(f=g)}return f}},{key:"pointInRect",value:function(C,E,I){if(C.width<=0||C.height<=0)return!1;if(void 0!==I){var f={x:E.x-I.x,y:E.y-I.y};if(0!==I.angle){var _=-I.angle;E={x:Math.cos(_)*f.x-Math.sin(_)*f.y,y:Math.sin(_)*f.x+Math.cos(_)*f.y}}else E=f}return C.left<E.x&&C.x+C.width>E.x&&C.top<E.y&&C.y+C.width>E.y}},{key:"isValidLabel",value:function(C){return"string"==typeof C&&""!==C}}]),T}();ee.default=F},function(ge,ee,P){P(125);for(var W=P(18),R=P(26),V=P(31),H=P(13)("toStringTag"),$="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Y=0;Y<$.length;Y++){var B=$[Y],U=W[B],F=U&&U.prototype;F&&!F[H]&&R(F,H,B),V[B]=V.Array}},function(ge,ee){var P={}.toString;ge.exports=function(W){return P.call(W).slice(8,-1)}},function(ge,ee){ge.exports=function(P){if(null==P)throw TypeError("Can't call method on  "+P);return P}},function(ge,ee){ge.exports=!0},function(ge,ee,P){var W=P(32);ge.exports=function(R,V){if(!W(R))return R;var H,$;if(V&&"function"==typeof(H=R.toString)&&!W($=H.call(R))||"function"==typeof(H=R.valueOf)&&!W($=H.call(R))||!V&&"function"==typeof(H=R.toString)&&!W($=H.call(R)))return $;throw TypeError("Can't convert object to primitive value")}},function(ge,ee,P){var W=P(27),R=P(130),V=P(58),H=P(56)("IE_PROTO"),$=function(){},Y="prototype",B=function(){var C,U=P(82)("iframe"),F=V.length;for(U.style.display="none",P(134).appendChild(U),U.src="javascript:",(C=U.contentWindow.document).open(),C.write("<script>document.F=Object<\/script>"),C.close(),B=C.F;F--;)delete B[Y][V[F]];return B()};ge.exports=Object.create||function(F,T){var D;return null!==F?($[Y]=W(F),D=new $,$[Y]=null,D[H]=F):D=B(),void 0===T?D:R(D,T)}},function(ge,ee){var P=Math.ceil,W=Math.floor;ge.exports=function(R){return isNaN(R=+R)?0:(R>0?W:P)(R)}},function(ge,ee,P){var W=P(57)("keys"),R=P(40);ge.exports=function(V){return W[V]||(W[V]=R(V))}},function(ge,ee,P){var W=P(18),R="__core-js_shared__",V=W[R]||(W[R]={});ge.exports=function(H){return V[H]||(V[H]={})}},function(ge,ee){ge.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(ge,ee,P){var W=P(20).f,R=P(22),V=P(13)("toStringTag");ge.exports=function(H,$,Y){H&&!R(H=Y?H:H.prototype,V)&&W(H,V,{configurable:!0,value:$})}},function(ge,ee,P){var W=P(135)(!0);P(79)(String,"String",function(R){this._t=String(R),this._i=0},function(){var H,R=this._t,V=this._i;return V>=R.length?{value:void 0,done:!0}:(H=W(R,V),this._i+=H.length,{value:H,done:!1})})},function(ge,ee,P){ee.f=P(13)},function(ge,ee,P){var W=P(18),R=P(7),V=P(52),H=P(61),$=P(20).f;ge.exports=function(Y){var B=R.Symbol||(R.Symbol=V?{}:W.Symbol||{});"_"!=Y.charAt(0)&&!(Y in B)&&$(B,Y,{value:H.f(Y)})}},function(ge,ee){ee.f=Object.getOwnPropertySymbols},function(ge,ee,P){var R=B(P(8)),H=B(P(19)),Y=B(P(6));function B(I){return I&&I.__esModule?I:{default:I}}var U=P(2),F=P(9),T=P(16),D=P(36);function C(I,f){var _=F().hours(0).minutes(0).seconds(0).milliseconds(0),g=_.clone().add(-3,"days").valueOf(),p=_.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===f?(this.start=g,this.end=p):(this.start=f.start||g,this.end=f.end||p),this.rolling=!1,this.body=I,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:F,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=U.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(f)}function E(I){if("horizontal"!=I&&"vertical"!=I)throw new TypeError('Unknown direction "'+I+'". Choose "horizontal" or "vertical".')}(C.prototype=new T).setOptions=function(I){I&&(U.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,I),I.rollingMode&&I.rollingMode.follow&&this.startRolling(),("start"in I||"end"in I)&&this.setRange(I.start,I.end))},C.prototype.startRolling=function(){var I=this;!function f(){I.stopRolling(),I.rolling=!0;var _=I.end-I.start,g=U.convert(new Date,"Date").valueOf();I.setRange(g-_*I.options.rollingMode.offset,g+_*(1-I.options.rollingMode.offset),{animation:!1}),(_=1/I.conversion(I.body.domProps.center.width).scale/10)<30&&(_=30),_>1e3&&(_=1e3),I.body.dom.rollingModeBtn.style.visibility="hidden",I.currentTimeTimer=setTimeout(f,_)}()},C.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},C.prototype.setRange=function(I,f,_,g,p){_||(_={}),!0!==_.byUser&&(_.byUser=!1);var y=this,O=null!=I?U.convert(I,"Date").valueOf():null,v=null!=f?U.convert(f,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,_.animation){var w=this.start,M=this.end,L="object"===(0,Y.default)(_.animation)&&"duration"in _.animation?_.animation.duration:500,X="object"===(0,Y.default)(_.animation)&&"easingFunction"in _.animation?_.animation.easingFunction:"easeInOutQuad",q=U.easingFunctions[X];if(!q)throw new Error("Unknown easing function "+(0,H.default)(X)+". Choose from: "+(0,R.default)(U.easingFunctions).join(", "));var te=(new Date).valueOf(),ie=!1;return function De(){if(!y.props.touch.dragging){var Ye=(new Date).valueOf()-te,st=q(Ye/L),it=Ye>L;fe=y._applyRange(it||null===O?O:w+(O-w)*st,it||null===v?v:M+(v-M)*st),D.updateHiddenDates(y.options.moment,y.body,y.options.hiddenDates),ie=ie||fe;var Oe={start:new Date(y.start),end:new Date(y.end),byUser:_.byUser,event:_.event};if(p&&p(st,fe,it),fe&&y.body.emitter.emit("rangechange",Oe),it){if(ie&&(y.body.emitter.emit("rangechanged",Oe),g))return g()}else y.animationTimer=setTimeout(De,20)}}()}var fe=this._applyRange(O,v);if(D.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),fe){var Ce={start:new Date(this.start),end:new Date(this.end),byUser:_.byUser,event:_.event};if(this.body.emitter.emit("rangechange",Ce),clearTimeout(y.timeoutID),y.timeoutID=setTimeout(function(){y.body.emitter.emit("rangechanged",Ce)},200),g)return g()}},C.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},C.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},C.prototype._applyRange=function(I,f){var O,_=null!=I?U.convert(I,"Date").valueOf():this.start,g=null!=f?U.convert(f,"Date").valueOf():this.end,p=null!=this.options.max?U.convert(this.options.max,"Date").valueOf():null,y=null!=this.options.min?U.convert(this.options.min,"Date").valueOf():null;if(isNaN(_)||null===_)throw new Error('Invalid start "'+I+'"');if(isNaN(g)||null===g)throw new Error('Invalid end "'+f+'"');if(g<_&&(g=_),null!==y&&_<y&&(_+=O=y-_,g+=O,null!=p&&g>p&&(g=p)),null!==p&&g>p&&(_-=O=g-p,g-=O,null!=y&&_<y&&(_=y)),null!==this.options.zoomMin){var v=parseFloat(this.options.zoomMin);v<0&&(v=0),g-_<v&&(this.end-this.start===v&&_>=this.start-.5&&g<=this.end?(_=this.start,g=this.end):(_-=(O=v-(g-_))/2,g+=O/2))}if(null!==this.options.zoomMax){var M=parseFloat(this.options.zoomMax);M<0&&(M=0),g-_>M&&(this.end-this.start===M&&_<this.start&&g>this.end?(_=this.start,g=this.end):(_+=(O=g-_-M)/2,g-=O/2))}var L=this.start!=_||this.end!=g;return!(_>=this.start&&_<=this.end||g>=this.start&&g<=this.end)&&!(this.start>=_&&this.start<=g||this.end>=_&&this.end<=g)&&this.body.emitter.emit("checkRangedItems"),this.start=_,this.end=g,L},C.prototype.getRange=function(){return{start:this.start,end:this.end}},C.prototype.conversion=function(I,f){return C.conversion(this.start,this.end,I,f)},C.conversion=function(I,f,_,g){return void 0===g&&(g=0),0!=_&&f-I!=0?{offset:I,scale:_/(f-I-g)}:{offset:0,scale:1}},C.prototype._onDragStart=function(I){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(I)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},C.prototype._onDrag=function(I){if(I&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var f=this.options.direction;E(f);var _="horizontal"==f?I.deltaX:I.deltaY;_-=this.deltaDifference;var g=this.props.touch.end-this.props.touch.start;g-=D.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var O,y="horizontal"==f?this.body.domProps.center.width:this.body.domProps.center.height,v=this.props.touch.start+(O=this.options.rtl?_/y*g:-_/y*g),w=this.props.touch.end+O,M=D.snapAwayFromHidden(this.body.hiddenDates,v,this.previousDelta-_,!0),L=D.snapAwayFromHidden(this.body.hiddenDates,w,this.previousDelta-_,!0);if(M!=v||L!=w)return this.deltaDifference+=_,this.props.touch.start=M,this.props.touch.end=L,void this._onDrag(I);this.previousDelta=_,this._applyRange(v,w);var X=new Date(this.start),q=new Date(this.end);this.body.emitter.emit("rangechange",{start:X,end:q,byUser:!0,event:I}),this.body.emitter.emit("panmove")}},C.prototype._onDragEnd=function(I){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:I}))},C.prototype._onMouseWheel=function(I){var f=0;if(I.wheelDelta?f=I.wheelDelta/120:I.detail&&(f=-I.detail/3),!(this.options.zoomKey&&!I[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(I)&&f){var _,g;if(_=f<0?1-f/5:1/(1+f/5),this.rolling)g=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var p=this.getPointer({x:I.clientX,y:I.clientY},this.body.dom.center);g=this._pointerToDate(p)}this.zoom(_,g,f,I),I.preventDefault()}},C.prototype._onTouch=function(I){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,U.preventDefault(I)},C.prototype._onPinch=function(I){if(this.options.zoomable&&this.options.moveable){U.preventDefault(I),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(I.center,this.body.dom.center)),this.stopRolling();var f=1/(I.scale+this.scaleOffset),_=this._pointerToDate(this.props.touch.center),g=D.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),p=D.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,_),y=g-p,O=_-p+(this.props.touch.start-(_-p))*f,v=_+y+(this.props.touch.end-(_+y))*f;this.startToFront=1-f<=0,this.endToFront=f-1<=0;var w=D.snapAwayFromHidden(this.body.hiddenDates,O,1-f,!0),M=D.snapAwayFromHidden(this.body.hiddenDates,v,f-1,!0);(w!=O||M!=v)&&(this.props.touch.start=w,this.props.touch.end=M,this.scaleOffset=1-I.scale,O=w,v=M),this.setRange(O,v,{animation:!1,byUser:!0,event:I}),this.startToFront=!1,this.endToFront=!0}},C.prototype._isInsideRange=function(I){var _,f=I.center?I.center.x:I.clientX;_=this.options.rtl?f-U.getAbsoluteLeft(this.body.dom.centerContainer):U.getAbsoluteRight(this.body.dom.centerContainer)-f;var g=this.body.util.toTime(_);return g>=this.start&&g<=this.end},C.prototype._pointerToDate=function(I){var f,_=this.options.direction;return E(_),"horizontal"==_?this.body.util.toTime(I.x).valueOf():(f=this.conversion(this.body.domProps.center.height),I.y/f.scale+f.offset)},C.prototype.getPointer=function(I,f){return this.options.rtl?{x:U.getAbsoluteRight(f)-I.x,y:I.y-U.getAbsoluteTop(f)}:{x:I.x-U.getAbsoluteLeft(f),y:I.y-U.getAbsoluteTop(f)}},C.prototype.zoom=function(I,f,_,g){null==f&&(f=(this.start+this.end)/2);var p=D.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),y=D.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,f),O=p-y,v=f-y+(this.start-(f-y))*I,w=f+O+(this.end-(f+O))*I;this.startToFront=!(_>0),this.endToFront=!(-_>0);var M=D.snapAwayFromHidden(this.body.hiddenDates,v,_,!0),L=D.snapAwayFromHidden(this.body.hiddenDates,w,-_,!0);(M!=v||L!=w)&&(v=M,w=L),this.setRange(v,w,{animation:!1,byUser:!0,event:g}),this.startToFront=!1,this.endToFront=!0},C.prototype.move=function(I){var f=this.end-this.start,g=this.end+f*I;this.start=this.start+f*I,this.end=g},C.prototype.moveTo=function(I){var _=(this.start+this.end)/2-I;this.setRange(this.start-_,this.end-_,{animation:!1,byUser:!0,event:null})},ge.exports=C},function(ge,ee,P){var R=$(P(19)),H=$(P(6));function $(f){return f&&f.__esModule?f:{default:f}}var Y=P(44),B=P(10),U=P(37),F=P(2),T=P(45),D=P(97),C=P(36),E=P(46);function I(){}Y(I.prototype),I.prototype._create=function(f){this.dom={},this.dom.container=f,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("rangechanged",function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var _=this;this._origRedraw=this._redraw.bind(this),this._redraw=F.throttle(this._origRedraw),this.on("_change",function(L){_.itemSet&&_.itemSet.initialItemSetDrawn&&L&&1==L.queue?_._redraw():_._origRedraw()}),this.hammer=new B(this.dom.root);var g=this.hammer.get("pinch").set({enable:!0});function y(L){this.isActive()&&this.emit("mousewheel",L);var X=0,q=0;if("detail"in L&&(q=-1*L.detail),"wheelDelta"in L&&(q=L.wheelDelta),"wheelDeltaY"in L&&(q=L.wheelDeltaY),"wheelDeltaX"in L&&(X=-1*L.wheelDeltaX),"axis"in L&&L.axis===L.HORIZONTAL_AXIS&&(X=-1*q,q=0),"deltaY"in L&&(q=-1*L.deltaY),"deltaX"in L&&(X=L.deltaX),this.options.zoomKey&&!L[this.options.zoomKey])if(L.preventDefault(),this.options.verticalScroll&&Math.abs(q)>=Math.abs(X)){var ie=this.props.scrollTop+q;this.isActive()&&(this._setScrollTop(ie),this._redraw(),this.emit("scroll",L))}else if(this.options.horizontalScroll){var fe=(Math.abs(X)>=Math.abs(q)?X:q)/120*(this.range.end-this.range.start)/20;this.range.setRange(this.range.start+fe,this.range.end+fe,{animation:!1,byUser:!0,event:L})}}function O(L){_.options.verticalScroll&&(L.preventDefault(),_.isActive())&&(_._setScrollTop(-L.target.scrollTop),_._redraw(),_.emit("scrollSide",L))}U.disablePreventDefaultVertically(g),this.hammer.get("pan").set({threshold:5,direction:B.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(L){var X=function(te){_.isActive()&&_.emit(L,te)};_.hammer.on(L,X),_.listeners[L]=X}),U.onTouch(this.hammer,function(L){_.emit("touch",L)}.bind(this)),U.onRelease(this.hammer,function(L){_.emit("release",L)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",y.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",y.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",y.bind(this)),this.dom.left.parentNode.addEventListener("scroll",O.bind(this)),this.dom.right.parentNode.addEventListener("scroll",O.bind(this));var v=!1;if(this.dom.center.addEventListener("dragover",function w(L){if(L.preventDefault&&L.preventDefault(),!(!L.target.className.indexOf("vis")>-1||v))return L.dataTransfer.dropEffect="move",v=!0,!1}.bind(this),!1),this.dom.center.addEventListener("drop",function M(L){L.preventDefault&&L.preventDefault(),L.stopPropagation&&L.stopPropagation();try{var X=JSON.parse(L.dataTransfer.getData("text"));if(!X||!X.content)return}catch{return!1}return v=!1,L.center={x:L.clientX,y:L.clientY},"item"!==X.target?_.itemSet._onAddItem(L):_.itemSet._onDropObjectOnItem(L),_.emit("drop",_.getEventProperties(L)),!1}.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!f)throw new Error("No container provided");f.appendChild(this.dom.root)},I.prototype.setOptions=function(f){if(f){if(F.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,f),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,H.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in f&&("string"==typeof f.orientation?this.options.orientation={item:f.orientation,axis:f.orientation}:"object"===(0,H.default)(f.orientation)&&("item"in f.orientation&&(this.options.orientation.item=f.orientation.item),"axis"in f.orientation&&(this.options.orientation.axis=f.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var g=this.timeAxis2=new T(this.body);g.setOptions=function(O){var v=O?F.extend({},O):{};v.orientation="top",T.prototype.setOptions.call(g,v)},this.components.push(g)}}else if(this.timeAxis2){var p=this.components.indexOf(this.timeAxis2);-1!==p&&this.components.splice(p,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof f.drawPoints&&(f.drawPoints={onRender:f.drawPoints}),"hiddenDates"in this.options&&C.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in f&&(f.clickToUse?this.activator||(this.activator=new D(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in f)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(O){return O.setOptions(f)}),"configure"in f){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(f.configure);var y=F.deepExtend({},this.options);this.components.forEach(function(O){F.deepExtend(y,O.options)}),this.configurator.setModuleOptions({global:y})}this._redraw()},I.prototype.isActive=function(){return!this.activator||this.activator.active},I.prototype.destroy=function(){for(var f in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(f)&&delete this.listeners[f];this.listeners=null,this.hammer=null,this.components.forEach(function(_){return _.destroy()}),this.body=null},I.prototype.setCustomTime=function(f,_){var g=this.customTimes.filter(function(p){return _===p.options.id});if(0===g.length)throw new Error("No custom time bar found with id "+(0,R.default)(_));g.length>0&&g[0].setCustomTime(f)},I.prototype.getCustomTime=function(f){var _=this.customTimes.filter(function(g){return g.options.id===f});if(0===_.length)throw new Error("No custom time bar found with id "+(0,R.default)(f));return _[0].getCustomTime()},I.prototype.setCustomTimeTitle=function(f,_){var g=this.customTimes.filter(function(p){return p.options.id===_});if(0===g.length)throw new Error("No custom time bar found with id "+(0,R.default)(_));if(g.length>0)return g[0].setCustomTitle(f)},I.prototype.getEventProperties=function(f){return{event:f}},I.prototype.addCustomTime=function(f,_){var g=void 0!==f?F.convert(f,"Date").valueOf():new Date;if(this.customTimes.some(function(O){return O.options.id===_}))throw new Error("A custom time with id "+(0,R.default)(_)+" already exists");var y=new E(this.body,F.extend({},this.options,{time:g,id:_}));return this.customTimes.push(y),this.components.push(y),this._redraw(),_},I.prototype.removeCustomTime=function(f){var _=this.customTimes.filter(function(g){return g.options.id===f});if(0===_.length)throw new Error("No custom time bar found with id "+(0,R.default)(f));_.forEach(function(g){this.customTimes.splice(this.customTimes.indexOf(g),1),this.components.splice(this.components.indexOf(g),1),g.destroy()}.bind(this))},I.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},I.prototype.fit=function(f,_){var g=this.getDataRange();if(null!==g.min||null!==g.max){var p=g.max-g.min,y=new Date(g.min.valueOf()-.01*p),O=new Date(g.max.valueOf()+.01*p);this.range.setRange(y,O,{animation:!f||void 0===f.animation||f.animation},_)}},I.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},I.prototype.setWindow=function(f,_,g,p){var O;"function"==typeof arguments[2]&&(p=arguments[2],g={}),1==arguments.length?this.range.setRange((O=arguments[0]).start,O.end,{animation:void 0===O.animation||O.animation}):2==arguments.length&&"function"==typeof arguments[1]?this.range.setRange((O=arguments[0]).start,O.end,{animation:void 0===O.animation||O.animation},p=arguments[1]):this.range.setRange(f,_,{animation:!g||void 0===g.animation||g.animation},p)},I.prototype.moveTo=function(f,_,g){"function"==typeof arguments[1]&&(g=arguments[1],_={});var p=this.range.end-this.range.start,y=F.convert(f,"Date").valueOf();this.range.setRange(y-p/2,y+p/2,{animation:!_||void 0===_.animation||_.animation},g)},I.prototype.getWindow=function(){var f=this.range.getRange();return{start:new Date(f.start),end:new Date(f.end)}},I.prototype.zoomIn=function(f,_,g){if(!(!f||f<0||f>1)){"function"==typeof arguments[1]&&(g=arguments[1],_={});var p=this.getWindow(),y=p.start.valueOf(),O=p.end.valueOf(),v=O-y,M=(v-v/(1+f))/2;this.setWindow(y+M,O-M,_,g)}},I.prototype.zoomOut=function(f,_,g){if(!(!f||f<0||f>1)){"function"==typeof arguments[1]&&(g=arguments[1],_={});var p=this.getWindow(),y=p.start.valueOf(),O=p.end.valueOf(),v=O-y;this.setWindow(y-v*f/2,O+v*f/2,_,g)}},I.prototype.redraw=function(){this._redraw()},I.prototype._redraw=function(){this.redrawCount++;var f=!1,_=this.options,g=this.props,p=this.dom;if(p&&p.container&&0!=p.root.offsetWidth){C.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==_.orientation?(F.addClassName(p.root,"vis-top"),F.removeClassName(p.root,"vis-bottom")):(F.removeClassName(p.root,"vis-top"),F.addClassName(p.root,"vis-bottom")),p.root.style.maxHeight=F.option.asSize(_.maxHeight,""),p.root.style.minHeight=F.option.asSize(_.minHeight,""),p.root.style.width=F.option.asSize(_.width,""),g.border.left=(p.centerContainer.offsetWidth-p.centerContainer.clientWidth)/2,g.border.right=g.border.left,g.border.top=(p.centerContainer.offsetHeight-p.centerContainer.clientHeight)/2,g.border.bottom=g.border.top,g.borderRootHeight=p.root.offsetHeight-p.root.clientHeight,g.borderRootWidth=p.root.offsetWidth-p.root.clientWidth,0===p.centerContainer.clientHeight&&(g.border.left=g.border.top,g.border.right=g.border.left),0===p.root.clientHeight&&(g.borderRootWidth=g.borderRootHeight),g.center.height=p.center.offsetHeight,g.left.height=p.left.offsetHeight,g.right.height=p.right.offsetHeight,g.top.height=p.top.clientHeight||-g.border.top,g.bottom.height=p.bottom.clientHeight||-g.border.bottom;var y=Math.max(g.left.height,g.center.height,g.right.height);p.root.style.height=F.option.asSize(_.height,g.top.height+y+g.bottom.height+g.borderRootHeight+g.border.top+g.border.bottom+"px"),g.root.height=p.root.offsetHeight,g.background.height=g.root.height-g.borderRootHeight;var v=g.root.height-g.top.height-g.bottom.height-g.borderRootHeight;g.centerContainer.height=v,g.leftContainer.height=v,g.rightContainer.height=g.leftContainer.height,g.root.width=p.root.offsetWidth,g.background.width=g.root.width-g.borderRootWidth,this.initialDrawDone||(g.scrollbarWidth=F.getScrollBarWidth()),_.verticalScroll?_.rtl?(g.left.width=p.leftContainer.clientWidth||-g.border.left,g.right.width=p.rightContainer.clientWidth+g.scrollbarWidth||-g.border.right):(g.left.width=p.leftContainer.clientWidth+g.scrollbarWidth||-g.border.left,g.right.width=p.rightContainer.clientWidth||-g.border.right):(g.left.width=p.leftContainer.clientWidth||-g.border.left,g.right.width=p.rightContainer.clientWidth||-g.border.right),this._setDOM();var w=this._updateScrollTop();"top"!=_.orientation.item&&(w+=Math.max(g.centerContainer.height-g.center.height-g.border.top-g.border.bottom,0)),p.center.style.top=w+"px";var M=0==g.scrollTop?"hidden":"",L=g.scrollTop==g.scrollTopMin?"hidden":"";p.shadowTop.style.visibility=M,p.shadowBottom.style.visibility=L,p.shadowTopLeft.style.visibility=M,p.shadowBottomLeft.style.visibility=L,p.shadowTopRight.style.visibility=M,p.shadowBottomRight.style.visibility=L,_.verticalScroll&&(p.rightContainer.className="vis-panel vis-right vis-vertical-scroll",p.leftContainer.className="vis-panel vis-left vis-vertical-scroll",p.shadowTopRight.style.visibility="hidden",p.shadowBottomRight.style.visibility="hidden",p.shadowTopLeft.style.visibility="hidden",p.shadowBottomLeft.style.visibility="hidden",p.left.style.top="0px",p.right.style.top="0px"),(!_.verticalScroll||g.center.height<g.centerContainer.height)&&(p.left.style.top=w+"px",p.right.style.top=w+"px",p.rightContainer.className=p.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),p.leftContainer.className=p.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),g.left.width=p.leftContainer.clientWidth||-g.border.left,g.right.width=p.rightContainer.clientWidth||-g.border.right,this._setDOM());var X=g.center.height>g.centerContainer.height;if(this.hammer.get("pan").set({direction:X?B.DIRECTION_ALL:B.DIRECTION_HORIZONTAL}),this.components.forEach(function(te){f=te.redraw()||f}),f){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},I.prototype._setDOM=function(){var f=this.props,_=this.dom;f.leftContainer.width=f.left.width,f.rightContainer.width=f.right.width;var g=f.root.width-f.left.width-f.right.width-f.borderRootWidth;f.center.width=g,f.centerContainer.width=g,f.top.width=g,f.bottom.width=g,_.background.style.height=f.background.height+"px",_.backgroundVertical.style.height=f.background.height+"px",_.backgroundHorizontal.style.height=f.centerContainer.height+"px",_.centerContainer.style.height=f.centerContainer.height+"px",_.leftContainer.style.height=f.leftContainer.height+"px",_.rightContainer.style.height=f.rightContainer.height+"px",_.background.style.width=f.background.width+"px",_.backgroundVertical.style.width=f.centerContainer.width+"px",_.backgroundHorizontal.style.width=f.background.width+"px",_.centerContainer.style.width=f.center.width+"px",_.top.style.width=f.top.width+"px",_.bottom.style.width=f.bottom.width+"px",_.background.style.left="0",_.background.style.top="0",_.backgroundVertical.style.left=f.left.width+f.border.left+"px",_.backgroundVertical.style.top="0",_.backgroundHorizontal.style.left="0",_.backgroundHorizontal.style.top=f.top.height+"px",_.centerContainer.style.left=f.left.width+"px",_.centerContainer.style.top=f.top.height+"px",_.leftContainer.style.left="0",_.leftContainer.style.top=f.top.height+"px",_.rightContainer.style.left=f.left.width+f.center.width+"px",_.rightContainer.style.top=f.top.height+"px",_.top.style.left=f.left.width+"px",_.top.style.top="0",_.bottom.style.left=f.left.width+"px",_.bottom.style.top=f.top.height+f.centerContainer.height+"px",_.center.style.left="0",_.left.style.left="0",_.right.style.left="0"},I.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},I.prototype.setCurrentTime=function(f){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(f)},I.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},I.prototype._toTime=function(f){return C.toTime(this,f,this.props.center.width)},I.prototype._toGlobalTime=function(f){return C.toTime(this,f,this.props.root.width)},I.prototype._toScreen=function(f){return C.toScreen(this,f,this.props.center.width)},I.prototype._toGlobalScreen=function(f){return C.toScreen(this,f,this.props.root.width)},I.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},I.prototype._startAutoResize=function(){var f=this;this._stopAutoResize(),this._onResize=function(){1==f.options.autoResize?f.dom.root&&(f.dom.root.offsetWidth!=f.props.lastWidth||f.dom.root.offsetHeight!=f.props.lastHeight)&&(f.props.lastWidth=f.dom.root.offsetWidth,f.props.lastHeight=f.dom.root.offsetHeight,f.props.scrollbarWidth=F.getScrollBarWidth(),f.body.emitter.emit("_change")):f._stopAutoResize()},F.addEventListener(window,"resize",this._onResize),f.dom.root&&(f.props.lastWidth=f.dom.root.offsetWidth,f.props.lastHeight=f.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},I.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(F.removeEventListener(window,"resize",this._onResize),this._onResize=null)},I.prototype._onTouch=function(f){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},I.prototype._onPinch=function(f){this.touch.allowDragging=!1},I.prototype._onDrag=function(f){if(f&&this.touch.allowDragging){var _=f.deltaY,g=this._getScrollTop(),p=this._setScrollTop(this.touch.initialScrollTop+_);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),p!=g&&this.emit("verticalDrag")}},I.prototype._setScrollTop=function(f){return this.props.scrollTop=f,this._updateScrollTop(),this.props.scrollTop},I.prototype._updateScrollTop=function(){var f=Math.min(this.props.centerContainer.height-this.props.center.height,0);return f!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=f-this.props.scrollTopMin),this.props.scrollTopMin=f),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<f&&(this.props.scrollTop=f),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},I.prototype._getScrollTop=function(){return this.props.scrollTop},I.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},ge.exports=I},function(ge,ee,P){var W=P(9),R=P(36),V=P(2);function H($,Y,B,U,F){this.moment=W,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange($,Y,B),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,this.hiddenDates=Array.isArray(U)?U:null!=U?[U]:[],this.format=H.FORMAT,this.options=F||{}}H.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},H.prototype.setMoment=function($){this.moment=$,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},H.prototype.setFormat=function($){var Y=V.deepExtend({},H.FORMAT);this.format=V.deepExtend(Y,$)},H.prototype.setRange=function($,Y,B){if(!($ instanceof Date&&Y instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=$?this.moment($.valueOf()):new Date,this._end=null!=Y?this.moment(Y.valueOf()):new Date,this.autoScale&&this.setMinimumStep(B)},H.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},H.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},H.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},H.prototype.next=function(){var $=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var Y=this.current.clone();Y.add(1,"week"),Y.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==$&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,R.stepOverHiddenDates(this.moment,this,$)},H.prototype.getCurrent=function(){return this.current},H.prototype.setScale=function($){$&&"string"==typeof $.scale&&(this.scale=$.scale,this.step=$.step>0?$.step:1,this.autoScale=!1)},H.prototype.setAutoScale=function($){this.autoScale=$},H.prototype.setMinimumStep=function($){if(null!=$){var Y=31104e6,B=2592e6,U=864e5,F=36e5,T=6e4,D=1e3;1e3*Y>$&&(this.scale="year",this.step=1e3),500*Y>$&&(this.scale="year",this.step=500),100*Y>$&&(this.scale="year",this.step=100),50*Y>$&&(this.scale="year",this.step=50),10*Y>$&&(this.scale="year",this.step=10),5*Y>$&&(this.scale="year",this.step=5),Y>$&&(this.scale="year",this.step=1),3*B>$&&(this.scale="month",this.step=3),B>$&&(this.scale="month",this.step=1),5*U>$&&(this.scale="day",this.step=5),2*U>$&&(this.scale="day",this.step=2),U>$&&(this.scale="day",this.step=1),U/2>$&&(this.scale="weekday",this.step=1),4*F>$&&(this.scale="hour",this.step=4),F>$&&(this.scale="hour",this.step=1),15*T>$&&(this.scale="minute",this.step=15),10*T>$&&(this.scale="minute",this.step=10),5*T>$&&(this.scale="minute",this.step=5),T>$&&(this.scale="minute",this.step=1),15*D>$&&(this.scale="second",this.step=15),10*D>$&&(this.scale="second",this.step=10),5*D>$&&(this.scale="second",this.step=5),D>$&&(this.scale="second",this.step=1),200>$&&(this.scale="millisecond",this.step=200),100>$&&(this.scale="millisecond",this.step=100),50>$&&(this.scale="millisecond",this.step=50),10>$&&(this.scale="millisecond",this.step=10),5>$&&(this.scale="millisecond",this.step=5),1>$&&(this.scale="millisecond",this.step=1)}},H.snap=function($,Y,B){var U=W($);if("year"==Y){var F=U.year()+Math.round(U.month()/12);U.year(Math.round(F/B)*B),U.month(0),U.date(0),U.hours(0),U.minutes(0),U.seconds(0),U.milliseconds(0)}else if("month"==Y)U.date()>15?(U.date(1),U.add(1,"month")):U.date(1),U.hours(0),U.minutes(0),U.seconds(0),U.milliseconds(0);else if("week"==Y)U.weekday()>2?(U.weekday(0),U.add(1,"week")):U.weekday(0),U.hours(0),U.minutes(0),U.seconds(0),U.milliseconds(0);else if("day"==Y){switch(B){case 5:case 2:U.hours(24*Math.round(U.hours()/24));break;default:U.hours(12*Math.round(U.hours()/12))}U.minutes(0),U.seconds(0),U.milliseconds(0)}else if("weekday"==Y){switch(B){case 5:case 2:U.hours(12*Math.round(U.hours()/12));break;default:U.hours(6*Math.round(U.hours()/6))}U.minutes(0),U.seconds(0),U.milliseconds(0)}else if("hour"==Y)U.minutes(4===B?60*Math.round(U.minutes()/60):30*Math.round(U.minutes()/30)),U.seconds(0),U.milliseconds(0);else if("minute"==Y){switch(B){case 15:case 10:U.minutes(5*Math.round(U.minutes()/5)),U.seconds(0);break;case 5:U.seconds(60*Math.round(U.seconds()/60));break;default:U.seconds(30*Math.round(U.seconds()/30))}U.milliseconds(0)}else if("second"==Y)switch(B){case 15:case 10:U.seconds(5*Math.round(U.seconds()/5)),U.milliseconds(0);break;case 5:U.milliseconds(1e3*Math.round(U.milliseconds()/1e3));break;default:U.milliseconds(500*Math.round(U.milliseconds()/500))}else if("millisecond"==Y){var T=B>5?B/2:1;U.milliseconds(Math.round(U.milliseconds()/T)*T)}return U},H.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var $=this.moment(this.current);switch(this.scale){case"millisecond":return 0==$.milliseconds();case"second":return 0==$.seconds();case"minute":return 0==$.hours()&&0==$.minutes();case"hour":return 0==$.hours();case"weekday":case"day":case"week":return 1==$.date();case"month":return 0==$.month();default:return!1}},H.prototype.getLabelMinor=function($){if(null==$&&($=this.current),$ instanceof Date&&($=this.moment($)),"function"==typeof this.format.minorLabels)return this.format.minorLabels($,this.scale,this.step);var Y=this.format.minorLabels[this.scale];return"week"===this.scale&&this.isMajor()&&0!==$.weekday()?"":Y&&Y.length>0?this.moment($).format(Y):""},H.prototype.getLabelMajor=function($){if(null==$&&($=this.current),$ instanceof Date&&($=this.moment($)),"function"==typeof this.format.majorLabels)return this.format.majorLabels($,this.scale,this.step);var Y=this.format.majorLabels[this.scale];return Y&&Y.length>0?this.moment($).format(Y):""},H.prototype.getClassName=function(){var $=this.moment,Y=this.moment(this.current),B=Y.locale?Y.locale("en"):Y.lang("en"),U=this.step,F=[];function T(f){return f/U%2==0?" vis-even":" vis-odd"}function D(f){return f.isSame(new Date,"day")?" vis-today":f.isSame($().add(1,"day"),"day")?" vis-tomorrow":f.isSame($().add(-1,"day"),"day")?" vis-yesterday":""}function C(f){return f.isSame(new Date,"week")?" vis-current-week":""}function E(f){return f.isSame(new Date,"month")?" vis-current-month":""}switch(this.scale){case"millisecond":F.push(D(B)),F.push(T(B.milliseconds()));break;case"second":F.push(D(B)),F.push(T(B.seconds()));break;case"minute":F.push(D(B)),F.push(T(B.minutes()));break;case"hour":F.push("vis-h"+B.hours()+(4==this.step?"-h"+(B.hours()+4):"")),F.push(D(B)),F.push(T(B.hours()));break;case"weekday":F.push("vis-"+B.format("dddd").toLowerCase()),F.push(D(B)),F.push(C(B)),F.push(T(B.date()));break;case"day":F.push("vis-day"+B.date()),F.push("vis-"+B.format("MMMM").toLowerCase()),F.push(D(B)),F.push(E(B)),F.push(this.step<=2?D(B):""),F.push(this.step<=2?"vis-"+B.format("dddd").toLowerCase():""),F.push(T(B.date()-1));break;case"week":F.push("vis-week"+B.format("w")),F.push(C(B)),F.push(T(B.week()));break;case"month":F.push("vis-"+B.format("MMMM").toLowerCase()),F.push(E(B)),F.push(T(B.month()));break;case"year":F.push("vis-year"+B.year()),F.push(function I(f){return f.isSame(new Date,"year")?" vis-current-year":""}(B)),F.push(T(B.year()))}return F.filter(String).join(" ")},ge.exports=H},function(ge,ee,P){var W=P(2),R=P(16),V=P(9),H=P(98);function $(Y,B){this.body=Y,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:V,locales:H,locale:"en"},this.options=W.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(B)}($.prototype=new R)._create=function(){var Y=document.createElement("div");Y.className="vis-current-time",Y.style.position="absolute",Y.style.top="0px",Y.style.height="100%",this.bar=Y},$.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},$.prototype.setOptions=function(Y){Y&&W.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,Y)},$.prototype.redraw=function(){if(this.options.showCurrentTime){var Y=this.body.dom.backgroundVertical;this.bar.parentNode!=Y&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),Y.appendChild(this.bar),this.start());var B=this.options.moment((new Date).valueOf()+this.offset),U=this.body.util.toScreen(B),F=this.options.locales[this.options.locale];F||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),F=this.options.locales.en);var T=F.current+" "+F.time+": "+B.format("dddd, MMMM Do YYYY, H:mm:ss");T=T.charAt(0).toUpperCase()+T.substring(1),this.options.rtl?this.bar.style.right=U+"px":this.bar.style.left=U+"px",this.bar.title=T}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},$.prototype.start=function(){var Y=this;!function B(){Y.stop();var F=1/Y.body.range.conversion(Y.body.domProps.center.width).scale/10;F<30&&(F=30),F>1e3&&(F=1e3),Y.redraw(),Y.body.emitter.emit("currentTimeTick"),Y.currentTimeTimer=setTimeout(B,F)}()},$.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},$.prototype.setCurrentTime=function(Y){var B=W.convert(Y,"Date").valueOf(),U=(new Date).valueOf();this.offset=B-U,this.redraw()},$.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},ge.exports=$},function(ge,ee,P){var R=function V(B){return B&&B.__esModule?B:{default:B}}(P(8));var H=P(2),$=P(100);function Y(B,U,F){if(this.groupId=B,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=U&&U.subgroupOrder,this.itemSet=F,this.isVisible=null,this.stackDirty=!0,U&&U.nestedGroups&&(this.nestedGroups=U.nestedGroups,this.showNested=0!=U.showNested),U&&U.subgroupStack)if("boolean"==typeof U.subgroupStack)this.doInnerStack=U.subgroupStack,this.subgroupStackAll=U.subgroupStack;else for(var T in U.subgroupStack)this.subgroupStack[T]=U.subgroupStack[T],this.doInnerStack=this.doInnerStack||U.subgroupStack[T];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var D=this;this.itemSet.body.emitter.on("checkRangedItems",function(){D.checkRangedItems=!0}),this._create(),this.setData(U)}Y.prototype._create=function(){var B=document.createElement("div");B.className=this.itemSet.options.groupEditable.order?"vis-label draggable":"vis-label",this.dom.label=B;var U=document.createElement("div");U.className="vis-inner",B.appendChild(U),this.dom.inner=U;var F=document.createElement("div");F.className="vis-group",F["timeline-group"]=this,this.dom.foreground=F,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},Y.prototype.setData=function(B){var U,F;if((U=this.itemSet.options&&this.itemSet.options.groupTemplate?(F=this.itemSet.options.groupTemplate.bind(this))(B,this.dom.inner):B&&B.content)instanceof Element){for(this.dom.inner.appendChild(U);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(U)}else U instanceof Object?F(B,this.dom.inner):this.dom.inner.innerHTML=null!=U?U:this.groupId||"";if(this.dom.label.title=B&&B.title||"",this.dom.inner.firstChild?H.removeClassName(this.dom.inner,"vis-hidden"):H.addClassName(this.dom.inner,"vis-hidden"),B&&B.nestedGroups){(!this.nestedGroups||this.nestedGroups!=B.nestedGroups)&&(this.nestedGroups=B.nestedGroups),(void 0!==B.showNested||void 0===this.showNested)&&(this.showNested=0!=B.showNested),H.addClassName(this.dom.label,"vis-nesting-group");var T=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(H.removeClassName(this.dom.label,T),H.addClassName(this.dom.label,"expanded")):(H.removeClassName(this.dom.label,"expanded"),H.addClassName(this.dom.label,T))}else this.nestedGroups&&(this.nestedGroups=null,H.removeClassName(this.dom.label,T=this.itemSet.options.rtl?"collapsed-rtl":"collapsed"),H.removeClassName(this.dom.label,"expanded"),H.removeClassName(this.dom.label,"vis-nesting-group"));B&&B.nestedInGroup&&(H.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var D=B&&B.className||null;D!=this.className&&(this.className&&(H.removeClassName(this.dom.label,this.className),H.removeClassName(this.dom.foreground,this.className),H.removeClassName(this.dom.background,this.className),H.removeClassName(this.dom.axis,this.className)),H.addClassName(this.dom.label,D),H.addClassName(this.dom.foreground,D),H.addClassName(this.dom.background,D),H.addClassName(this.dom.axis,D),this.className=D),this.style&&(H.removeCssText(this.dom.label,this.style),this.style=null),B&&B.style&&(H.addCssText(this.dom.label,B.style),this.style=B.style)},Y.prototype.getLabelWidth=function(){return this.props.label.width},Y.prototype._didMarkerHeightChange=function(){var B=this.dom.marker.clientHeight;if(B!=this.lastMarkerHeight){this.lastMarkerHeight=B;var U={},F=0;if(H.forEach(this.items,function(C,E){C.dirty=!0,C.displayed&&(U[E]=C.redraw(!0),F=U[E].length)}),F>0)for(var D=0;D<F;D++)H.forEach(U,function(C){C[D]()});return!0}},Y.prototype._calculateGroupSizeAndPosition=function(){var U=this.dom.foreground.offsetLeft,F=this.dom.foreground.offsetWidth;this.top=this.dom.foreground.offsetTop,this.right=U,this.width=F},Y.prototype._redrawItems=function(B,U,F,T){if(B||this.stackDirty||this.isVisible&&!U){var C={},E=null;if("function"==typeof this.itemSet.options.order){var I=this,_={},g=0;if(H.forEach(this.items,function(v,w){v.displayed||(_[w]=v.redraw(!0),g=_[w].length,I.visibleItems.push(v))}),g>0)for(var y=0;y<g;y++)H.forEach(_,function(v){v[y]()});if(H.forEach(this.items,function(v){v.repositionX(false)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(E in this.subgroups)C[E]=this.subgroups[E].items.slice().sort(function(v,w){return I.itemSet.options.order(v.data,w.data)});$.stackSubgroupsWithInnerStack(C,F,this.subgroups)}else{var O=this.orderedItems.byStart.slice().sort(function(v,w){return I.itemSet.options.order(v.data,w.data)});$.stack(O,F,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,T)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,T),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(E in this.subgroups)C[E]=this.subgroups[E].items;$.stackSubgroupsWithInnerStack(C,F,this.subgroups)}else $.stack(this.visibleItems,F,!0);else $.nostack(this.visibleItems,F,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},Y.prototype._didResize=function(B,U){B=H.updateProperty(this,"height",U)||B;var T=this.dom.inner.clientHeight;return B=H.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||B,H.updateProperty(this.props.label,"height",T)||B},Y.prototype._applyGroupHeight=function(B){this.dom.background.style.height=B+"px",this.dom.foreground.style.height=B+"px",this.dom.label.style.height=B+"px"},Y.prototype._updateItemsVerticalPosition=function(B){for(var U=0,F=this.visibleItems.length;U<F;U++){var T=this.visibleItems[U];T.repositionY(B),!this.isVisible&&"__background__"!=this.groupId&&T.displayed&&T.hide()}},Y.prototype.redraw=function(B,U,F,T){var E,f,D=!1,C=this.isVisible,I=[function(){F=this._didMarkerHeightChange.bind(this)}.bind(this),this._updateSubGroupHeights.bind(this,U),this._calculateGroupSizeAndPosition.bind(this),function(){this.isVisible=this._isGroupVisible.bind(this)(B,U)}.bind(this),function(){this._redrawItems.bind(this)(F,C,U,B)}.bind(this),this._updateSubgroupsSizes.bind(this),function(){E=this._calculateHeight.bind(this)(U)}.bind(this),this._calculateGroupSizeAndPosition.bind(this),function(){D=this._didResize.bind(this)(D,E)}.bind(this),function(){this._applyGroupHeight.bind(this)(E)}.bind(this),function(){this._updateItemsVerticalPosition.bind(this)(U)}.bind(this),function(){return!this.isVisible&&this.height&&(D=!1),D}];return T?I:(I.forEach(function(_){f=_()}),f)},Y.prototype._updateSubGroupHeights=function(B){if((0,R.default)(this.subgroups).length>0){var U=this;this.resetSubgroups(),H.forEach(this.visibleItems,function(F){void 0!==F.data.subgroup&&(U.subgroups[F.data.subgroup].height=Math.max(U.subgroups[F.data.subgroup].height,F.height+B.item.vertical),U.subgroups[F.data.subgroup].visible=!0)})}},Y.prototype._isGroupVisible=function(B,U){return this.top<=B.body.domProps.centerContainer.height-B.body.domProps.scrollTop+U.axis&&this.top+this.height+U.axis>=-B.body.domProps.scrollTop},Y.prototype._calculateHeight=function(B){var U,F=this.visibleItems;if(F.length>0){var T=F[0].top,D=F[0].top+F[0].height;if(H.forEach(F,function(E){T=Math.min(T,E.top),D=Math.max(D,E.top+E.height)}),T>B.axis){var C=T-B.axis;D-=C,H.forEach(F,function(E){E.top-=C})}U=D+B.item.vertical/2}else U=0;return Math.max(U,this.props.label.height)},Y.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},Y.prototype.hide=function(){var B=this.dom.label;B.parentNode&&B.parentNode.removeChild(B);var U=this.dom.foreground;U.parentNode&&U.parentNode.removeChild(U);var F=this.dom.background;F.parentNode&&F.parentNode.removeChild(F);var T=this.dom.axis;T.parentNode&&T.parentNode.removeChild(T)},Y.prototype.add=function(B){this.items[B.id]=B,B.setParent(this),this.stackDirty=!0,void 0!==B.data.subgroup&&(this._addToSubgroup(B),this.orderSubgroups()),-1==this.visibleItems.indexOf(B)&&this._checkIfVisible(B,this.visibleItems,this.itemSet.body.range)},Y.prototype._addToSubgroup=function(B,U){null!=(U=U||B.data.subgroup)&&void 0===this.subgroups[U]&&(this.subgroups[U]={height:0,top:0,start:B.data.start,end:B.data.end||B.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[U]||!1},this.subgroupIndex++),new Date(B.data.start)<new Date(this.subgroups[U].start)&&(this.subgroups[U].start=B.data.start);var F=B.data.end||B.data.start;new Date(F)>new Date(this.subgroups[U].end)&&(this.subgroups[U].end=F),this.subgroups[U].items.push(B)},Y.prototype._updateSubgroupsSizes=function(){var B=this;if(B.subgroups)for(var U in B.subgroups){var T=B.subgroups[U].items[0].data.start,D=(B.subgroups[U].items[0].data.end||B.subgroups[U].items[0].data.start)-1;B.subgroups[U].items.forEach(function(C){new Date(C.data.start)<new Date(T)&&(T=C.data.start);var E=C.data.end||C.data.start;new Date(E)>new Date(D)&&(D=E)}),B.subgroups[U].start=T,B.subgroups[U].end=new Date(D-1)}},Y.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var U,B=[];if("string"==typeof this.subgroupOrderer){for(U in this.subgroups)B.push({subgroup:U,sortField:this.subgroups[U].items[0].data[this.subgroupOrderer]});B.sort(function(T,D){return T.sortField-D.sortField})}else if("function"==typeof this.subgroupOrderer){for(U in this.subgroups)B.push(this.subgroups[U].items[0].data);B.sort(this.subgroupOrderer)}if(B.length>0)for(var F=0;F<B.length;F++)this.subgroups[B[F].subgroup].index=F}},Y.prototype.resetSubgroups=function(){for(var B in this.subgroups)this.subgroups.hasOwnProperty(B)&&(this.subgroups[B].visible=!1,this.subgroups[B].height=0)},Y.prototype.remove=function(B){delete this.items[B.id],B.setParent(null),this.stackDirty=!0;var U=this.visibleItems.indexOf(B);-1!=U&&this.visibleItems.splice(U,1),void 0!==B.data.subgroup&&(this._removeFromSubgroup(B),this.orderSubgroups())},Y.prototype._removeFromSubgroup=function(B,U){if(null!=(U=U||B.data.subgroup)){var F=this.subgroups[U];if(F){var T=F.items.indexOf(B);T>=0&&(F.items.splice(T,1),F.items.length?this._updateSubgroupsSizes():delete this.subgroups[U])}}},Y.prototype.removeFromDataSet=function(B){this.itemSet.removeItem(B.id)},Y.prototype.order=function(){for(var B=H.toArray(this.items),U=[],F=[],T=0;T<B.length;T++)void 0!==B[T].data.end&&F.push(B[T]),U.push(B[T]);this.orderedItems={byStart:U,byEnd:F},$.orderByStart(this.orderedItems.byStart),$.orderByEnd(this.orderedItems.byEnd)},Y.prototype._updateItemsInRange=function(B,U,F){var T=[],D={},C=(F.end-F.start)/4,E=F.start-C,I=F.end+C,f=function(q){return q<E?-1:q<=I?0:1};if(U.length>0)for(var _=0;_<U.length;_++)this._checkIfVisibleWithReference(U[_],T,D,F);var g=H.binarySearchCustom(B.byStart,f,"data","start");if(this._traceVisible(g,B.byStart,T,D,function(X){return X.data.start<E||X.data.start>I}),1==this.checkRangedItems)for(this.checkRangedItems=!1,_=0;_<B.byEnd.length;_++)this._checkIfVisibleWithReference(B.byEnd[_],T,D,F);else{var p=H.binarySearchCustom(B.byEnd,f,"data","end");this._traceVisible(p,B.byEnd,T,D,function(X){return X.data.end<E||X.data.end>I})}var y={},O=0;for(_=0;_<T.length;_++){var v=T[_];v.displayed||(y[_]=v.redraw(!0),O=y[_].length)}if(O>0)for(var L=0;L<O;L++)H.forEach(y,function(X){X[L]()});for(_=0;_<T.length;_++)T[_].repositionX();return T},Y.prototype._traceVisible=function(B,U,F,T,D){if(-1!=B){var C,E;for(C=B;C>=0&&!D(E=U[C]);C--)void 0===T[E.id]&&(T[E.id]=!0,F.push(E));for(C=B+1;C<U.length&&!D(E=U[C]);C++)void 0===T[E.id]&&(T[E.id]=!0,F.push(E))}},Y.prototype._checkIfVisible=function(B,U,F){B.isVisible(F)?(B.displayed||B.show(),B.repositionX(),U.push(B)):B.displayed&&B.hide()},Y.prototype._checkIfVisibleWithReference=function(B,U,F,T){B.isVisible(T)?void 0===F[B.id]&&(F[B.id]=!0,U.push(B)):B.displayed&&B.hide()},Y.prototype.changeSubgroup=function(B,U,F){this._removeFromSubgroup(B,U),this._addToSubgroup(B,F),this.orderSubgroups()},ge.exports=Y},function(ge,ee,P){var R=function V(Y){return Y&&Y.__esModule?Y:{default:Y}}(P(29));var H=P(68);function $(Y,B,U){H.call(this,Y,B,U),this.width=0,this.height=0,this.top=0,this.left=0}($.prototype=(0,R.default)(H.prototype)).redraw=function(Y,B,U){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,Y),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var T=0,D=this.visibleItems.length;T<D;T++)this.visibleItems[T].repositionY(B);return!1},$.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},ge.exports=$},function(ge,ee,P){var W=P(38);function R(V,H,$){if(this.props={content:{width:0}},this.overflow=!1,this.options=$,V){if(null==V.start)throw new Error('Property "start" missing in item '+V.id);if(null==V.end)throw new Error('Property "end" missing in item '+V.id)}W.call(this,V,H,$)}(R.prototype=new W(null,null,null)).baseClassName="vis-item vis-range",R.prototype.isVisible=function(V){return this.data.start<V.end&&this.data.end>V.start},R.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},R.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var V=this.parent.dom.foreground;if(!V)throw new Error("Cannot redraw item: parent has no foreground container element");V.appendChild(this.dom.box)}this.displayed=!0},R.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly"),this.dom.content.style.maxWidth="none")},R.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},R.prototype._updateDomComponentsSizes=function(V){this.props.content.width=V.content.width,this.height=V.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},R.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},R.prototype.redraw=function(V){var H,Y,$=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(H=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(H)}.bind(this),this._repaintDomAdditionals.bind(this)];return V?$:($.forEach(function(B){Y=B()}),Y)},R.prototype.show=function(){this.displayed||this.redraw()},R.prototype.hide=function(){if(this.displayed){var V=this.dom.box;V.parentNode&&V.parentNode.removeChild(V),this.displayed=!1}},R.prototype.repositionX=function(V){var U,F,H=this.parent.width,$=this.conversion.toScreen(this.data.start),Y=this.conversion.toScreen(this.data.end),B=void 0===this.data.align?this.options.align:this.data.align;!1!==this.data.limitSize&&(void 0===V||!0===V)&&($<-H&&($=-H),Y>2*H&&(Y=2*H));var T=Math.max(Y-$+.5,1);switch(this.overflow?(this.options.rtl?this.right=$:this.left=$,this.width=T+this.props.content.width,F=this.props.content.width):(this.options.rtl?this.right=$:this.left=$,this.width=T,F=Math.min(Y-$,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=T+"px",B){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(T-F,0)+"px":this.dom.content.style.left=Math.max(T-F,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((T-F)/2,0)+"px":this.dom.content.style.left=Math.max((T-F)/2,0)+"px";break;default:U=this.overflow?Y>0?Math.max(-$,0):-F:$<0?-$:0,this.options.rtl?this.dom.content.style.right=U+"px":(this.dom.content.style.left=U+"px",this.dom.content.style.width="calc(100% - "+U+"px)")}},R.prototype.repositionY=function(){this.dom.box.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},R.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var V=document.createElement("div");V.className="vis-drag-left",V.dragLeftItem=this,this.dom.box.appendChild(V),this.dom.dragLeft=V}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},R.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var V=document.createElement("div");V.className="vis-drag-right",V.dragRightItem=this,this.dom.box.appendChild(V),this.dom.dragRight=V}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},ge.exports=R},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=F(P(19)),H=F(P(6)),Y=F(P(0)),U=F(P(1));function F(E){return E&&E.__esModule?E:{default:E}}var T=P(2),D=P(179).default,C=function(){function E(I,f,_){var g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,Y.default)(this,E),this.parent=I,this.changedOptions=[],this.container=f,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},T.extend(this.options,this.defaultOptions),this.configureOptions=_,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new D(g),this.wrapper=void 0}return(0,U.default)(E,[{key:"setOptions",value:function(f){if(void 0!==f){this.popupHistory={},this._removePopup();var _=!0;"string"==typeof f?this.options.filter=f:f instanceof Array?this.options.filter=f.join():"object"===(typeof f>"u"?"undefined":(0,H.default)(f))?(void 0!==f.container&&(this.options.container=f.container),void 0!==f.filter&&(this.options.filter=f.filter),void 0!==f.showButton&&(this.options.showButton=f.showButton),void 0!==f.enabled&&(_=f.enabled)):"boolean"==typeof f?(this.options.filter=!0,_=f):"function"==typeof f&&(this.options.filter=f,_=!0),!1===this.options.filter&&(_=!1),this.options.enabled=_}this._clean()}},{key:"setModuleOptions",value:function(f){this.moduleOptions=f,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var f=this;this._clean(),this.changedOptions=[];var _=this.options.filter,g=0,p=!1;for(var y in this.configureOptions)this.configureOptions.hasOwnProperty(y)&&(this.allowCreation=!1,p=!1,"function"==typeof _?p=(p=_(y,[]))||this._handleObject(this.configureOptions[y],[y],!0):(!0===_||-1!==_.indexOf(y))&&(p=!0),!1!==p&&(this.allowCreation=!0,g>0&&this._makeItem([]),this._makeHeader(y),this._handleObject(this.configureOptions[y],[y])),g++);if(!0===this.options.showButton){var O=document.createElement("div");O.className="vis-configuration vis-config-button",O.innerHTML="generate options",O.onclick=function(){f._printOptions()},O.onmouseover=function(){O.className="vis-configuration vis-config-button hover"},O.onmouseout=function(){O.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(O)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var f=0;f<this.domElements.length;f++)this.wrapper.appendChild(this.domElements[f]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var f=0;f<this.domElements.length;f++)this.wrapper.removeChild(this.domElements[f]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(f){for(var _=this.moduleOptions,g=0;g<f.length;g++){if(void 0===_[f[g]]){_=void 0;break}_=_[f[g]]}return _}},{key:"_makeItem",value:function(f){if(!0===this.allowCreation){var _=document.createElement("div");_.className="vis-configuration vis-config-item vis-config-s"+f.length;for(var g=arguments.length,p=Array(g>1?g-1:0),y=1;y<g;y++)p[y-1]=arguments[y];return p.forEach(function(O){_.appendChild(O)}),this.domElements.push(_),this.domElements.length}return 0}},{key:"_makeHeader",value:function(f){var _=document.createElement("div");_.className="vis-configuration vis-config-header",_.innerHTML=f,this._makeItem([],_)}},{key:"_makeLabel",value:function(f,_){var g=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=document.createElement("div");return p.className="vis-configuration vis-config-label vis-config-s"+_.length,p.innerHTML=!0===g?"<i><b>"+f+":</b></i>":f+":",p}},{key:"_makeDropdown",value:function(f,_,g){var p=document.createElement("select");p.className="vis-configuration vis-config-select";var y=0;void 0!==_&&-1!==f.indexOf(_)&&(y=f.indexOf(_));for(var O=0;O<f.length;O++){var v=document.createElement("option");v.value=f[O],O===y&&(v.selected="selected"),v.innerHTML=f[O],p.appendChild(v)}var w=this;p.onchange=function(){w._update(this.value,g)};var M=this._makeLabel(g[g.length-1],g);this._makeItem(g,M,p)}},{key:"_makeRange",value:function(f,_,g){var p=f[0],y=f[1],O=f[2],v=f[3],w=document.createElement("input");w.className="vis-configuration vis-config-range";try{w.type="range",w.min=y,w.max=O}catch{}w.step=v;var M="",L=0;if(void 0!==_){var X=1.2;_<0&&_*X<y?(w.min=Math.ceil(_*X),L=w.min,M="range increased"):_/X<y&&(w.min=Math.ceil(_/X),L=w.min,M="range increased"),_*X>O&&1!==O&&(w.max=Math.ceil(_*X),L=w.max,M="range increased"),w.value=_}else w.value=p;var q=document.createElement("input");q.className="vis-configuration vis-config-rangeinput",q.value=w.value;var te=this;w.onchange=function(){q.value=this.value,te._update(Number(this.value),g)},w.oninput=function(){q.value=this.value};var ie=this._makeLabel(g[g.length-1],g),oe=this._makeItem(g,ie,w,q);""!==M&&this.popupHistory[oe]!==L&&(this.popupHistory[oe]=L,this._setupPopup(M,oe))}},{key:"_setupPopup",value:function(f,_){var g=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var p=document.createElement("div");p.id="vis-configuration-popup",p.className="vis-configuration-popup",p.innerHTML=f,p.onclick=function(){g._removePopup()},this.popupCounter+=1,this.popupDiv={html:p,index:_}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var f=this;if(void 0!==this.popupDiv.html){var g=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=g.left+"px",this.popupDiv.html.style.top=g.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){f.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){f._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(f,_,g){var p=document.createElement("input");p.type="checkbox",p.className="vis-configuration vis-config-checkbox",p.checked=f,void 0!==_&&(p.checked=_,_!==f&&("object"===(typeof f>"u"?"undefined":(0,H.default)(f))?_!==f.enabled&&this.changedOptions.push({path:g,value:_}):this.changedOptions.push({path:g,value:_})));var y=this;p.onchange=function(){y._update(this.checked,g)};var O=this._makeLabel(g[g.length-1],g);this._makeItem(g,O,p)}},{key:"_makeTextInput",value:function(f,_,g){var p=document.createElement("input");p.type="text",p.className="vis-configuration vis-config-text",p.value=_,_!==f&&this.changedOptions.push({path:g,value:_});var y=this;p.onchange=function(){y._update(this.value,g)};var O=this._makeLabel(g[g.length-1],g);this._makeItem(g,O,p)}},{key:"_makeColorField",value:function(f,_,g){var p=this,y=f[1],O=document.createElement("div");"none"!==(_=void 0===_?y:_)?(O.className="vis-configuration vis-config-colorBlock",O.style.backgroundColor=_):O.className="vis-configuration vis-config-colorBlock none",_=void 0===_?y:_,O.onclick=function(){p._showColorPicker(_,O,g)};var v=this._makeLabel(g[g.length-1],g);this._makeItem(g,v,O)}},{key:"_showColorPicker",value:function(f,_,g){var p=this;_.onclick=function(){},this.colorPicker.insertTo(_),this.colorPicker.show(),this.colorPicker.setColor(f),this.colorPicker.setUpdateCallback(function(y){var O="rgba("+y.r+","+y.g+","+y.b+","+y.a+")";_.style.backgroundColor=O,p._update(O,g)}),this.colorPicker.setCloseCallback(function(){_.onclick=function(){p._showColorPicker(f,_,g)}})}},{key:"_handleObject",value:function(f){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],g=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=!1,y=this.options.filter,O=!1;for(var v in f)if(f.hasOwnProperty(v)){p=!0;var w=f[v],M=T.copyAndExtendArray(_,v);if("function"==typeof y&&!1===(p=y(v,_))&&!(w instanceof Array)&&"string"!=typeof w&&"boolean"!=typeof w&&w instanceof Object&&(this.allowCreation=!1,p=this._handleObject(w,M,!0),this.allowCreation=!1===g),!1!==p){O=!0;var L=this._getValue(M);if(w instanceof Array)this._handleArray(w,L,M);else if("string"==typeof w)this._makeTextInput(w,L,M);else if("boolean"==typeof w)this._makeCheckbox(w,L,M);else if(w instanceof Object){var X=!0;if(-1!==_.indexOf("physics")&&this.moduleOptions.physics.solver!==v&&(X=!1),!0===X)if(void 0!==w.enabled){var q=T.copyAndExtendArray(M,"enabled"),te=this._getValue(q);if(!0===te){var ie=this._makeLabel(v,M,!0);this._makeItem(M,ie),O=this._handleObject(w,M)||O}else this._makeCheckbox(w,te,M)}else{var oe=this._makeLabel(v,M,!0);this._makeItem(M,oe),O=this._handleObject(w,M)||O}}else console.error("dont know how to handle",w,v,M)}}return O}},{key:"_handleArray",value:function(f,_,g){"string"==typeof f[0]&&"color"===f[0]?(this._makeColorField(f,_,g),f[1]!==_&&this.changedOptions.push({path:g,value:_})):"string"==typeof f[0]?(this._makeDropdown(f,_,g),f[0]!==_&&this.changedOptions.push({path:g,value:_})):"number"==typeof f[0]&&(this._makeRange(f,_,g),f[0]!==_&&this.changedOptions.push({path:g,value:Number(_)}))}},{key:"_update",value:function(f,_){var g=this._constructOptions(f,_);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",g),this.initialized=!0,this.parent.setOptions(g)}},{key:"_constructOptions",value:function(f,_){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p=g;f="false"!==(f="true"===f||f)&&f;for(var y=0;y<_.length;y++)"global"!==_[y]&&(void 0===p[_[y]]&&(p[_[y]]={}),y!==_.length-1?p=p[_[y]]:p[_[y]]=f);return g}},{key:"_printOptions",value:function(){var f=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,R.default)(f,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var f={},_=0;_<this.changedOptions.length;_++)this._constructOptions(this.changedOptions[_].value,this.changedOptions[_].path,f);return f}}]),E}();ee.default=C},function(ge,ee,P){var R=function V(U){return U&&U.__esModule?U:{default:U}}(P(6));var H=P(14);function $(U,F){}function Y(U,F){return{style:(F=typeof F>"u"?{}:F).style||U.options.drawPoints.style,styles:F.styles||U.options.drawPoints.styles,size:F.size||U.options.drawPoints.size,className:F.className||U.className}}$.draw=function(U,F,T,D){D=D||0;for(var C=function B(U,F){var T=void 0;return U.options&&U.options.drawPoints&&U.options.drawPoints.onRender&&"function"==typeof U.options.drawPoints.onRender&&(T=U.options.drawPoints.onRender),F.group.options&&F.group.options.drawPoints&&F.group.options.drawPoints.onRender&&"function"==typeof F.group.options.drawPoints.onRender&&(T=F.group.options.drawPoints.onRender),T}(T,F),E=0;E<U.length;E++)if(C){var I=C(U[E],F);(!0===I||"object"===(typeof I>"u"?"undefined":(0,R.default)(I)))&&H.drawPoint(U[E].screen_x+D,U[E].screen_y,Y(F,I),T.svgElements,T.svg,U[E].label)}else H.drawPoint(U[E].screen_x+D,U[E].screen_y,Y(F),T.svgElements,T.svg,U[E].label)},$.drawIcon=function(U,F,T,D,C,E){var I=.5*C,f=H.getSVGElement("rect",E.svgElements,E.svg);f.setAttributeNS(null,"x",F),f.setAttributeNS(null,"y",T-I),f.setAttributeNS(null,"width",D),f.setAttributeNS(null,"height",2*I),f.setAttributeNS(null,"class","vis-outline"),H.drawPoint(F+.5*D,T,Y(U),E.svgElements,E.svg)},ge.exports=$},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){(0,H.default)(this,_);var O=(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y));return O.labelOffset=0,O.selected=!1,O}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"setOptions",value:function(p,y,O){this.options=p,void 0===y&&void 0===O||this.setImages(y,O)}},{key:"setImages",value:function(p,y){y&&this.selected?(this.imageObj=y,this.imageObjAlt=p):(this.imageObj=p,this.imageObjAlt=y)}},{key:"switchImages",value:function(p){var y=p&&!this.selected||!p&&this.selected;if(this.selected=p,void 0!==this.imageObjAlt&&y){var O=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=O}}},{key:"_resizeImage",value:function(){var p,y;if(!1===this.options.shapeProperties.useImageSize){var O=1,v=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?O=this.imageObj.width/this.imageObj.height:v=this.imageObj.height/this.imageObj.width),p=2*this.options.size*O,y=2*this.options.size*v}else p=this.imageObj.width,y=this.imageObj.height;this.width=p,this.height=y,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(p,y,O,v){this.initContextForDraw(p,v),p.circle(y,O,v.size),this.performFill(p,v)}},{key:"_drawImageAtPosition",value:function(p,y){if(0!=this.imageObj.width){p.globalAlpha=1,this.enableShadow(p,y);var O=1;!0===this.options.shapeProperties.interpolation&&(O=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(p,O,this.left,this.top,this.width,this.height),this.disableShadow(p,y)}}},{key:"_drawImageLabel",value:function(p,y,O,v,w){var M,L=0;if(void 0!==this.height){L=.5*this.height;var X=this.labelModule.getTextSize(p,v,w);X.lineCount>=1&&(L+=X.height/2)}M=O+L,this.options.label&&(this.labelOffset=L),this.labelModule.draw(p,y,M,v,w,"hanging")}}]),_}(E(P(23)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=D(P(19)),H=D(P(6)),Y=D(P(29)),U=D(P(0)),T=D(P(1));function D(O){return O&&O.__esModule?O:{default:O}}var C=P(2),E=P(117).default,I=P(48).default,f=P(215).default,_=P(217).default,g=P(218).default,p=P(219).default,y=function(){function O(v,w,M,L){if((0,U.default)(this,O),void 0===w)throw new Error("No body provided");this.options=C.bridgeObject(M),this.globalOptions=M,this.defaultOptions=L,this.body=w,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new E(this.body,this.options,!0),this.setOptions(v)}return(0,T.default)(O,[{key:"setOptions",value:function(w){if(w){O.parseOptions(this.options,w,!0,this.globalOptions),void 0!==w.id&&(this.id=w.id),void 0!==w.from&&(this.fromId=w.from),void 0!==w.to&&(this.toId=w.to),void 0!==w.title&&(this.title=w.title),void 0!==w.value&&(w.value=parseFloat(w.value)),this.chooser=I.choosify("edge",[w,this.options,this.defaultOptions]),this.updateLabelModule(w);var L=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),(void 0!==w.hidden||void 0!==w.physics)&&(L=!0),L}}},{key:"getFormattingValues",value:function(){var X=this.options.color.inherit,q={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:X?void 0:this.options.color.color,inheritsColor:X,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var te=this.options.selectionWidth;"function"==typeof te?q.width=te(q.width):"number"==typeof te&&(q.width+=te),q.width=Math.max(q.width,.3/this.body.view.scale),q.color=this.options.color.highlight,q.shadow=this.options.shadow.enabled}else if(this.hover){var ie=this.options.hoverWidth;"function"==typeof ie?q.width=ie(q.width):"number"==typeof ie&&(q.width+=ie),q.width=Math.max(q.width,.3/this.body.view.scale),q.color=this.options.color.hover,q.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(q,this.options.id,this.selected,this.hover),void 0!==q.color&&(q.inheritsColor=!1),!1===q.shadow&&(q.shadowColor!==this.options.shadow.color||q.shadowSize!==this.options.shadow.size||q.shadowX!==this.options.shadow.x||q.shadowY!==this.options.shadow.y)&&(q.shadow=!0));else q.shadow=this.options.shadow.enabled,q.width=Math.max(q.width,.3/this.body.view.scale);return q}},{key:"updateLabelModule",value:function(w){this.labelModule.update(this.options,[w,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var w=this.options.smooth,M=!1,L=!0;return void 0!==this.edgeType&&((this.edgeType instanceof _&&!0===w.enabled&&"dynamic"===w.type||this.edgeType instanceof f&&!0===w.enabled&&"cubicBezier"===w.type||this.edgeType instanceof g&&!0===w.enabled&&"dynamic"!==w.type&&"cubicBezier"!==w.type||this.edgeType instanceof p&&!1===w.type.enabled)&&(L=!1),!0===L&&(M=this.cleanup())),!0===L?!0===w.enabled?"dynamic"===w.type?(M=!0,this.edgeType=new _(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===w.type?new f(this.options,this.body,this.labelModule):new g(this.options,this.body,this.labelModule):this.edgeType=new p(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),M}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(w,M,L){if(void 0!==this.options.value){var X=this.options.scaling.customScalingFunction(w,M,L,this.options.value),q=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+X*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+X*q}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(w){var M=this.getFormattingValues();if(!M.hidden){var L=this.edgeType.getViaNode(),X={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,M.fromArrow&&(X.from=this.edgeType.getArrowData(w,"from",L,this.selected,this.hover,M),!1===M.arrowStrikethrough&&(this.edgeType.fromPoint=X.from.core)),M.toArrow&&(X.to=this.edgeType.getArrowData(w,"to",L,this.selected,this.hover,M),!1===M.arrowStrikethrough&&(this.edgeType.toPoint=X.to.core)),M.middleArrow&&(X.middle=this.edgeType.getArrowData(w,"middle",L,this.selected,this.hover,M)),this.edgeType.drawLine(w,M,this.selected,this.hover,L),this.drawArrows(w,X,M),this.drawLabel(w,L)}}},{key:"drawArrows",value:function(w,M,L){L.fromArrow&&this.edgeType.drawArrowHead(w,L,this.selected,this.hover,M.from),L.middleArrow&&this.edgeType.drawArrowHead(w,L,this.selected,this.hover,M.middle),L.toArrow&&this.edgeType.drawArrowHead(w,L,this.selected,this.hover,M.to)}},{key:"drawLabel",value:function(w,M){if(void 0!==this.options.label){var L=this.from,X=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(w,this.selected,this.hover),L.id!=X.id){this.labelModule.pointToSelf=!1;var q=this.edgeType.getPoint(.5,M);w.save();var te=this._getRotation(w);0!=te.angle&&(w.translate(te.x,te.y),w.rotate(te.angle)),this.labelModule.draw(w,q.x,q.y,this.selected,this.hover),w.restore()}else{this.labelModule.pointToSelf=!0;var ie,oe,fe=this.options.selfReferenceSize;L.shape.width>L.shape.height?(ie=L.x+.5*L.shape.width,oe=L.y-fe):(ie=L.x+fe,oe=L.y-.5*L.shape.height),q=this._pointOnCircle(ie,oe,fe,.125),this.labelModule.draw(w,q.x,q.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(w){var M=[];if(this.labelModule.visible()){var L=this._getRotation();I.pointInRect(this.labelModule.getSize(),w,L)&&M.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:w.x,top:w.y})&&M.push({edgeId:this.id}),M}},{key:"isOverlappingWith",value:function(w){if(this.connected){return this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,w.left,w.top)<10}return!1}},{key:"_getRotation",value:function(w){var M=this.edgeType.getViaNode(),L=this.edgeType.getPoint(.5,M);void 0!==w&&this.labelModule.calculateLabelSize(w,this.selected,this.hover,L.x,L.y);var X={x:L.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||"horizontal"===this.options.font.align)return X;var te=this.from.x-this.to.x,ie=Math.atan2(this.from.y-this.to.y,te);return(ie<-1&&te<0||ie>0&&te<0)&&(ie+=Math.PI),X.angle=ie,X}},{key:"_pointOnCircle",value:function(w,M,L,X){var q=2*X*Math.PI;return{x:w+L*Math.cos(q),y:M-L*Math.sin(q)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(w,M){var L=arguments.length>2&&void 0!==arguments[2]&&arguments[2],X=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},q=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(C.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"],w,M,L),w.label=I.isValidLabel(M.label)?M.label:void 0,C.mergeOptions(w,M,"smooth",X),C.mergeOptions(w,M,"shadow",X),null!=M.dashes?w.dashes=M.dashes:!0===L&&null===M.dashes&&(w.dashes=(0,Y.default)(X.dashes)),null!=M.scaling?(void 0!==M.scaling.min&&(w.scaling.min=M.scaling.min),void 0!==M.scaling.max&&(w.scaling.max=M.scaling.max),C.mergeOptions(w.scaling,M.scaling,"label",X.scaling)):!0===L&&null===M.scaling&&(w.scaling=(0,Y.default)(X.scaling)),null!=M.arrows)if("string"==typeof M.arrows){var ie=M.arrows.toLowerCase();w.arrows.to.enabled=-1!=ie.indexOf("to"),w.arrows.middle.enabled=-1!=ie.indexOf("middle"),w.arrows.from.enabled=-1!=ie.indexOf("from")}else{if("object"!==(0,H.default)(M.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,R.default)(M.arrows));C.mergeOptions(w.arrows,M.arrows,"to",X.arrows),C.mergeOptions(w.arrows,M.arrows,"middle",X.arrows),C.mergeOptions(w.arrows,M.arrows,"from",X.arrows)}else!0===L&&null===M.arrows&&(w.arrows=(0,Y.default)(X.arrows));if(null!=M.color){var oe=M.color,fe=w.color;if(q)C.deepExtend(fe,X.color,!1,L);else for(var Ce in fe)fe.hasOwnProperty(Ce)&&delete fe[Ce];if(C.isString(fe))fe.color=fe,fe.highlight=fe,fe.hover=fe,fe.inherit=!1,void 0===oe.opacity&&(fe.opacity=1);else{var De=!1;void 0!==oe.color&&(fe.color=oe.color,De=!0),void 0!==oe.highlight&&(fe.highlight=oe.highlight,De=!0),void 0!==oe.hover&&(fe.hover=oe.hover,De=!0),void 0!==oe.inherit&&(fe.inherit=oe.inherit),void 0!==oe.opacity&&(fe.opacity=Math.min(1,Math.max(0,oe.opacity))),!0===De?fe.inherit=!1:void 0===fe.inherit&&(fe.inherit="from")}}else!0===L&&null===M.color&&(w.color=C.bridgeObject(X.color));!0===L&&null===M.font&&(w.font=C.bridgeObject(X.font))}}]),O}();ee.default=y},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"_findBorderPositionBezier",value:function(p,y){var X,q,oe,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),w=0,M=0,L=1,Ce=this.to,De=!1;for(p.id===this.from.id&&(Ce=this.from,De=!0);M<=L&&w<10;){var Ae=.5*(M+L);if(X=this.getPoint(Ae,O),q=Math.atan2(Ce.y-X.y,Ce.x-X.x),oe=Ce.distanceToBorder(y,q)-Math.sqrt(Math.pow(X.x-Ce.x,2)+Math.pow(X.y-Ce.y,2)),Math.abs(oe)<.2)break;oe<0?!1===De?M=Ae:L=Ae:!1===De?L=Ae:M=Ae,w++}return X.t=Ae,X}},{key:"_getDistanceToBezierEdge",value:function(p,y,O,v,w,M,L){var X=1e9,q=void 0,te=void 0,ie=void 0,oe=void 0,fe=void 0,Ce=p,De=y;for(te=1;te<10;te++)ie=.1*te,oe=Math.pow(1-ie,2)*p+2*ie*(1-ie)*L.x+Math.pow(ie,2)*O,fe=Math.pow(1-ie,2)*y+2*ie*(1-ie)*L.y+Math.pow(ie,2)*v,te>0&&(X=(q=this._getDistanceToLine(Ce,De,oe,fe,w,M))<X?q:X),Ce=oe,De=fe;return X}},{key:"_bezierCurve",value:function(p,y,O,v){var w=void 0!==O&&void 0!==O.x,M=void 0!==v&&void 0!==v.x;p.beginPath(),p.moveTo(this.fromPoint.x,this.fromPoint.y),w&&M?p.bezierCurveTo(O.x,O.y,v.x,v.y,this.toPoint.x,this.toPoint.y):w?p.quadraticCurveTo(O.x,O.y,this.toPoint.x,this.toPoint.y):p.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(p,y),p.stroke(),this.disableShadow(p,y)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),_}(E(P(118)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(U){return U&&U.__esModule?U:{default:U}}var Y=P(2),B=function(){function U(){(0,R.default)(this,U)}return(0,H.default)(U,null,[{key:"getRange",value:function(T){var _,D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],C=1e9,E=-1e9,I=1e9,f=-1e9;if(D.length>0)for(var g=0;g<D.length;g++)I>(_=T[D[g]]).shape.boundingBox.left&&(I=_.shape.boundingBox.left),f<_.shape.boundingBox.right&&(f=_.shape.boundingBox.right),C>_.shape.boundingBox.top&&(C=_.shape.boundingBox.top),E<_.shape.boundingBox.bottom&&(E=_.shape.boundingBox.bottom);return 1e9===I&&-1e9===f&&1e9===C&&-1e9===E&&(C=0,E=0,I=0,f=0),{minX:I,maxX:f,minY:C,maxY:E}}},{key:"getRangeCore",value:function(T){var _,D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],C=1e9,E=-1e9,I=1e9,f=-1e9;if(D.length>0)for(var g=0;g<D.length;g++)I>(_=T[D[g]]).x&&(I=_.x),f<_.x&&(f=_.x),C>_.y&&(C=_.y),E<_.y&&(E=_.y);return 1e9===I&&-1e9===f&&1e9===C&&-1e9===E&&(C=0,E=0,I=0,f=0),{minX:I,maxX:f,minY:C,maxY:E}}},{key:"findCenter",value:function(T){return{x:.5*(T.maxX+T.minX),y:.5*(T.maxY+T.minY)}}},{key:"cloneOptions",value:function(T,D){var C={};return void 0===D||"node"===D?(Y.deepExtend(C,T.options,!0),C.x=T.x,C.y=T.y,C.amountOfConnections=T.edges.length):Y.deepExtend(C,T.options,!0),C}}]),U}();ee.default=B},function(ge,ee,P){ge.exports={default:P(124),__esModule:!0}},function(ge,ee,P){var W=P(50);ge.exports=Object("z").propertyIsEnumerable(0)?Object:function(R){return"String"==W(R)?R.split(""):Object(R)}},function(ge,ee,P){var W=P(52),R=P(17),V=P(83),H=P(26),$=P(22),Y=P(31),B=P(129),U=P(59),F=P(85),T=P(13)("iterator"),D=!([].keys&&"next"in[].keys()),E="keys",I="values",f=function(){return this};ge.exports=function(_,g,p,y,O,v,w){B(p,g,y);var De,Ae,Ye,M=function(st){if(!D&&st in te)return te[st];switch(st){case E:case I:return function(){return new p(this,st)}}return function(){return new p(this,st)}},L=g+" Iterator",X=O==I,q=!1,te=_.prototype,ie=te[T]||te["@@iterator"]||O&&te[O],oe=ie||M(O),fe=O?X?M("entries"):oe:void 0,Ce="Array"==g&&te.entries||ie;if(Ce&&(Ye=F(Ce.call(new _)))!==Object.prototype&&Ye.next&&(U(Ye,L,!0),!W&&!$(Ye,T)&&H(Ye,T,f)),X&&ie&&ie.name!==I&&(q=!0,oe=function(){return ie.call(this)}),(!W||w)&&(D||q||!te[T])&&H(te,T,oe),Y[g]=oe,Y[L]=f,O)if(De={values:X?oe:M(I),keys:v?oe:M(E),entries:fe},w)for(Ae in De)Ae in te||V(te,Ae,De[Ae]);else R(R.P+R.F*(D||q),g,De);return De}},function(ge,ee,P){var W=P(128);ge.exports=function(R,V,H){if(W(R),void 0===V)return R;switch(H){case 1:return function($){return R.call(V,$)};case 2:return function($,Y){return R.call(V,$,Y)};case 3:return function($,Y,B){return R.call(V,$,Y,B)}}return function(){return R.apply(V,arguments)}}},function(ge,ee,P){ge.exports=!P(21)&&!P(28)(function(){return 7!=Object.defineProperty(P(82)("div"),"a",{get:function(){return 7}}).a})},function(ge,ee,P){var W=P(32),R=P(18).document,V=W(R)&&W(R.createElement);ge.exports=function(H){return V?R.createElement(H):{}}},function(ge,ee,P){ge.exports=P(26)},function(ge,ee,P){var W=P(22),R=P(25),V=P(131)(!1),H=P(56)("IE_PROTO");ge.exports=function($,Y){var T,B=R($),U=0,F=[];for(T in B)T!=H&&W(B,T)&&F.push(T);for(;Y.length>U;)W(B,T=Y[U++])&&(~V(F,T)||F.push(T));return F}},function(ge,ee,P){var W=P(22),R=P(41),V=P(56)("IE_PROTO"),H=Object.prototype;ge.exports=Object.getPrototypeOf||function($){return $=R($),W($,V)?$[V]:"function"==typeof $.constructor&&$ instanceof $.constructor?$.constructor.prototype:$ instanceof Object?H:null}},function(ge,ee,P){var W=P(50),R=P(13)("toStringTag"),V="Arguments"==W(function(){return arguments}());ge.exports=function($){var Y,B,U;return void 0===$?"Undefined":null===$?"Null":"string"==typeof(B=function($,Y){try{return $[Y]}catch{}}(Y=Object($),R))?B:V?W(Y):"Object"==(U=W(Y))&&"function"==typeof Y.callee?"Arguments":U}},function(ge,ee,P){var W=P(17),R=P(7),V=P(28);ge.exports=function(H,$){var Y=(R.Object||{})[H]||Object[H],B={};B[H]=$(Y),W(W.S+W.F*V(function(){Y(1)}),"Object",B)}},function(ge,ee,P){var W=P(84),R=P(58).concat("length","prototype");ee.f=Object.getOwnPropertyNames||function(H){return W(H,R)}},function(ge,ee,P){var W=P(42),R=P(39),V=P(25),H=P(53),$=P(22),Y=P(81),B=Object.getOwnPropertyDescriptor;ee.f=P(21)?B:function(F,T){if(F=V(F),T=H(T,!0),Y)try{return B(F,T)}catch{}if($(F,T))return R(!W.f.call(F,T),F[T])}},function(ge,ee,P){ge.exports={default:P(162),__esModule:!0}},function(ge,ee,P){ge.exports=function W(R,V){this.x=void 0!==R?R:0,this.y=void 0!==V?V:0}},function(ge,ee,P){var W=P(2);function R(V,H){if(void 0===V)throw new Error("No container element defined");if(this.container=V,this.visible=!H||null==H.visible||H.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var $=this;this.frame.slide.onmousedown=function(Y){$._onMouseDown(Y)},this.frame.prev.onclick=function(Y){$.prev(Y)},this.frame.play.onclick=function(Y){$.togglePlay(Y)},this.frame.next.onclick=function(Y){$.next(Y)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}R.prototype.prev=function(){var V=this.getIndex();V>0&&(V--,this.setIndex(V))},R.prototype.next=function(){var V=this.getIndex();V<this.values.length-1&&(V++,this.setIndex(V))},R.prototype.playNext=function(){var V=new Date,H=this.getIndex();H<this.values.length-1?(H++,this.setIndex(H)):this.playLoop&&this.setIndex(H=0);var B=Math.max(this.playInterval-(new Date-V),0),U=this;this.playTimeout=setTimeout(function(){U.playNext()},B)},R.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},R.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},R.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},R.prototype.setOnChangeCallback=function(V){this.onChangeCallback=V},R.prototype.setPlayInterval=function(V){this.playInterval=V},R.prototype.getPlayInterval=function(){return this.playInterval},R.prototype.setPlayLoop=function(V){this.playLoop=V},R.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},R.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var V=this.indexToLeft(this.index);this.frame.slide.style.left=V+"px"}},R.prototype.setValues=function(V){this.values=V,this.values.length>0?this.setIndex(0):this.index=void 0},R.prototype.setIndex=function(V){if(!(V<this.values.length))throw new Error("Index out of range");this.index=V,this.redraw(),this.onChange()},R.prototype.getIndex=function(){return this.index},R.prototype.get=function(){return this.values[this.index]},R.prototype._onMouseDown=function(V){if(V.which?1===V.which:1===V.button){this.startClientX=V.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var $=this;this.onmousemove=function(Y){$._onMouseMove(Y)},this.onmouseup=function(Y){$._onMouseUp(Y)},W.addEventListener(document,"mousemove",this.onmousemove),W.addEventListener(document,"mouseup",this.onmouseup),W.preventDefault(V)}},R.prototype.leftToIndex=function(V){var H=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,Y=Math.round((V-3)/H*(this.values.length-1));return Y<0&&(Y=0),Y>this.values.length-1&&(Y=this.values.length-1),Y},R.prototype.indexToLeft=function(V){var H=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return V/(this.values.length-1)*H+3},R.prototype._onMouseMove=function(V){var Y=this.leftToIndex(this.startSlideX+(V.clientX-this.startClientX));this.setIndex(Y),W.preventDefault()},R.prototype._onMouseUp=function(V){this.frame.style.cursor="auto",W.removeEventListener(document,"mousemove",this.onmousemove),W.removeEventListener(document,"mouseup",this.onmouseup),W.preventDefault()},ge.exports=R},function(ge,ee,P){function W(R,V,H,$){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(R,V,H,$)}W.prototype.isNumeric=function(R){return!isNaN(parseFloat(R))&&isFinite(R)},W.prototype.setRange=function(R,V,H,$){if(!this.isNumeric(R))throw new Error("Parameter 'start' is not numeric; value: "+R);if(!this.isNumeric(V))throw new Error("Parameter 'end' is not numeric; value: "+R);if(!this.isNumeric(H))throw new Error("Parameter 'step' is not numeric; value: "+R);this._start=R||0,this._end=V||0,this.setStep(H,$)},W.prototype.setStep=function(R,V){void 0===R||R<=0||(void 0!==V&&(this.prettyStep=V),this._step=!0===this.prettyStep?W.calculatePrettyStep(R):R)},W.calculatePrettyStep=function(R){var V=function(F){return Math.log(F)/Math.LN10},H=Math.pow(10,Math.round(V(R))),$=2*Math.pow(10,Math.round(V(R/2))),Y=5*Math.pow(10,Math.round(V(R/5))),B=H;return Math.abs($-R)<=Math.abs(B-R)&&(B=$),Math.abs(Y-R)<=Math.abs(B-R)&&(B=Y),B<=0&&(B=1),B},W.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},W.prototype.getStep=function(){return this._step},W.prototype.start=function(R){void 0===R&&(R=!1),this._current=this._start-this._start%this._step,R&&this.getCurrent()<this._start&&this.next()},W.prototype.next=function(){this._current+=this._step},W.prototype.end=function(){return this._current>this._end},ge.exports=W},function(ge,ee,P){var R=function V(te){return te&&te.__esModule?te:{default:te}}(P(6));var H=P(2),$=P(95),Y=P(34),B={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},U={dot:B.DOT,"dot-line":B.DOTLINE,"dot-color":B.DOTCOLOR,"dot-size":B.DOTSIZE,line:B.LINE,grid:B.GRID,surface:B.SURFACE,bar:B.BAR,"bar-color":B.BARCOLOR,"bar-size":B.BARSIZE},F=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],T=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],D=void 0;function C(te){for(var ie in te)if(te.hasOwnProperty(ie))return!1;return!0}function I(te,ie){return void 0===te||""===te?ie:te+function E(te){return void 0===te||""===te||"string"!=typeof te?te:te.charAt(0).toUpperCase()+te.slice(1)}(ie)}function f(te,ie,oe,fe){for(var Ce,Ae=0;Ae<oe.length;++Ae)ie[I(fe,Ce=oe[Ae])]=te[Ce]}function _(te,ie,oe,fe){for(var Ce,Ae=0;Ae<oe.length;++Ae)void 0!==te[Ce=oe[Ae]]&&(ie[I(fe,Ce)]=te[Ce])}function y(te,ie){void 0!==te.backgroundColor&&function L(te,ie){var oe="white",fe="gray",Ce=1;if("string"==typeof te)oe=te,fe="none",Ce=0;else{if("object"!==(typeof te>"u"?"undefined":(0,R.default)(te)))throw new Error("Unsupported type of backgroundColor");void 0!==te.fill&&(oe=te.fill),void 0!==te.stroke&&(fe=te.stroke),void 0!==te.strokeWidth&&(Ce=te.strokeWidth)}ie.frame.style.backgroundColor=oe,ie.frame.style.borderColor=fe,ie.frame.style.borderWidth=Ce+"px",ie.frame.style.borderStyle="solid"}(te.backgroundColor,ie),function X(te,ie){void 0!==te&&(void 0===ie.dataColor&&(ie.dataColor={}),"string"==typeof te?(ie.dataColor.fill=te,ie.dataColor.stroke=te):(te.fill&&(ie.dataColor.fill=te.fill),te.stroke&&(ie.dataColor.stroke=te.stroke),void 0!==te.strokeWidth&&(ie.dataColor.strokeWidth=te.strokeWidth)))}(te.dataColor,ie),function M(te,ie){if(void 0!==te){var oe;if("string"==typeof te){if(-1===(oe=function v(te){var ie=U[te];return void 0===ie?-1:ie}(te)))throw new Error("Style '"+te+"' is invalid")}else{if(!function w(te){var ie=!1;for(var oe in B)if(B[oe]===te){ie=!0;break}return ie}(te))throw new Error("Style '"+te+"' is invalid");oe=te}ie.style=oe}}(te.style,ie),function O(te,ie){void 0===te?void 0===D.showLegend&&(ie.showLegend=ie.style===B.DOTCOLOR||ie.style===B.DOTSIZE):ie.showLegend=te}(te.showLegend,ie),q(te.cameraPosition,ie),void 0!==te.tooltip&&(ie.showTooltip=te.tooltip),null!=te.onclick&&(ie.onclick_callback=te.onclick),void 0!==te.tooltipStyle&&H.selectiveDeepExtend(["tooltipStyle"],ie,te)}function q(te,ie){var oe=te;void 0!==oe&&(void 0===ie.camera&&(ie.camera=new $),ie.camera.setArmRotation(oe.horizontal,oe.vertical),ie.camera.setArmLength(oe.distance))}ge.exports.STYLE=B,ge.exports.setDefaults=function g(te,ie){if(void 0===te||C(te))throw new Error("No DEFAULTS passed");if(void 0===ie)throw new Error("No dst passed");D=te,f(te,ie,F),f(te,ie,T,"default"),y(te,ie),ie.margin=10,ie.showGrayBottom=!1,ie.showTooltip=!1,ie.onclick_callback=null,ie.eye=new Y(0,0,-1)},ge.exports.setOptions=function p(te,ie){if(void 0!==te){if(void 0===ie)throw new Error("No dst passed");if(void 0===D||C(D))throw new Error("DEFAULTS not set for module Settings");_(te,ie,F),_(te,ie,T,"default"),y(te,ie)}},ge.exports.setCameraPosition=q},function(ge,ee,P){var R=function V(Y){return Y&&Y.__esModule?Y:{default:Y}}(P(165));var H=P(34);function $(){this.armLocation=new H,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new H,this.offsetMultiplier=.6,this.cameraLocation=new H,this.cameraRotation=new H(.5*Math.PI,0,0),this.calculateCameraOrientation()}$.prototype.setOffset=function(Y,B){var U=Math.abs,F=R.default,D=this.armLength*this.offsetMultiplier;U(Y)>D&&(Y=F(Y)*D),U(B)>D&&(B=F(B)*D),this.cameraOffset.x=Y,this.cameraOffset.y=B,this.calculateCameraOrientation()},$.prototype.getOffset=function(){return this.cameraOffset},$.prototype.setArmLocation=function(Y,B,U){this.armLocation.x=Y,this.armLocation.y=B,this.armLocation.z=U,this.calculateCameraOrientation()},$.prototype.setArmRotation=function(Y,B){void 0!==Y&&(this.armRotation.horizontal=Y),void 0!==B&&(this.armRotation.vertical=B,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),(void 0!==Y||void 0!==B)&&this.calculateCameraOrientation()},$.prototype.getArmRotation=function(){var Y={};return Y.horizontal=this.armRotation.horizontal,Y.vertical=this.armRotation.vertical,Y},$.prototype.setArmLength=function(Y){void 0!==Y&&(this.armLength=Y,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},$.prototype.getArmLength=function(){return this.armLength},$.prototype.getCameraLocation=function(){return this.cameraLocation},$.prototype.getCameraRotation=function(){return this.cameraRotation},$.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var Y=this.cameraRotation.x,B=this.cameraRotation.z,U=this.cameraOffset.x,F=this.cameraOffset.y,T=Math.sin,D=Math.cos;this.cameraLocation.x=this.cameraLocation.x+U*D(B)+F*-T(B)*D(Y),this.cameraLocation.y=this.cameraLocation.y+U*T(B)+F*D(B)*D(Y),this.cameraLocation.z=this.cameraLocation.z+F*T(Y)},ge.exports=$},function(ge,ee,P){var W=P(12);function R(V,H,$){this.dataGroup=V,this.column=H,this.graph=$,this.index=void 0,this.value=void 0,this.values=V.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,$.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}R.prototype.isLoaded=function(){return this.loaded},R.prototype.getLoadedProgress=function(){for(var V=this.values.length,H=0;this.dataPoints[H];)H++;return Math.round(H/V*100)},R.prototype.getLabel=function(){return this.graph.filterLabel},R.prototype.getColumn=function(){return this.column},R.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},R.prototype.getValues=function(){return this.values},R.prototype.getValue=function(V){if(V>=this.values.length)throw new Error("Index out of range");return this.values[V]},R.prototype._getDataPoints=function(V){if(void 0===V&&(V=this.index),void 0===V)return[];var H;if(this.dataPoints[V])H=this.dataPoints[V];else{var $={};$.column=this.column,$.value=this.values[V];var Y=new W(this.dataGroup.getDataSet(),{filter:function(U){return U[$.column]==$.value}}).get();H=this.dataGroup._getDataPoints(Y),this.dataPoints[V]=H}return H},R.prototype.setOnLoadCallback=function(V){this.onLoadCallback=V},R.prototype.selectValue=function(V){if(V>=this.values.length)throw new Error("Index out of range");this.index=V,this.value=this.values[V]},R.prototype.loadInBackground=function(V){void 0===V&&(V=0);var H=this.graph.frame;if(V<this.values.length){void 0===H.progress&&(H.progress=document.createElement("DIV"),H.progress.style.position="absolute",H.progress.style.color="gray",H.appendChild(H.progress));var $=this.getLoadedProgress();H.progress.innerHTML="Loading animation... "+$+"%",H.progress.style.bottom="60px",H.progress.style.left="10px";var Y=this;setTimeout(function(){Y.loadInBackground(V+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==H.progress&&(H.removeChild(H.progress),H.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},ge.exports=R},function(ge,ee,P){var W=P(35),R=P(44),V=P(10),H=P(2);function $(B){this.active=!1,this.dom={container:B},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=V(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var U=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(T){U.hammer.on(T,function(D){D.stopPropagation()})}),document&&document.body&&(this.onClick=function(T){(function Y(B,U){for(;B;){if(B===U)return!0;B=B.parentNode}return!1})(T.target,B)||U.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=W(),this.escListener=this.deactivate.bind(this)}R($.prototype),$.current=null,$.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},$.prototype.activate=function(){$.current&&$.current.deactivate(),$.current=this,this.active=!0,this.dom.overlay.style.display="none",H.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},$.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",H.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},$.prototype._onTapOverlay=function(B){this.activate(),B.stopPropagation()},ge.exports=$},function(ge,ee,P){ee.en={current:"current",time:"time"},ee.en_EN=ee.en,ee.en_US=ee.en,ee.it={current:"attuale",time:"tempo"},ee.it_IT=ee.it,ee.it_CH=ee.it,ee.nl={current:"huidige",time:"tijd"},ee.nl_NL=ee.nl,ee.nl_BE=ee.nl,ee.de={current:"Aktuelle",time:"Zeit"},ee.de_DE=ee.de,ee.fr={current:"actuel",time:"heure"},ee.fr_FR=ee.fr,ee.fr_CA=ee.fr,ee.fr_BE=ee.fr,ee.es={current:"corriente",time:"hora"},ee.es_ES=ee.es},function(ge,ee,P){var R=$(P(29)),H=$(P(6));function $(w){return w&&w.__esModule?w:{default:w}}var Y=P(10),B=P(2),U=P(11),F=P(12),T=P(66),D=P(16),C=P(68),E=P(69),I=P(101),f=P(102),_=P(70),g=P(103),p=P(104).default,y="__ungrouped__",O="__background__";function v(w,M){this.body=w,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(q,te,ie){var oe=te.order;te.order=q.order,q.order=oe},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:T.snap,onDropObjectOnItem:function(q,te,ie){ie(te)},onAdd:function(q,te){te(q)},onUpdate:function(q,te){te(q)},onMove:function(q,te){te(q)},onRemove:function(q,te){te(q)},onMoving:function(q,te){te(q)},onAddGroup:function(q,te){te(q)},onMoveGroup:function(q,te){te(q)},onRemoveGroup:function(q,te){te(q)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=B.extend({},this.defaultOptions),this.options.rtl=M.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:w.util.toScreen,toTime:w.util.toTime},this.dom={},this.props={},this.hammer=null;var L=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(q,te,ie){L._onAdd(te.items)},update:function(q,te,ie){L._onUpdate(te.items)},remove:function(q,te,ie){L._onRemove(te.items)}},this.groupListeners={add:function(q,te,ie){if(L._onAddGroups(te.items),L.groupsData&&L.groupsData.length>0){var oe=L.groupsData.getDataSet();oe.get().forEach(function(fe){if(fe.nestedGroups){0!=fe.showNested&&(fe.showNested=!0);var Ce=[];fe.nestedGroups.forEach(function(De){var Ae=oe.get(De);Ae&&(Ae.nestedInGroup=fe.id,0==fe.showNested&&(Ae.visible=!1),Ce=Ce.concat(Ae))}),oe.update(Ce,ie)}})}},update:function(q,te,ie){L._onUpdateGroups(te.items)},remove:function(q,te,ie){L._onRemoveGroups(te.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(M)}v.prototype=new D,v.types={background:g,box:I,range:_,point:f},v.prototype._create=function(){var w=document.createElement("div");w.className="vis-itemset",w["timeline-itemset"]=this,this.dom.frame=w;var M=document.createElement("div");M.className="vis-background",w.appendChild(M),this.dom.background=M;var L=document.createElement("div");L.className="vis-foreground",w.appendChild(L),this.dom.foreground=L;var X=document.createElement("div");X.className="vis-axis",this.dom.axis=X;var q=document.createElement("div");q.className="vis-labelset",this.dom.labelSet=q,this._updateUngrouped();var te=new E(O,null,this);te.show(),this.groups[O]=te,this.hammer=new Y(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(ie){ie.isFirst&&this._onTouch(ie)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:Y.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.groupHammer=new Y(this.options.rtl?this.body.dom.rightContainer:this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:Y.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},v.prototype.setOptions=function(w){if(w){B.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"],this.options,w),"itemsAlwaysDraggable"in w&&("boolean"==typeof w.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=w.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,H.default)(w.itemsAlwaysDraggable)&&(B.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,w.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in w&&("string"==typeof w.orientation?this.options.orientation.item="top"===w.orientation?"top":"bottom":"object"===(0,H.default)(w.orientation)&&"item"in w.orientation&&(this.options.orientation.item=w.orientation.item)),"margin"in w&&("number"==typeof w.margin?(this.options.margin.axis=w.margin,this.options.margin.item.horizontal=w.margin,this.options.margin.item.vertical=w.margin):"object"===(0,H.default)(w.margin)&&(B.selectiveExtend(["axis"],this.options.margin,w.margin),"item"in w.margin&&("number"==typeof w.margin.item?(this.options.margin.item.horizontal=w.margin.item,this.options.margin.item.vertical=w.margin.item):"object"===(0,H.default)(w.margin.item)&&B.selectiveExtend(["horizontal","vertical"],this.options.margin.item,w.margin.item)))),"editable"in w&&("boolean"==typeof w.editable?(this.options.editable.updateTime=w.editable,this.options.editable.updateGroup=w.editable,this.options.editable.add=w.editable,this.options.editable.remove=w.editable,this.options.editable.overrideItems=!1):"object"===(0,H.default)(w.editable)&&B.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,w.editable)),"groupEditable"in w&&("boolean"==typeof w.groupEditable?(this.options.groupEditable.order=w.groupEditable,this.options.groupEditable.add=w.groupEditable,this.options.groupEditable.remove=w.groupEditable):"object"===(0,H.default)(w.groupEditable)&&B.selectiveExtend(["order","add","remove"],this.options.groupEditable,w.groupEditable));var L=function(X){var q=w[X];if(q){if(!(q instanceof Function))throw new Error("option "+X+" must be a function "+X+"(item, callback)");this.options[X]=q}}.bind(this);["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(L),this.markDirty()}},v.prototype.markDirty=function(w){this.groupIds=[],w&&w.refreshItems&&B.forEach(this.items,function(M){M.dirty=!0,M.displayed&&M.redraw()})},v.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},v.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},v.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},v.prototype.setSelection=function(w){var M,L,X,q;for(null==w&&(w=[]),Array.isArray(w)||(w=[w]),M=0,L=this.selection.length;M<L;M++)(q=this.items[X=this.selection[M]])&&q.unselect();for(this.selection=[],M=0,L=w.length;M<L;M++)(q=this.items[X=w[M]])&&(this.selection.push(X),q.select())},v.prototype.getSelection=function(){return this.selection.concat([])},v.prototype.getVisibleItems=function(){var M,L,w=this.body.range.getRange();this.options.rtl?(M=this.body.util.toScreen(w.start),L=this.body.util.toScreen(w.end)):(L=this.body.util.toScreen(w.start),M=this.body.util.toScreen(w.end));var X=[];for(var q in this.groups)if(this.groups.hasOwnProperty(q))for(var te=this.groups[q],ie=te.isVisible?te.visibleItems:[],oe=0;oe<ie.length;oe++){var fe=ie[oe];this.options.rtl?fe.right<L&&fe.right+fe.width>M&&X.push(fe.id):fe.left<M&&fe.left+fe.width>L&&X.push(fe.id)}return X},v.prototype._deselect=function(w){for(var M=this.selection,L=0,X=M.length;L<X;L++)if(M[L]==w){M.splice(L,1);break}},v.prototype.redraw=function(){var w=this.options.margin,M=this.body.range,L=B.option.asSize,X=this.options,q=X.orientation.item,te=!1,ie=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,ie.className="vis-itemset",te=this._orderGroups()||te;var oe=M.end-M.start,Ye=oe!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth||M.start!=this.lastRangeStart||X.stack!=this.lastStack||X.stackSubgroups!=this.lastStackSubgroups;this.lastVisibleInterval=oe,this.lastRangeStart=M.start,this.lastStack=X.stack,this.lastStackSubgroups=X.stackSubgroups,this.props.lastWidth=this.props.width;var st=this._firstGroup(),it={item:w.item,axis:w.axis},We={item:w.item,axis:w.item.vertical/2},we=0,Oe=w.axis+w.item.vertical;this.groups[O].redraw(M,We,Ye);var Le={},Qe=0;if(B.forEach(this.groups,function(At,Nt){Nt!==O&&(Le[Nt]=At.redraw(M,At==st?it:We,Ye,!0),Qe=Le[Nt].length)}),Qe>0){for(var nt={},ut=0;ut<Qe;ut++)B.forEach(Le,function(At,Nt){nt[Nt]=At[ut]()});B.forEach(this.groups,function(At,Nt){Nt!==O&&(te=nt[Nt]||te,we+=At.height)}),we=Math.max(we,Oe)}return we=Math.max(we,Oe),ie.style.height=L(we),this.props.width=ie.offsetWidth,this.props.height=we,this.dom.axis.style.top=L("top"==q?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,te=this._isResized()||te},v.prototype._firstGroup=function(){return this.groups[this.groupIds["top"==this.options.orientation.item?0:this.groupIds.length-1]]||this.groups[y]||null},v.prototype._updateUngrouped=function(){var M,L,w=this.groups[y];if(this.groupsData){if(w)for(L in w.hide(),delete this.groups[y],this.items)if(this.items.hasOwnProperty(L)){(M=this.items[L]).parent&&M.parent.remove(M);var X=this._getGroupId(M.data),q=this.groups[X];q&&q.add(M)||M.hide()}}else if(!w){for(L in w=new C(null,null,this),this.groups[y]=w,this.items)this.items.hasOwnProperty(L)&&w.add(M=this.items[L]);w.show()}},v.prototype.getLabelSet=function(){return this.dom.labelSet},v.prototype.setItems=function(w){var L,M=this,X=this.itemsData;if(w){if(!(w instanceof U||w instanceof F))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=w}else this.itemsData=null;if(X&&(B.forEach(this.itemListeners,function(te,ie){X.off(ie,te)}),L=X.getIds(),this._onRemove(L)),this.itemsData){var q=this.id;B.forEach(this.itemListeners,function(te,ie){M.itemsData.on(ie,te,q)}),L=this.itemsData.getIds(),this._onAdd(L),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},v.prototype.getItems=function(){return this.itemsData},v.prototype.setGroups=function(w){var L,M=this;if(this.groupsData&&(B.forEach(this.groupListeners,function(te,ie){M.groupsData.off(ie,te)}),L=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(L)),w){if(!(w instanceof U||w instanceof F))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=w}else this.groupsData=null;if(this.groupsData){var X=this.groupsData;this.groupsData instanceof F&&(X=this.groupsData.getDataSet()),X.get().forEach(function(te){te.nestedGroups&&te.nestedGroups.forEach(function(ie){var oe=X.get(ie);oe.nestedInGroup=te.id,0==te.showNested&&(oe.visible=!1),X.update(oe)})});var q=this.id;B.forEach(this.groupListeners,function(te,ie){M.groupsData.on(ie,te,q)}),L=this.groupsData.getIds(),this._onAddGroups(L)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},v.prototype.getGroups=function(){return this.groupsData},v.prototype.removeItem=function(w){var M=this.itemsData.get(w),L=this.itemsData.getDataSet();M&&this.options.onRemove(M,function(X){X&&L.remove(w)})},v.prototype._getType=function(w){return w.type||this.options.type||(w.end?"range":"box")},v.prototype._getGroupId=function(w){return"background"==this._getType(w)&&null==w.group?O:this.groupsData?w.group:y},v.prototype._onAdd=v.prototype._onUpdate=function(w){var M=this;w.forEach(function(L){var oe,X=M.itemsData.get(L,M.itemOptions),q=M.items[L],te=X?M._getType(X):null,ie=v.types[te];if(q&&(ie&&q instanceof ie?M._updateItem(q,X):(oe=q.selected,M._removeItem(q),q=null)),!q&&X){if(!ie)throw"rangeoverflow"==te?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+te+'"');(q=new ie(X,M.conversion,M.options)).id=L,M._addItem(q),oe&&(this.selection.push(L),q.select())}}.bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},v.prototype._onRemove=function(w){var M=0,L=this;w.forEach(function(X){var q=L.items[X];q&&(M++,L._removeItem(q))}),M&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},v.prototype._order=function(){B.forEach(this.groups,function(w){w.order()})},v.prototype._onUpdateGroups=function(w){this._onAddGroups(w)},v.prototype._onAddGroups=function(w){var M=this;w.forEach(function(L){var X=M.groupsData.get(L),q=M.groups[L];if(q)q.setData(X);else{if(L==y||L==O)throw new Error("Illegal group id. "+L+" is a reserved id.");var te=(0,R.default)(M.options);for(var ie in B.extend(te,{height:null}),q=new C(L,X,M),M.groups[L]=q,M.items)if(M.items.hasOwnProperty(ie)){var oe=M.items[ie];oe.data.group==L&&q.add(oe)}q.order(),q.show()}}),this.body.emitter.emit("_change",{queue:!0})},v.prototype._onRemoveGroups=function(w){var M=this.groups;w.forEach(function(L){var X=M[L];X&&(X.hide(),delete M[L])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},v.prototype._orderGroups=function(){if(this.groupsData){var w=this.groupsData.getIds({order:this.options.groupOrder});w=this._orderNestedGroups(w);var M=!B.equalArray(w,this.groupIds);if(M){var L=this.groups;w.forEach(function(X){L[X].hide()}),w.forEach(function(X){L[X].show()}),this.groupIds=w}return M}return!1},v.prototype._orderNestedGroups=function(w){var M=[];return w.forEach(function(L){var X=this.groupsData.get(L);if(X.nestedInGroup||M.push(L),X.nestedGroups){var te=this.groupsData.get({filter:function(oe){return oe.nestedInGroup==L},order:this.options.groupOrder}).map(function(ie){return ie.id});M=M.concat(te)}},this),M},v.prototype._addItem=function(w){this.items[w.id]=w;var M=this._getGroupId(w.data),L=this.groups[M];L?L&&L.data&&L.data.showNested&&(w.groupShowing=!0):w.groupShowing=!1,L&&L.add(w)},v.prototype._updateItem=function(w,M){w.setData(M);var L=this._getGroupId(w.data),X=this.groups[L];X?X&&X.data&&X.data.showNested&&(w.groupShowing=!0):w.groupShowing=!1},v.prototype._removeItem=function(w){w.hide(),delete this.items[w.id];var M=this.selection.indexOf(w.id);-1!=M&&this.selection.splice(M,1),w.parent&&w.parent.remove(w)},v.prototype._constructByEndArray=function(w){for(var M=[],L=0;L<w.length;L++)w[L]instanceof _&&M.push(w[L]);return M},v.prototype._onTouch=function(w){this.touchParams.item=this.itemFromTarget(w),this.touchParams.dragLeftItem=w.target.dragLeftItem||!1,this.touchParams.dragRightItem=w.target.dragRightItem||!1,this.touchParams.itemProps=null},v.prototype._getGroupIndex=function(w){for(var M=0;M<this.groupIds.length;M++)if(w==this.groupIds[M])return M},v.prototype._onDragStart=function(w){if(!this.touchParams.itemIsDragging){var X,M=this.touchParams.item||null,L=this;if(M&&(M.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||null!=M.editable&&!M.editable.updateTime&&!M.editable.updateGroup&&!this.options.editable.overrideItems)return;var q=this.touchParams.dragLeftItem,te=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=M,q)X={item:q,initialX:w.center.x,dragLeft:!0,data:this._cloneItemData(M.data)},this.touchParams.itemProps=[X];else if(te)X={item:te,initialX:w.center.x,dragRight:!0,data:this._cloneItemData(M.data)},this.touchParams.itemProps=[X];else if(this.options.editable.add&&(w.srcEvent.ctrlKey||w.srcEvent.metaKey))this._onDragStartAddItem(w);else{this.groupIds.length<1&&this.redraw();var ie=this._getGroupIndex(M.data.group),oe=this.options.itemsAlwaysDraggable.item&&!M.selected?[M.id]:this.getSelection();this.touchParams.itemProps=oe.map(function(fe){var Ce=L.items[fe],De=L._getGroupIndex(Ce.data.group);return{item:Ce,initialX:w.center.x,groupOffset:ie-De,data:this._cloneItemData(Ce.data)}}.bind(this))}w.stopPropagation()}else this.options.editable.add&&(w.srcEvent.ctrlKey||w.srcEvent.metaKey)&&this._onDragStartAddItem(w)}},v.prototype._onDragStartAddItem=function(w){var M,L,X=this.options.snap||null;this.options.rtl?L=(M=B.getAbsoluteRight(this.dom.frame))-w.center.x+10:(M=B.getAbsoluteLeft(this.dom.frame),L=w.center.x-M-10);var q=this.body.util.toTime(L),te=this.body.util.getScale(),ie=this.body.util.getStep(),oe=X?X(q,te,ie):q,Ce={type:"range",start:oe,end:oe,content:"new item"},De=B.randomUUID();Ce[this.itemsData._fieldId]=De;var Ae=this.groupFromTarget(w);Ae&&(Ce.group=Ae.groupId);var Ye=new _(Ce,this.conversion,this.options);Ye.id=De,Ye.data=this._cloneItemData(Ce),this._addItem(Ye),this.touchParams.selectedItem=Ye;var st={item:Ye,initialX:w.center.x,data:Ye.data};this.options.rtl?st.dragLeft=!0:st.dragRight=!0,this.touchParams.itemProps=[st],w.stopPropagation()},v.prototype._onDrag=function(w){if(this.touchParams.itemProps){w.stopPropagation();var X,M=this,L=this.options.snap||null;X=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var q=this.body.util.getScale(),te=this.body.util.getStep(),ie=this.touchParams.selectedItem,oe=(this.options.editable.overrideItems||null==ie.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=ie.editable&&ie.editable.updateGroup,fe=null;if(oe&&ie&&null!=ie.data.group){var Ce=M.groupFromTarget(w);Ce&&(fe=this._getGroupIndex(Ce.groupId))}this.touchParams.itemProps.forEach(function(De){var st,it,We,we,Oe,Ae=M.body.util.toTime(w.center.x-X),Ye=M.body.util.toTime(De.initialX-X);st=this.options.rtl?-(Ae-Ye):Ae-Ye;var Le=this._cloneItemData(De.item.data);if(null==De.item.editable||De.item.editable.updateTime||De.item.editable.updateGroup||M.options.editable.overrideItems){if((this.options.editable.overrideItems||null==ie.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=ie.editable&&ie.editable.updateTime)if(De.dragLeft)this.options.rtl?null!=Le.end&&(We=B.convert(De.data.end,"Date"),Oe=new Date(We.valueOf()+st),Le.end=L?L(Oe,q,te):Oe):null!=Le.start&&(it=B.convert(De.data.start,"Date"),we=new Date(it.valueOf()+st),Le.start=L?L(we,q,te):we);else if(De.dragRight)this.options.rtl?null!=Le.start&&(it=B.convert(De.data.start,"Date"),we=new Date(it.valueOf()+st),Le.start=L?L(we,q,te):we):null!=Le.end&&(We=B.convert(De.data.end,"Date"),Oe=new Date(We.valueOf()+st),Le.end=L?L(Oe,q,te):Oe);else if(null!=Le.start)if(it=B.convert(De.data.start,"Date").valueOf(),we=new Date(it+st),null!=Le.end){var pt=(We=B.convert(De.data.end,"Date")).valueOf()-it.valueOf();Le.start=L?L(we,q,te):we,Le.end=new Date(Le.start.valueOf()+pt)}else Le.start=L?L(we,q,te):we;if(oe&&!De.dragLeft&&!De.dragRight&&null!=fe&&null!=Le.group){var nt=fe-De.groupOffset;nt=Math.max(0,nt),nt=Math.min(M.groupIds.length-1,nt),Le.group=M.groupIds[nt]}Le=this._cloneItemData(Le),M.options.onMoving(Le,function(ut){ut&&De.item.setData(this._cloneItemData(ut,"Date"))}.bind(this))}}.bind(this)),this.body.emitter.emit("_change")}},v.prototype._moveToGroup=function(w,M){var L=this.groups[M];if(L&&L.groupId!=w.data.group){var X=w.parent;X.remove(w),X.order(),w.data.group=L.groupId,L.add(w),L.order()}},v.prototype._onDragEnd=function(w){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){w.stopPropagation();var M=this,L=this.itemsData.getDataSet(),X=this.touchParams.itemProps;this.touchParams.itemProps=null,X.forEach(function(q){var te=q.item.id;if(null!=M.itemsData.get(te,M.itemOptions)){var oe=this._cloneItemData(q.item.data);M.options.onMove(oe,function(fe){fe?(fe[L._fieldId]=te,L.update(fe)):(q.item.setData(q.data),M.body.emitter.emit("_change"))})}else M.options.onAdd(q.item.data,function(fe){M._removeItem(q.item),fe&&M.itemsData.getDataSet().add(fe),M.body.emitter.emit("_change")})}.bind(this))}},v.prototype._onGroupClick=function(w){var M=this.groupFromTarget(w);if(M&&M.nestedGroups){var L=this.groupsData.getDataSet(),X=L.get(M.groupId);null==X.showNested&&(X.showNested=!0),X.showNested=!X.showNested;var q=L.get(M.nestedGroups).map(function(ie){return ie.visible=X.showNested,ie});L.update(q.concat(X)),X.showNested?(B.removeClassName(M.dom.label,"collapsed"),B.addClassName(M.dom.label,"expanded")):(B.removeClassName(M.dom.label,"expanded"),B.addClassName(M.dom.label,this.options.rtl?"collapsed-rtl":"collapsed"))}},v.prototype._onGroupDragStart=function(w){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(w),this.groupTouchParams.group&&(w.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},v.prototype._onGroupDrag=function(w){if(this.options.groupEditable.order&&this.groupTouchParams.group){w.stopPropagation();var M=this.groupsData;this.groupsData instanceof F&&(M=this.groupsData.getDataSet());var L=this.groupFromTarget(w);if(L&&L.height!=this.groupTouchParams.group.height){var X=L.top<this.groupTouchParams.group.top,q=w.center?w.center.y:w.clientY,te=B.getAbsoluteTop(L.dom.foreground),ie=this.groupTouchParams.group.height;if(X){if(te+ie<q)return}else if(te+L.height-ie>q)return}if(L&&L!=this.groupTouchParams.group){var fe=M.get(L.groupId),Ce=M.get(this.groupTouchParams.group.groupId);Ce&&fe&&(this.options.groupOrderSwap(Ce,fe,M),M.update(Ce),M.update(fe));var De=M.getIds({order:this.options.groupOrder});if(!B.equalArray(De,this.groupTouchParams.originalOrder))for(var Ae=this.groupTouchParams.originalOrder,Ye=this.groupTouchParams.group.groupId,st=Math.min(Ae.length,De.length),it=0,We=0,we=0;it<st;){for(;it+We<st&&it+we<st&&De[it+We]==Ae[it+we];)it++;if(it+We>=st)break;if(De[it+We]==Ye)We=1;else if(Ae[it+we]==Ye)we=1;else{var Oe=De.indexOf(Ae[it+we]),Le=M.get(De[it+We]),Qe=M.get(Ae[it+we]);this.options.groupOrderSwap(Le,Qe,M),M.update(Le),M.update(Qe);var pt=De[it+We];De[it+We]=Ae[it+we],De[Oe]=pt,it++}}}}},v.prototype._onGroupDragEnd=function(w){if(this.options.groupEditable.order&&this.groupTouchParams.group){w.stopPropagation();var M=this,L=M.groupTouchParams.group.groupId,X=M.groupsData.getDataSet(),q=B.extend({},X.get(L));M.options.onMoveGroup(q,function(te){if(te)te[X._fieldId]=L,X.update(te);else{var ie=X.getIds({order:M.options.groupOrder});if(!B.equalArray(ie,M.groupTouchParams.originalOrder))for(var oe=M.groupTouchParams.originalOrder,fe=Math.min(oe.length,ie.length),Ce=0;Ce<fe;){for(;Ce<fe&&ie[Ce]==oe[Ce];)Ce++;if(Ce>=fe)break;var De=ie.indexOf(oe[Ce]),Ae=X.get(ie[Ce]),Ye=X.get(oe[Ce]);M.options.groupOrderSwap(Ae,Ye,X),X.update(Ae),X.update(Ye);var st=ie[Ce];ie[Ce]=oe[Ce],ie[De]=st,Ce++}}}),M.body.emitter.emit("groupDragged",{groupId:L})}},v.prototype._onSelectItem=function(w){if(this.options.selectable){if(w.srcEvent&&(w.srcEvent.ctrlKey||w.srcEvent.metaKey)||w.srcEvent&&w.srcEvent.shiftKey)return void this._onMultiSelectItem(w);var X=this.getSelection(),q=this.itemFromTarget(w);this.setSelection(q?[q.id]:[]);var ie=this.getSelection();(ie.length>0||X.length>0)&&this.body.emitter.emit("select",{items:ie,event:w})}},v.prototype._onMouseOver=function(w){var M=this.itemFromTarget(w);if(M&&M!==this.itemFromRelatedTarget(w)){var X=M.getTitle();if(this.options.showTooltips&&X){null==this.popup&&(this.popup=new p(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(X);var q=this.body.dom.centerContainer;this.popup.setPosition(w.clientX-B.getAbsoluteLeft(q)+q.offsetLeft,w.clientY-B.getAbsoluteTop(q)+q.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:M.id,event:w})}},v.prototype._onMouseOut=function(w){var M=this.itemFromTarget(w);M&&M!==this.itemFromRelatedTarget(w)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:M.id,event:w}))},v.prototype._onMouseMove=function(w){if(this.itemFromTarget(w)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var L=this.body.dom.centerContainer;this.popup.setPosition(w.clientX-B.getAbsoluteLeft(L)+L.offsetLeft,w.clientY-B.getAbsoluteTop(L)+L.offsetTop),this.popup.show()}},v.prototype._onMouseWheel=function(w){this.touchParams.itemIsDragging&&this._onDragEnd(w)},v.prototype._onUpdateItem=function(w){if(this.options.selectable&&this.options.editable.add){var M=this;if(w){var L=M.itemsData.get(w.id);this.options.onUpdate(L,function(X){X&&M.itemsData.getDataSet().update(X)})}}},v.prototype._onDropObjectOnItem=function(w){var M=this.itemFromTarget(w),L=JSON.parse(w.dataTransfer.getData("text"));this.options.onDropObjectOnItem(L,M)},v.prototype._onAddItem=function(w){if(this.options.selectable&&this.options.editable.add){var X,q,M=this,L=this.options.snap||null;this.options.rtl?q=(X=B.getAbsoluteRight(this.dom.frame))-w.center.x:(X=B.getAbsoluteLeft(this.dom.frame),q=w.center.x-X);var fe,Ce,te=this.body.util.toTime(q),ie=this.body.util.getScale(),oe=this.body.util.getStep();"drop"==w.type?((Ce=JSON.parse(w.dataTransfer.getData("text"))).content=Ce.content?Ce.content:"new item",Ce.start=Ce.start?Ce.start:L?L(te,ie,oe):te,Ce.type=Ce.type||"box",Ce[this.itemsData._fieldId]=Ce.id||B.randomUUID(),"range"==Ce.type&&!Ce.end&&(fe=this.body.util.toTime(q+this.props.width/5),Ce.end=L?L(fe,ie,oe):fe)):((Ce={start:L?L(te,ie,oe):te,content:"new item"})[this.itemsData._fieldId]=B.randomUUID(),"range"===this.options.type&&(fe=this.body.util.toTime(q+this.props.width/5),Ce.end=L?L(fe,ie,oe):fe));var De=this.groupFromTarget(w);De&&(Ce.group=De.groupId),Ce=this._cloneItemData(Ce),this.options.onAdd(Ce,function(Ae){Ae&&(M.itemsData.getDataSet().add(Ae),"drop"==w.type&&M.setSelection([Ae.id]))})}},v.prototype._onMultiSelectItem=function(w){if(this.options.selectable){var M=this.itemFromTarget(w);if(M){var L=this.options.multiselect?this.getSelection():[];if(w.srcEvent&&w.srcEvent.shiftKey&&this.options.multiselect){var q=this.itemsData.get(M.id).group,te=void 0;this.options.multiselectPerGroup&&L.length>0&&(te=this.itemsData.get(L[0]).group),(!this.options.multiselectPerGroup||null==te||te==q)&&L.push(M.id);var ie=v._getItemRange(this.itemsData.get(L,this.itemOptions));if(!this.options.multiselectPerGroup||te==q)for(var oe in L=[],this.items)if(this.items.hasOwnProperty(oe)){var fe=this.items[oe],Ce=fe.data.start;Ce>=ie.min&&(void 0!==fe.data.end?fe.data.end:Ce)<=ie.max&&(!this.options.multiselectPerGroup||te==this.itemsData.get(fe.id).group)&&!(fe instanceof g)&&L.push(fe.id)}}else{var Ae=L.indexOf(M.id);-1==Ae?L.push(M.id):L.splice(Ae,1)}this.setSelection(L),this.body.emitter.emit("select",{items:this.getSelection(),event:w})}}},v._getItemRange=function(w){var M=null,L=null;return w.forEach(function(X){(null==L||X.start<L)&&(L=X.start),null!=X.end?(null==M||X.end>M)&&(M=X.end):(null==M||X.start>M)&&(M=X.start)}),{min:L,max:M}},v.prototype.itemFromElement=function(w){for(var M=w;M;){if(M.hasOwnProperty("timeline-item"))return M["timeline-item"];M=M.parentNode}return null},v.prototype.itemFromTarget=function(w){return this.itemFromElement(w.target)},v.prototype.itemFromRelatedTarget=function(w){return this.itemFromElement(w.relatedTarget)},v.prototype.groupFromTarget=function(w){var M=w.center?w.center.y:w.clientY,L=this.groupIds;L.length<=0&&this.groupsData&&(L=this.groupsData.getIds({order:this.options.groupOrder}));for(var X=0;X<L.length;X++){var te=this.groups[L[X]],ie=te.dom.foreground,oe=B.getAbsoluteTop(ie);if(M>oe&&M<oe+ie.offsetHeight)return te;if("top"===this.options.orientation.item){if(X===this.groupIds.length-1&&M>oe)return te}else if(0===X&&M<oe+ie.offset)return te}return null},v.itemSetFromTarget=function(w){for(var M=w.target;M;){if(M.hasOwnProperty("timeline-itemset"))return M["timeline-itemset"];M=M.parentNode}return null},v.prototype._cloneItemData=function(w,M){var L=B.extend({},w);return M||(M=this.itemsData.getDataSet()._options.type),null!=L.start&&(L.start=B.convert(L.start,M&&M.start||"Date")),null!=L.end&&(L.end=B.convert(L.end,M&&M.end||"Date")),L},ge.exports=v},function(ge,ee,P){var W=.001;ee.orderByStart=function(R){R.sort(function(V,H){return V.data.start-H.data.start})},ee.orderByEnd=function(R){R.sort(function(V,H){return("end"in V.data?V.data.end:V.data.start)-("end"in H.data?H.data.end:H.data.start)})},ee.stack=function(R,V,H){if(H)for(var $=0;$<R.length;$++)R[$].top=null;for($=0;$<R.length;$++){var Y=R[$];if(Y.stack&&null===Y.top){Y.top=V.axis;do{for(var B=null,U=0,F=R.length;U<F;U++){var T=R[U];if(null!==T.top&&T!==Y&&T.stack&&ee.collision(Y,T,V.item,T.options.rtl)){B=T;break}}null!=B&&(Y.top=B.top+B.height+V.item.vertical)}while(B)}}},ee.substack=function(R,V,H){for(var $=0;$<R.length;$++)R[$].top=null;var Y=H.height;for($=0;$<R.length;$++){var B=R[$];if(B.stack&&null===B.top){B.top=B.baseTop;do{for(var U=null,F=0,T=R.length;F<T;F++){var D=R[F];if(null!==D.top&&D!==B&&ee.collision(B,D,V.item,D.options.rtl)){U=D;break}}null!=U&&(B.top=U.top+U.height+V.item.vertical),B.top+B.height>Y&&(Y=B.top+B.height)}while(U)}}H.height=Y-H.top+.5*V.item.vertical},ee.nostack=function(R,V,H,$){for(var Y=0;Y<R.length;Y++)if(null==R[Y].data.subgroup)R[Y].top=V.item.vertical;else if(void 0!==R[Y].data.subgroup&&$){var B=0;for(var U in H)H.hasOwnProperty(U)&&1==H[U].visible&&H[U].index<H[R[Y].data.subgroup].index&&(H[R[Y].data.subgroup].top=B+=H[U].height);R[Y].top=B+.5*V.item.vertical}$||ee.stackSubgroups(R,V,H)},ee.stackSubgroups=function(R,V,H){for(var $ in H)if(H.hasOwnProperty($)){H[$].top=0;do{var Y=null;for(var B in H)if(null!==H[B].top&&B!==$&&H[$].index>H[B].index&&ee.collisionByTimes(H[$],H[B])){Y=H[B];break}null!=Y&&(H[$].top=Y.top+Y.height)}while(Y)}for(var U=0;U<R.length;U++)void 0!==R[U].data.subgroup&&(R[U].top=H[R[U].data.subgroup].top+.5*V.item.vertical)},ee.stackSubgroupsWithInnerStack=function(R,V,H){var $=!1,Y=[];for(var B in H)H[B].hasOwnProperty("index")?Y[H[B].index]=B:Y.push(B);for(var U=0;U<Y.length;U++)if(H.hasOwnProperty(B=Y[U])){for(var F in $=$||H[B].stack,H[B].top=0,H)H[F].visible&&H[B].index>H[F].index&&(H[B].top+=H[F].height);for(var T=R[B],D=0;D<T.length;D++)void 0!==T[D].data.subgroup&&(T[D].top=H[T[D].data.subgroup].top+.5*V.item.vertical,H[B].stack&&(T[D].baseTop=T[D].top));$&&H[B].stack&&ee.substack(R[B],V,H[B])}},ee.collision=function(R,V,H,$){return $?R.right-H.horizontal+W<V.right+V.width&&R.right+R.width+H.horizontal-W>V.right&&R.top-H.vertical+W<V.top+V.height&&R.top+R.height+H.vertical-W>V.top:R.left-H.horizontal+W<V.left+V.width&&R.left+R.width+H.horizontal-W>V.left&&R.top-H.vertical+W<V.top+V.height&&R.top+R.height+H.vertical-W>V.top},ee.collisionByTimes=function(R,V){return R.start<=V.start&&R.end>=V.start&&R.top<V.top+V.height&&R.top+R.height>V.top||V.start<=R.start&&V.end>=R.start&&V.top<R.top+R.height&&V.top+V.height>R.top}},function(ge,ee,P){var W=P(38);function R(V,H,$){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=$,V&&null==V.start)throw new Error('Property "start" missing in item '+V);W.call(this,V,H,$)}(R.prototype=new W(null,null,null)).isVisible=function(V){var $=this.options.align,Y=this.width*V.getMillisecondsPerPixel();return"right"==$?this.data.start.getTime()>V.start&&this.data.start.getTime()-Y<V.end:"left"==$?this.data.start.getTime()+Y>V.start&&this.data.start.getTime()<V.end:this.data.start.getTime()+Y/2>V.start&&this.data.start.getTime()-Y/2<V.end},R.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},R.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var V=this.parent.dom.foreground;if(!V)throw new Error("Cannot redraw item: parent has no foreground container element");V.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var H=this.parent.dom.background;if(!H)throw new Error("Cannot redraw item: parent has no background container element");H.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var $=this.parent.dom.axis;if(!H)throw new Error("Cannot redraw item: parent has no axis container element");$.appendChild(this.dom.dot)}this.displayed=!0},R.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var H=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+H,this.dom.line.className="vis-item vis-line"+H,this.dom.dot.className="vis-item vis-dot"+H}},R.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},R.prototype._updateDomComponentsSizes=function(V){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=V.dot.height,this.props.dot.width=V.dot.width,this.props.line.width=V.line.width,this.width=V.box.width,this.height=V.box.height,this.options.rtl?this.dom.box.style.right=V.previous.right:this.dom.box.style.left=V.previous.left,this.dirty=!1},R.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},R.prototype.redraw=function(V){var H,Y,$=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(H=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(H)}.bind(this),this._repaintDomAdditionals.bind(this)];return V?$:($.forEach(function(B){Y=B()}),Y)},R.prototype.show=function(){this.displayed||this.redraw()},R.prototype.hide=function(){if(this.displayed){var V=this.dom;V.box.parentNode&&V.box.parentNode.removeChild(V.box),V.line.parentNode&&V.line.parentNode.removeChild(V.line),V.dot.parentNode&&V.dot.parentNode.removeChild(V.dot),this.displayed=!1}},R.prototype.repositionX=function(){var V=this.conversion.toScreen(this.data.start),H=this.options.align;"right"==H?this.options.rtl?(this.right=V-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=V-this.props.line.width+"px",this.dom.dot.style.right=V-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=V-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=V-this.props.line.width+"px",this.dom.dot.style.left=V-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==H?this.options.rtl?(this.right=V,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=V+"px",this.dom.dot.style.right=V+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=V,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=V+"px",this.dom.dot.style.left=V+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=V-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=V-this.props.line.width+"px",this.dom.dot.style.right=V-this.props.dot.width/2+"px"):(this.left=V-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=V-this.props.line.width/2+"px",this.dom.dot.style.left=V-this.props.dot.width/2+"px")},R.prototype.repositionY=function(){var H=this.dom.box,$=this.dom.line,Y=this.dom.dot;if("top"==this.options.orientation.item)H.style.top=(this.top||0)+"px",$.style.top="0",$.style.height=this.parent.top+this.top+1+"px",$.style.bottom="";else{var B=this.parent.itemSet.props.height,U=B-this.parent.top-this.parent.height+this.top;H.style.top=(this.parent.height-this.top-this.height||0)+"px",$.style.top=B-U+"px",$.style.bottom="0"}Y.style.top=-this.props.dot.height/2+"px"},R.prototype.getWidthLeft=function(){return this.width/2},R.prototype.getWidthRight=function(){return this.width/2},ge.exports=R},function(ge,ee,P){var W=P(38);function R(V,H,$){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=$,V&&null==V.start)throw new Error('Property "start" missing in item '+V);W.call(this,V,H,$)}(R.prototype=new W(null,null,null)).isVisible=function(V){var H=this.width*V.getMillisecondsPerPixel();return this.data.start.getTime()+H>V.start&&this.data.start<V.end},R.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},R.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var V=this.parent.dom.foreground;if(!V)throw new Error("Cannot redraw item: parent has no foreground container element");V.appendChild(this.dom.point)}this.displayed=!0},R.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var H=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+H,this.dom.dot.className="vis-item vis-dot"+H}},R.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},R.prototype._updateDomComponentsSizes=function(V){this.props.dot.width=V.dot.width,this.props.dot.height=V.dot.height,this.props.content.height=V.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=V.point.width,this.height=V.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},R.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},R.prototype.redraw=function(V){var H,Y,$=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(H=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(H)}.bind(this),this._repaintDomAdditionals.bind(this)];return V?$:($.forEach(function(B){Y=B()}),Y)},R.prototype.show=function(){this.displayed||this.redraw()},R.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},R.prototype.repositionX=function(){var V=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=V-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=V-this.props.dot.width,this.dom.point.style.left=this.left+"px")},R.prototype.repositionY=function(){this.dom.point.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},R.prototype.getWidthLeft=function(){return this.props.dot.width},R.prototype.getWidthRight=function(){return this.props.dot.width},ge.exports=R},function(ge,ee,P){var W=P(38),R=P(69),V=P(70);function H($,Y,B){if(this.props={content:{width:0}},this.overflow=!1,$){if(null==$.start)throw new Error('Property "start" missing in item '+$.id);if(null==$.end)throw new Error('Property "end" missing in item '+$.id)}W.call(this,$,Y,B)}(H.prototype=new W(null,null,null)).baseClassName="vis-item vis-background",H.prototype.stack=!1,H.prototype.isVisible=function($){return this.data.start<$.end&&this.data.end>$.start},H.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},H.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var $=this.parent.dom.background;if(!$)throw new Error("Cannot redraw item: parent has no background container element");$.appendChild(this.dom.box)}this.displayed=!0},H.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":""))},H.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},H.prototype._updateDomComponentsSizes=function($){this.props.content.width=$.content.width,this.height=0,this.dirty=!1},H.prototype._repaintDomAdditionals=function(){},H.prototype.redraw=function($){var Y,U,B=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(Y=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(Y)}.bind(this),this._repaintDomAdditionals.bind(this)];return $?B:(B.forEach(function(F){U=F()}),U)},H.prototype.show=V.prototype.show,H.prototype.hide=V.prototype.hide,H.prototype.repositionX=V.prototype.repositionX,H.prototype.repositionY=function($){var Y,B=this.options.orientation.item;if(void 0!==this.data.subgroup){var U=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[U].height+"px",this.dom.box.style.top="top"==B?this.parent.top+this.parent.subgroups[U].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[U].top-this.parent.subgroups[U].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof R?(Y=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==B?"0":"",this.dom.box.style.top="top"==B?"0":""):(Y=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=Y+"px"},ge.exports=H},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(B){return B&&B.__esModule?B:{default:B}}var Y=function(){function B(U,F){(0,R.default)(this,B),this.container=U,this.overflowMethod=F||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,H.default)(B,[{key:"setPosition",value:function(F,T){this.x=parseInt(F),this.y=parseInt(T)}},{key:"setText",value:function(F){F instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(F)):this.frame.innerHTML=F}},{key:"show",value:function(F){if(void 0===F&&(F=!0),!0===F){var T=this.frame.clientHeight,D=this.frame.clientWidth,C=this.frame.parentNode.clientHeight,E=this.frame.parentNode.clientWidth,I=0,f=0;if("flip"==this.overflowMethod){var _=!1,g=!0;this.y-T<this.padding&&(g=!1),this.x+D>E-this.padding&&(_=!0),I=_?this.x-D:this.x,f=g?this.y-T:this.y}else(f=this.y-T)+T+this.padding>C&&(f=C-T-this.padding),f<this.padding&&(f=this.padding),(I=this.x)+D+this.padding>E&&(I=E-D-this.padding),I<this.padding&&(I=this.padding);this.frame.style.left=I+"px",this.frame.style.top=f+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),B}();ee.default=Y},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var W="string",R="boolean",V="number",H="array",$="date",Y="object",U="moment";ee.allOptions={configure:{enabled:{boolean:R},filter:{boolean:R,function:"function"},container:{dom:"dom"},__type__:{object:Y,boolean:R,function:"function"}},align:{string:W},rtl:{boolean:R,undefined:"undefined"},rollingMode:{follow:{boolean:R},offset:{number:V,undefined:"undefined"},__type__:{object:Y}},verticalScroll:{boolean:R,undefined:"undefined"},horizontalScroll:{boolean:R,undefined:"undefined"},autoResize:{boolean:R},throttleRedraw:{number:V},clickToUse:{boolean:R},dataAttributes:{string:W,array:H},editable:{add:{boolean:R,undefined:"undefined"},remove:{boolean:R,undefined:"undefined"},updateGroup:{boolean:R,undefined:"undefined"},updateTime:{boolean:R,undefined:"undefined"},overrideItems:{boolean:R,undefined:"undefined"},__type__:{boolean:R,object:Y}},end:{number:V,date:$,string:W,moment:U},format:{minorLabels:{millisecond:{string:W,undefined:"undefined"},second:{string:W,undefined:"undefined"},minute:{string:W,undefined:"undefined"},hour:{string:W,undefined:"undefined"},weekday:{string:W,undefined:"undefined"},day:{string:W,undefined:"undefined"},week:{string:W,undefined:"undefined"},month:{string:W,undefined:"undefined"},year:{string:W,undefined:"undefined"},__type__:{object:Y,function:"function"}},majorLabels:{millisecond:{string:W,undefined:"undefined"},second:{string:W,undefined:"undefined"},minute:{string:W,undefined:"undefined"},hour:{string:W,undefined:"undefined"},weekday:{string:W,undefined:"undefined"},day:{string:W,undefined:"undefined"},week:{string:W,undefined:"undefined"},month:{string:W,undefined:"undefined"},year:{string:W,undefined:"undefined"},__type__:{object:Y,function:"function"}},__type__:{object:Y}},moment:{function:"function"},groupOrder:{string:W,function:"function"},groupEditable:{add:{boolean:R,undefined:"undefined"},remove:{boolean:R,undefined:"undefined"},order:{boolean:R,undefined:"undefined"},__type__:{boolean:R,object:Y}},groupOrderSwap:{function:"function"},height:{string:W,number:V},hiddenDates:{start:{date:$,number:V,string:W,moment:U},end:{date:$,number:V,string:W,moment:U},repeat:{string:W},__type__:{object:Y,array:H}},itemsAlwaysDraggable:{item:{boolean:R,undefined:"undefined"},range:{boolean:R,undefined:"undefined"},__type__:{boolean:R,object:Y}},limitSize:{boolean:R},locale:{string:W},locales:{__any__:{any:"any"},__type__:{object:Y}},margin:{axis:{number:V},item:{horizontal:{number:V,undefined:"undefined"},vertical:{number:V,undefined:"undefined"},__type__:{object:Y,number:V}},__type__:{object:Y,number:V}},max:{date:$,number:V,string:W,moment:U},maxHeight:{number:V,string:W},maxMinorChars:{number:V},min:{date:$,number:V,string:W,moment:U},minHeight:{number:V,string:W},moveable:{boolean:R},multiselect:{boolean:R},multiselectPerGroup:{boolean:R},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:W,undefined:"undefined"},item:{string:W,undefined:"undefined"},__type__:{string:W,object:Y}},selectable:{boolean:R},showCurrentTime:{boolean:R},showMajorLabels:{boolean:R},showMinorLabels:{boolean:R},stack:{boolean:R},stackSubgroups:{boolean:R},snap:{function:"function",null:"null"},start:{date:$,number:V,string:W,moment:U},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:W,function:"function"},showTooltips:{boolean:R},tooltip:{followMouse:{boolean:R},overflowMethod:{string:["cap","flip"]},__type__:{object:Y}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:R,object:Y}},timeAxis:{scale:{string:W,undefined:"undefined"},step:{number:V,undefined:"undefined"},__type__:{object:Y}},type:{string:W},width:{string:W,number:V},zoomable:{boolean:R},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:V},zoomMin:{number:V},__type__:{object:Y}},ee.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(ge,ee,P){var R=function V(g){return g&&g.__esModule?g:{default:g}}(P(6));var H=P(2),$=P(14),Y=P(11),B=P(12),U=P(16),F=P(107),T=P(109),D=P(112),C=P(110),E=P(111),I=P(72),f="__ungrouped__";function _(g,p){this.id=H.randomUUID(),this.body=g,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=H.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var y=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(v,w,M){y._onAdd(w.items)},update:function(v,w,M){y._onUpdate(w.items)},remove:function(v,w,M){y._onRemove(w.items)}},this.groupListeners={add:function(v,w,M){y._onAddGroups(w.items)},update:function(v,w,M){y._onUpdateGroups(w.items)},remove:function(v,w,M){y._onRemoveGroups(w.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(p),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){y.lastStart=y.body.range.start,y.svg.style.left=H.option.asSize(-y.props.width),y.forceGraphUpdate=!0,y.redraw.call(y)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}(_.prototype=new U)._create=function(){var g=document.createElement("div");g.className="vis-line-graph",this.dom.frame=g,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",g.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new F(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new F(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new D(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new D(this.body,this.options.legend,"right",this.options.groups),this.show()},_.prototype.setOptions=function(g){if(g){void 0===g.graphHeight&&void 0!==g.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==g.graphHeight&&parseInt((g.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),H.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,g),H.mergeOptions(this.options,g,"interpolation"),H.mergeOptions(this.options,g,"drawPoints"),H.mergeOptions(this.options,g,"shaded"),H.mergeOptions(this.options,g,"legend"),g.interpolation&&"object"==(0,R.default)(g.interpolation)&&g.interpolation.parametrization&&("uniform"==g.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==g.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==g.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==g.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(f)&&this.groups[f].setOptions(g)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},_.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},_.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},_.prototype.setItems=function(g){var y,p=this,O=this.itemsData;if(g){if(!(g instanceof Y||g instanceof B))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=g}else this.itemsData=null;if(O&&(H.forEach(this.itemListeners,function(w,M){O.off(M,w)}),y=O.getIds(),this._onRemove(y)),this.itemsData){var v=this.id;H.forEach(this.itemListeners,function(w,M){p.itemsData.on(M,w,v)}),y=this.itemsData.getIds(),this._onAdd(y)}},_.prototype.setGroups=function(g){var y,p=this;if(this.groupsData){H.forEach(this.groupListeners,function(w,M){p.groupsData.off(M,w)}),y=this.groupsData.getIds(),this.groupsData=null;for(var O=0;O<y.length;O++)this._removeGroup(y[O])}if(g){if(!(g instanceof Y||g instanceof B))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=g}else this.groupsData=null;if(this.groupsData){var v=this.id;H.forEach(this.groupListeners,function(w,M){p.groupsData.on(M,w,v)}),y=this.groupsData.getIds(),this._onAddGroups(y)}},_.prototype._onUpdate=function(g){this._updateAllGroupData(g)},_.prototype._onAdd=function(g){this._onUpdate(g)},_.prototype._onRemove=function(g){this._onUpdate(g)},_.prototype._onUpdateGroups=function(g){this._updateAllGroupData(null,g)},_.prototype._onAddGroups=function(g){this._onUpdateGroups(g)},_.prototype._onRemoveGroups=function(g){for(var p=0;p<g.length;p++)this._removeGroup(g[p]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},_.prototype._removeGroup=function(g){this.groups.hasOwnProperty(g)&&("right"==this.groups[g].options.yAxisOrientation?(this.yAxisRight.removeGroup(g),this.legendRight.removeGroup(g),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(g),this.legendLeft.removeGroup(g),this.legendLeft.redraw()),delete this.groups[g])},_.prototype._updateGroup=function(g,p){this.groups.hasOwnProperty(p)?(this.groups[p].update(g),"right"==this.groups[p].options.yAxisOrientation?(this.yAxisRight.updateGroup(p,this.groups[p]),this.legendRight.updateGroup(p,this.groups[p]),this.yAxisLeft.removeGroup(p),this.legendLeft.removeGroup(p)):(this.yAxisLeft.updateGroup(p,this.groups[p]),this.legendLeft.updateGroup(p,this.groups[p]),this.yAxisRight.removeGroup(p),this.legendRight.removeGroup(p))):(this.groups[p]=new T(g,p,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[p].options.yAxisOrientation?(this.yAxisRight.addGroup(p,this.groups[p]),this.legendRight.addGroup(p,this.groups[p])):(this.yAxisLeft.addGroup(p,this.groups[p]),this.legendLeft.addGroup(p,this.groups[p]))),this.legendLeft.redraw(),this.legendRight.redraw()},_.prototype._updateAllGroupData=function(g,p){if(null!=this.itemsData){var y={},O=this.itemsData.get(),v=this.itemsData._fieldId,w={};g&&g.map(function(Ae){w[Ae]=Ae});for(var M={},L=0;L<O.length;L++){var X=O[L],q=X.group;null==q&&(q=f),M.hasOwnProperty(q)?M[q]++:M[q]=1}var te={};if(!p&&g)for(q in this.groups)if(this.groups.hasOwnProperty(q)){var ie=(De=this.groups[q]).getItems();y[q]=ie.filter(function(Ae){return te[Ae[v]]=Ae[v],Ae[v]!==w[Ae[v]]});var oe=M[q];M[q]-=y[q].length,y[q].length<oe&&(y[q][oe-1]={})}for(L=0;L<O.length;L++)if(null==(q=(X=O[L]).group)&&(q=f),p||!g||X[v]===w[X[v]]||!te.hasOwnProperty(X[v])){y.hasOwnProperty(q)||(y[q]=new Array(M[q]));var fe=H.bridgeObject(X);fe.x=H.convert(X.x,"Date"),fe.end=H.convert(X.end,"Date"),fe.orginalY=X.y,fe.y=Number(X.y),fe[v]=X[v];var Ce=y[q].length-M[q]--;y[q][Ce]=fe}for(q in this.groups)this.groups.hasOwnProperty(q)&&(y.hasOwnProperty(q)||(y[q]=new Array(0)));for(q in y)if(y.hasOwnProperty(q))if(0==y[q].length)this.groups.hasOwnProperty(q)&&this._removeGroup(q);else{var De=void 0;null!=this.groupsData&&(De=this.groupsData.get(q)),null==De&&(De={id:q,content:this.options.defaultGroup+q}),this._updateGroup(De,q),this.groups[q].setItems(y[q])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},_.prototype.redraw=function(){var g=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,g=this._isResized()||g;var p=this.body.range.end-this.body.range.start,y=p!=this.lastVisibleInterval;return this.lastVisibleInterval=p,1==g&&(this.svg.style.width=H.option.asSize(3*this.props.width),this.svg.style.left=H.option.asSize(-this.props.width),(-1!=(this.options.height+"").indexOf("%")||1==this.updateSVGheightOnResize)&&(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==g||1==y||1==this.abortedGraphUpdate||1==this.forceGraphUpdate?(g=this._updateGraph()||g,this.forceGraphUpdate=!1):0!=this.lastStart&&0!=this.props.width&&(this.svg.style.left=-this.props.width-this.props.width/(this.body.range.end-this.body.range.start)*(this.body.range.start-this.lastStart)+"px"),this.legendLeft.redraw(),this.legendRight.redraw(),g},_.prototype._getSortedGroupIds=function(){var g=[];for(var p in this.groups)if(this.groups.hasOwnProperty(p)){var y=this.groups[p];1==y.visible&&(void 0===this.options.groups.visibility[p]||1==this.options.groups.visibility[p])&&g.push({id:p,zIndex:y.options.zIndex})}H.insertSort(g,function(w,M){var L=w.zIndex,X=M.zIndex;return void 0===L&&(L=0),void 0===X&&(X=0),L==X?0:L<X?-1:1});for(var O=new Array(g.length),v=0;v<g.length;v++)O[v]=g[v].id;return O},_.prototype._updateGraph=function(){if($.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var g,p,y={},v=this.body.util.toGlobalTime(-this.body.domProps.root.width),w=this.body.util.toGlobalTime(2*this.body.domProps.root.width),M=this._getSortedGroupIds();if(M.length>0){var L={};for(this._getRelevantData(M,L,v,w),this._applySampling(M,L),p=0;p<M.length;p++)this._convertXcoordinates(L[M[p]]);if(this._getYRanges(M,L,y),1==this._updateYAxis(M,y))return $.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var X=void 0;for(p=0;p<M.length;p++)g=this.groups[M[p]],!0===this.options.stack&&"line"===this.options.style&&(null==g.options.excludeFromStacking||!g.options.excludeFromStacking)&&(null!=X&&(this._stack(L[g.id],L[X.id]),1==g.options.shaded.enabled&&"group"!==g.options.shaded.orientation&&("top"==g.options.shaded.orientation&&"group"!==X.options.shaded.orientation?(X.options.shaded.orientation="group",X.options.shaded.groupId=g.id):(g.options.shaded.orientation="group",g.options.shaded.groupId=X.id))),X=g),this._convertYcoordinates(L[M[p]],g);var q={};for(p=0;p<M.length;p++)if("line"===(g=this.groups[M[p]]).options.style&&1==g.options.shaded.enabled){var te=L[M[p]];if(null==te||0==te.length)continue;if(q.hasOwnProperty(M[p])||(q[M[p]]=E.calcPath(te,g)),"group"===g.options.shaded.orientation){var ie=g.options.shaded.groupId;if(-1===M.indexOf(ie)){console.log(g.id+": Unknown shading group target given:"+ie);continue}q.hasOwnProperty(ie)||(q[ie]=E.calcPath(L[ie],this.groups[ie])),E.drawShading(q[M[p]],g,q[ie],this.framework)}else E.drawShading(q[M[p]],g,void 0,this.framework)}for(C.draw(M,L,this.framework),p=0;p<M.length;p++)if(g=this.groups[M[p]],L[M[p]].length>0)switch(g.options.style){case"line":q.hasOwnProperty(M[p])||(q[M[p]]=E.calcPath(L[M[p]],g)),E.draw(q[M[p]],g,this.framework);case"point":case"points":("point"==g.options.style||"points"==g.options.style||1==g.options.drawPoints.enabled)&&I.draw(L[M[p]],g,this.framework)}}}return $.cleanupElements(this.svgElements),!1},_.prototype._stack=function(g,p){var y,O,w,M;y=0;for(var L=0;L<g.length;L++){w=void 0,M=void 0;for(var X=y;X<p.length;X++){if(p[X].x===g[L].x){w=p[X],M=p[X],y=X;break}if(p[X].x>g[L].x){M=p[X],w=0==X?M:p[X-1],y=X;break}}void 0===M&&(w=p[p.length-1],M=p[p.length-1]),g[L].y=0==(O=M.x-w.x)?g[L].orginalY+M.y:g[L].orginalY+(M.y-w.y)/O*(g[L].x-w.x)+w.y}},_.prototype._getRelevantData=function(g,p,y,O){var v,w,M;if(g.length>0)for(w=0;w<g.length;w++){var X=(v=this.groups[g[w]]).getItems();if(1==v.options.sort){var q=function(Ce,De){return Ce.getTime()==De.getTime()?0:Ce<De?-1:1},te=Math.max(0,H.binarySearchValue(X,y,"x","before",q)),ie=Math.min(X.length,H.binarySearchValue(X,O,"x","after",q)+1);ie<=0&&(ie=X.length);var oe=new Array(ie-te);for(M=te;M<ie;M++)oe[M-te]=v.itemsData[M];p[g[w]]=oe}else p[g[w]]=v.itemsData}},_.prototype._applySampling=function(g,p){if(g.length>0)for(var O=0;O<g.length;O++)if(1==this.groups[g[O]].options.sampling){var v=p[g[O]];if(v.length>0){var w,M=v.length,X=M/(this.body.util.toGlobalScreen(v[v.length-1].x)-this.body.util.toGlobalScreen(v[0].x));w=Math.min(Math.ceil(.2*M),Math.max(1,Math.round(X)));for(var q=new Array(M),te=0;te<M;te+=w)q[Math.round(te/w)]=v[te];p[g[O]]=q.splice(0,Math.round(M/w))}}},_.prototype._getYRanges=function(g,p,y){var O,v,w,X,M=[],L=[];if(g.length>0){for(w=0;w<g.length;w++)X=this.groups[g[w]].options,(O=p[g[w]]).length>0&&(v=this.groups[g[w]],!0===X.stack&&"bar"===X.style?"left"===X.yAxisOrientation?M=M.concat(O):L=L.concat(O):y[g[w]]=v.getYRange(O,g[w]));C.getStackedYRange(M,y,g,"__barStackLeft","left"),C.getStackedYRange(L,y,g,"__barStackRight","right")}},_.prototype._updateYAxis=function(g,p){var q,te,y=!1,O=!1,v=!1,w=1e9,M=1e9,L=-1e9,X=-1e9;if(g.length>0){for(var ie=0;ie<g.length;ie++){var oe=this.groups[g[ie]];oe&&"right"!=oe.options.yAxisOrientation?(O=!0,w=1e9,L=-1e9):oe&&oe.options.yAxisOrientation&&(v=!0,M=1e9,X=-1e9)}for(ie=0;ie<g.length;ie++)p.hasOwnProperty(g[ie])&&!0!==p[g[ie]].ignore&&(q=p[g[ie]].min,te=p[g[ie]].max,"right"!=p[g[ie]].yAxisOrientation?(O=!0,w=w>q?q:w,L=L<te?te:L):(v=!0,M=M>q?q:M,X=X<te?te:X));1==O&&this.yAxisLeft.setRange(w,L),1==v&&this.yAxisRight.setRange(M,X)}y=this._toggleAxisVisiblity(O,this.yAxisLeft)||y,y=this._toggleAxisVisiblity(v,this.yAxisRight)||y,1==v&&1==O?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!O,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==v?this.yAxisRight.width:0,y=this.yAxisLeft.redraw()||y,y=this.yAxisRight.redraw()||y):y=this.yAxisRight.redraw()||y;var fe=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(ie=0;ie<fe.length;ie++)-1!=g.indexOf(fe[ie])&&g.splice(g.indexOf(fe[ie]),1);return y},_.prototype._toggleAxisVisiblity=function(g,p){var y=!1;return 0==g?p.dom.frame.parentNode&&0==p.hidden&&(p.hide(),y=!0):!p.dom.frame.parentNode&&1==p.hidden&&(p.show(),y=!0),y},_.prototype._convertXcoordinates=function(g){for(var p=this.body.util.toScreen,y=0;y<g.length;y++)g[y].screen_x=p(g[y].x)+this.props.width,g[y].screen_y=g[y].y,g[y].screen_end=null!=g[y].end?p(g[y].end)+this.props.width:void 0},_.prototype._convertYcoordinates=function(g,p){var y=this.yAxisLeft,O=Number(this.svg.style.height.replace("px",""));"right"==p.options.yAxisOrientation&&(y=this.yAxisRight);for(var v=0;v<g.length;v++)g[v].screen_y=Math.round(y.convertValue(g[v].y));p.setZeroPosition(Math.min(O,y.convertValue(0)))},ge.exports=_},function(ge,ee,P){var R=function V(F){return F&&F.__esModule?F:{default:F}}(P(8));var H=P(2),$=P(14),Y=P(16),B=P(108);function U(F,T,D,C){this.id=H.randomUUID(),this.body=F,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(f){return""+parseFloat(f.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(f){return""+parseFloat(f.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=C,this.linegraphSVG=D,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=H.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(T),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var E=this;this.body.emitter.on("verticalDrag",function(){E.dom.lineContainer.style.top=E.body.domProps.scrollTop+"px"})}(U.prototype=new Y).addGroup=function(F,T){this.groups.hasOwnProperty(F)||(this.groups[F]=T),this.amountOfGroups+=1},U.prototype.updateGroup=function(F,T){this.groups.hasOwnProperty(F)||(this.amountOfGroups+=1),this.groups[F]=T},U.prototype.removeGroup=function(F){this.groups.hasOwnProperty(F)&&(delete this.groups[F],this.amountOfGroups-=1)},U.prototype.setOptions=function(F){if(F){var T=!1;this.options.orientation!=F.orientation&&void 0!==F.orientation&&(T=!0),H.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,F),this.minWidth=Number((""+this.options.width).replace("px","")),!0===T&&this.dom.frame&&(this.hide(),this.show())}},U.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},U.prototype._redrawGroupIcons=function(){$.prepareElements(this.svgElements);var F,T=this.options.iconWidth,E=11.5;F="left"===this.options.orientation?4:this.width-T-4;var I=(0,R.default)(this.groups);I.sort(function(g,p){return g<p?-1:1});for(var f=0;f<I.length;f++){var _=I[f];!0===this.groups[_].visible&&(void 0===this.linegraphOptions.visibility[_]||!0===this.linegraphOptions.visibility[_])&&(this.groups[_].getLegend(T,15,this.framework,F,E),E+=19)}$.cleanupElements(this.svgElements),this.iconsRemoved=!1},U.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&($.prepareElements(this.svgElements),$.cleanupElements(this.svgElements),this.iconsRemoved=!0)},U.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},U.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},U.prototype.setRange=function(F,T){this.range.start=F,this.range.end=T},U.prototype.redraw=function(){var F=!1,T=0;for(var D in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(D)&&!0===this.groups[D].visible&&(void 0===this.linegraphOptions.visibility[D]||!0===this.linegraphOptions.visibility[D])&&T++;if(0===this.amountOfGroups||0===T)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var C=this.props,E=this.dom.frame;E.className="vis-data-axis",this._calculateCharSize();var I=this.options.orientation,_=this.options.showMajorLabels;C.minorLabelHeight=this.options.showMinorLabels?C.minorCharHeight:0,C.majorLabelHeight=_?C.majorCharHeight:0,C.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,C.minorLineHeight=1,C.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,C.majorLineHeight=1,"left"===I?(E.style.top="0",E.style.left="0",E.style.bottom="",E.style.width=this.width+"px",E.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(E.style.top="",E.style.bottom="0",E.style.left="0",E.style.width=this.width+"px",E.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),F=this._redrawLabels(),F=this._isResized()||F,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(I)}return F},U.prototype._redrawLabels=function(){var F=this,T=!1;$.prepareElements(this.DOMelements.lines),$.prepareElements(this.DOMelements.labels);var D=this.options.orientation,C=null!=this.options[D].range?this.options[D].range:{},E=!0;null!=C.max&&(this.range.end=C.max,E=!1);var I=!0;null!=C.min&&(this.range.start=C.min,I=!1),this.scale=new B(this.range.start,this.range.end,I,E,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[D].format),!1===this.master&&null!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(p){var y=p.y,O=p.major;F.options.showMinorLabels&&!1===O&&F._redrawLabel(y-2,p.val,D,"vis-y-axis vis-minor",F.props.minorCharHeight),O&&y>=0&&F._redrawLabel(y-2,p.val,D,"vis-y-axis vis-major",F.props.majorCharHeight),!0===F.master&&(O?F._redrawLine(y,D,"vis-grid vis-horizontal vis-major",F.options.majorLinesOffset,F.props.majorLineWidth):F._redrawLine(y,D,"vis-grid vis-horizontal vis-minor",F.options.minorLinesOffset,F.props.minorLineWidth))});var _=0;void 0!==this.options[D].title&&void 0!==this.options[D].title.text&&(_=this.props.titleCharHeight);var g=!0===this.options.icons?Math.max(this.options.iconWidth,_)+this.options.labelOffsetX+15:_+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-g&&!0===this.options.visible?(this.width=this.maxLabelSize+g,this.options.width=this.width+"px",$.cleanupElements(this.DOMelements.lines),$.cleanupElements(this.DOMelements.labels),this.redraw(),T=!0):this.maxLabelSize<this.width-g&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+g),this.options.width=this.width+"px",$.cleanupElements(this.DOMelements.lines),$.cleanupElements(this.DOMelements.labels),this.redraw(),T=!0):($.cleanupElements(this.DOMelements.lines),$.cleanupElements(this.DOMelements.labels),T=!1),T},U.prototype.convertValue=function(F){return this.scale.convertValue(F)},U.prototype.screenToValue=function(F){return this.scale.screenToValue(F)},U.prototype._redrawLabel=function(F,T,D,C,E){var I=$.getDOMElement("div",this.DOMelements.labels,this.dom.frame);I.className=C,I.innerHTML=T,"left"===D?(I.style.left="-"+this.options.labelOffsetX+"px",I.style.textAlign="right"):(I.style.right="-"+this.options.labelOffsetX+"px",I.style.textAlign="left"),I.style.top=F-.5*E+this.options.labelOffsetY+"px",T+="";var f=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<T.length*f&&(this.maxLabelSize=T.length*f)},U.prototype._redrawLine=function(F,T,D,C,E){if(!0===this.master){var I=$.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);I.className=D,I.innerHTML="","left"===T?I.style.left=this.width-C+"px":I.style.right=this.width-C+"px",I.style.width=E+"px",I.style.top=F+"px"}},U.prototype._redrawTitle=function(F){if($.prepareElements(this.DOMelements.title),void 0!==this.options[F].title&&void 0!==this.options[F].title.text){var T=$.getDOMElement("div",this.DOMelements.title,this.dom.frame);T.className="vis-y-axis vis-title vis-"+F,T.innerHTML=this.options[F].title.text,void 0!==this.options[F].title.style&&H.addCssText(T,this.options[F].title.style),"left"===F?T.style.left=this.props.titleCharHeight+"px":T.style.right=this.props.titleCharHeight+"px",T.style.width=this.height+"px"}$.cleanupElements(this.DOMelements.title)},U.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var F=document.createTextNode("0"),T=document.createElement("div");T.className="vis-y-axis vis-minor vis-measure",T.appendChild(F),this.dom.frame.appendChild(T),this.props.minorCharHeight=T.clientHeight,this.props.minorCharWidth=T.clientWidth,this.dom.frame.removeChild(T)}if(!("majorCharHeight"in this.props)){var D=document.createTextNode("0"),C=document.createElement("div");C.className="vis-y-axis vis-major vis-measure",C.appendChild(D),this.dom.frame.appendChild(C),this.props.majorCharHeight=C.clientHeight,this.props.majorCharWidth=C.clientWidth,this.dom.frame.removeChild(C)}if(!("titleCharHeight"in this.props)){var E=document.createTextNode("0"),I=document.createElement("div");I.className="vis-y-axis vis-title vis-measure",I.appendChild(E),this.dom.frame.appendChild(I),this.props.titleCharHeight=I.clientHeight,this.props.titleCharWidth=I.clientWidth,this.dom.frame.removeChild(I)}},ge.exports=U},function(ge,ee,P){function W(R,V,H,$,Y,B){var U=arguments.length>6&&void 0!==arguments[6]&&arguments[6],F=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=Y,this.majorCharHeight=B,this._start=R,this._end=V,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=U,this.autoScaleStart=H,this.autoScaleEnd=$,this.formattingFunction=F,H||$){var T=this,D=function(E){var I=E-E%(T.magnitudefactor*T.minorSteps[T.minorStepIdx]);return E%(T.magnitudefactor*T.minorSteps[T.minorStepIdx])>T.magnitudefactor*T.minorSteps[T.minorStepIdx]*.5?I+T.magnitudefactor*T.minorSteps[T.minorStepIdx]:I};H&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=D(this._start)),$&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=D(this._end)),this.determineScale()}}W.prototype.setCharHeight=function(R){this.majorCharHeight=R},W.prototype.setHeight=function(R){this.containerHeight=R},W.prototype.determineScale=function(){var R=this._end-this._start;this.scale=this.containerHeight/R;var V=this.majorCharHeight/this.scale,H=R>0?Math.round(Math.log(R)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,H);var $=0;H<0&&($=H);for(var Y=!1,B=$;Math.abs(B)<=Math.abs(H);B++){this.magnitudefactor=Math.pow(10,B);for(var U=0;U<this.minorSteps.length;U++)if(this.magnitudefactor*this.minorSteps[U]>=V){Y=!0,this.minorStepIdx=U;break}if(!0===Y)break}},W.prototype.is_major=function(R){return R%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},W.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},W.prototype.getFirstMajor=function(){var R=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(R-this._start%R)%R)},W.prototype.formatValue=function(R){var V=R.toPrecision(5);return"function"==typeof this.formattingFunction&&(V=this.formattingFunction(R)),"number"==typeof V?""+V:"string"==typeof V?V:R.toPrecision(5)},W.prototype.getLines=function(){for(var R=[],V=this.getStep(),$=this._start+(V-this._start%V)%V;this._end-$>1e-5;$+=V)$!=this._start&&R.push({major:this.is_major($),y:this.convertValue($),val:this.formatValue($)});return R},W.prototype.followScale=function(R){var V=this.minorStepIdx,H=this._start,$=this._end,Y=this,B=function(){Y.magnitudefactor*=2},U=function(){Y.magnitudefactor/=2};R.minorStepIdx<=1&&this.minorStepIdx<=1||R.minorStepIdx>1&&this.minorStepIdx>1||(R.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==V||B(),B()):(this.minorStepIdx=2,1==V||U(),U()));for(var F=R.convertValue(0),T=R.getStep()*R.scale,D=!1,C=0;!D&&C++<5;){this.scale=T/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var E=this.containerHeight/this.scale;this._start=H,this._end=this._start+E;var I=this._end*this.scale,f=this.magnitudefactor*this.majorSteps[this.minorStepIdx],_=this.getFirstMajor()-R.getFirstMajor();if(this.zeroAlign?(this._end+=(F-I)/this.scale,this._start=this._end-E):this.autoScaleStart?(this._start-=_/this.scale,this._end=this._start+E):(this._start+=f-_/this.scale,this._end=this._start+E),!this.autoScaleEnd&&this._end>$+1e-5)U(),D=!1;else{if(!this.autoScaleStart&&this._start<H-1e-5){if(!(this.zeroAlign&&H>=0)){U(),D=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&E<$-H?(B(),D=!1):D=!0}}},W.prototype.convertValue=function(R){return this.containerHeight-(R-this._start)*this.scale},W.prototype.screenToValue=function(R){return(this.containerHeight-R)/this.scale+this._start},ge.exports=W},function(ge,ee,P){var R=function V(F){return F&&F.__esModule?F:{default:F}}(P(6));var H=P(2),$=P(110),Y=P(111),B=P(72);function U(F,T,D,C){this.id=T,this.options=H.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],D),this.usingDefaultStyle=void 0===F.className,this.groupsUsingDefaultStyles=C,this.zeroPosition=0,this.update(F),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===F.visible||F.visible}U.prototype.setItems=function(F){null!=F?(this.itemsData=F,1==this.options.sort&&H.insertSort(this.itemsData,function(T,D){return T.x>D.x?1:-1})):this.itemsData=[]},U.prototype.getItems=function(){return this.itemsData},U.prototype.setZeroPosition=function(F){this.zeroPosition=F},U.prototype.setOptions=function(F){void 0!==F&&(H.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,F),"function"==typeof F.drawPoints&&(F.drawPoints={onRender:F.drawPoints}),H.mergeOptions(this.options,F,"interpolation"),H.mergeOptions(this.options,F,"drawPoints"),H.mergeOptions(this.options,F,"shaded"),F.interpolation&&"object"==(0,R.default)(F.interpolation)&&F.interpolation.parametrization&&("uniform"==F.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==F.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)))},U.prototype.update=function(F){this.group=F,this.content=F.content||"graph",this.className=F.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===F.visible||F.visible,this.style=F.style,this.setOptions(F.options)},U.prototype.getLegend=function(F,T,D,C,E){switch(null!=D&&null!=D||(D={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),(null==C||null==C)&&(C=0),(null==E||null==E)&&(E=.5*T),this.options.style){case"line":Y.drawIcon(this,C,E,F,T,D);break;case"points":case"point":B.drawIcon(this,C,E,F,T,D);break;case"bar":$.drawIcon(this,C,E,F,T,D)}return{icon:D.svg,label:this.content,orientation:this.options.yAxisOrientation}},U.prototype.getYRange=function(F){for(var T=F[0].y,D=F[0].y,C=0;C<F.length;C++)T=T>F[C].y?F[C].y:T,D=D<F[C].y?F[C].y:D;return{min:T,max:D,yAxisOrientation:this.options.yAxisOrientation}},ge.exports=U},function(ge,ee,P){var W=P(14),R=P(72);function V(H,$){}V.drawIcon=function(H,$,Y,B,U,F){var T=.5*U,D=W.getSVGElement("rect",F.svgElements,F.svg);D.setAttributeNS(null,"x",$),D.setAttributeNS(null,"y",Y-T),D.setAttributeNS(null,"width",B),D.setAttributeNS(null,"height",2*T),D.setAttributeNS(null,"class","vis-outline");var C=Math.round(.3*B),I=H.options.barChart.width/C,f=Math.round(.4*U),_=Math.round(.75*U),g=Math.round((B-2*C)/3);if(W.drawBar($+.5*C+g,Y+T-f-1,C,f,H.className+" vis-bar",F.svgElements,F.svg,H.style),W.drawBar($+1.5*C+g+2,Y+T-_-1,C,_,H.className+" vis-bar",F.svgElements,F.svg,H.style),1==H.options.drawPoints.enabled){var p={style:H.options.drawPoints.style,styles:H.options.drawPoints.styles,size:H.options.drawPoints.size/I,className:H.className};W.drawPoint($+.5*C+g,Y+T-f-1,p,F.svgElements,F.svg),W.drawPoint($+1.5*C+g+2,Y+T-_-1,p,F.svgElements,F.svg)}},V.draw=function(H,$,Y){var F,T,D,C,E,I,B=[],U={},f=0;for(E=0;E<H.length;E++)if("bar"===(C=Y.groups[H[E]]).options.style&&!0===C.visible&&(void 0===Y.options.groups.visibility[H[E]]||!0===Y.options.groups.visibility[H[E]]))for(I=0;I<$[H[E]].length;I++)B.push({screen_x:$[H[E]][I].screen_x,screen_end:$[H[E]][I].screen_end,screen_y:$[H[E]][I].screen_y,x:$[H[E]][I].x,end:$[H[E]][I].end,y:$[H[E]][I].y,groupId:H[E],label:$[H[E]][I].label}),f+=1;if(0!==f)for(B.sort(function(w,M){return w.screen_x===M.screen_x?w.groupId<M.groupId?-1:1:w.screen_x-M.screen_x}),V._getDataIntersections(U,B),E=0;E<B.length;E++){var _=null!=(C=Y.groups[B[E].groupId]).options.barChart.minWidth?C.options.barChart.minWidth:.1*C.options.barChart.width,g=0;if(void 0===U[T=B[E].screen_x])E+1<B.length&&(F=Math.abs(B[E+1].screen_x-T)),D=V._getSafeDrawData(F,C,_);else{var p=E+(U[T].amount-U[T].resolved);p<B.length&&(F=Math.abs(B[p].screen_x-T)),D=V._getSafeDrawData(F,C,_),U[T].resolved+=1,!0===C.options.stack&&!0!==C.options.excludeFromStacking?B[E].screen_y<C.zeroPosition?(g=U[T].accumulatedNegative,U[T].accumulatedNegative+=C.zeroPosition-B[E].screen_y):(g=U[T].accumulatedPositive,U[T].accumulatedPositive+=C.zeroPosition-B[E].screen_y):!0===C.options.barChart.sideBySide&&(D.width=D.width/U[T].amount,D.offset+=U[T].resolved*D.width-.5*D.width*(U[T].amount+1))}var y=D.width,O=B[E].screen_x;O+=null!=B[E].screen_end?.5*(y=B[E].screen_end-B[E].screen_x):D.offset,W.drawBar(O,B[E].screen_y-g,y,C.zeroPosition-B[E].screen_y,C.className+" vis-bar",Y.svgElements,Y.svg,C.style),!0===C.options.drawPoints.enabled&&R.draw([{screen_x:B[E].screen_x,screen_y:B[E].screen_y-g,x:B[E].x,y:B[E].y,groupId:B[E].groupId,label:B[E].label}],C,Y,D.offset)}},V._getDataIntersections=function(H,$){for(var Y,B=0;B<$.length;B++)B+1<$.length&&(Y=Math.abs($[B+1].screen_x-$[B].screen_x)),B>0&&(Y=Math.min(Y,Math.abs($[B-1].screen_x-$[B].screen_x))),0===Y&&(void 0===H[$[B].screen_x]&&(H[$[B].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),H[$[B].screen_x].amount+=1)},V._getSafeDrawData=function(H,$,Y){var B,U;return H<$.options.barChart.width&&H>0?(B=H<Y?Y:H,U=0,"left"===$.options.barChart.align?U-=.5*H:"right"===$.options.barChart.align&&(U+=.5*H)):(B=$.options.barChart.width,U=0,"left"===$.options.barChart.align?U-=.5*$.options.barChart.width:"right"===$.options.barChart.align&&(U+=.5*$.options.barChart.width)),{width:B,offset:U}},V.getStackedYRange=function(H,$,Y,B,U){if(H.length>0){H.sort(function(T,D){return T.screen_x===D.screen_x?T.groupId<D.groupId?-1:1:T.screen_x-D.screen_x});var F={};V._getDataIntersections(F,H),$[B]=V._getStackedYRange(F,H),$[B].yAxisOrientation=U,Y.push(B)}},V._getStackedYRange=function(H,$){for(var Y,B=$[0].screen_y,U=$[0].screen_y,F=0;F<$.length;F++)void 0===H[Y=$[F].screen_x]?(B=B>$[F].screen_y?$[F].screen_y:B,U=U<$[F].screen_y?$[F].screen_y:U):$[F].screen_y<0?H[Y].accumulatedNegative+=$[F].screen_y:H[Y].accumulatedPositive+=$[F].screen_y;for(var T in H)H.hasOwnProperty(T)&&(B=(B=B>H[T].accumulatedNegative?H[T].accumulatedNegative:B)>H[T].accumulatedPositive?H[T].accumulatedPositive:B,U=(U=U<H[T].accumulatedNegative?H[T].accumulatedNegative:U)<H[T].accumulatedPositive?H[T].accumulatedPositive:U);return{min:B,max:U}},ge.exports=V},function(ge,ee,P){var W=P(14);function R(V,H){}R.calcPath=function(V,H){if(null!=V&&V.length>0)return 1==H.options.interpolation.enabled?R._catmullRom(V,H):R._linear(V)},R.drawIcon=function(V,H,$,Y,B,U){var T,D,F=.5*B,C=W.getSVGElement("rect",U.svgElements,U.svg);C.setAttributeNS(null,"x",H),C.setAttributeNS(null,"y",$-F),C.setAttributeNS(null,"width",Y),C.setAttributeNS(null,"height",2*F),C.setAttributeNS(null,"class","vis-outline"),(T=W.getSVGElement("path",U.svgElements,U.svg)).setAttributeNS(null,"class",V.className),void 0!==V.style&&T.setAttributeNS(null,"style",V.style),T.setAttributeNS(null,"d","M"+H+","+$+" L"+(H+Y)+","+$),1==V.options.shaded.enabled&&((D=W.getSVGElement("path",U.svgElements,U.svg)).setAttributeNS(null,"d","top"==V.options.shaded.orientation?"M"+H+", "+($-F)+"L"+H+","+$+" L"+(H+Y)+","+$+" L"+(H+Y)+","+($-F):"M"+H+","+$+" L"+H+","+($+F)+" L"+(H+Y)+","+($+F)+"L"+(H+Y)+","+$),D.setAttributeNS(null,"class",V.className+" vis-icon-fill"),void 0!==V.options.shaded.style&&""!==V.options.shaded.style&&D.setAttributeNS(null,"style",V.options.shaded.style)),1==V.options.drawPoints.enabled&&W.drawPoint(H+.5*Y,$,{style:V.options.drawPoints.style,styles:V.options.drawPoints.styles,size:V.options.drawPoints.size,className:V.className},U.svgElements,U.svg)},R.drawShading=function(V,H,$,Y){if(1==H.options.shaded.enabled){var B=Number(Y.svg.style.height.replace("px","")),U=W.getSVGElement("path",Y.svgElements,Y.svg),F="L";1==H.options.interpolation.enabled&&(F="C");var T,D;D="top"==H.options.shaded.orientation?0:"bottom"==H.options.shaded.orientation?B:Math.min(Math.max(0,H.zeroPosition),B),T="group"==H.options.shaded.orientation&&null!=$&&null!=$?"M"+V[0][0]+","+V[0][1]+" "+this.serializePath(V,F,!1)+" L"+$[$.length-1][0]+","+$[$.length-1][1]+" "+this.serializePath($,F,!0)+$[0][0]+","+$[0][1]+" Z":"M"+V[0][0]+","+V[0][1]+" "+this.serializePath(V,F,!1)+" V"+D+" H"+V[0][0]+" Z",U.setAttributeNS(null,"class",H.className+" vis-fill"),void 0!==H.options.shaded.style&&U.setAttributeNS(null,"style",H.options.shaded.style),U.setAttributeNS(null,"d",T)}},R.draw=function(V,H,$){if(null!=V&&null!=V){var Y=W.getSVGElement("path",$.svgElements,$.svg);Y.setAttributeNS(null,"class",H.className),void 0!==H.style&&Y.setAttributeNS(null,"style",H.style);var B="L";1==H.options.interpolation.enabled&&(B="C"),Y.setAttributeNS(null,"d","M"+V[0][0]+","+V[0][1]+" "+this.serializePath(V,B,!1))}},R.serializePath=function(V,H,$){if(V.length<2)return"";var B,Y=H;if($)for(B=V.length-2;B>0;B--)Y+=V[B][0]+","+V[B][1]+" ";else for(B=1;B<V.length;B++)Y+=V[B][0]+","+V[B][1]+" ";return Y},R._catmullRomUniform=function(V){var H,$,Y,B,U,F,T=[];T.push([Math.round(V[0].screen_x),Math.round(V[0].screen_y)]);for(var D=1/6,C=V.length,E=0;E<C-1;E++)F={screen_x:(($=V[E]).screen_x+6*(Y=V[E+1]).screen_x-(B=E+2<C?V[E+2]:Y).screen_x)*D,screen_y:($.screen_y+6*Y.screen_y-B.screen_y)*D},T.push([(U={screen_x:(6*$.screen_x-(H=0==E?V[0]:V[E-1]).screen_x+Y.screen_x)*D,screen_y:(6*$.screen_y-H.screen_y+Y.screen_y)*D}).screen_x,U.screen_y]),T.push([F.screen_x,F.screen_y]),T.push([Y.screen_x,Y.screen_y]);return T},R._catmullRom=function(V,H){var $=H.options.interpolation.alpha;if(0==$||void 0===$)return this._catmullRomUniform(V);var Y,B,U,F,T,D,C,E,I,f,_,g,p,y,O,v,w,M,L,X=[];X.push([Math.round(V[0].screen_x),Math.round(V[0].screen_y)]);for(var q=V.length,te=0;te<q-1;te++)Y=0==te?V[0]:V[te-1],B=V[te],U=V[te+1],F=te+2<q?V[te+2]:U,C=Math.sqrt(Math.pow(Y.screen_x-B.screen_x,2)+Math.pow(Y.screen_y-B.screen_y,2)),E=Math.sqrt(Math.pow(B.screen_x-U.screen_x,2)+Math.pow(B.screen_y-U.screen_y,2)),I=Math.sqrt(Math.pow(U.screen_x-F.screen_x,2)+Math.pow(U.screen_y-F.screen_y,2)),y=Math.pow(I,$),v=Math.pow(I,2*$),O=Math.pow(E,$),w=Math.pow(E,2*$),L=Math.pow(C,$),M=Math.pow(C,2*$),(g=3*L*(L+O))>0&&(g=1/g),(p=3*y*(y+O))>0&&(p=1/p),0==(T={screen_x:(-w*Y.screen_x+(f=2*M+3*L*O+w)*B.screen_x+M*U.screen_x)*g,screen_y:(-w*Y.screen_y+f*B.screen_y+M*U.screen_y)*g}).screen_x&&0==T.screen_y&&(T=B),0==(D={screen_x:(v*B.screen_x+(_=2*v+3*y*O+w)*U.screen_x-w*F.screen_x)*p,screen_y:(v*B.screen_y+_*U.screen_y-w*F.screen_y)*p}).screen_x&&0==D.screen_y&&(D=U),X.push([T.screen_x,T.screen_y]),X.push([D.screen_x,D.screen_y]),X.push([U.screen_x,U.screen_y]);return X},R._linear=function(V){for(var H=[],$=0;$<V.length;$++)H.push([V[$].screen_x,V[$].screen_y]);return H},ge.exports=R},function(ge,ee,P){var R=function V(U){return U&&U.__esModule?U:{default:U}}(P(8));var H=P(2),$=P(14),Y=P(16);function B(U,F,T,D){this.body=U,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=T,this.options=H.extend({},this.defaultOptions),this.linegraphOptions=D,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(F)}(B.prototype=new Y).clear=function(){this.groups={},this.amountOfGroups=0},B.prototype.addGroup=function(U,F){1!=F.options.excludeFromLegend&&(this.groups.hasOwnProperty(U)||(this.groups[U]=F),this.amountOfGroups+=1)},B.prototype.updateGroup=function(U,F){this.groups[U]=F},B.prototype.removeGroup=function(U){this.groups.hasOwnProperty(U)&&(delete this.groups[U],this.amountOfGroups-=1)},B.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},B.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},B.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},B.prototype.setOptions=function(U){H.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,U)},B.prototype.redraw=function(){var U=0,F=(0,R.default)(this.groups);F.sort(function(I,f){return I<f?-1:1});for(var T=0;T<F.length;T++){var D=F[T];1==this.groups[D].visible&&(void 0===this.linegraphOptions.visibility[D]||1==this.linegraphOptions.visibility[D])&&U++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==U)this.hide();else{this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(this.dom.frame.style.bottom=this.body.domProps.center.height-this.body.domProps.centerContainer.height+4+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var E="";for(T=0;T<F.length;T++)1==this.groups[D=F[T]].visible&&(void 0===this.linegraphOptions.visibility[D]||1==this.linegraphOptions.visibility[D])&&(E+=this.groups[D].content+"<br />");this.dom.textArea.innerHTML=E,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},B.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var U=(0,R.default)(this.groups);U.sort(function(g,p){return g<p?-1:1}),$.resetElements(this.svgElements);var F=window.getComputedStyle(this.dom.frame).paddingTop,T=Number(F.replace("px","")),D=T,C=this.options.iconSize,E=.75*this.options.iconSize,I=T+.5*E+3;this.svg.style.width=C+5+T+"px";for(var f=0;f<U.length;f++){var _=U[f];1==this.groups[_].visible&&(void 0===this.linegraphOptions.visibility[_]||1==this.linegraphOptions.visibility[_])&&(this.groups[_].getLegend(C,E,this.framework,D,I),I+=E+this.options.iconSpacing)}}},ge.exports=B},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var W="string",R="boolean",V="number",$="date",Y="object",U="moment";ee.allOptions={configure:{enabled:{boolean:R},filter:{boolean:R,function:"function"},container:{dom:"dom"},__type__:{object:Y,boolean:R,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:W},sort:{boolean:R},sampling:{boolean:R},stack:{boolean:R},graphHeight:{string:W,number:V},shaded:{enabled:{boolean:R},orientation:{string:["bottom","top","zero","group"]},groupId:{object:Y},__type__:{boolean:R,object:Y}},style:{string:["line","bar","points"]},barChart:{width:{number:V},minWidth:{number:V},sideBySide:{boolean:R},align:{string:["left","center","right"]},__type__:{object:Y}},interpolation:{enabled:{boolean:R},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:V},__type__:{object:Y,boolean:R}},drawPoints:{enabled:{boolean:R},onRender:{function:"function"},size:{number:V},style:{string:["square","circle"]},__type__:{object:Y,boolean:R,function:"function"}},dataAxis:{showMinorLabels:{boolean:R},showMajorLabels:{boolean:R},icons:{boolean:R},width:{string:W,number:V},visible:{boolean:R},alignZeros:{boolean:R},left:{range:{min:{number:V,undefined:"undefined"},max:{number:V,undefined:"undefined"},__type__:{object:Y}},format:{function:"function"},title:{text:{string:W,number:V,undefined:"undefined"},style:{string:W,undefined:"undefined"},__type__:{object:Y}},__type__:{object:Y}},right:{range:{min:{number:V,undefined:"undefined"},max:{number:V,undefined:"undefined"},__type__:{object:Y}},format:{function:"function"},title:{text:{string:W,number:V,undefined:"undefined"},style:{string:W,undefined:"undefined"},__type__:{object:Y}},__type__:{object:Y}},__type__:{object:Y}},legend:{enabled:{boolean:R},icons:{boolean:R},left:{visible:{boolean:R},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:Y}},right:{visible:{boolean:R},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:Y}},__type__:{object:Y,boolean:R}},groups:{visibility:{any:"any"},__type__:{object:Y}},autoResize:{boolean:R},throttleRedraw:{number:V},clickToUse:{boolean:R},end:{number:V,date:$,string:W,moment:U},format:{minorLabels:{millisecond:{string:W,undefined:"undefined"},second:{string:W,undefined:"undefined"},minute:{string:W,undefined:"undefined"},hour:{string:W,undefined:"undefined"},weekday:{string:W,undefined:"undefined"},day:{string:W,undefined:"undefined"},month:{string:W,undefined:"undefined"},year:{string:W,undefined:"undefined"},__type__:{object:Y}},majorLabels:{millisecond:{string:W,undefined:"undefined"},second:{string:W,undefined:"undefined"},minute:{string:W,undefined:"undefined"},hour:{string:W,undefined:"undefined"},weekday:{string:W,undefined:"undefined"},day:{string:W,undefined:"undefined"},month:{string:W,undefined:"undefined"},year:{string:W,undefined:"undefined"},__type__:{object:Y}},__type__:{object:Y}},moment:{function:"function"},height:{string:W,number:V},hiddenDates:{start:{date:$,number:V,string:W,moment:U},end:{date:$,number:V,string:W,moment:U},repeat:{string:W},__type__:{object:Y,array:"array"}},locale:{string:W},locales:{__any__:{any:"any"},__type__:{object:Y}},max:{date:$,number:V,string:W,moment:U},maxHeight:{number:V,string:W},maxMinorChars:{number:V},min:{date:$,number:V,string:W,moment:U},minHeight:{number:V,string:W},moveable:{boolean:R},multiselect:{boolean:R},orientation:{string:W},showCurrentTime:{boolean:R},showMajorLabels:{boolean:R},showMinorLabels:{boolean:R},start:{date:$,number:V,string:W,moment:U},timeAxis:{scale:{string:W,undefined:"undefined"},step:{number:V,undefined:"undefined"},__type__:{object:Y}},width:{string:W,number:V},zoomable:{boolean:R},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:V},zoomMin:{number:V},zIndex:{number:V},__type__:{object:Y}},ee.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(ge,ee,P){var R=function V(Oe){return Oe&&Oe.__esModule?Oe:{default:Oe}}(P(29));function H(Oe){return F=Oe,function X(){var Oe={};if(function I(){T=0,D=F.charAt(0)}(),L(),"strict"===C&&(Oe.strict=!0,L()),("graph"===C||"digraph"===C)&&(Oe.type=C,L()),E===B.IDENTIFIER&&(Oe.id=C,L()),"{"!=C)throw Ae("Angle bracket { expected");if(L(),q(Oe),"}"!=C)throw Ae("Angle bracket } expected");if(L(),""!==C)throw Ae("End of file expected");return L(),delete Oe.node,delete Oe.edge,delete Oe.graph,Oe}()}var $={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Y=(0,R.default)($);Y.color="color.color",Y.style="dashes";var B={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},U={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},F="",T=0,D="",C="",E=B.NULL;function f(){T++,D=F.charAt(T)}function _(){return F.charAt(T+1)}var g=/[a-zA-Z_0-9.:#]/;function p(Oe){return g.test(Oe)}function y(Oe,Le){if(Oe||(Oe={}),Le)for(var Qe in Le)Le.hasOwnProperty(Qe)&&(Oe[Qe]=Le[Qe]);return Oe}function O(Oe,Le,Qe){for(var pt=Le.split("."),nt=Oe;pt.length;){var ut=pt.shift();pt.length?(nt[ut]||(nt[ut]={}),nt=nt[ut]):nt[ut]=Qe}}function v(Oe,Le){for(var Qe,pt,nt=null,ut=[Oe],At=Oe;At.parent;)ut.push(At.parent),At=At.parent;if(At.nodes)for(Qe=0,pt=At.nodes.length;Qe<pt;Qe++)if(Le.id===At.nodes[Qe].id){nt=At.nodes[Qe];break}for(nt||(nt={id:Le.id},Oe.node&&(nt.attr=y(nt.attr,Oe.node))),Qe=ut.length-1;Qe>=0;Qe--){var Nt=ut[Qe];Nt.nodes||(Nt.nodes=[]),-1===Nt.nodes.indexOf(nt)&&Nt.nodes.push(nt)}Le.attr&&(nt.attr=y(nt.attr,Le.attr))}function w(Oe,Le){if(Oe.edges||(Oe.edges=[]),Oe.edges.push(Le),Oe.edge){var Qe=y({},Oe.edge);Le.attr=y(Qe,Le.attr)}}function M(Oe,Le,Qe,pt,nt){var ut={from:Le,to:Qe,type:pt};return Oe.edge&&(ut.attr=y({},Oe.edge)),ut.attr=y(ut.attr||{},nt),ut}function L(){for(E=B.NULL,C="";" "===D||"\t"===D||"\n"===D||"\r"===D;)f();do{var Oe=!1;if("#"===D){for(var Le=T-1;" "===F.charAt(Le)||"\t"===F.charAt(Le);)Le--;if("\n"===F.charAt(Le)||""===F.charAt(Le)){for(;""!=D&&"\n"!=D;)f();Oe=!0}}if("/"===D&&"/"===_()){for(;""!=D&&"\n"!=D;)f();Oe=!0}if("/"===D&&"*"===_()){for(;""!=D;){if("*"===D&&"/"===_()){f(),f();break}f()}Oe=!0}for(;" "===D||"\t"===D||"\n"===D||"\r"===D;)f()}while(Oe);if(""!==D){var Qe=D+_();if(U[Qe])return E=B.DELIMITER,C=Qe,f(),void f();if(U[D])return E=B.DELIMITER,C=D,void f();if(p(D)||"-"===D){for(C+=D,f();p(D);)C+=D,f();return"false"===C?C=!1:"true"===C?C=!0:isNaN(Number(C))||(C=Number(C)),void(E=B.IDENTIFIER)}if('"'===D){for(f();""!=D&&('"'!=D||'"'===D&&'"'===_());)'"'===D?(C+=D,f()):"\\"===D&&"n"===_()?(C+="\n",f()):C+=D,f();if('"'!=D)throw Ae('End of string " expected');return f(),void(E=B.IDENTIFIER)}for(E=B.UNKNOWN;""!=D;)C+=D,f();throw new SyntaxError('Syntax error in part "'+Ye(C,30)+'"')}E=B.DELIMITER}function q(Oe){for(;""!==C&&"}"!=C;)te(Oe),";"===C&&L()}function te(Oe){var Le=ie(Oe);if(Le)Ce(Oe,Le);else if(!function oe(Oe){return"node"===C?(L(),Oe.node=De(),"node"):"edge"===C?(L(),Oe.edge=De(),"edge"):"graph"===C?(L(),Oe.graph=De(),"graph"):null}(Oe)){if(E!=B.IDENTIFIER)throw Ae("Identifier expected");var pt=C;if(L(),"="===C){if(L(),E!=B.IDENTIFIER)throw Ae("Identifier expected");Oe[pt]=C,L()}else!function fe(Oe,Le){var Qe={id:Le},pt=De();pt&&(Qe.attr=pt),v(Oe,Qe),Ce(Oe,Le)}(Oe,pt)}}function ie(Oe){var Le=null;if("subgraph"===C&&((Le={}).type="subgraph",L(),E===B.IDENTIFIER&&(Le.id=C,L())),"{"===C){if(L(),Le||(Le={}),Le.parent=Oe,Le.node=Oe.node,Le.edge=Oe.edge,Le.graph=Oe.graph,q(Le),"}"!=C)throw Ae("Angle bracket } expected");L(),delete Le.node,delete Le.edge,delete Le.graph,delete Le.parent,Oe.subgraphs||(Oe.subgraphs=[]),Oe.subgraphs.push(Le)}return Le}function Ce(Oe,Le){for(;"->"===C||"--"===C;){var Qe,pt=C;L();var nt=ie(Oe);if(nt)Qe=nt;else{if(E!=B.IDENTIFIER)throw Ae("Identifier or subgraph expected");v(Oe,{id:Qe=C}),L()}w(Oe,M(Oe,Le,Qe,pt,De())),Le=Qe}}function De(){for(var Oe=null,Le={dashed:!0,solid:!1,dotted:[1,5]};"["===C;){for(L(),Oe={};""!==C&&"]"!=C;){if(E!=B.IDENTIFIER)throw Ae("Attribute name expected");var Qe=C;if(L(),"="!=C)throw Ae("Equal sign = expected");if(L(),E!=B.IDENTIFIER)throw Ae("Attribute value expected");var pt=C;"style"===Qe&&(pt=Le[pt]),O(Oe,Qe,pt),L(),","==C&&L()}if("]"!=C)throw Ae("Bracket ] expected");L()}return Oe}function Ae(Oe){return new SyntaxError(Oe+', got "'+Ye(C,30)+'" (char '+T+")")}function Ye(Oe,Le){return Oe.length<=Le?Oe:Oe.substr(0,27)+"..."}function it(Oe,Le,Qe){for(var pt=Le.split("."),nt=pt.pop(),ut=Oe,At=0;At<pt.length;At++){var Nt=pt[At];Nt in ut||(ut[Nt]={}),ut=ut[Nt]}return ut[nt]=Qe,Oe}function We(Oe,Le){var Qe={};for(var pt in Oe)if(Oe.hasOwnProperty(pt)){var nt=Le[pt];Array.isArray(nt)?nt.forEach(function(ut){it(Qe,ut,Oe[pt])}):it(Qe,"string"==typeof nt?nt:pt,Oe[pt])}return Qe}ee.parseDOT=H,ee.DOTToGraph=function we(Oe){var Le=H(Oe),Qe={nodes:[],edges:[],options:{}};if(Le.nodes&&Le.nodes.forEach(function(nt){var ut={id:nt.id,label:String(nt.label||nt.id)};y(ut,We(nt.attr,$)),ut.image&&(ut.shape="image"),Qe.nodes.push(ut)}),Le.edges){var pt=function(ut){var At={from:ut.from,to:ut.to};return y(At,We(ut.attr,Y)),At.arrows="->"===ut.type?"to":void 0,At};Le.edges.forEach(function(nt){var ut,At;ut=nt.from instanceof Object?nt.from.nodes:{id:nt.from},At=nt.to instanceof Object?nt.to.nodes:{id:nt.to},nt.from instanceof Object&&nt.from.edges&&nt.from.edges.forEach(function(Nt){var ln=pt(Nt);Qe.edges.push(ln)}),function st(Oe,Le,Qe){Array.isArray(Oe)?Oe.forEach(function(pt){Array.isArray(Le)?Le.forEach(function(nt){Qe(pt,nt)}):Qe(pt,Le)}):Array.isArray(Le)?Le.forEach(function(pt){Qe(Oe,pt)}):Qe(Oe,Le)}(ut,At,function(Nt,ln){var Mn=M(Qe,Nt.id,ln.id,nt.type,nt.attr),zn=pt(Mn);Qe.edges.push(zn)}),nt.to instanceof Object&&nt.to.edges&&nt.to.edges.forEach(function(Nt){var ln=pt(Nt);Qe.edges.push(ln)})})}return Le.attr&&(Qe.options=Le.attr),Qe}},function(ge,ee,P){ee.parseGephi=function W(R,V){var H=[],$=[],Y={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==V&&(void 0!==V.fixed&&(Y.nodes.fixed=V.fixed),void 0!==V.parseColor&&(Y.nodes.parseColor=V.parseColor),void 0!==V.inheritColor&&(Y.edges.inheritColor=V.inheritColor));for(var B=R.edges,U=R.nodes,F=0;F<B.length;F++){var T={},D=B[F];T.id=D.id,T.from=D.source,T.to=D.target,T.attributes=D.attributes,T.label=D.label,T.title=void 0!==D.attributes?D.attributes.title:void 0,"Directed"===D.type&&(T.arrows="to"),D.color&&!1===Y.inheritColor&&(T.color=D.color),H.push(T)}for(var C=0;C<U.length;C++){var E={},I=U[C];E.id=I.id,E.attributes=I.attributes,E.x=I.x,E.y=I.y,E.label=I.label,E.title=void 0!==I.attributes?I.attributes.title:I.title,E.color=!0===Y.nodes.parseColor?I.color:void 0!==I.color?{background:I.color,border:I.color,highlight:{background:I.color,border:I.color},hover:{background:I.color,border:I.color}}:void 0,E.size=I.size,E.fixed=Y.nodes.fixed&&void 0!==I.x&&void 0!==I.y,$.push(E)}return{nodes:$,edges:H}}},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=B(P(0)),H=B(P(1)),Y=B(P(185));function B(F){return F&&F.__esModule?F:{default:F}}var U=function(){function F(T){(0,R.default)(this,F),this.images={},this.imageBroken={},this.callback=T}return(0,H.default)(F,[{key:"_tryloadBrokenUrl",value:function(D,C,E){if(void 0!==D&&void 0!==E){if(void 0===C)return void console.warn("No broken url image defined");E.onerror=function(){console.error("Could not load brokenImage:",C)},E.image.src=C}}},{key:"_redrawWithImage",value:function(D){this.callback&&this.callback(D)}},{key:"load",value:function(D,C){var E=this,I=this.images[D];if(I)return I;var f=new Y.default;return this.images[D]=f,f.image.onload=function(){E._fixImageCoordinates(f.image),f.init(),E._redrawWithImage(f)},f.image.onerror=function(){console.error("Could not load image:",D),E._tryloadBrokenUrl(D,C,f)},f.image.src=D,f}},{key:"_fixImageCoordinates",value:function(D){0===D.width&&(document.body.appendChild(D),D.width=D.offsetWidth,D.height=D.offsetHeight,document.body.removeChild(D))}}]),F}();ee.default=U},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=F(P(30)),H=F(P(6)),Y=F(P(0)),U=F(P(1));function F(f){return f&&f.__esModule?f:{default:f}}var T=P(2),D=P(48).default,C=P(191).default,E=["bold","ital","boldital","mono"],I=function(){function f(_,g){var p=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,Y.default)(this,f),this.body=_,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(g),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=p}return(0,U.default)(f,[{key:"setOptions",value:function(g){if(this.elementOptions=g,this.initFontOptions(g.font),D.isValidLabel(g.label)?this.labelDirty=!0:g.label="",null!=g.font)if("string"==typeof g.font)this.baseSize=this.fontOptions.size;else if("object"===(0,H.default)(g.font)){var p=g.font.size;void 0!==p&&(this.baseSize=p)}}},{key:"initFontOptions",value:function(g){var p=this;T.forEach(E,function(y){p.fontOptions[y]={}}),f.parseFontString(this.fontOptions,g)?this.fontOptions.vadjust=0:T.forEach(g,function(y,O){null!=y&&"object"!==(typeof y>"u"?"undefined":(0,H.default)(y))&&(p.fontOptions[O]=y)})}},{key:"constrain",value:function(g){var p={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},y=T.topMost(g,"widthConstraint");if("number"==typeof y)p.maxWdt=Number(y),p.minWdt=Number(y);else if("object"===(typeof y>"u"?"undefined":(0,H.default)(y))){var O=T.topMost(g,["widthConstraint","maximum"]);"number"==typeof O&&(p.maxWdt=Number(O));var v=T.topMost(g,["widthConstraint","minimum"]);"number"==typeof v&&(p.minWdt=Number(v))}var w=T.topMost(g,"heightConstraint");if("number"==typeof w)p.minHgt=Number(w);else if("object"===(typeof w>"u"?"undefined":(0,H.default)(w))){var M=T.topMost(g,["heightConstraint","minimum"]);"number"==typeof M&&(p.minHgt=Number(M));var L=T.topMost(g,["heightConstraint","valign"]);"string"==typeof L&&("top"===L||"bottom"===L)&&(p.valign=L)}return p}},{key:"update",value:function(g,p){this.setOptions(g,!0),this.propagateFonts(p),T.deepExtend(this.fontOptions,this.constrain(p)),this.fontOptions.chooser=D.choosify("label",p)}},{key:"adjustSizes",value:function(g){var p=g?g.right+g.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=p,this.fontOptions.minWdt-=p),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=g?g.top+g.bottom:0)}},{key:"addFontOptionsToPile",value:function(g,p){for(var y=0;y<p.length;++y)this.addFontToPile(g,p[y])}},{key:"addFontToPile",value:function(g,p){void 0!==p&&null!=p.font&&g.push(p.font)}},{key:"getBasicOptions",value:function(g){for(var p={},y=0;y<g.length;++y){var O=g[y],v={};f.parseFontString(v,O)&&(O=v),T.forEach(O,function(w,M){void 0!==w&&(p.hasOwnProperty(M)||(p[M]=-1!==E.indexOf(M)?{}:w))})}return p}},{key:"getFontOption",value:function(g,p,y){for(var O=void 0,v=0;v<g.length;++v){var w=g[v];if(w.hasOwnProperty(p)){if(null==(O=w[p]))continue;var M={};if(f.parseFontString(M,O)&&(O=M),O.hasOwnProperty(y))return O[y]}}if(this.fontOptions.hasOwnProperty(y))return this.fontOptions[y];throw new Error("Did not find value for multi-font for property: '"+y+"'")}},{key:"getFontOptions",value:function(g,p){for(var y={},O=["color","size","face","mod","vadjust"],v=0;v<O.length;++v){var w=O[v];y[w]=this.getFontOption(g,p,w)}return y}},{key:"propagateFonts",value:function(g){var p=this,y=[];this.addFontOptionsToPile(y,g),this.fontOptions=this.getBasicOptions(y);for(var O=function(M){var L=E[M],X=p.fontOptions[L],q=p.getFontOptions(y,L);T.forEach(q,function(te,ie){X[ie]=te}),X.size=Number(X.size),X.vadjust=Number(X.vadjust)},v=0;v<E.length;++v)O(v)}},{key:"draw",value:function(g,p,y,O,v){var w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var M=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&M<this.elementOptions.scaling.label.drawThreshold-1||(M>=this.elementOptions.scaling.label.maxVisible&&(M=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(g,O,v,p,y,w),this._drawBackground(g),this._drawText(g,p,this.size.yLine,w,M))}}},{key:"_drawBackground",value:function(g){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){g.fillStyle=this.fontOptions.background;var p=this.getSize();g.fillRect(p.left,p.top,p.width,p.height)}}},{key:"_drawText",value:function(g,p,y){var v=arguments[4],w=this._setAlignment(g,p,y,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle"),M=(0,R.default)(w,2);p=M[0],y=M[1],g.textAlign="left",p-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(y-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(y+=(this.size.height-this.size.labelHeight)/2));for(var L=0;L<this.lineCount;L++){var X=this.lines[L];if(X&&X.blocks){var q=0;this.isEdgeLabel||"center"===this.fontOptions.align?q+=(this.size.width-X.width)/2:"right"===this.fontOptions.align&&(q+=this.size.width-X.width);for(var te=0;te<X.blocks.length;te++){var ie=X.blocks[te];g.font=ie.font;var oe=this._getColor(ie.color,v,ie.strokeColor),fe=(0,R.default)(oe,2),Ce=fe[0],De=fe[1];ie.strokeWidth>0&&(g.lineWidth=ie.strokeWidth,g.strokeStyle=De,g.lineJoin="round"),g.fillStyle=Ce,ie.strokeWidth>0&&g.strokeText(ie.text,p+q,y+ie.vadjust),g.fillText(ie.text,p+q,y+ie.vadjust),q+=ie.width}y+=X.height}}}},{key:"_setAlignment",value:function(g,p,y,O){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){p=0,y=0;"top"===this.fontOptions.align?(g.textBaseline="alphabetic",y-=4):"bottom"===this.fontOptions.align?(g.textBaseline="hanging",y+=4):g.textBaseline="middle"}else g.textBaseline=O;return[p,y]}},{key:"_getColor",value:function(g,p,y){var O=g||"#000000",v=y||"#ffffff";if(p<=this.elementOptions.scaling.label.drawThreshold){var w=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-p)));O=T.overrideOpacity(O,w),v=T.overrideOpacity(v,w)}return[O,v]}},{key:"getTextSize",value:function(g){return this._processLabel(g,arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var p=this.size.left,y=this.size.top-1;if(this.isEdgeLabel){var O=.5*-this.size.width;switch(this.fontOptions.align){case"middle":p=O,y=.5*-this.size.height;break;case"top":p=O,y=-(this.size.height+2);break;case"bottom":p=O,y=2}}return{left:p,top:y,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(g,p,y){var O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(g,p,y),this.size.left=O-.5*this.size.width,this.size.top=v-.5*this.size.height,this.size.yLine=v+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===w&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(g,p,y,O){var v=function(X,q,te){return"normal"===q?"mod"===te?"":X[te]:void 0!==X[q][te]?X[q][te]:X[te]},w={color:v(this.fontOptions,O,"color"),size:v(this.fontOptions,O,"size"),face:v(this.fontOptions,O,"face"),mod:v(this.fontOptions,O,"mod"),vadjust:v(this.fontOptions,O,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(p||y)&&("normal"===O&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?w.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(w,this.elementOptions.id,p,y));var M="";return void 0!==w.mod&&""!==w.mod&&(M+=w.mod+" "),g.font=(M+=w.size+"px "+w.face).replace(/"/g,""),w.font=g.font,w.height=w.size,w}},{key:"differentState",value:function(g,p){return g!==this.selectedState||p!==this.hoverState}},{key:"_processLabelText",value:function(g,p,y,O){return new C(g,this,p,y).process(O)}},{key:"_processLabel",value:function(g,p,y){if(!1!==this.labelDirty||this.differentState(p,y)){var O=this._processLabelText(g,p,y,this.elementOptions.label);this.fontOptions.minWdt>0&&O.width<this.fontOptions.minWdt&&(O.width=this.fontOptions.minWdt),this.size.labelHeight=O.height,this.fontOptions.minHgt>0&&O.height<this.fontOptions.minHgt&&(O.height=this.fontOptions.minHgt),this.lines=O.lines,this.lineCount=O.lines.length,this.size.width=O.width,this.size.height=O.height,this.selectedState=p,this.hoverState=y,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(g,p){if(!p||"string"!=typeof p)return!1;var y=p.split(" ");return g.size=y[0].replace("px",""),g.face=y[1],g.color=y[2],!0}}]),f}();ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=B(P(30)),H=B(P(0)),Y=B(P(1));function B(D){return D&&D.__esModule?D:{default:D}}var U=P(2),F=P(119).default,T=function(){function D(C,E,I){(0,H.default)(this,D),this.body=E,this.labelModule=I,this.options={},this.setOptions(C),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,Y.default)(D,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(E){this.options=E,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(E,I,f,_,g){E.strokeStyle=this.getColor(E,I,f,_),E.lineWidth=I.width,!1!==I.dashes?this._drawDashedLine(E,I,g):this._drawLine(E,I,g)}},{key:"_drawLine",value:function(E,I,f,_,g){if(this.from!=this.to)this._line(E,I,f,_,g);else{var p=this._getCircleData(E),y=(0,R.default)(p,3);this._circle(E,I,y[0],y[1],y[2])}}},{key:"_drawDashedLine",value:function(E,I,f,_,g){E.lineCap="round";var p=[5,5];if(!0===Array.isArray(I.dashes)&&(p=I.dashes),void 0!==E.setLineDash){if(E.save(),E.setLineDash(p),E.lineDashOffset=0,this.from!=this.to)this._line(E,I,f);else{var y=this._getCircleData(E),O=(0,R.default)(y,3);this._circle(E,I,O[0],O[1],O[2])}E.setLineDash([0]),E.lineDashOffset=0,E.restore()}else{if(this.from!=this.to)E.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,p);else{var L=this._getCircleData(E),X=(0,R.default)(L,3);this._circle(E,I,X[0],X[1],X[2])}this.enableShadow(E,I),E.stroke(),this.disableShadow(E,I)}}},{key:"findBorderPosition",value:function(E,I,f){return this.from!=this.to?this._findBorderPosition(E,I,f):this._findBorderPositionCircle(E,I,f)}},{key:"findBorderPositions",value:function(E){var I={},f={};if(this.from!=this.to)I=this._findBorderPosition(this.from,E),f=this._findBorderPosition(this.to,E);else{var _=this._getCircleData(E).slice(0,2),g=(0,R.default)(_,2),p=g[0],y=g[1];I=this._findBorderPositionCircle(this.from,E,{x:p,y,low:.25,high:.6,direction:-1}),f=this._findBorderPositionCircle(this.from,E,{x:p,y,low:.6,high:.8,direction:1})}return{from:I,to:f}}},{key:"_getCircleData",value:function(E){var I=void 0,f=void 0,_=this.from,g=this.options.selfReferenceSize;return void 0!==E&&void 0===_.shape.width&&_.shape.resize(E),_.shape.width>_.shape.height?(I=_.x+.5*_.shape.width,f=_.y-g):(I=_.x+g,f=_.y-.5*_.shape.height),[I,f,g]}},{key:"_pointOnCircle",value:function(E,I,f,_){var g=2*_*Math.PI;return{x:E+f*Math.cos(g),y:I-f*Math.sin(g)}}},{key:"_findBorderPositionCircle",value:function(E,I,f){for(var _=f.x,g=f.y,p=f.low,y=f.high,O=f.direction,w=0,M=this.options.selfReferenceSize,L=void 0,X=void 0,ie=void 0,fe=.5*(p+y);p<=y&&w<10&&(L=this._pointOnCircle(_,g,M,fe=.5*(p+y)),X=Math.atan2(E.y-L.y,E.x-L.x),ie=E.distanceToBorder(I,X)-Math.sqrt(Math.pow(L.x-E.x,2)+Math.pow(L.y-E.y,2)),!(Math.abs(ie)<.05));)ie>0?O>0?p=fe:y=fe:O>0?y=fe:p=fe,w++;return L.t=fe,L}},{key:"getLineWidth",value:function(E,I){return!0===E?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===I?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(E,I,f,_){if(!1!==I.inheritsColor){if("both"===I.inheritsColor&&this.from.id!==this.to.id){var g=E.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),p=void 0,y=void 0;return p=this.from.options.color.highlight.border,y=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(p=U.overrideOpacity(this.from.options.color.border,I.opacity),y=U.overrideOpacity(this.to.options.color.border,I.opacity)):!0===this.from.selected&&!1===this.to.selected?y=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(p=this.from.options.color.border),g.addColorStop(0,p),g.addColorStop(1,y),g}return U.overrideOpacity("to"===I.inheritsColor?this.to.options.color.border:this.from.options.color.border,I.opacity)}return U.overrideOpacity(I.color,I.opacity)}},{key:"_circle",value:function(E,I,f,_,g){this.enableShadow(E,I),E.beginPath(),E.arc(f,_,g,0,2*Math.PI,!1),E.stroke(),this.disableShadow(E,I)}},{key:"getDistanceToEdge",value:function(E,I,f,_,g,p,y,O){var v=0;if(this.from!=this.to)v=this._getDistanceToEdge(E,I,f,_,g,p,y);else{var w=this._getCircleData(void 0),M=(0,R.default)(w,3),q=M[2],te=M[0]-g,ie=M[1]-p;v=Math.abs(Math.sqrt(te*te+ie*ie)-q)}return v}},{key:"_getDistanceToLine",value:function(E,I,f,_,g,p){var y=f-E,O=_-I,w=((g-E)*y+(p-I)*O)/(y*y+O*O);w>1?w=1:w<0&&(w=0);var X=E+w*y-g,q=I+w*O-p;return Math.sqrt(X*X+q*q)}},{key:"getArrowData",value:function(E,I,f,_,g,p){var y=void 0,O=void 0,v=void 0,w=void 0,M=void 0,L=void 0,X=void 0,q=p.width;if("from"===I?(v=this.from,w=this.to,M=.1,L=p.fromArrowScale,X=p.fromArrowType):"to"===I?(v=this.to,w=this.from,M=-.1,L=p.toArrowScale,X=p.toArrowType):(v=this.to,w=this.from,L=p.middleArrowScale,X=p.middleArrowType),v!=w)if("middle"!==I)if(!0===this.options.smooth.enabled){O=this.findBorderPosition(v,E,{via:f});var te=this.getPoint(Math.max(0,Math.min(1,O.t+M)),f);y=Math.atan2(O.y-te.y,O.x-te.x)}else y=Math.atan2(v.y-w.y,v.x-w.x),O=this.findBorderPosition(v,E);else y=Math.atan2(v.y-w.y,v.x-w.x),O=this.getPoint(.5,f);else{var ie=this._getCircleData(E),oe=(0,R.default)(ie,3),fe=oe[0],Ce=oe[1],De=oe[2];"from"===I?y=-2*(O=this.findBorderPosition(this.from,E,{x:fe,y:Ce,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===I?y=-2*(O=this.findBorderPosition(this.from,E,{x:fe,y:Ce,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(O=this._pointOnCircle(fe,Ce,De,.175),y=3.9269908169872414)}"middle"===I&&L<0&&(q*=-1);var Ae=15*L+3*q;return{point:O,core:{x:O.x-.9*Ae*Math.cos(y),y:O.y-.9*Ae*Math.sin(y)},angle:y,length:Ae,type:X}}},{key:"drawArrowHead",value:function(E,I,f,_,g){E.strokeStyle=this.getColor(E,I,f,_),E.fillStyle=E.strokeStyle,E.lineWidth=I.width,F.draw(E,g),this.enableShadow(E,I),E.fill(),this.disableShadow(E,I)}},{key:"enableShadow",value:function(E,I){!0===I.shadow&&(E.shadowColor=I.shadowColor,E.shadowBlur=I.shadowSize,E.shadowOffsetX=I.shadowX,E.shadowOffsetY=I.shadowY)}},{key:"disableShadow",value:function(E,I){!0===I.shadow&&(E.shadowColor="rgba(0,0,0,0)",E.shadowBlur=0,E.shadowOffsetX=0,E.shadowOffsetY=0)}}]),D}();ee.default=T},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=D(P(3)),H=D(P(4)),Y=D(P(5)),U=D(P(0)),T=D(P(1));function D(g){return g&&g.__esModule?g:{default:g}}var C=function(){function g(){(0,U.default)(this,g)}return(0,T.default)(g,null,[{key:"transform",value:function(y,O){y instanceof Array||(y=[y]);for(var v=O.point.x,w=O.point.y,M=O.angle,L=O.length,X=0;X<y.length;++X){var q=y[X],te=q.x*Math.cos(M)-q.y*Math.sin(M),ie=q.x*Math.sin(M)+q.y*Math.cos(M);q.x=v+L*te,q.y=w+L*ie}}},{key:"drawPath",value:function(y,O){y.beginPath(),y.moveTo(O[0].x,O[0].y);for(var v=1;v<O.length;++v)y.lineTo(O[v].x,O[v].y);y.closePath()}}]),g}(),E=function(g){function p(){return(0,U.default)(this,p),(0,H.default)(this,(p.__proto__||(0,R.default)(p)).apply(this,arguments))}return(0,Y.default)(p,g),(0,T.default)(p,null,[{key:"draw",value:function(O,v){var w=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];C.transform(w,v),C.drawPath(O,w)}}]),p}(C),I=function(){function g(){(0,U.default)(this,g)}return(0,T.default)(g,null,[{key:"draw",value:function(y,O){var v={x:-.4,y:0};C.transform(v,O),y.circle(v.x,v.y,.4*O.length)}}]),g}(),f=function(){function g(){(0,U.default)(this,g)}return(0,T.default)(g,null,[{key:"draw",value:function(y,O){var v=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];C.transform(v,O),C.drawPath(y,v)}}]),g}(),_=function(){function g(){(0,U.default)(this,g)}return(0,T.default)(g,null,[{key:"draw",value:function(y,O){var v;switch(O.type&&(v=O.type.toLowerCase()),v){case"circle":I.draw(y,O);break;case"bar":f.draw(y,O);break;default:E.draw(y,O)}}}]),g}();ee.default=_},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(B){return B&&B.__esModule?B:{default:B}}var Y=function(){function B(U,F,T){(0,R.default)(this,B),this.body=U,this.physicsBody=F,this.setOptions(T),this.randomSeed=5}return(0,H.default)(B,[{key:"setOptions",value:function(F){this.options=F,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var F=1e4*Math.sin(this.randomSeed++);return F-Math.floor(F)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var F=void 0,T=this.body.nodes,D=this.physicsBody.physicsNodeIndices,C=D.length,E=this._formBarnesHutTree(T,D);this.barnesHutTree=E;for(var I=0;I<C;I++)(F=T[D[I]]).options.mass>0&&this._getForceContributions(E.root,F)}}},{key:"_getForceContributions",value:function(F,T){this._getForceContribution(F.children.NW,T),this._getForceContribution(F.children.NE,T),this._getForceContribution(F.children.SW,T),this._getForceContribution(F.children.SE,T)}},{key:"_getForceContribution",value:function(F,T){if(F.childrenCount>0){var D,C,E;D=F.centerOfMass.x-T.x,C=F.centerOfMass.y-T.y,(E=Math.sqrt(D*D+C*C))*F.calcSize>this.thetaInversed?this._calculateForces(E,D,C,T,F):4===F.childrenCount?this._getForceContributions(F,T):F.children.data.id!=T.id&&this._calculateForces(E,D,C,T,F)}}},{key:"_calculateForces",value:function(F,T,D,C,E){0===F&&(T=F=.1),this.overlapAvoidanceFactor<1&&C.shape.radius&&(F=Math.max(.1+this.overlapAvoidanceFactor*C.shape.radius,F-C.shape.radius));var I=this.options.gravitationalConstant*E.mass*C.options.mass/Math.pow(F,3),_=D*I;this.physicsBody.forces[C.id].x+=T*I,this.physicsBody.forces[C.id].y+=_}},{key:"_formBarnesHutTree",value:function(F,T){for(var D=void 0,C=T.length,E=F[T[0]].x,I=F[T[0]].y,f=F[T[0]].x,_=F[T[0]].y,g=1;g<C;g++){var p=F[T[g]],y=p.x,O=p.y;p.options.mass>0&&(y<E&&(E=y),y>f&&(f=y),O<I&&(I=O),O>_&&(_=O))}var v=Math.abs(f-E)-Math.abs(_-I);v>0?(I-=.5*v,_+=.5*v):(E+=.5*v,f-=.5*v);var M=Math.max(1e-5,Math.abs(f-E)),L=.5*M,X=.5*(E+f),q=.5*(I+_),te={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:X-L,maxX:X+L,minY:q-L,maxY:q+L},size:M,calcSize:1/M,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(te.root);for(var ie=0;ie<C;ie++)(D=F[T[ie]]).options.mass>0&&this._placeInTree(te.root,D);return te}},{key:"_updateBranchMass",value:function(F,T){var D=F.centerOfMass,C=F.mass+T.options.mass,E=1/C;D.x=D.x*F.mass+T.x*T.options.mass,D.x*=E,D.y=D.y*F.mass+T.y*T.options.mass,D.y*=E,F.mass=C;var I=Math.max(Math.max(T.height,T.radius),T.width);F.maxWidth=F.maxWidth<I?I:F.maxWidth}},{key:"_placeInTree",value:function(F,T,D){(1!=D||void 0===D)&&this._updateBranchMass(F,T);var C=F.children.NW.range;this._placeInRegion(F,T,C.maxX>T.x?C.maxY>T.y?"NW":"SW":C.maxY>T.y?"NE":"SE")}},{key:"_placeInRegion",value:function(F,T,D){var C=F.children[D];switch(C.childrenCount){case 0:C.children.data=T,C.childrenCount=1,this._updateBranchMass(C,T);break;case 1:C.children.data.x===T.x&&C.children.data.y===T.y?(T.x+=this.seededRandom(),T.y+=this.seededRandom()):(this._splitBranch(C),this._placeInTree(C,T));break;case 4:this._placeInTree(C,T)}}},{key:"_splitBranch",value:function(F){var T=null;1===F.childrenCount&&(T=F.children.data,F.mass=0,F.centerOfMass.x=0,F.centerOfMass.y=0),F.childrenCount=4,F.children.data=null,this._insertRegion(F,"NW"),this._insertRegion(F,"NE"),this._insertRegion(F,"SW"),this._insertRegion(F,"SE"),null!=T&&this._placeInTree(F,T)}},{key:"_insertRegion",value:function(F,T){var D=void 0,C=void 0,E=void 0,I=void 0,f=.5*F.size;switch(T){case"NW":D=F.range.minX,C=F.range.minX+f,E=F.range.minY,I=F.range.minY+f;break;case"NE":D=F.range.minX+f,C=F.range.maxX,E=F.range.minY,I=F.range.minY+f;break;case"SW":D=F.range.minX,C=F.range.minX+f,E=F.range.minY+f,I=F.range.maxY;break;case"SE":D=F.range.minX+f,C=F.range.maxX,E=F.range.minY+f,I=F.range.maxY}F.children[T]={centerOfMass:{x:0,y:0},mass:0,range:{minX:D,maxX:C,minY:E,maxY:I},size:.5*F.size,calcSize:2*F.calcSize,children:{data:null},maxWidth:0,level:F.level+1,childrenCount:0}}},{key:"_debug",value:function(F,T){void 0!==this.barnesHutTree&&(F.lineWidth=1,this._drawBranch(this.barnesHutTree.root,F,T))}},{key:"_drawBranch",value:function(F,T,D){void 0===D&&(D="#FF0000"),4===F.childrenCount&&(this._drawBranch(F.children.NW,T),this._drawBranch(F.children.NE,T),this._drawBranch(F.children.SE,T),this._drawBranch(F.children.SW,T)),T.strokeStyle=D,T.beginPath(),T.moveTo(F.range.minX,F.range.minY),T.lineTo(F.range.maxX,F.range.minY),T.stroke(),T.beginPath(),T.moveTo(F.range.maxX,F.range.minY),T.lineTo(F.range.maxX,F.range.maxY),T.stroke(),T.beginPath(),T.moveTo(F.range.maxX,F.range.maxY),T.lineTo(F.range.minX,F.range.maxY),T.stroke(),T.beginPath(),T.moveTo(F.range.minX,F.range.maxY),T.lineTo(F.range.minX,F.range.minY),T.stroke()}}]),B}();ee.default=Y},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(B){return B&&B.__esModule?B:{default:B}}var Y=function(){function B(U,F,T){(0,R.default)(this,B),this.body=U,this.physicsBody=F,this.setOptions(T)}return(0,H.default)(B,[{key:"setOptions",value:function(F){this.options=F}},{key:"solve",value:function(){for(var F=void 0,T=void 0,D=void 0,C=void 0,E=this.body.nodes,I=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces,_=0;_<I.length;_++)F=-(C=E[I[_]]).x,T=-C.y,D=Math.sqrt(F*F+T*T),this._calculateForces(D,F,T,f,C)}},{key:"_calculateForces",value:function(F,T,D,C,E){var I=0===F?0:this.options.centralGravity/F;C[E.id].x=T*I,C[E.id].y=D*I}}]),B}();ee.default=Y},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var W="string",R="boolean",V="number",H="array",$="object",U=["arrow","circle","bar"],F={configure:{enabled:{boolean:R},filter:{boolean:R,string:W,array:H,function:"function"},container:{dom:"dom"},showButton:{boolean:R},__type__:{object:$,boolean:R,string:W,array:H,function:"function"}},edges:{arrows:{to:{enabled:{boolean:R},scaleFactor:{number:V},type:{string:U},__type__:{object:$,boolean:R}},middle:{enabled:{boolean:R},scaleFactor:{number:V},type:{string:U},__type__:{object:$,boolean:R}},from:{enabled:{boolean:R},scaleFactor:{number:V},type:{string:U},__type__:{object:$,boolean:R}},__type__:{string:["from","to","middle"],object:$}},arrowStrikethrough:{boolean:R},chosen:{label:{boolean:R,function:"function"},edge:{boolean:R,function:"function"},__type__:{object:$,boolean:R}},color:{color:{string:W},highlight:{string:W},hover:{string:W},inherit:{string:["from","to","both"],boolean:R},opacity:{number:V},__type__:{object:$,string:W}},dashes:{boolean:R,array:H},font:{color:{string:W},size:{number:V},face:{string:W},background:{string:W},strokeWidth:{number:V},strokeColor:{string:W},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:V},multi:{boolean:R,string:W},bold:{color:{string:W},size:{number:V},face:{string:W},mod:{string:W},vadjust:{number:V},__type__:{object:$,string:W}},boldital:{color:{string:W},size:{number:V},face:{string:W},mod:{string:W},vadjust:{number:V},__type__:{object:$,string:W}},ital:{color:{string:W},size:{number:V},face:{string:W},mod:{string:W},vadjust:{number:V},__type__:{object:$,string:W}},mono:{color:{string:W},size:{number:V},face:{string:W},mod:{string:W},vadjust:{number:V},__type__:{object:$,string:W}},__type__:{object:$,string:W}},hidden:{boolean:R},hoverWidth:{function:"function",number:V},label:{string:W,undefined:"undefined"},labelHighlightBold:{boolean:R},length:{number:V,undefined:"undefined"},physics:{boolean:R},scaling:{min:{number:V},max:{number:V},label:{enabled:{boolean:R},min:{number:V},max:{number:V},maxVisible:{number:V},drawThreshold:{number:V},__type__:{object:$,boolean:R}},customScalingFunction:{function:"function"},__type__:{object:$}},selectionWidth:{function:"function",number:V},selfReferenceSize:{number:V},shadow:{enabled:{boolean:R},color:{string:W},size:{number:V},x:{number:V},y:{number:V},__type__:{object:$,boolean:R}},smooth:{enabled:{boolean:R},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:V},forceDirection:{string:["horizontal","vertical","none"],boolean:R},__type__:{object:$,boolean:R}},title:{string:W,undefined:"undefined"},width:{number:V},widthConstraint:{maximum:{number:V},__type__:{object:$,boolean:R,number:V}},value:{number:V,undefined:"undefined"},__type__:{object:$}},groups:{useDefaultGroups:{boolean:R},__any__:"get from nodes, will be overwritten below",__type__:{object:$}},interaction:{dragNodes:{boolean:R},dragView:{boolean:R},hideEdgesOnDrag:{boolean:R},hideNodesOnDrag:{boolean:R},hover:{boolean:R},keyboard:{enabled:{boolean:R},speed:{x:{number:V},y:{number:V},zoom:{number:V},__type__:{object:$}},bindToWindow:{boolean:R},__type__:{object:$,boolean:R}},multiselect:{boolean:R},navigationButtons:{boolean:R},selectable:{boolean:R},selectConnectedEdges:{boolean:R},hoverConnectedEdges:{boolean:R},tooltipDelay:{number:V},zoomView:{boolean:R},__type__:{object:$}},layout:{randomSeed:{undefined:"undefined",number:V},improvedLayout:{boolean:R},hierarchical:{enabled:{boolean:R},levelSeparation:{number:V},nodeSpacing:{number:V},treeSpacing:{number:V},blockShifting:{boolean:R},edgeMinimization:{boolean:R},parentCentralization:{boolean:R},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:$,boolean:R}},__type__:{object:$}},manipulation:{enabled:{boolean:R},initiallyActive:{boolean:R},addNode:{boolean:R,function:"function"},addEdge:{boolean:R,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:$,boolean:R,function:"function"}},deleteNode:{boolean:R,function:"function"},deleteEdge:{boolean:R,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:$,boolean:R}},nodes:{borderWidth:{number:V},borderWidthSelected:{number:V,undefined:"undefined"},brokenImage:{string:W,undefined:"undefined"},chosen:{label:{boolean:R,function:"function"},node:{boolean:R,function:"function"},__type__:{object:$,boolean:R}},color:{border:{string:W},background:{string:W},highlight:{border:{string:W},background:{string:W},__type__:{object:$,string:W}},hover:{border:{string:W},background:{string:W},__type__:{object:$,string:W}},__type__:{object:$,string:W}},fixed:{x:{boolean:R},y:{boolean:R},__type__:{object:$,boolean:R}},font:{align:{string:W},color:{string:W},size:{number:V},face:{string:W},background:{string:W},strokeWidth:{number:V},strokeColor:{string:W},vadjust:{number:V},multi:{boolean:R,string:W},bold:{color:{string:W},size:{number:V},face:{string:W},mod:{string:W},vadjust:{number:V},__type__:{object:$,string:W}},boldital:{color:{string:W},size:{number:V},face:{string:W},mod:{string:W},vadjust:{number:V},__type__:{object:$,string:W}},ital:{color:{string:W},size:{number:V},face:{string:W},mod:{string:W},vadjust:{number:V},__type__:{object:$,string:W}},mono:{color:{string:W},size:{number:V},face:{string:W},mod:{string:W},vadjust:{number:V},__type__:{object:$,string:W}},__type__:{object:$,string:W}},group:{string:W,number:V,undefined:"undefined"},heightConstraint:{minimum:{number:V},valign:{string:W},__type__:{object:$,boolean:R,number:V}},hidden:{boolean:R},icon:{face:{string:W},code:{string:W},size:{number:V},color:{string:W},__type__:{object:$}},id:{string:W,number:V},image:{selected:{string:W,undefined:"undefined"},unselected:{string:W,undefined:"undefined"},__type__:{object:$,string:W}},label:{string:W,undefined:"undefined"},labelHighlightBold:{boolean:R},level:{number:V,undefined:"undefined"},margin:{top:{number:V},right:{number:V},bottom:{number:V},left:{number:V},__type__:{object:$,number:V}},mass:{number:V},physics:{boolean:R},scaling:{min:{number:V},max:{number:V},label:{enabled:{boolean:R},min:{number:V},max:{number:V},maxVisible:{number:V},drawThreshold:{number:V},__type__:{object:$,boolean:R}},customScalingFunction:{function:"function"},__type__:{object:$}},shadow:{enabled:{boolean:R},color:{string:W},size:{number:V},x:{number:V},y:{number:V},__type__:{object:$,boolean:R}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:R,array:H},borderRadius:{number:V},interpolation:{boolean:R},useImageSize:{boolean:R},useBorderWithImage:{boolean:R},__type__:{object:$}},size:{number:V},title:{string:W,dom:"dom",undefined:"undefined"},value:{number:V,undefined:"undefined"},widthConstraint:{minimum:{number:V},maximum:{number:V},__type__:{object:$,boolean:R,number:V}},x:{number:V},y:{number:V},__type__:{object:$}},physics:{enabled:{boolean:R},barnesHut:{gravitationalConstant:{number:V},centralGravity:{number:V},springLength:{number:V},springConstant:{number:V},damping:{number:V},avoidOverlap:{number:V},__type__:{object:$}},forceAtlas2Based:{gravitationalConstant:{number:V},centralGravity:{number:V},springLength:{number:V},springConstant:{number:V},damping:{number:V},avoidOverlap:{number:V},__type__:{object:$}},repulsion:{centralGravity:{number:V},springLength:{number:V},springConstant:{number:V},nodeDistance:{number:V},damping:{number:V},__type__:{object:$}},hierarchicalRepulsion:{centralGravity:{number:V},springLength:{number:V},springConstant:{number:V},nodeDistance:{number:V},damping:{number:V},__type__:{object:$}},maxVelocity:{number:V},minVelocity:{number:V},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:R},iterations:{number:V},updateInterval:{number:V},onlyDynamicEdges:{boolean:R},fit:{boolean:R},__type__:{object:$,boolean:R}},timestep:{number:V},adaptiveTimestep:{boolean:R},__type__:{object:$,boolean:R}},autoResize:{boolean:R},clickToUse:{boolean:R},locale:{string:W},locales:{__any__:{any:"any"},__type__:{object:$}},height:{string:W},width:{string:W},__type__:{object:$}};F.groups.__any__=F.nodes,F.manipulation.controlNodeStyle=F.nodes;ee.allOptions=F,ee.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(ge,ee,P){var W=P(2);W.extend(ee,P(159)),W.extend(ee,P(177)),W.extend(ee,P(181))},function(ge,ee,P){P(49),P(60),ge.exports=P(136)},function(ge,ee,P){var W=P(126),R=P(127),V=P(31),H=P(25);ge.exports=P(79)(Array,"Array",function($,Y){this._t=H($),this._i=0,this._k=Y},function(){var $=this._t,Y=this._k,B=this._i++;return!$||B>=$.length?(this._t=void 0,R(1)):R(0,"keys"==Y?B:"values"==Y?$[B]:[B,$[B]])},"values"),V.Arguments=V.Array,W("keys"),W("values"),W("entries")},function(ge,ee){ge.exports=function(){}},function(ge,ee){ge.exports=function(P,W){return{value:W,done:!!P}}},function(ge,ee){ge.exports=function(P){if("function"!=typeof P)throw TypeError(P+" is not a function!");return P}},function(ge,ee,P){var W=P(54),R=P(39),V=P(59),H={};P(26)(H,P(13)("iterator"),function(){return this}),ge.exports=function($,Y,B){$.prototype=W(H,{next:R(1,B)}),V($,Y+" Iterator")}},function(ge,ee,P){var W=P(20),R=P(27),V=P(33);ge.exports=P(21)?Object.defineProperties:function($,Y){R($);for(var T,B=V(Y),U=B.length,F=0;U>F;)W.f($,T=B[F++],Y[T]);return $}},function(ge,ee,P){var W=P(25),R=P(132),V=P(133);ge.exports=function(H){return function($,Y,B){var D,U=W($),F=R(U.length),T=V(B,F);if(H&&Y!=Y){for(;F>T;)if((D=U[T++])!=D)return!0}else for(;F>T;T++)if((H||T in U)&&U[T]===Y)return H||T||0;return!H&&-1}}},function(ge,ee,P){var W=P(55),R=Math.min;ge.exports=function(V){return V>0?R(W(V),9007199254740991):0}},function(ge,ee,P){var W=P(55),R=Math.max,V=Math.min;ge.exports=function(H,$){return(H=W(H))<0?R(H+$,0):V(H,$)}},function(ge,ee,P){var W=P(18).document;ge.exports=W&&W.documentElement},function(ge,ee,P){var W=P(55),R=P(51);ge.exports=function(V){return function(H,$){var F,T,Y=String(R(H)),B=W($),U=Y.length;return B<0||B>=U?V?"":void 0:(F=Y.charCodeAt(B))<55296||F>56319||B+1===U||(T=Y.charCodeAt(B+1))<56320||T>57343?V?Y.charAt(B):F:V?Y.slice(B,B+2):T-56320+(F-55296<<10)+65536}}},function(ge,ee,P){var W=P(27),R=P(137);ge.exports=P(7).getIterator=function(V){var H=R(V);if("function"!=typeof H)throw TypeError(V+" is not iterable!");return W(H.call(V))}},function(ge,ee,P){var W=P(86),R=P(13)("iterator"),V=P(31);ge.exports=P(7).getIteratorMethod=function(H){if(null!=H)return H[R]||H["@@iterator"]||V[W(H)]}},function(ge,ee,P){P(139);var W=P(7).Object;ge.exports=function(V,H){return W.create(V,H)}},function(ge,ee,P){var W=P(17);W(W.S,"Object",{create:P(54)})},function(ge,ee,P){P(141),ge.exports=P(7).Object.keys},function(ge,ee,P){var W=P(41),R=P(33);P(87)("keys",function(){return function(H){return R(W(H))}})},function(ge,ee,P){ge.exports={default:P(143),__esModule:!0}},function(ge,ee,P){P(60),P(49),ge.exports=P(61).f("iterator")},function(ge,ee,P){ge.exports={default:P(145),__esModule:!0}},function(ge,ee,P){P(146),P(151),P(152),P(153),ge.exports=P(7).Symbol},function(ge,ee,P){var W=P(18),R=P(22),V=P(21),H=P(17),$=P(83),Y=P(147).KEY,B=P(28),U=P(57),F=P(59),T=P(40),D=P(13),C=P(61),E=P(62),I=P(148),f=P(149),_=P(27),g=P(25),p=P(53),y=P(39),O=P(54),v=P(150),w=P(89),M=P(20),L=P(33),X=w.f,q=M.f,te=v.f,ie=W.Symbol,oe=W.JSON,fe=oe&&oe.stringify,Ce="prototype",De=D("_hidden"),Ae=D("toPrimitive"),Ye={}.propertyIsEnumerable,st=U("symbol-registry"),it=U("symbols"),We=U("op-symbols"),we=Object[Ce],Oe="function"==typeof ie,Le=W.QObject,Qe=!Le||!Le[Ce]||!Le[Ce].findChild,pt=V&&B(function(){return 7!=O(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a})?function(cn,gt,St){var Wt=X(we,gt);Wt&&delete we[gt],q(cn,gt,St),Wt&&cn!==we&&q(we,gt,Wt)}:q,nt=function(cn){var gt=it[cn]=O(ie[Ce]);return gt._k=cn,gt},ut=Oe&&"symbol"==typeof ie.iterator?function(cn){return"symbol"==typeof cn}:function(cn){return cn instanceof ie},At=function(gt,St,Wt){return gt===we&&At(We,St,Wt),_(gt),St=p(St,!0),_(Wt),R(it,St)?(Wt.enumerable?(R(gt,De)&&gt[De][St]&&(gt[De][St]=!1),Wt=O(Wt,{enumerable:y(0,!1)})):(R(gt,De)||q(gt,De,y(1,{})),gt[De][St]=!0),pt(gt,St,Wt)):q(gt,St,Wt)},Nt=function(gt,St){_(gt);for(var Vt,Wt=I(St=g(St)),Wn=0,Dt=Wt.length;Dt>Wn;)At(gt,Vt=Wt[Wn++],St[Vt]);return gt},Mn=function(gt){var St=Ye.call(this,gt=p(gt,!0));return!(this===we&&R(it,gt)&&!R(We,gt))&&(!(St||!R(this,gt)||!R(it,gt)||R(this,De)&&this[De][gt])||St)},zn=function(gt,St){if(gt=g(gt),St=p(St,!0),gt!==we||!R(it,St)||R(We,St)){var Wt=X(gt,St);return Wt&&R(it,St)&&!(R(gt,De)&&gt[De][St])&&(Wt.enumerable=!0),Wt}},Ei=function(gt){for(var Dt,St=te(g(gt)),Wt=[],Wn=0;St.length>Wn;)!R(it,Dt=St[Wn++])&&Dt!=De&&Dt!=Y&&Wt.push(Dt);return Wt},Zt=function(gt){for(var Vt,St=gt===we,Wt=te(St?We:g(gt)),Wn=[],Dt=0;Wt.length>Dt;)R(it,Vt=Wt[Dt++])&&(!St||R(we,Vt))&&Wn.push(it[Vt]);return Wn};Oe||(ie=function(){if(this instanceof ie)throw TypeError("Symbol is not a constructor!");var gt=T(arguments.length>0?arguments[0]:void 0),St=function(Wt){this===we&&St.call(We,Wt),R(this,De)&&R(this[De],gt)&&(this[De][gt]=!1),pt(this,gt,y(1,Wt))};return V&&Qe&&pt(we,gt,{configurable:!0,set:St}),nt(gt)},$(ie[Ce],"toString",function(){return this._k}),w.f=zn,M.f=At,P(88).f=v.f=Ei,P(42).f=Mn,P(63).f=Zt,V&&!P(52)&&$(we,"propertyIsEnumerable",Mn,!0),C.f=function(cn){return nt(D(cn))}),H(H.G+H.W+H.F*!Oe,{Symbol:ie});for(var ei="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Vi=0;ei.length>Vi;)D(ei[Vi++]);for(var Oi=L(D.store),ti=0;Oi.length>ti;)E(Oi[ti++]);H(H.S+H.F*!Oe,"Symbol",{for:function(cn){return R(st,cn+="")?st[cn]:st[cn]=ie(cn)},keyFor:function(gt){if(!ut(gt))throw TypeError(gt+" is not a symbol!");for(var St in st)if(st[St]===gt)return St},useSetter:function(){Qe=!0},useSimple:function(){Qe=!1}}),H(H.S+H.F*!Oe,"Object",{create:function(gt,St){return void 0===St?O(gt):Nt(O(gt),St)},defineProperty:At,defineProperties:Nt,getOwnPropertyDescriptor:zn,getOwnPropertyNames:Ei,getOwnPropertySymbols:Zt}),oe&&H(H.S+H.F*(!Oe||B(function(){var cn=ie();return"[null]"!=fe([cn])||"{}"!=fe({a:cn})||"{}"!=fe(Object(cn))})),"JSON",{stringify:function(gt){if(void 0!==gt&&!ut(gt)){for(var Wn,Dt,St=[gt],Wt=1;arguments.length>Wt;)St.push(arguments[Wt++]);return"function"==typeof(Wn=St[1])&&(Dt=Wn),(Dt||!f(Wn))&&(Wn=function(Vt,cr){if(Dt&&(cr=Dt.call(this,Vt,cr)),!ut(cr))return cr}),St[1]=Wn,fe.apply(oe,St)}}}),ie[Ce][Ae]||P(26)(ie[Ce],Ae,ie[Ce].valueOf),F(ie,"Symbol"),F(Math,"Math",!0),F(W.JSON,"JSON",!0)},function(ge,ee,P){var W=P(40)("meta"),R=P(32),V=P(22),H=P(20).f,$=0,Y=Object.isExtensible||function(){return!0},B=!P(28)(function(){return Y(Object.preventExtensions({}))}),U=function(E){H(E,W,{value:{i:"O"+ ++$,w:{}}})},C=ge.exports={KEY:W,NEED:!1,fastKey:function(E,I){if(!R(E))return"symbol"==typeof E?E:("string"==typeof E?"S":"P")+E;if(!V(E,W)){if(!Y(E))return"F";if(!I)return"E";U(E)}return E[W].i},getWeak:function(E,I){if(!V(E,W)){if(!Y(E))return!0;if(!I)return!1;U(E)}return E[W].w},onFreeze:function(E){return B&&C.NEED&&Y(E)&&!V(E,W)&&U(E),E}}},function(ge,ee,P){var W=P(33),R=P(63),V=P(42);ge.exports=function(H){var $=W(H),Y=R.f;if(Y)for(var T,B=Y(H),U=V.f,F=0;B.length>F;)U.call(H,T=B[F++])&&$.push(T);return $}},function(ge,ee,P){var W=P(50);ge.exports=Array.isArray||function(V){return"Array"==W(V)}},function(ge,ee,P){var W=P(25),R=P(88).f,V={}.toString,H="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];ge.exports.f=function(B){return H&&"[object Window]"==V.call(B)?function(Y){try{return R(Y)}catch{return H.slice()}}(B):R(W(B))}},function(ge,ee){},function(ge,ee,P){P(62)("asyncIterator")},function(ge,ee,P){P(62)("observable")},function(ge,ee,P){(function(W){var H;H=function(){var V,p;function H(){return V.apply(null,arguments)}function Y(z){return z instanceof Array||"[object Array]"===Object.prototype.toString.call(z)}function B(z){return null!=z&&"[object Object]"===Object.prototype.toString.call(z)}function F(z){return void 0===z}function T(z){return"number"==typeof z||"[object Number]"===Object.prototype.toString.call(z)}function D(z){return z instanceof Date||"[object Date]"===Object.prototype.toString.call(z)}function C(z,Q){var pe,he=[];for(pe=0;pe<z.length;++pe)he.push(Q(z[pe],pe));return he}function E(z,Q){return Object.prototype.hasOwnProperty.call(z,Q)}function I(z,Q){for(var he in Q)E(Q,he)&&(z[he]=Q[he]);return E(Q,"toString")&&(z.toString=Q.toString),E(Q,"valueOf")&&(z.valueOf=Q.valueOf),z}function f(z,Q,he,pe){return bf(z,Q,he,pe,!0).utc()}function g(z){return null==z._pf&&(z._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),z._pf}function y(z){if(null==z._isValid){var Q=g(z),he=p.call(Q.parsedDateParts,function(Me){return null!=Me}),pe=!isNaN(z._d.getTime())&&Q.overflow<0&&!Q.empty&&!Q.invalidMonth&&!Q.invalidWeekday&&!Q.weekdayMismatch&&!Q.nullInput&&!Q.invalidFormat&&!Q.userInvalidated&&(!Q.meridiem||Q.meridiem&&he);if(z._strict&&(pe=pe&&0===Q.charsLeftOver&&0===Q.unusedTokens.length&&void 0===Q.bigHour),null!=Object.isFrozen&&Object.isFrozen(z))return pe;z._isValid=pe}return z._isValid}function O(z){var Q=f(NaN);return null!=z?I(g(Q),z):g(Q).userInvalidated=!0,Q}p=Array.prototype.some?Array.prototype.some:function(z){for(var Q=Object(this),he=Q.length>>>0,pe=0;pe<he;pe++)if(pe in Q&&z.call(this,Q[pe],pe,Q))return!0;return!1};var v=H.momentProperties=[];function w(z,Q){var he,pe,Me;if(F(Q._isAMomentObject)||(z._isAMomentObject=Q._isAMomentObject),F(Q._i)||(z._i=Q._i),F(Q._f)||(z._f=Q._f),F(Q._l)||(z._l=Q._l),F(Q._strict)||(z._strict=Q._strict),F(Q._tzm)||(z._tzm=Q._tzm),F(Q._isUTC)||(z._isUTC=Q._isUTC),F(Q._offset)||(z._offset=Q._offset),F(Q._pf)||(z._pf=g(Q)),F(Q._locale)||(z._locale=Q._locale),v.length>0)for(he=0;he<v.length;he++)F(Me=Q[pe=v[he]])||(z[pe]=Me);return z}var M=!1;function L(z){w(this,z),this._d=new Date(null!=z._d?z._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===M&&(M=!0,H.updateOffset(this),M=!1)}function X(z){return z instanceof L||null!=z&&null!=z._isAMomentObject}function q(z){return z<0?Math.ceil(z)||0:Math.floor(z)}function te(z){var Q=+z,he=0;return 0!==Q&&isFinite(Q)&&(he=q(Q)),he}function ie(z,Q,he){var ot,pe=Math.min(z.length,Q.length),Me=Math.abs(z.length-Q.length),Xe=0;for(ot=0;ot<pe;ot++)(he&&z[ot]!==Q[ot]||!he&&te(z[ot])!==te(Q[ot]))&&Xe++;return Xe+Me}function oe(z){!1===H.suppressDeprecationWarnings&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+z)}function fe(z,Q){var he=!0;return I(function(){if(null!=H.deprecationHandler&&H.deprecationHandler(null,z),he){for(var Me,pe=[],Xe=0;Xe<arguments.length;Xe++){if(Me="","object"==typeof arguments[Xe]){for(var ot in Me+="\n["+Xe+"] ",arguments[0])Me+=ot+": "+arguments[0][ot]+", ";Me=Me.slice(0,-2)}else Me=arguments[Xe];pe.push(Me)}oe(z+"\nArguments: "+Array.prototype.slice.call(pe).join("")+"\n"+(new Error).stack),he=!1}return Q.apply(this,arguments)},Q)}var We,Ce={};function De(z,Q){null!=H.deprecationHandler&&H.deprecationHandler(z,Q),Ce[z]||(oe(Q),Ce[z]=!0)}function Ae(z){return z instanceof Function||"[object Function]"===Object.prototype.toString.call(z)}function st(z,Q){var pe,he=I({},z);for(pe in Q)E(Q,pe)&&(B(z[pe])&&B(Q[pe])?(he[pe]={},I(he[pe],z[pe]),I(he[pe],Q[pe])):null!=Q[pe]?he[pe]=Q[pe]:delete he[pe]);for(pe in z)E(z,pe)&&!E(Q,pe)&&B(z[pe])&&(he[pe]=I({},he[pe]));return he}function it(z){null!=z&&this.set(z)}H.suppressDeprecationWarnings=!1,H.deprecationHandler=null,We=Object.keys?Object.keys:function(z){var Q,he=[];for(Q in z)E(z,Q)&&he.push(Q);return he};var Ei={};function Zt(z,Q){var he=z.toLowerCase();Ei[he]=Ei[he+"s"]=Ei[Q]=z}function ei(z){return"string"==typeof z?Ei[z]||Ei[z.toLowerCase()]:void 0}function Vi(z){var he,pe,Q={};for(pe in z)E(z,pe)&&(he=ei(pe))&&(Q[he]=z[pe]);return Q}var Oi={};function ti(z,Q){Oi[z]=Q}function gt(z,Q,he){var pe=""+Math.abs(z);return(z>=0?he?"+":"":"-")+Math.pow(10,Math.max(0,Q-pe.length)).toString().substr(1)+pe}var St=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Wt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wn={},Dt={};function Vt(z,Q,he,pe){var Me=pe;"string"==typeof pe&&(Me=function(){return this[pe]()}),z&&(Dt[z]=Me),Q&&(Dt[Q[0]]=function(){return gt(Me.apply(this,arguments),Q[1],Q[2])}),he&&(Dt[he]=function(){return this.localeData().ordinal(Me.apply(this,arguments),z)})}function cr(z){return z.match(/\[[\s\S]/)?z.replace(/^\[|\]$/g,""):z.replace(/\\/g,"")}function _c(z,Q){return z.isValid()?(Q=gd(Q,z.localeData()),Wn[Q]=Wn[Q]||function tr(z){var he,pe,Q=z.match(St);for(he=0,pe=Q.length;he<pe;he++)Q[he]=Dt[Q[he]]?Dt[Q[he]]:cr(Q[he]);return function(Me){var ot,Xe="";for(ot=0;ot<pe;ot++)Xe+=Ae(Q[ot])?Q[ot].call(Me,z):Q[ot];return Xe}}(Q),Wn[Q](z)):z.localeData().invalidDate()}function gd(z,Q){var he=5;function pe(Me){return Q.longDateFormat(Me)||Me}for(Wt.lastIndex=0;he>=0&&Wt.test(z);)z=z.replace(Wt,pe),Wt.lastIndex=0,he-=1;return z}var Yi=/\d/,En=/\d\d/,oi=/\d{3}/,wc=/\d{4}/,Do=/[+-]?\d{6}/,Ri=/\d\d?/,Qt=/\d\d\d\d?/,ju=/\d\d\d\d\d\d?/,ls=/\d{1,3}/,Ot=/\d{1,4}/,Bl=/[+-]?\d{1,6}/,Cn=/\d+/,ho=/[+-]?\d+/,Ni=/Z|[+-]\d\d:?\d\d/gi,Ys=/Z|[+-]\d\d(?::?\d\d)?/gi,Ks=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ya={};function Ft(z,Q,he){Ya[z]=Ae(Q)?Q:function(pe,Me){return pe&&he?he:Q}}function Gt(z,Q){return E(Ya,z)?Ya[z](Q._strict,Q._locale):new RegExp(function yd(z){return Mo(z.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(Q,he,pe,Me,Xe){return he||pe||Me||Xe}))}(z))}function Mo(z){return z.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var xc={};function bi(z,Q){var he,pe=Q;for("string"==typeof z&&(z=[z]),T(Q)&&(pe=function(Me,Xe){Xe[Q]=te(Me)}),he=0;he<z.length;he++)xc[z[he]]=pe}function ya(z,Q){bi(z,function(he,pe,Me,Xe){Me._w=Me._w||{},Q(he,Me._w,Me,Xe)})}function bd(z,Q,he){null!=Q&&E(xc,z)&&xc[z](Q,he._a,he,z)}var yr=0,To=1,Ci=2,Fi=3,Hi=4,Cs=5,ko=6,Ec=7,Ko=8;function Ao(z){return Br(z)?366:365}function Br(z){return z%4==0&&z%100!=0||z%400==0}Vt("Y",0,0,function(){var z=this.year();return z<=9999?""+z:"+"+z}),Vt(0,["YY",2],0,function(){return this.year()%100}),Vt(0,["YYYY",4],0,"year"),Vt(0,["YYYYY",5],0,"year"),Vt(0,["YYYYYY",6,!0],0,"year"),Zt("year","y"),ti("year",1),Ft("Y",ho),Ft("YY",Ri,En),Ft("YYYY",Ot,wc),Ft("YYYYY",Bl,Do),Ft("YYYYYY",Bl,Do),bi(["YYYYY","YYYYYY"],yr),bi("YYYY",function(z,Q){Q[yr]=2===z.length?H.parseTwoDigitYear(z):te(z)}),bi("YY",function(z,Q){Q[yr]=H.parseTwoDigitYear(z)}),bi("Y",function(z,Q){Q[yr]=parseInt(z,10)}),H.parseTwoDigitYear=function(z){return te(z)+(te(z)>68?1900:2e3)};var ui,zl=ba("FullYear",!0);function ba(z,Q){return function(he){return null!=he?(Ka(this,z,he),H.updateOffset(this,Q),this):Sc(this,z)}}function Sc(z,Q){return z.isValid()?z._d["get"+(z._isUTC?"UTC":"")+Q]():NaN}function Ka(z,Q,he){z.isValid()&&!isNaN(he)&&("FullYear"===Q&&Br(z.year())?z._d["set"+(z._isUTC?"UTC":"")+Q](he,z.month(),Xs(he,z.month())):z._d["set"+(z._isUTC?"UTC":"")+Q](he))}function Xs(z,Q){if(isNaN(z)||isNaN(Q))return NaN;var he=function zr(z,Q){return(z%Q+Q)%Q}(Q,12);return z+=(Q-he)/12,1===he?Br(z)?29:28:31-he%7%2}ui=Array.prototype.indexOf?Array.prototype.indexOf:function(z){var Q;for(Q=0;Q<this.length;++Q)if(this[Q]===z)return Q;return-1},Vt("M",["MM",2],"Mo",function(){return this.month()+1}),Vt("MMM",0,0,function(z){return this.localeData().monthsShort(this,z)}),Vt("MMMM",0,0,function(z){return this.localeData().months(this,z)}),Zt("month","M"),ti("month",8),Ft("M",Ri),Ft("MM",Ri,En),Ft("MMM",function(z,Q){return Q.monthsShortRegex(z)}),Ft("MMMM",function(z,Q){return Q.monthsRegex(z)}),bi(["M","MM"],function(z,Q){Q[To]=te(z)-1}),bi(["MMM","MMMM"],function(z,Q,he,pe){var Me=he._locale.monthsParse(z,pe,he._strict);null!=Me?Q[To]=Me:g(he).invalidMonth=z});var hi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ir="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Za="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Jr(z,Q,he){var pe,Me,Xe,ot=z.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],pe=0;pe<12;++pe)Xe=f([2e3,pe]),this._shortMonthsParse[pe]=this.monthsShort(Xe,"").toLocaleLowerCase(),this._longMonthsParse[pe]=this.months(Xe,"").toLocaleLowerCase();return he?"MMM"===Q?-1!==(Me=ui.call(this._shortMonthsParse,ot))?Me:null:-1!==(Me=ui.call(this._longMonthsParse,ot))?Me:null:"MMM"===Q?-1!==(Me=ui.call(this._shortMonthsParse,ot))||-1!==(Me=ui.call(this._longMonthsParse,ot))?Me:null:-1!==(Me=ui.call(this._longMonthsParse,ot))||-1!==(Me=ui.call(this._shortMonthsParse,ot))?Me:null}function Io(z,Q){var he;if(!z.isValid())return z;if("string"==typeof Q)if(/^\d+$/.test(Q))Q=te(Q);else if(!T(Q=z.localeData().monthsParse(Q)))return z;return he=Math.min(z.date(),Xs(z.year(),Q)),z._d["set"+(z._isUTC?"UTC":"")+"Month"](Q,he),z}function Zs(z){return null!=z?(Io(this,z),H.updateOffset(this,!0),this):Sc(this,"Month")}var on=Ks;var fo=Ks;function Qa(){function z(ot,en){return en.length-ot.length}var Me,Xe,Q=[],he=[],pe=[];for(Me=0;Me<12;Me++)Xe=f([2e3,Me]),Q.push(this.monthsShort(Xe,"")),he.push(this.months(Xe,"")),pe.push(this.months(Xe,"")),pe.push(this.monthsShort(Xe,""));for(Q.sort(z),he.sort(z),pe.sort(z),Me=0;Me<12;Me++)Q[Me]=Mo(Q[Me]),he[Me]=Mo(he[Me]);for(Me=0;Me<24;Me++)pe[Me]=Mo(pe[Me]);this._monthsRegex=new RegExp("^("+pe.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+he.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+Q.join("|")+")","i")}function Je(z,Q,he,pe,Me,Xe,ot){var en=new Date(z,Q,he,pe,Me,Xe,ot);return z<100&&z>=0&&isFinite(en.getFullYear())&&en.setFullYear(z),en}function Si(z){var Q=new Date(Date.UTC.apply(null,arguments));return z<100&&z>=0&&isFinite(Q.getUTCFullYear())&&Q.setUTCFullYear(z),Q}function rn(z,Q,he){var pe=7+Q-he;return-(7+Si(z,0,pe).getUTCDay()-Q)%7+pe-1}function Yn(z,Q,he,pe,Me){var Un,Ji,en=1+7*(Q-1)+(7+he-pe)%7+rn(z,pe,Me);return en<=0?Ji=Ao(Un=z-1)+en:en>Ao(z)?(Un=z+1,Ji=en-Ao(z)):(Un=z,Ji=en),{year:Un,dayOfYear:Ji}}function ye(z,Q,he){var Xe,ot,pe=rn(z.year(),Q,he),Me=Math.floor((z.dayOfYear()-pe-1)/7)+1;return Me<1?Xe=Me+Se(ot=z.year()-1,Q,he):Me>Se(z.year(),Q,he)?(Xe=Me-Se(z.year(),Q,he),ot=z.year()+1):(ot=z.year(),Xe=Me),{week:Xe,year:ot}}function Se(z,Q,he){var pe=rn(z,Q,he),Me=rn(z+1,Q,he);return(Ao(z)-pe+Me)/7}Vt("w",["ww",2],"wo","week"),Vt("W",["WW",2],"Wo","isoWeek"),Zt("week","w"),Zt("isoWeek","W"),ti("week",5),ti("isoWeek",5),Ft("w",Ri),Ft("ww",Ri,En),Ft("W",Ri),Ft("WW",Ri,En),ya(["w","ww","W","WW"],function(z,Q,he,pe){Q[pe.substr(0,1)]=te(z)});Vt("d",0,"do","day"),Vt("dd",0,0,function(z){return this.localeData().weekdaysMin(this,z)}),Vt("ddd",0,0,function(z){return this.localeData().weekdaysShort(this,z)}),Vt("dddd",0,0,function(z){return this.localeData().weekdays(this,z)}),Vt("e",0,0,"weekday"),Vt("E",0,0,"isoWeekday"),Zt("day","d"),Zt("weekday","e"),Zt("isoWeekday","E"),ti("day",11),ti("weekday",11),ti("isoWeekday",11),Ft("d",Ri),Ft("e",Ri),Ft("E",Ri),Ft("dd",function(z,Q){return Q.weekdaysMinRegex(z)}),Ft("ddd",function(z,Q){return Q.weekdaysShortRegex(z)}),Ft("dddd",function(z,Q){return Q.weekdaysRegex(z)}),ya(["dd","ddd","dddd"],function(z,Q,he,pe){var Me=he._locale.weekdaysParse(z,pe,he._strict);null!=Me?Q.d=Me:g(he).invalidWeekday=z}),ya(["d","e","E"],function(z,Q,he,pe){Q[pe]=te(z)});var _r="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var gm="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var k0="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function mf(z,Q,he){var pe,Me,Xe,ot=z.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],pe=0;pe<7;++pe)Xe=f([2e3,1]).day(pe),this._minWeekdaysParse[pe]=this.weekdaysMin(Xe,"").toLocaleLowerCase(),this._shortWeekdaysParse[pe]=this.weekdaysShort(Xe,"").toLocaleLowerCase(),this._weekdaysParse[pe]=this.weekdays(Xe,"").toLocaleLowerCase();return he?"dddd"===Q?-1!==(Me=ui.call(this._weekdaysParse,ot))?Me:null:"ddd"===Q?-1!==(Me=ui.call(this._shortWeekdaysParse,ot))?Me:null:-1!==(Me=ui.call(this._minWeekdaysParse,ot))?Me:null:"dddd"===Q?-1!==(Me=ui.call(this._weekdaysParse,ot))||-1!==(Me=ui.call(this._shortWeekdaysParse,ot))||-1!==(Me=ui.call(this._minWeekdaysParse,ot))?Me:null:"ddd"===Q?-1!==(Me=ui.call(this._shortWeekdaysParse,ot))||-1!==(Me=ui.call(this._weekdaysParse,ot))||-1!==(Me=ui.call(this._minWeekdaysParse,ot))?Me:null:-1!==(Me=ui.call(this._minWeekdaysParse,ot))||-1!==(Me=ui.call(this._weekdaysParse,ot))||-1!==(Me=ui.call(this._shortWeekdaysParse,ot))?Me:null}var vm=Ks;var gf=Ks;var wd=Ks;function xd(){function z(Jo,zo){return zo.length-Jo.length}var Xe,ot,en,Un,Ji,Q=[],he=[],pe=[],Me=[];for(Xe=0;Xe<7;Xe++)ot=f([2e3,1]).day(Xe),en=this.weekdaysMin(ot,""),Un=this.weekdaysShort(ot,""),Ji=this.weekdays(ot,""),Q.push(en),he.push(Un),pe.push(Ji),Me.push(en),Me.push(Un),Me.push(Ji);for(Q.sort(z),he.sort(z),pe.sort(z),Me.sort(z),Xe=0;Xe<7;Xe++)he[Xe]=Mo(he[Xe]),pe[Xe]=Mo(pe[Xe]),Me[Xe]=Mo(Me[Xe]);this._weekdaysRegex=new RegExp("^("+Me.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+pe.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+he.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Q.join("|")+")","i")}function Uu(){return this.hours()%12||12}function el(z,Q){Vt(z,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),Q)})}function $u(z,Q){return Q._meridiemParse}Vt("H",["HH",2],0,"hour"),Vt("h",["hh",2],0,Uu),Vt("k",["kk",2],0,function ym(){return this.hours()||24}),Vt("hmm",0,0,function(){return""+Uu.apply(this)+gt(this.minutes(),2)}),Vt("hmmss",0,0,function(){return""+Uu.apply(this)+gt(this.minutes(),2)+gt(this.seconds(),2)}),Vt("Hmm",0,0,function(){return""+this.hours()+gt(this.minutes(),2)}),Vt("Hmmss",0,0,function(){return""+this.hours()+gt(this.minutes(),2)+gt(this.seconds(),2)}),el("a",!0),el("A",!1),Zt("hour","h"),ti("hour",13),Ft("a",$u),Ft("A",$u),Ft("H",Ri),Ft("h",Ri),Ft("k",Ri),Ft("HH",Ri,En),Ft("hh",Ri,En),Ft("kk",Ri,En),Ft("hmm",Qt),Ft("hmmss",ju),Ft("Hmm",Qt),Ft("Hmmss",ju),bi(["H","HH"],Fi),bi(["k","kk"],function(z,Q,he){var pe=te(z);Q[Fi]=24===pe?0:pe}),bi(["a","A"],function(z,Q,he){he._isPm=he._locale.isPM(z),he._meridiem=z}),bi(["h","hh"],function(z,Q,he){Q[Fi]=te(z),g(he).bigHour=!0}),bi("hmm",function(z,Q,he){var pe=z.length-2;Q[Fi]=te(z.substr(0,pe)),Q[Hi]=te(z.substr(pe)),g(he).bigHour=!0}),bi("hmmss",function(z,Q,he){var pe=z.length-4,Me=z.length-2;Q[Fi]=te(z.substr(0,pe)),Q[Hi]=te(z.substr(pe,2)),Q[Cs]=te(z.substr(Me)),g(he).bigHour=!0}),bi("Hmm",function(z,Q,he){var pe=z.length-2;Q[Fi]=te(z.substr(0,pe)),Q[Hi]=te(z.substr(pe))}),bi("Hmmss",function(z,Q,he){var pe=z.length-4,Me=z.length-2;Q[Fi]=te(z.substr(0,pe)),Q[Hi]=te(z.substr(pe,2)),Q[Cs]=te(z.substr(Me))});var vf,Wu=ba("Hours",!0),Gu={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ir,monthsShort:Za,week:{dow:0,doy:6},weekdays:_r,weekdaysMin:k0,weekdaysShort:gm,meridiemParse:/[ap]\.?m?\.?/i},li={},Vl={};function Ii(z){return z&&z.toLowerCase().replace("_","-")}function Zn(z){var Q=null;if(!li[z]&&typeof W<"u"&&W&&W.exports)try{Q=vf._abbr,function(){var Me=new Error('Cannot find module "./locale"');throw Me.code="MODULE_NOT_FOUND",Me}(),Dc(Q)}catch{}return li[z]}function Dc(z,Q){var he;return z&&(he=F(Q)?No(z):Ro(z,Q))&&(vf=he),vf._abbr}function Ro(z,Q){if(null!==Q){var he=Gu;if(Q.abbr=z,null!=li[z])De("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),he=li[z]._config;else if(null!=Q.parentLocale){if(null==li[Q.parentLocale])return Vl[Q.parentLocale]||(Vl[Q.parentLocale]=[]),Vl[Q.parentLocale].push({name:z,config:Q}),null;he=li[Q.parentLocale]._config}return li[z]=new it(st(he,Q)),Vl[z]&&Vl[z].forEach(function(pe){Ro(pe.name,pe.config)}),Dc(z),li[z]}return delete li[z],null}function No(z){var Q;if(z&&z._locale&&z._locale._abbr&&(z=z._locale._abbr),!z)return vf;if(!Y(z)){if(Q=Zn(z))return Q;z=[z]}return function ji(z){for(var he,pe,Me,Xe,Q=0;Q<z.length;){for(he=(Xe=Ii(z[Q]).split("-")).length,pe=(pe=Ii(z[Q+1]))?pe.split("-"):null;he>0;){if(Me=Zn(Xe.slice(0,he).join("-")))return Me;if(pe&&pe.length>=he&&ie(Xe,pe,!0)>=he-1)break;he--}Q++}return null}(z)}function Jt(z){var Q,he=z._a;return he&&-2===g(z).overflow&&(Q=he[To]<0||he[To]>11?To:he[Ci]<1||he[Ci]>Xs(he[yr],he[To])?Ci:he[Fi]<0||he[Fi]>24||24===he[Fi]&&(0!==he[Hi]||0!==he[Cs]||0!==he[ko])?Fi:he[Hi]<0||he[Hi]>59?Hi:he[Cs]<0||he[Cs]>59?Cs:he[ko]<0||he[ko]>999?ko:-1,g(z)._overflowDayOfYear&&(Q<yr||Q>Ci)&&(Q=Ci),g(z)._overflowWeeks&&-1===Q&&(Q=Ec),g(z)._overflowWeekday&&-1===Q&&(Q=Ko),g(z).overflow=Q),z}function dr(z,Q,he){return z??Q??he}function Ss(z){var Q,he,Me,Xe,pe=[];if(!z._d){for(Me=function Yu(z){var Q=new Date(H.now());return z._useUTC?[Q.getUTCFullYear(),Q.getUTCMonth(),Q.getUTCDate()]:[Q.getFullYear(),Q.getMonth(),Q.getDate()]}(z),z._w&&null==z._a[Ci]&&null==z._a[To]&&function wm(z){var Q,he,pe,Me,Xe,ot,en,Un;if(null!=(Q=z._w).GG||null!=Q.W||null!=Q.E)Xe=1,ot=4,he=dr(Q.GG,z._a[yr],ye(pi(),1,4).year),pe=dr(Q.W,1),((Me=dr(Q.E,1))<1||Me>7)&&(Un=!0);else{Xe=z._locale._week.dow,ot=z._locale._week.doy;var Ji=ye(pi(),Xe,ot);he=dr(Q.gg,z._a[yr],Ji.year),pe=dr(Q.w,Ji.week),null!=Q.d?((Me=Q.d)<0||Me>6)&&(Un=!0):null!=Q.e?(Me=Q.e+Xe,(Q.e<0||Q.e>6)&&(Un=!0)):Me=Xe}pe<1||pe>Se(he,Xe,ot)?g(z)._overflowWeeks=!0:null!=Un?g(z)._overflowWeekday=!0:(en=Yn(he,pe,Me,Xe,ot),z._a[yr]=en.year,z._dayOfYear=en.dayOfYear)}(z),null!=z._dayOfYear&&(Xe=dr(z._a[yr],Me[yr]),(z._dayOfYear>Ao(Xe)||0===z._dayOfYear)&&(g(z)._overflowDayOfYear=!0),he=Si(Xe,0,z._dayOfYear),z._a[To]=he.getUTCMonth(),z._a[Ci]=he.getUTCDate()),Q=0;Q<3&&null==z._a[Q];++Q)z._a[Q]=pe[Q]=Me[Q];for(;Q<7;Q++)z._a[Q]=pe[Q]=null==z._a[Q]?2===Q?1:0:z._a[Q];24===z._a[Fi]&&0===z._a[Hi]&&0===z._a[Cs]&&0===z._a[ko]&&(z._nextDay=!0,z._a[Fi]=0),z._d=(z._useUTC?Si:Je).apply(null,pe),null!=z._tzm&&z._d.setUTCMinutes(z._d.getUTCMinutes()-z._tzm),z._nextDay&&(z._a[Fi]=24),z._w&&typeof z._w.d<"u"&&z._w.d!==z._d.getDay()&&(g(z).weekdayMismatch=!0)}}var Ea=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Qv=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,je=/Z|[+-]\d\d(?::?\d\d)?/,Mc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],It=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],eo=/^\/?Date\((\-?\d+)/i;function Tc(z){var Q,he,Xe,ot,en,Un,pe=z._i,Me=Ea.exec(pe)||Qv.exec(pe);if(Me){for(g(z).iso=!0,Q=0,he=Mc.length;Q<he;Q++)if(Mc[Q][1].exec(Me[1])){ot=Mc[Q][0],Xe=!1!==Mc[Q][2];break}if(null==ot)return void(z._isValid=!1);if(Me[3]){for(Q=0,he=It.length;Q<he;Q++)if(It[Q][1].exec(Me[3])){en=(Me[2]||" ")+It[Q][0];break}if(null==en)return void(z._isValid=!1)}if(!Xe&&null!=en)return void(z._isValid=!1);if(Me[4]){if(!je.exec(Me[4]))return void(z._isValid=!1);Un="Z"}z._f=ot+(en||"")+(Un||""),Hl(z)}else z._isValid=!1}var tl=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Em(z){var Q=parseInt(z,10);return Q<=49?2e3+Q:Q<=999?1900+Q:Q}var Fo={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ds(z){var Q=tl.exec(function nl(z){return z.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(z._i));if(Q){var he=function xm(z,Q,he,pe,Me,Xe){var ot=[Em(z),Za.indexOf(Q),parseInt(he,10),parseInt(pe,10),parseInt(Me,10)];return Xe&&ot.push(parseInt(Xe,10)),ot}(Q[4],Q[3],Q[2],Q[5],Q[6],Q[7]);if(!function Ca(z,Q,he){return!z||gm.indexOf(z)===new Date(Q[0],Q[1],Q[2]).getDay()||(g(he).weekdayMismatch=!0,he._isValid=!1,!1)}(Q[1],he,z))return;z._a=he,z._tzm=function to(z,Q,he){if(z)return Fo[z];if(Q)return 0;var pe=parseInt(he,10),Me=pe%100;return(pe-Me)/100*60+Me}(Q[8],Q[9],Q[10]),z._d=Si.apply(null,z._a),z._d.setUTCMinutes(z._d.getUTCMinutes()-z._tzm),g(z).rfc2822=!0}else z._isValid=!1}function Hl(z){if(z._f!==H.ISO_8601)if(z._f!==H.RFC_2822){z._a=[],g(z).empty=!0;var he,pe,Me,Xe,ot,Q=""+z._i,en=Q.length,Un=0;for(Me=gd(z._f,z._locale).match(St)||[],he=0;he<Me.length;he++)(pe=(Q.match(Gt(Xe=Me[he],z))||[])[0])&&((ot=Q.substr(0,Q.indexOf(pe))).length>0&&g(z).unusedInput.push(ot),Q=Q.slice(Q.indexOf(pe)+pe.length),Un+=pe.length),Dt[Xe]?(pe?g(z).empty=!1:g(z).unusedTokens.push(Xe),bd(Xe,pe,z)):z._strict&&!pe&&g(z).unusedTokens.push(Xe);g(z).charsLeftOver=en-Un,Q.length>0&&g(z).unusedInput.push(Q),z._a[Fi]<=12&&!0===g(z).bigHour&&z._a[Fi]>0&&(g(z).bigHour=void 0),g(z).parsedDateParts=z._a.slice(0),g(z).meridiem=z._meridiem,z._a[Fi]=function Ku(z,Q,he){var pe;return null==he?Q:null!=z.meridiemHour?z.meridiemHour(Q,he):(null!=z.isPM&&((pe=z.isPM(he))&&Q<12&&(Q+=12),!pe&&12===Q&&(Q=0)),Q)}(z._locale,z._a[Fi],z._meridiem),Ss(z),Jt(z)}else Ds(z);else Tc(z)}function jl(z){var Q=z._i,he=z._f;return z._locale=z._locale||No(z._l),null===Q||void 0===he&&""===Q?O({nullInput:!0}):("string"==typeof Q&&(z._i=Q=z._locale.preparse(Q)),X(Q)?new L(Jt(Q)):(D(Q)?z._d=Q:Y(he)?function il(z){var Q,he,pe,Me,Xe;if(0===z._f.length)return g(z).invalidFormat=!0,void(z._d=new Date(NaN));for(Me=0;Me<z._f.length;Me++)Xe=0,Q=w({},z),null!=z._useUTC&&(Q._useUTC=z._useUTC),Q._f=z._f[Me],Hl(Q),y(Q)&&(Xe+=g(Q).charsLeftOver,Xe+=10*g(Q).unusedTokens.length,g(Q).score=Xe,(null==pe||Xe<pe)&&(pe=Xe,he=Q));I(z,he||Q)}(z):he?Hl(z):function yf(z){var Q=z._i;F(Q)?z._d=new Date(H.now()):D(Q)?z._d=new Date(Q.valueOf()):"string"==typeof Q?function fi(z){var Q=eo.exec(z._i);null===Q?(Tc(z),!1===z._isValid&&(delete z._isValid,Ds(z),!1===z._isValid&&(delete z._isValid,H.createFromInputFallback(z)))):z._d=new Date(+Q[1])}(z):Y(Q)?(z._a=C(Q.slice(0),function(he){return parseInt(he,10)}),Ss(z)):B(Q)?function kc(z){if(!z._d){var Q=Vi(z._i);z._a=C([Q.year,Q.month,Q.day||Q.date,Q.hour,Q.minute,Q.second,Q.millisecond],function(he){return he&&parseInt(he,10)}),Ss(z)}}(z):T(Q)?z._d=new Date(Q):H.createFromInputFallback(z)}(z),y(z)||(z._d=null),z))}function bf(z,Q,he,pe,Me){var Xe={};return(!0===he||!1===he)&&(pe=he,he=void 0),(B(z)&&function U(z){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(z).length;var Q;for(Q in z)if(z.hasOwnProperty(Q))return!1;return!0}(z)||Y(z)&&0===z.length)&&(z=void 0),Xe._isAMomentObject=!0,Xe._useUTC=Xe._isUTC=Me,Xe._l=he,Xe._i=z,Xe._f=Q,Xe._strict=pe,function Qs(z){var Q=new L(Jt(jl(z)));return Q._nextDay&&(Q.add(1,"d"),Q._nextDay=void 0),Q}(Xe)}function pi(z,Q,he,pe){return bf(z,Q,he,pe,!1)}H.createFromInputFallback=fe("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(z){z._d=new Date(z._i+(z._useUTC?" UTC":""))}),H.ISO_8601=function(){},H.RFC_2822=function(){};var Cm=fe("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var z=pi.apply(null,arguments);return this.isValid()&&z.isValid()?z<this?this:z:O()}),po=fe("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var z=pi.apply(null,arguments);return this.isValid()&&z.isValid()?z>this?this:z:O()});function qs(z,Q){var he,pe;if(1===Q.length&&Y(Q[0])&&(Q=Q[0]),!Q.length)return pi();for(he=Q[0],pe=1;pe<Q.length;++pe)(!Q[pe].isValid()||Q[pe][z](he))&&(he=Q[pe]);return he}var Ul=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Zu(z){var Q=Vi(z),he=Q.year||0,pe=Q.quarter||0,Me=Q.month||0,Xe=Q.week||0,ot=Q.day||0,en=Q.hour||0,Un=Q.minute||0,Ji=Q.second||0,Jo=Q.millisecond||0;this._isValid=function Xo(z){for(var Q in z)if(-1===ui.call(Ul,Q)||null!=z[Q]&&isNaN(z[Q]))return!1;for(var he=!1,pe=0;pe<Ul.length;++pe)if(z[Ul[pe]]){if(he)return!1;parseFloat(z[Ul[pe]])!==te(z[Ul[pe]])&&(he=!0)}return!0}(Q),this._milliseconds=+Jo+1e3*Ji+6e4*Un+1e3*en*60*60,this._days=+ot+7*Xe,this._months=+Me+3*pe+12*he,this._data={},this._locale=No(),this._bubble()}function Sa(z){return z instanceof Zu}function Cd(z){return z<0?-1*Math.round(-1*z):Math.round(z)}function _f(z,Q){Vt(z,0,0,function(){var he=this.utcOffset(),pe="+";return he<0&&(he=-he,pe="-"),pe+gt(~~(he/60),2)+Q+gt(~~he%60,2)})}_f("Z",":"),_f("ZZ",""),Ft("Z",Ys),Ft("ZZ",Ys),bi(["Z","ZZ"],function(z,Q,he){he._useUTC=!0,he._tzm=Qu(Ys,z)});var qv=/([\+\-]|\d\d)/gi;function Qu(z,Q){var he=(Q||"").match(z);if(null===he)return null;var Me=((he[he.length-1]||[])+"").match(qv)||["-",0,0],Xe=60*Me[1]+te(Me[2]);return 0===Xe?0:"+"===Me[0]?Xe:-Xe}function Ac(z,Q){var he,pe;return Q._isUTC?(he=Q.clone(),pe=(X(z)||D(z)?z.valueOf():pi(z).valueOf())-he.valueOf(),he._d.setTime(he._d.valueOf()+pe),H.updateOffset(he,!1),he):pi(z).local()}function Sd(z){return 15*-Math.round(z._d.getTimezoneOffset()/15)}function go(){return!!this.isValid()&&this._isUTC&&0===this._offset}H.updateOffset=function(){};var ni=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,no=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Di(z,Q){var Me,Xe,ot,he=z,pe=null;return Sa(z)?he={ms:z._milliseconds,d:z._days,M:z._months}:T(z)?(he={},Q?he[Q]=z:he.milliseconds=z):(pe=ni.exec(z))?(Me="-"===pe[1]?-1:1,he={y:0,d:te(pe[Ci])*Me,h:te(pe[Fi])*Me,m:te(pe[Hi])*Me,s:te(pe[Cs])*Me,ms:te(Cd(1e3*pe[ko]))*Me}):(pe=no.exec(z))?he={y:Zo(pe[2],Me="-"===pe[1]?-1:1),M:Zo(pe[3],Me),w:Zo(pe[4],Me),d:Zo(pe[5],Me),h:Zo(pe[6],Me),m:Zo(pe[7],Me),s:Zo(pe[8],Me)}:null==he?he={}:"object"==typeof he&&("from"in he||"to"in he)&&(ot=function $l(z,Q){var he;return z.isValid()&&Q.isValid()?(Q=Ac(Q,z),z.isBefore(Q)?he=vo(z,Q):((he=vo(Q,z)).milliseconds=-he.milliseconds,he.months=-he.months),he):{milliseconds:0,months:0}}(pi(he.from),pi(he.to)),(he={}).ms=ot.milliseconds,he.M=ot.months),Xe=new Zu(he),Sa(z)&&E(z,"_locale")&&(Xe._locale=z._locale),Xe}function Zo(z,Q){var he=z&&parseFloat(z.replace(",","."));return(isNaN(he)?0:he)*Q}function vo(z,Q){var he={milliseconds:0,months:0};return he.months=Q.month()-z.month()+12*(Q.year()-z.year()),z.clone().add(he.months,"M").isAfter(Q)&&--he.months,he.milliseconds=+Q-+z.clone().add(he.months,"M"),he}function qu(z,Q){return function(he,pe){var Xe;return null!==pe&&!isNaN(+pe)&&(De(Q,"moment()."+Q+"(period, number) is deprecated. Please use moment()."+Q+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Xe=he,he=pe,pe=Xe),ol(this,Di(he="string"==typeof he?+he:he,pe),z),this}}function ol(z,Q,he,pe){var Me=Q._milliseconds,Xe=Cd(Q._days),ot=Cd(Q._months);z.isValid()&&(pe=pe??!0,ot&&Io(z,Sc(z,"Month")+ot*he),Xe&&Ka(z,"Date",Sc(z,"Date")+Xe*he),Me&&z._d.setTime(z._d.valueOf()+Me*he),pe&&H.updateOffset(z,Xe||ot))}Di.fn=Zu.prototype,Di.invalid=function Ms(){return Di(NaN)};var Jv=qu(1,"add"),wf=qu(-1,"subtract");function Hr(z,Q){var he=12*(Q.year()-z.year())+(Q.month()-z.month()),pe=z.clone().add(he,"months");return-(he+(Q-pe<0?(Q-pe)/(pe-z.clone().add(he-1,"months")):(Q-pe)/(z.clone().add(he+1,"months")-pe)))||0}function sl(z){var Q;return void 0===z?this._locale._abbr:(null!=(Q=No(z))&&(this._locale=Q),this)}H.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",H.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var al=fe("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(z){return void 0===z?this.localeData():this.locale(z)});function As(){return this._locale}function Li(z,Q){Vt(0,[z,z.length],0,Q)}function cl(z,Q,he,pe,Me){var Xe;return null==z?ye(this,pe,Me).year:(Q>(Xe=Se(z,pe,Me))&&(Q=Xe),Is.call(this,z,Q,he,pe,Me))}function Is(z,Q,he,pe,Me){var Xe=Yn(z,Q,he,pe,Me),ot=Si(Xe.year,0,Xe.dayOfYear);return this.year(ot.getUTCFullYear()),this.month(ot.getUTCMonth()),this.date(ot.getUTCDate()),this}Vt(0,["gg",2],0,function(){return this.weekYear()%100}),Vt(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Li("gggg","weekYear"),Li("ggggg","weekYear"),Li("GGGG","isoWeekYear"),Li("GGGGG","isoWeekYear"),Zt("weekYear","gg"),Zt("isoWeekYear","GG"),ti("weekYear",1),ti("isoWeekYear",1),Ft("G",ho),Ft("g",ho),Ft("GG",Ri,En),Ft("gg",Ri,En),Ft("GGGG",Ot,wc),Ft("gggg",Ot,wc),Ft("GGGGG",Bl,Do),Ft("ggggg",Bl,Do),ya(["gggg","ggggg","GGGG","GGGGG"],function(z,Q,he,pe){Q[pe.substr(0,2)]=te(z)}),ya(["gg","GG"],function(z,Q,he,pe){Q[pe]=H.parseTwoDigitYear(z)}),Vt("Q",0,"Qo","quarter"),Zt("quarter","Q"),ti("quarter",7),Ft("Q",Yi),bi("Q",function(z,Q){Q[To]=3*(te(z)-1)}),Vt("D",["DD",2],"Do","date"),Zt("date","D"),ti("date",9),Ft("D",Ri),Ft("DD",Ri,En),Ft("Do",function(z,Q){return z?Q._dayOfMonthOrdinalParse||Q._ordinalParse:Q._dayOfMonthOrdinalParseLenient}),bi(["D","DD"],Ci),bi("Do",function(z,Q){Q[Ci]=te(z.match(Ri)[0])});var Pr=ba("Date",!0);Vt("DDD",["DDDD",3],"DDDo","dayOfYear"),Zt("dayOfYear","DDD"),ti("dayOfYear",4),Ft("DDD",ls),Ft("DDDD",oi),bi(["DDD","DDDD"],function(z,Q,he){he._dayOfYear=te(z)}),Vt("m",["mm",2],0,"minute"),Zt("minute","m"),ti("minute",14),Ft("m",Ri),Ft("mm",Ri,En),bi(["m","mm"],Hi);var Am=ba("Minutes",!1);Vt("s",["ss",2],0,"second"),Zt("second","s"),ti("second",15),Ft("s",Ri),Ft("ss",Ri,En),bi(["s","ss"],Cs);var Kl,yo=ba("Seconds",!1);for(Vt("S",0,0,function(){return~~(this.millisecond()/100)}),Vt(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Vt(0,["SSS",3],0,"millisecond"),Vt(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Vt(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Vt(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Vt(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Vt(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Vt(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Zt("millisecond","ms"),ti("millisecond",16),Ft("S",ls,Yi),Ft("SS",ls,En),Ft("SSS",ls,oi),Kl="SSSS";Kl.length<=9;Kl+="S")Ft(Kl,Cn);function me(z,Q){Q[ko]=te(1e3*("0."+z))}for(Kl="S";Kl.length<=9;Kl+="S")bi(Kl,me);var jn=ba("Milliseconds",!1);Vt("z",0,0,"zoneAbbr"),Vt("zz",0,0,"zoneName");var Et=L.prototype;function ny(z){return z}Et.add=Jv,Et.calendar=function Lt(z,Q){var he=z||pi(),pe=Ac(he,this).startOf("day"),Me=H.calendarFormat(this,pe)||"sameElse",Xe=Q&&(Ae(Q[Me])?Q[Me].call(this,he):Q[Me]);return this.format(Xe||this.localeData().calendar(Me,this,pi(he)))},Et.clone=function Sn(){return new L(this)},Et.diff=function Qo(z,Q,he){var pe,Me,ot;if(!this.isValid())return NaN;if(!(pe=Ac(z,this)).isValid())return NaN;switch(Me=6e4*(pe.utcOffset()-this.utcOffset()),Q=ei(Q)){case"year":ot=Hr(this,pe)/12;break;case"month":ot=Hr(this,pe);break;case"quarter":ot=Hr(this,pe)/3;break;case"second":ot=(this-pe)/1e3;break;case"minute":ot=(this-pe)/6e4;break;case"hour":ot=(this-pe)/36e5;break;case"day":ot=(this-pe-Me)/864e5;break;case"week":ot=(this-pe-Me)/6048e5;break;default:ot=this-pe}return he?ot:q(ot)},Et.endOf=function Dd(z){return void 0===(z=ei(z))||"millisecond"===z?this:("date"===z&&(z="day"),this.startOf(z).add(1,"isoWeek"===z?"week":z).subtract(1,"ms"))},Et.format=function ks(z){z||(z=this.isUtc()?H.defaultFormatUtc:H.defaultFormat);var Q=_c(this,z);return this.localeData().postformat(Q)},Et.from=function qi(z,Q){return this.isValid()&&(X(z)&&z.isValid()||pi(z).isValid())?Di({to:this,from:z}).locale(this.locale()).humanize(!Q):this.localeData().invalidDate()},Et.fromNow=function Gl(z){return this.from(pi(),z)},Et.to=function Ma(z,Q){return this.isValid()&&(X(z)&&z.isValid()||pi(z).isValid())?Di({from:this,to:z}).locale(this.locale()).humanize(!Q):this.localeData().invalidDate()},Et.toNow=function Xi(z){return this.to(pi(),z)},Et.get=function Oo(z){return Ae(this[z=ei(z)])?this[z]():this},Et.invalidAt=function Os(){return g(this).overflow},Et.isAfter=function Qi(z,Q){var he=X(z)?z:pi(z);return!(!this.isValid()||!he.isValid())&&("millisecond"===(Q=ei(F(Q)?"millisecond":Q))?this.valueOf()>he.valueOf():he.valueOf()<this.clone().startOf(Q).valueOf())},Et.isBefore=function Ts(z,Q){var he=X(z)?z:pi(z);return!(!this.isValid()||!he.isValid())&&("millisecond"===(Q=ei(F(Q)?"millisecond":Q))?this.valueOf()<he.valueOf():this.clone().endOf(Q).valueOf()<he.valueOf())},Et.isBetween=function Js(z,Q,he,pe){return("("===(pe=pe||"()")[0]?this.isAfter(z,he):!this.isBefore(z,he))&&(")"===pe[1]?this.isBefore(Q,he):!this.isAfter(Q,he))},Et.isSame=function Vr(z,Q){var pe,he=X(z)?z:pi(z);return!(!this.isValid()||!he.isValid())&&("millisecond"===(Q=ei(Q||"millisecond"))?this.valueOf()===he.valueOf():(pe=he.valueOf(),this.clone().startOf(Q).valueOf()<=pe&&pe<=this.clone().endOf(Q).valueOf()))},Et.isSameOrAfter=function Wl(z,Q){return this.isSame(z,Q)||this.isAfter(z,Q)},Et.isSameOrBefore=function ir(z,Q){return this.isSame(z,Q)||this.isBefore(z,Q)},Et.isValid=function Md(){return y(this)},Et.lang=al,Et.locale=sl,Et.localeData=As,Et.max=po,Et.min=Cm,Et.parsingFlags=function ll(){return I({},g(this))},Et.set=function qr(z,Q){if("object"==typeof z)for(var he=function cn(z){var Q=[];for(var he in z)Q.push({unit:he,priority:Oi[he]});return Q.sort(function(pe,Me){return pe.priority-Me.priority}),Q}(z=Vi(z)),pe=0;pe<he.length;pe++)this[he[pe].unit](z[he[pe].unit]);else if(Ae(this[z=ei(z)]))return this[z](Q);return this},Et.startOf=function Ta(z){switch(z=ei(z)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===z&&this.weekday(0),"isoWeek"===z&&this.isoWeekday(1),"quarter"===z&&this.month(3*Math.floor(this.month()/3)),this},Et.subtract=wf,Et.toArray=function th(){var z=this;return[z.year(),z.month(),z.date(),z.hour(),z.minute(),z.second(),z.millisecond()]},Et.toObject=function km(){var z=this;return{years:z.year(),months:z.month(),date:z.date(),hours:z.hours(),minutes:z.minutes(),seconds:z.seconds(),milliseconds:z.milliseconds()}},Et.toDate=function ey(){return new Date(this.valueOf())},Et.toISOString=function Da(){if(!this.isValid())return null;var z=this.clone().utc();return z.year()<0||z.year()>9999?_c(z,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Ae(Date.prototype.toISOString)?this.toDate().toISOString():_c(z,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Et.inspect=function Ju(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var z="moment",Q="";this.isLocal()||(z=0===this.utcOffset()?"moment.utc":"moment.parseZone",Q="Z");var he="["+z+'("]',pe=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(he+pe+"-MM-DD[T]HH:mm:ss.SSS"+Q+'[")]')},Et.toJSON=function ea(){return this.isValid()?this.toISOString():null},Et.toString=function Dn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Et.unix=function Qn(){return Math.floor(this.valueOf()/1e3)},Et.valueOf=function eh(){return this._d.valueOf()-6e4*(this._offset||0)},Et.creationData=function Er(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Et.year=zl,Et.isLeapYear=function Cc(){return Br(this.year())},Et.weekYear=function io(z){return cl.call(this,z,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Et.isoWeekYear=function qo(z){return cl.call(this,z,this.isoWeek(),this.isoWeekday(),1,4)},Et.quarter=Et.quarters=function Ef(z){return null==z?Math.ceil((this.month()+1)/3):this.month(3*(z-1)+this.month()%3)},Et.month=Zs,Et.daysInMonth=function qt(){return Xs(this.year(),this.month())},Et.week=Et.weeks=function Vn(z){var Q=this.localeData().week(this);return null==z?Q:this.add(7*(z-Q),"d")},Et.isoWeek=Et.isoWeeks=function br(z){var Q=ye(this,1,4).week;return null==z?Q:this.add(7*(z-Q),"d")},Et.weeksInYear=function Yl(){var z=this.localeData()._week;return Se(this.year(),z.dow,z.doy)},Et.isoWeeksInYear=function xf(){return Se(this.year(),1,4)},Et.date=Pr,Et.day=Et.days=function si(z){if(!this.isValid())return null!=z?this:NaN;var Q=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=z?(z=function mn(z,Q){return"string"!=typeof z?z:isNaN(z)?"number"==typeof(z=Q.weekdaysParse(z))?z:null:parseInt(z,10)}(z,this.localeData()),this.add(z-Q,"d")):Q},Et.weekday=function A0(z){if(!this.isValid())return null!=z?this:NaN;var Q=(this.day()+7-this.localeData()._week.dow)%7;return null==z?Q:this.add(z-Q,"d")},Et.isoWeekday=function _d(z){if(!this.isValid())return null!=z?this:NaN;if(null!=z){var Q=function nr(z,Q){return"string"==typeof z?Q.weekdaysParse(z)%7||7:isNaN(z)?null:z}(z,this.localeData());return this.day(this.day()%7?Q:Q-7)}return this.day()||7},Et.dayOfYear=function Td(z){var Q=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==z?Q:this.add(z-Q,"d")},Et.hour=Et.hours=Wu,Et.minute=Et.minutes=Am,Et.second=Et.seconds=yo,Et.millisecond=Et.milliseconds=jn,Et.utcOffset=function Dm(z,Q,he){var Me,pe=this._offset||0;if(!this.isValid())return null!=z?this:NaN;if(null!=z){if("string"==typeof z){if(null===(z=Qu(Ys,z)))return this}else Math.abs(z)<16&&!he&&(z*=60);return!this._isUTC&&Q&&(Me=Sd(this)),this._offset=z,this._isUTC=!0,null!=Me&&this.add(Me,"m"),pe!==z&&(!Q||this._changeInProgress?ol(this,Di(z-pe,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,H.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?pe:Sd(this)},Et.utc=function _i(z){return this.utcOffset(0,z)},Et.local=function rl(z){return this._isUTC&&(this.utcOffset(0,z),this._isUTC=!1,z&&this.subtract(Sd(this),"m")),this},Et.parseZone=function Mm(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var z=Qu(Ni,this._i);null!=z?this.utcOffset(z):this.utcOffset(0,!0)}return this},Et.hasAlignedHourOffset=function Oc(z){return!!this.isValid()&&(z=z?pi(z).utcOffset():0,(this.utcOffset()-z)%60==0)},Et.isDST=function mi(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Et.isLocal=function Tm(){return!!this.isValid()&&!this._isUTC},Et.isUtcOffset=function Mt(){return!!this.isValid()&&this._isUTC},Et.isUtc=go,Et.isUTC=go,Et.zoneAbbr=function _t(){return this._isUTC?"UTC":""},Et.zoneName=function qn(){return this._isUTC?"Coordinated Universal Time":""},Et.dates=fe("dates accessor is deprecated. Use date instead.",Pr),Et.months=fe("months accessor is deprecated. Use month instead",Zs),Et.years=fe("years accessor is deprecated. Use year instead",zl),Et.zone=fe("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function mo(z,Q){return null!=z?("string"!=typeof z&&(z=-z),this.utcOffset(z,Q),this):-this.utcOffset()}),Et.isDSTShifted=fe("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function cs(){if(!F(this._isDSTShifted))return this._isDSTShifted;var z={};if(w(z,this),(z=jl(z))._a){var Q=z._isUTC?f(z._a):pi(z._a);this._isDSTShifted=this.isValid()&&ie(z._a,Q.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var Ui=it.prototype;function nh(z,Q,he,pe){var Me=No(),Xe=f().set(pe,Q);return Me[he](Xe,z)}function iy(z,Q,he){if(T(z)&&(Q=z,z=void 0),z=z||"",null!=Q)return nh(z,Q,he,"month");var pe,Me=[];for(pe=0;pe<12;pe++)Me[pe]=nh(z,pe,he,"month");return Me}function ih(z,Q,he,pe){"boolean"==typeof z?(T(Q)&&(he=Q,Q=void 0),Q=Q||""):(he=Q=z,z=!1,T(Q)&&(he=Q,Q=void 0),Q=Q||"");var Me=No(),Xe=z?Me._week.dow:0;if(null!=he)return nh(Q,(he+Xe)%7,pe,"day");var ot,en=[];for(ot=0;ot<7;ot++)en[ot]=nh(Q,(ot+Xe)%7,pe,"day");return en}Ui.calendar=function Oe(z,Q,he){var pe=this._calendar[z]||this._calendar.sameElse;return Ae(pe)?pe.call(Q,he):pe},Ui.longDateFormat=function Qe(z){var Q=this._longDateFormat[z],he=this._longDateFormat[z.toUpperCase()];return Q||!he?Q:(this._longDateFormat[z]=he.replace(/MMMM|MM|DD|dddd/g,function(pe){return pe.slice(1)}),this._longDateFormat[z])},Ui.invalidDate=function nt(){return this._invalidDate},Ui.ordinal=function Nt(z){return this._ordinal.replace("%d",z)},Ui.preparse=ny,Ui.postformat=ny,Ui.relativeTime=function Mn(z,Q,he,pe){var Me=this._relativeTime[he];return Ae(Me)?Me(z,Q,he,pe):Me.replace(/%d/i,z)},Ui.pastFuture=function zn(z,Q){var he=this._relativeTime[z>0?"future":"past"];return Ae(he)?he(Q):he.replace(/%s/i,Q)},Ui.set=function Ye(z){var Q,he;for(he in z)Ae(Q=z[he])?this[he]=Q:this["_"+he]=Q;this._config=z,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Ui.months=function Xa(z,Q){return z?Y(this._months)?this._months[z.month()]:this._months[(this._months.isFormat||hi).test(Q)?"format":"standalone"][z.month()]:Y(this._months)?this._months:this._months.standalone},Ui.monthsShort=function Gn(z,Q){return z?Y(this._monthsShort)?this._monthsShort[z.month()]:this._monthsShort[hi.test(Q)?"format":"standalone"][z.month()]:Y(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Ui.monthsParse=function Ki(z,Q,he){var pe,Me,Xe;if(this._monthsParseExact)return Jr.call(this,z,Q,he);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),pe=0;pe<12;pe++){if(Me=f([2e3,pe]),he&&!this._longMonthsParse[pe]&&(this._longMonthsParse[pe]=new RegExp("^"+this.months(Me,"").replace(".","")+"$","i"),this._shortMonthsParse[pe]=new RegExp("^"+this.monthsShort(Me,"").replace(".","")+"$","i")),!he&&!this._monthsParse[pe]&&(Xe="^"+this.months(Me,"")+"|^"+this.monthsShort(Me,""),this._monthsParse[pe]=new RegExp(Xe.replace(".",""),"i")),he&&"MMMM"===Q&&this._longMonthsParse[pe].test(z))return pe;if(he&&"MMM"===Q&&this._shortMonthsParse[pe].test(z))return pe;if(!he&&this._monthsParse[pe].test(z))return pe}},Ui.monthsRegex=function wa(z){return this._monthsParseExact?(E(this,"_monthsRegex")||Qa.call(this),z?this._monthsStrictRegex:this._monthsRegex):(E(this,"_monthsRegex")||(this._monthsRegex=fo),this._monthsStrictRegex&&z?this._monthsStrictRegex:this._monthsRegex)},Ui.monthsShortRegex=function _a(z){return this._monthsParseExact?(E(this,"_monthsRegex")||Qa.call(this),z?this._monthsShortStrictRegex:this._monthsShortRegex):(E(this,"_monthsShortRegex")||(this._monthsShortRegex=on),this._monthsShortStrictRegex&&z?this._monthsShortStrictRegex:this._monthsShortRegex)},Ui.week=function Be(z){return ye(z,this._week.dow,this._week.doy).week},Ui.firstDayOfYear=function Bt(){return this._week.doy},Ui.firstDayOfWeek=function ct(){return this._week.dow},Ui.weekdays=function xa(z,Q){return z?Y(this._weekdays)?this._weekdays[z.day()]:this._weekdays[this._weekdays.isFormat.test(Q)?"format":"standalone"][z.day()]:Y(this._weekdays)?this._weekdays:this._weekdays.standalone},Ui.weekdaysMin=function Xv(z){return z?this._weekdaysMin[z.day()]:this._weekdaysMin},Ui.weekdaysShort=function qa(z){return z?this._weekdaysShort[z.day()]:this._weekdaysShort},Ui.weekdaysParse=function Po(z,Q,he){var pe,Me,Xe;if(this._weekdaysParseExact)return mf.call(this,z,Q,he);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),pe=0;pe<7;pe++){if(Me=f([2e3,1]).day(pe),he&&!this._fullWeekdaysParse[pe]&&(this._fullWeekdaysParse[pe]=new RegExp("^"+this.weekdays(Me,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[pe]=new RegExp("^"+this.weekdaysShort(Me,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[pe]=new RegExp("^"+this.weekdaysMin(Me,"").replace(".",".?")+"$","i")),this._weekdaysParse[pe]||(Xe="^"+this.weekdays(Me,"")+"|^"+this.weekdaysShort(Me,"")+"|^"+this.weekdaysMin(Me,""),this._weekdaysParse[pe]=new RegExp(Xe.replace(".",""),"i")),he&&"dddd"===Q&&this._fullWeekdaysParse[pe].test(z))return pe;if(he&&"ddd"===Q&&this._shortWeekdaysParse[pe].test(z))return pe;if(he&&"dd"===Q&&this._minWeekdaysParse[pe].test(z))return pe;if(!he&&this._weekdaysParse[pe].test(z))return pe}},Ui.weekdaysRegex=function xt(z){return this._weekdaysParseExact?(E(this,"_weekdaysRegex")||xd.call(this),z?this._weekdaysStrictRegex:this._weekdaysRegex):(E(this,"_weekdaysRegex")||(this._weekdaysRegex=vm),this._weekdaysStrictRegex&&z?this._weekdaysStrictRegex:this._weekdaysRegex)},Ui.weekdaysShortRegex=function ai(z){return this._weekdaysParseExact?(E(this,"_weekdaysRegex")||xd.call(this),z?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(E(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=gf),this._weekdaysShortStrictRegex&&z?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Ui.weekdaysMinRegex=function Ja(z){return this._weekdaysParseExact?(E(this,"_weekdaysRegex")||xd.call(this),z?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(E(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=wd),this._weekdaysMinStrictRegex&&z?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Ui.isPM=function bm(z){return"p"===(z+"").toLowerCase().charAt(0)},Ui.meridiem=function tn(z,Q,he){return z>11?he?"pm":"PM":he?"am":"AM"},Dc("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(z){var Q=z%10;return z+(1===te(z%100/10)?"th":1===Q?"st":2===Q?"nd":3===Q?"rd":"th")}}),H.lang=fe("moment.lang is deprecated. Use moment.locale instead.",Dc),H.langData=fe("moment.langData is deprecated. Use moment.localeData instead.",No);var Ps=Math.abs;function Rn(z,Q,he,pe){var Me=Di(Q,he);return z._milliseconds+=pe*Me._milliseconds,z._days+=pe*Me._days,z._months+=pe*Me._months,z._bubble()}function Ic(z){return z<0?Math.floor(z):Math.ceil(z)}function sh(z){return 4800*z/146097}function Sf(z){return 146097*z/4800}function Jn(z){return function(){return this.as(z)}}var Pc=Jn("ms"),ka=Jn("s"),Nn=Jn("m"),Ct=Jn("h"),ul=Jn("d"),ry=Jn("w"),Ad=Jn("M"),hl=Jn("y");function ta(z){return function(){return this.isValid()?this._data[z]:NaN}}var sy=ta("milliseconds"),I0=ta("seconds"),Mf=ta("minutes"),ay=ta("hours"),Im=ta("days"),ly=ta("months"),cy=ta("years");var us=Math.round,na={ss:44,s:45,m:45,h:22,d:26,M:11};function Pm(z,Q,he,pe,Me){return Me.relativeTime(Q||1,!!he,z,pe)}var Od=Math.abs;function ur(z){return(z>0)-(z<0)||+z}function Rc(){if(!this.isValid())return this.localeData().invalidDate();var pe,Me,z=Od(this._milliseconds)/1e3,Q=Od(this._days),he=Od(this._months);pe=q(z/60),Me=q(pe/60),z%=60,pe%=60;var ot=q(he/12),en=he%=12,Un=Q,Ji=Me,Jo=pe,zo=z?z.toFixed(3).replace(/\.?0+$/,""):"",Ql=this.asSeconds();if(!Ql)return"P0D";var dy=Ql<0?"-":"",hs=ur(this._months)!==ur(Ql)?"-":"",ah=ur(this._days)!==ur(Ql)?"-":"",lh=ur(this._milliseconds)!==ur(Ql)?"-":"";return dy+"P"+(ot?hs+ot+"Y":"")+(en?hs+en+"M":"")+(Un?ah+Un+"D":"")+(Ji||Jo||zo?"T":"")+(Ji?lh+Ji+"H":"")+(Jo?lh+Jo+"M":"")+(zo?lh+zo+"S":"")}var Fn=Zu.prototype;return Fn.isValid=function Sm(){return this._isValid},Fn.abs=function rh(){var z=this._data;return this._milliseconds=Ps(this._milliseconds),this._days=Ps(this._days),this._months=Ps(this._months),z.milliseconds=Ps(z.milliseconds),z.seconds=Ps(z.seconds),z.minutes=Ps(z.minutes),z.hours=Ps(z.hours),z.months=Ps(z.months),z.years=Ps(z.years),this},Fn.add=function Bo(z,Q){return Rn(this,z,Q,1)},Fn.subtract=function oh(z,Q){return Rn(this,z,Q,-1)},Fn.as=function ds(z){if(!this.isValid())return NaN;var Q,he,pe=this._milliseconds;if("month"===(z=ei(z))||"year"===z)return he=this._months+sh(Q=this._days+pe/864e5),"month"===z?he:he/12;switch(Q=this._days+Math.round(Sf(this._months)),z){case"week":return Q/7+pe/6048e5;case"day":return Q+pe/864e5;case"hour":return 24*Q+pe/36e5;case"minute":return 1440*Q+pe/6e4;case"second":return 86400*Q+pe/1e3;case"millisecond":return Math.floor(864e5*Q)+pe;default:throw new Error("Unknown unit "+z)}},Fn.asMilliseconds=Pc,Fn.asSeconds=ka,Fn.asMinutes=Nn,Fn.asHours=Ct,Fn.asDays=ul,Fn.asWeeks=ry,Fn.asMonths=Ad,Fn.asYears=hl,Fn.valueOf=function kd(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*te(this._months/12):NaN},Fn._bubble=function Zl(){var Me,Xe,ot,en,Un,z=this._milliseconds,Q=this._days,he=this._months,pe=this._data;return z>=0&&Q>=0&&he>=0||z<=0&&Q<=0&&he<=0||(z+=864e5*Ic(Sf(he)+Q),Q=0,he=0),pe.milliseconds=z%1e3,Me=q(z/1e3),pe.seconds=Me%60,Xe=q(Me/60),pe.minutes=Xe%60,ot=q(Xe/60),pe.hours=ot%24,Q+=q(ot/24),he+=Un=q(sh(Q)),Q-=Ic(Sf(Un)),en=q(he/12),he%=12,pe.days=Q,pe.months=he,pe.years=en,this},Fn.clone=function Df(){return Di(this)},Fn.get=function oy(z){return z=ei(z),this.isValid()?this[z+"s"]():NaN},Fn.milliseconds=sy,Fn.seconds=I0,Fn.minutes=Mf,Fn.hours=ay,Fn.days=Im,Fn.weeks=function Rr(){return q(this.days()/7)},Fn.months=ly,Fn.years=cy,Fn.humanize=function fl(z){if(!this.isValid())return this.localeData().invalidDate();var Q=this.localeData(),he=function ia(z,Q,he){var pe=Di(z).abs(),Me=us(pe.as("s")),Xe=us(pe.as("m")),ot=us(pe.as("h")),en=us(pe.as("d")),Un=us(pe.as("M")),Ji=us(pe.as("y")),Jo=Me<=na.ss&&["s",Me]||Me<na.s&&["ss",Me]||Xe<=1&&["m"]||Xe<na.m&&["mm",Xe]||ot<=1&&["h"]||ot<na.h&&["hh",ot]||en<=1&&["d"]||en<na.d&&["dd",en]||Un<=1&&["M"]||Un<na.M&&["MM",Un]||Ji<=1&&["y"]||["yy",Ji];return Jo[2]=Q,Jo[3]=+z>0,Jo[4]=he,Pm.apply(null,Jo)}(this,!z,Q);return z&&(he=Q.pastFuture(+this,he)),Q.postformat(he)},Fn.toISOString=Rc,Fn.toString=Rc,Fn.toJSON=Rc,Fn.locale=sl,Fn.localeData=As,Fn.toIsoString=fe("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Rc),Fn.lang=al,Vt("X",0,0,"unix"),Vt("x",0,0,"valueOf"),Ft("x",ho),Ft("X",/[+-]?\d+(\.\d{1,3})?/),bi("X",function(z,Q,he){he._d=new Date(1e3*parseFloat(z,10))}),bi("x",function(z,Q,he){he._d=new Date(te(z))}),H.version="2.19.1",function $(z){V=z}(pi),H.fn=Et,H.min=function Ed(){return qs("isBefore",[].slice.call(arguments,0))},H.max=function Xu(){return qs("isAfter",[].slice.call(arguments,0))},H.now=function(){return Date.now?Date.now():+new Date},H.utc=f,H.unix=function ty(z){return pi(1e3*z)},H.months=function Om(z,Q){return iy(z,Q,"months")},H.isDate=D,H.locale=Dc,H.invalid=O,H.duration=Di,H.isMoment=X,H.weekdays=function ci(z,Q,he){return ih(z,Q,he,"weekdays")},H.parseZone=function dl(){return pi.apply(null,arguments).parseZone()},H.localeData=No,H.isDuration=Sa,H.monthsShort=function O0(z,Q){return iy(z,Q,"monthsShort")},H.weekdaysMin=function Xl(z,Q,he){return ih(z,Q,he,"weekdaysMin")},H.defineLocale=Ro,H.updateLocale=function Ut(z,Q){if(null!=Q){var he,pe=Gu;null!=li[z]&&(pe=li[z]._config),(he=new it(Q=st(pe,Q))).parentLocale=li[z],li[z]=he,Dc(z)}else null!=li[z]&&(null!=li[z].parentLocale?li[z]=li[z].parentLocale:null!=li[z]&&delete li[z]);return li[z]},H.locales=function Zv(){return We(li)},H.weekdaysShort=function Cf(z,Q,he){return ih(z,Q,he,"weekdaysShort")},H.normalizeUnits=ei,H.relativeTimeRounding=function Rm(z){return void 0===z?us:"function"==typeof z&&(us=z,!0)},H.relativeTimeThreshold=function Nm(z,Q){return void 0!==na[z]&&(void 0===Q?na[z]:(na[z]=Q,"s"===z&&(na.ss=Q-1),!0))},H.calendarFormat=function xr(z,Q){var he=z.diff(Q,"days",!0);return he<-6?"sameElse":he<-1?"lastWeek":he<0?"lastDay":he<1?"sameDay":he<2?"nextDay":he<7?"nextWeek":"sameElse"},H.prototype=Et,H},W.exports=H()}).call(ee,P(155)(ge))},function(ge,ee){ge.exports=function(P){return P.webpackPolyfill||(P.deprecate=function(){},P.paths=[],P.children||(P.children=[]),Object.defineProperty(P,"loaded",{enumerable:!0,get:function(){return P.l}}),Object.defineProperty(P,"id",{enumerable:!0,get:function(){return P.i}}),P.webpackPolyfill=1),P}},function(ge,ee){function P(W){throw new Error("Cannot find module '"+W+"'.")}P.keys=function(){return[]},P.resolve=P,ge.exports=P,P.id=156},function(ge,ee,P){(function(W){var R,V=typeof window<"u"?window:typeof W<"u"?W:null;if(V&&V.crypto&&crypto.getRandomValues){var H=new Uint8Array(16);R=function(){return crypto.getRandomValues(H),H}}if(!R){var $=new Array(16);R=function(){for(var v,O=0;O<16;O++)3&O||(v=4294967296*Math.random()),$[O]=v>>>((3&O)<<3)&255;return $}}for(var Y=[],B={},U=0;U<256;U++)Y[U]=(U+256).toString(16).substr(1),B[Y[U]]=U;function T(y,O){var v=O||0;return Y[y[v++]]+Y[y[v++]]+Y[y[v++]]+Y[y[v++]]+"-"+Y[y[v++]]+Y[y[v++]]+"-"+Y[y[v++]]+Y[y[v++]]+"-"+Y[y[v++]]+Y[y[v++]]+"-"+Y[y[v++]]+Y[y[v++]]+Y[y[v++]]+Y[y[v++]]+Y[y[v++]]+Y[y[v++]]}var D=R(),C=[1|D[0],D[1],D[2],D[3],D[4],D[5]],E=16383&(D[6]<<8|D[7]),I=0,f=0;function g(y,O,v){var w=O&&v||0;"string"==typeof y&&(O="binary"==y?new Array(16):null,y=null);var M=(y=y||{}).random||(y.rng||R)();if(M[6]=15&M[6]|64,M[8]=63&M[8]|128,O)for(var L=0;L<16;L++)O[w+L]=M[L];return O||T(M)}var p=g;p.v1=function _(y,O,v){var w=O&&v||0,M=O||[],L=void 0!==(y=y||{}).clockseq?y.clockseq:E,X=void 0!==y.msecs?y.msecs:(new Date).getTime(),q=void 0!==y.nsecs?y.nsecs:f+1,te=X-I+(q-f)/1e4;if(te<0&&void 0===y.clockseq&&(L=L+1&16383),(te<0||X>I)&&void 0===y.nsecs&&(q=0),q>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");I=X,f=q,E=L;var ie=(1e4*(268435455&(X+=122192928e5))+q)%4294967296;M[w++]=ie>>>24&255,M[w++]=ie>>>16&255,M[w++]=ie>>>8&255,M[w++]=255&ie;var oe=X/4294967296*1e4&268435455;M[w++]=oe>>>8&255,M[w++]=255&oe,M[w++]=oe>>>24&15|16,M[w++]=oe>>>16&255,M[w++]=L>>>8|128,M[w++]=255&L;for(var fe=y.node||C,Ce=0;Ce<6;Ce++)M[w+Ce]=fe[Ce];return O||T(M)},p.v4=g,p.parse=function F(y,O,v){var w=O&&v||0,M=0;for(O=O||[],y.toLowerCase().replace(/[0-9a-f]{2}/g,function(L){M<16&&(O[w+M++]=B[L])});M<16;)O[w+M++]=0;return O},p.unparse=T,ge.exports=p}).call(ee,P(158))},function(ge,ee){var P;P=function(){return this}();try{P=P||Function("return this")()||(0,eval)("this")}catch{"object"==typeof window&&(P=window)}ge.exports=P},function(ge,ee,P){ee.util=P(2),ee.DOMutil=P(14),ee.DataSet=P(11),ee.DataView=P(12),ee.Queue=P(43),ee.Graph3d=P(161),ee.graph3d={Camera:P(95),Filter:P(96),Point2d:P(91),Point3d:P(34),Slider:P(92),StepNumber:P(93)},ee.moment=P(9),ee.Hammer=P(10),ee.keycharm=P(35)},function(ge,ee,P){var W=P(7),R=W.JSON||(W.JSON={stringify:JSON.stringify});ge.exports=function(H){return R.stringify.apply(R,arguments)}},function(ge,ee,P){var R=function V(v){return v&&v.__esModule?v:{default:v}}(P(90));var H=P(44),$=P(2),Y=P(34),B=P(91),U=P(92),F=P(93),T=P(94),D=P(15).default,E=P(15).printStyle,f=P(172).allOptions,_=P(173),g=void 0;function p(v,w,M){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=v,this.dataGroup=new _,this.dataPoints=null,this.create(),T.setDefaults(p.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(M),this.setData(w)}function y(v){return"clientX"in v?v.clientX:v.targetTouches[0]&&v.targetTouches[0].clientX||0}function O(v){return"clientY"in v?v.clientY:v.targetTouches[0]&&v.targetTouches[0].clientY||0}p.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(w){return w},yValueLabel:function(w){return w},zValueLabel:function(w){return w},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:g,animationInterval:1e3,animationPreload:!1,animationAutoStart:g,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:(p.STYLE=T.STYLE).DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:g,backgroundColor:g,xBarWidth:g,yBarWidth:g,valueMin:g,valueMax:g,xMin:g,xMax:g,xStep:g,yMin:g,yMax:g,yStep:g,zMin:g,zMax:g,zStep:g},H(p.prototype),p.prototype._setScale=function(){this.scale=new Y(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var v=this.xRange.center()*this.scale.x,w=this.yRange.center()*this.scale.y,M=this.zRange.center()*this.scale.z;this.camera.setArmLocation(v,w,M)},p.prototype._convert3Dto2D=function(v){var w=this._convertPointToTranslation(v);return this._convertTranslationToScreen(w)},p.prototype._convertPointToTranslation=function(v){var w=this.camera.getCameraLocation(),M=this.camera.getCameraRotation(),L=v.x*this.scale.x,X=v.y*this.scale.y,q=v.z*this.scale.z,te=w.x,ie=w.y,oe=w.z,fe=Math.sin(M.x),Ce=Math.cos(M.x),De=Math.sin(M.y),Ae=Math.cos(M.y),Ye=Math.sin(M.z),st=Math.cos(M.z);return new Y(Ae*(Ye*(X-ie)+st*(L-te))-De*(q-oe),fe*(Ae*(q-oe)+De*(Ye*(X-ie)+st*(L-te)))+Ce*(st*(X-ie)-Ye*(L-te)),Ce*(Ae*(q-oe)+De*(Ye*(X-ie)+st*(L-te)))-fe*(st*(X-ie)-Ye*(L-te)))},p.prototype._convertTranslationToScreen=function(v){var ie,oe,L=this.eye.z,X=v.x,q=v.y,te=v.z;return this.showPerspective?(ie=L/te*(X-this.eye.x),oe=L/te*(q-this.eye.y)):(ie=X*(-L/this.camera.getArmLength()),oe=q*(-L/this.camera.getArmLength())),new B(this.currentXCenter+ie*this.frame.canvas.clientWidth,this.currentYCenter-oe*this.frame.canvas.clientWidth)},p.prototype._calcTranslations=function(v){for(var w=0;w<v.length;w++){var M=v[w];M.trans=this._convertPointToTranslation(M.point),M.screen=this._convertTranslationToScreen(M.trans);var L=this._convertPointToTranslation(M.bottom);M.dist=this.showPerspective?L.length():-L.z}v.sort(function(te,ie){return ie.dist-te.dist})},p.prototype._initializeRanges=function(){var v=this.dataGroup;this.xRange=v.xRange,this.yRange=v.yRange,this.zRange=v.zRange,this.valueRange=v.valueRange,this.xStep=v.xStep,this.yStep=v.yStep,this.zStep=v.zStep,this.xBarWidth=v.xBarWidth,this.yBarWidth=v.yBarWidth,this.colX=v.colX,this.colY=v.colY,this.colZ=v.colZ,this.colValue=v.colValue,this._setScale()},p.prototype.getDataPoints=function(v){for(var w=[],M=0;M<v.length;M++){var L=new Y;L.x=v[M][this.colX]||0,L.y=v[M][this.colY]||0,L.z=v[M][this.colZ]||0,L.data=v[M],void 0!==this.colValue&&(L.value=v[M][this.colValue]||0);var X={};X.point=L,X.bottom=new Y(L.x,L.y,this.zRange.min),X.trans=void 0,X.screen=void 0,w.push(X)}return w},p.prototype._getDataPoints=function(v){var w,M,L,X,q=[];if(this.style===p.STYLE.GRID||this.style===p.STYLE.SURFACE){var te=this.dataGroup.getDistinctValues(this.colX,v),ie=this.dataGroup.getDistinctValues(this.colY,v);q=this.getDataPoints(v);var oe=[];for(L=0;L<q.length;L++){var fe=te.indexOf((X=q[L]).point.x),Ce=ie.indexOf(X.point.y);void 0===oe[fe]&&(oe[fe]=[]),oe[fe][Ce]=X}for(w=0;w<oe.length;w++)for(M=0;M<oe[w].length;M++)oe[w][M]&&(oe[w][M].pointRight=w<oe.length-1?oe[w+1][M]:void 0,oe[w][M].pointTop=M<oe[w].length-1?oe[w][M+1]:void 0,oe[w][M].pointCross=w<oe.length-1&&M<oe[w].length-1?oe[w+1][M+1]:void 0)}else if(this._checkValueField(v),q=this.getDataPoints(v),this.style===p.STYLE.LINE)for(L=0;L<q.length;L++)L>0&&(q[L-1].pointNext=q[L]);return q},p.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var v=document.createElement("DIV");v.style.color="red",v.style.fontWeight="bold",v.style.padding="10px",v.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(v),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var w=this;$.addEventListener(this.frame.canvas,"mousedown",function(oe){w._onMouseDown(oe)}),$.addEventListener(this.frame.canvas,"touchstart",function(oe){w._onTouchStart(oe)}),$.addEventListener(this.frame.canvas,"mousewheel",function(oe){w._onWheel(oe)}),$.addEventListener(this.frame.canvas,"mousemove",function(oe){w._onTooltip(oe)}),$.addEventListener(this.frame.canvas,"click",function(oe){w._onClick(oe)}),this.containerElement.appendChild(this.frame)},p.prototype._setSize=function(v,w){this.frame.style.width=v,this.frame.style.height=w,this._resizeCanvas()},p.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},p.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},p.prototype.animationStop=function(){!this.frame.filter||!this.frame.filter.slider||this.frame.filter.slider.stop()},p.prototype._resizeCenter=function(){this.currentXCenter="%"===this.xCenter.charAt(this.xCenter.length-1)?parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:parseFloat(this.xCenter),this.currentYCenter="%"===this.yCenter.charAt(this.yCenter.length-1)?parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):parseFloat(this.yCenter)},p.prototype.getCameraPosition=function(){var v=this.camera.getArmRotation();return v.distance=this.camera.getArmLength(),v},p.prototype._readData=function(v){this.dataPoints=this.dataGroup.initializeData(this,v,this.style),this._initializeRanges(),this._redrawFilter()},p.prototype.setData=function(v){null!=v&&(this._readData(v),this.redraw(),this.animationStart())},p.prototype.setOptions=function(v){void 0!==v&&(!0===D.validate(v,f)&&console.log("%cErrors have been found in the supplied options object.",E),this.animationStop(),T.setOptions(v,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart())},p.prototype.setPointDrawingMethod=function(){var v=void 0;switch(this.style){case p.STYLE.BAR:v=p.prototype._redrawBarGraphPoint;break;case p.STYLE.BARCOLOR:v=p.prototype._redrawBarColorGraphPoint;break;case p.STYLE.BARSIZE:v=p.prototype._redrawBarSizeGraphPoint;break;case p.STYLE.DOT:v=p.prototype._redrawDotGraphPoint;break;case p.STYLE.DOTLINE:v=p.prototype._redrawDotLineGraphPoint;break;case p.STYLE.DOTCOLOR:v=p.prototype._redrawDotColorGraphPoint;break;case p.STYLE.DOTSIZE:v=p.prototype._redrawDotSizeGraphPoint;break;case p.STYLE.SURFACE:v=p.prototype._redrawSurfaceGraphPoint;break;case p.STYLE.GRID:v=p.prototype._redrawGridGraphPoint;break;case p.STYLE.LINE:v=p.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=v},p.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},p.prototype._getContext=function(){var w=this.frame.canvas.getContext("2d");return w.lineJoin="round",w.lineCap="round",w},p.prototype._redrawClear=function(){var v=this.frame.canvas;v.getContext("2d").clearRect(0,0,v.width,v.height)},p.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},p.prototype._getLegendWidth=function(){return this.style===p.STYLE.DOTSIZE?this._dotSize()*this.dotSizeMaxFraction:this.style===p.STYLE.BARSIZE?this.xBarWidth:20},p.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==p.STYLE.LINE&&this.style!==p.STYLE.BARSIZE){var v=this.style===p.STYLE.BARSIZE||this.style===p.STYLE.DOTSIZE,w=this.style===p.STYLE.DOTSIZE||this.style===p.STYLE.DOTCOLOR||this.style===p.STYLE.BARCOLOR,M=Math.max(.25*this.frame.clientHeight,100),L=this.margin,X=this._getLegendWidth(),q=this.frame.clientWidth-this.margin,te=q-X,ie=L+M,oe=this._getContext();if(oe.lineWidth=1,oe.font="14px arial",!1===v){var De,Ce=M;for(De=0;De<Ce;De++){var st=this._hsv2rgb((De-0)/(Ce-0)*240,1,1);oe.strokeStyle=st,oe.beginPath(),oe.moveTo(te,L+De),oe.lineTo(q,L+De),oe.stroke()}oe.strokeStyle=this.axisColor,oe.strokeRect(te,L,X,M)}else{var it;this.style===p.STYLE.DOTSIZE&&(it=X*(this.dotSizeMinFraction/this.dotSizeMaxFraction)),oe.strokeStyle=this.axisColor,oe.fillStyle=this.dataColor.fill,oe.beginPath(),oe.moveTo(te,L),oe.lineTo(q,L),oe.lineTo(te+it,ie),oe.lineTo(te,ie),oe.closePath(),oe.fill(),oe.stroke()}var Qe,pt,we=w?this.valueRange.min:this.zRange.min,Oe=w?this.valueRange.max:this.zRange.max,Le=new F(we,Oe,(Oe-we)/5,!0);for(Le.start(!0);!Le.end();)De=ie-(Le.getCurrent()-we)/(Oe-we)*M,Qe=new B(te-5,De),pt=new B(te,De),this._line(oe,Qe,pt),oe.textAlign="right",oe.textBaseline="middle",oe.fillStyle=this.axisColor,oe.fillText(Le.getCurrent(),te-10,De),Le.next();oe.textAlign="right",oe.textBaseline="top",oe.fillText(this.legendLabel,q,ie+this.margin)}},p.prototype._redrawFilter=function(){var v=this.dataGroup.dataFilter,w=this.frame.filter;if(w.innerHTML="",v){var L=new U(w,{visible:this.showAnimationControls});w.slider=L,w.style.padding="10px",L.setValues(v.values),L.setPlayInterval(this.animationInterval);var X=this;L.setOnChangeCallback(function(){var ie=X.dataGroup.dataFilter,oe=L.getIndex();ie.selectValue(oe),X.dataPoints=ie._getDataPoints(),X.redraw()})}else w.slider=void 0},p.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},p.prototype._redrawInfo=function(){var v=this.dataGroup.getInfo();if(void 0!==v){var w=this._getContext();w.font="14px arial",w.lineStyle="gray",w.fillStyle="gray",w.textAlign="left",w.textBaseline="top",w.fillText(v,this.margin,this.margin)}},p.prototype._line=function(v,w,M,L){void 0!==L&&(v.strokeStyle=L),v.beginPath(),v.moveTo(w.x,w.y),v.lineTo(M.x,M.y),v.stroke()},p.prototype.drawAxisLabelX=function(v,w,M,L,X){void 0===X&&(X=0);var q=this._convert3Dto2D(w);Math.cos(2*L)>0?(v.textAlign="center",v.textBaseline="top",q.y+=X):Math.sin(2*L)<0?(v.textAlign="right",v.textBaseline="middle"):(v.textAlign="left",v.textBaseline="middle"),v.fillStyle=this.axisColor,v.fillText(M,q.x,q.y)},p.prototype.drawAxisLabelY=function(v,w,M,L,X){void 0===X&&(X=0);var q=this._convert3Dto2D(w);Math.cos(2*L)<0?(v.textAlign="center",v.textBaseline="top",q.y+=X):Math.sin(2*L)>0?(v.textAlign="right",v.textBaseline="middle"):(v.textAlign="left",v.textBaseline="middle"),v.fillStyle=this.axisColor,v.fillText(M,q.x,q.y)},p.prototype.drawAxisLabelZ=function(v,w,M,L){void 0===L&&(L=0);var X=this._convert3Dto2D(w);v.textAlign="right",v.textBaseline="middle",v.fillStyle=this.axisColor,v.fillText(M,X.x-L,X.y)},p.prototype._line3d=function(v,w,M,L){var X=this._convert3Dto2D(w),q=this._convert3Dto2D(M);this._line(v,X,q,L)},p.prototype._redrawAxis=function(){var w,M,L,q,te,ie,Ce,De,v=this._getContext();v.font=24/this.camera.getArmLength()+"px arial";var Qe,Ei,Zt,Ae=.025/this.scale.x,Ye=.025/this.scale.y,st=5/this.camera.getArmLength(),it=this.camera.getArmRotation().horizontal,We=new B(Math.cos(it),Math.sin(it)),we=this.xRange,Oe=this.yRange,Le=this.zRange;for(v.lineWidth=1,(L=new F(we.min,we.max,this.xStep,void 0===this.defaultXStep)).start(!0);!L.end();){var pt=L.getCurrent();if(this.showGrid?(w=new Y(pt,Oe.min,Le.min),M=new Y(pt,Oe.max,Le.min),this._line3d(v,w,M,this.gridColor)):this.showXAxis&&(w=new Y(pt,Oe.min,Le.min),M=new Y(pt,Oe.min+Ae,Le.min),this._line3d(v,w,M,this.axisColor),w=new Y(pt,Oe.max,Le.min),M=new Y(pt,Oe.max-Ae,Le.min),this._line3d(v,w,M,this.axisColor)),this.showXAxis){Qe=new Y(pt,ie=We.x>0?Oe.min:Oe.max,Le.min);var nt="  "+this.xValueLabel(pt)+"  ";this.drawAxisLabelX(v,Qe,nt,it,st)}L.next()}for(v.lineWidth=1,(L=new F(Oe.min,Oe.max,this.yStep,void 0===this.defaultYStep)).start(!0);!L.end();){var ut=L.getCurrent();if(this.showGrid?(w=new Y(we.min,ut,Le.min),M=new Y(we.max,ut,Le.min),this._line3d(v,w,M,this.gridColor)):this.showYAxis&&(w=new Y(we.min,ut,Le.min),M=new Y(we.min+Ye,ut,Le.min),this._line3d(v,w,M,this.axisColor),w=new Y(we.max,ut,Le.min),M=new Y(we.max-Ye,ut,Le.min),this._line3d(v,w,M,this.axisColor)),this.showYAxis){Qe=new Y(te=We.y>0?we.min:we.max,ut,Le.min);var At="  "+this.yValueLabel(ut)+"  ";this.drawAxisLabelY(v,Qe,At,it,st)}L.next()}if(this.showZAxis){for(v.lineWidth=1,(L=new F(Le.min,Le.max,this.zStep,void 0===this.defaultZStep)).start(!0),te=We.x>0?we.min:we.max,ie=We.y<0?Oe.min:Oe.max;!L.end();){var Nt=L.getCurrent(),ln=new Y(te,ie,Nt),Mn=this._convert3Dto2D(ln);M=new B(Mn.x-st,Mn.y),this._line(v,Mn,M,this.axisColor);var zn=this.zValueLabel(Nt)+" ";this.drawAxisLabelZ(v,ln,zn,5),L.next()}v.lineWidth=1,w=new Y(te,ie,Le.min),M=new Y(te,ie,Le.max),this._line3d(v,w,M,this.axisColor)}this.showXAxis&&(v.lineWidth=1,Ei=new Y(we.min,Oe.min,Le.min),Zt=new Y(we.max,Oe.min,Le.min),this._line3d(v,Ei,Zt,this.axisColor),Ei=new Y(we.min,Oe.max,Le.min),Zt=new Y(we.max,Oe.max,Le.min),this._line3d(v,Ei,Zt,this.axisColor)),this.showYAxis&&(v.lineWidth=1,w=new Y(we.min,Oe.min,Le.min),M=new Y(we.min,Oe.max,Le.min),this._line3d(v,w,M,this.axisColor),w=new Y(we.max,Oe.min,Le.min),M=new Y(we.max,Oe.max,Le.min),this._line3d(v,w,M,this.axisColor));var ei=this.xLabel;ei.length>0&&this.showXAxis&&(De=.1/this.scale.y,q=new Y(te=(we.max+3*we.min)/4,ie=We.x>0?Oe.min-De:Oe.max+De,Le.min),this.drawAxisLabelX(v,q,ei,it));var Vi=this.yLabel;Vi.length>0&&this.showYAxis&&(Ce=.1/this.scale.x,q=new Y(te=We.y>0?we.min-Ce:we.max+Ce,ie=(Oe.max+3*Oe.min)/4,Le.min),this.drawAxisLabelY(v,q,Vi,it));var Oi=this.zLabel;Oi.length>0&&this.showZAxis&&(30,q=new Y(te=We.x>0?we.min:we.max,ie=We.y<0?Oe.min:Oe.max,(Le.max+3*Le.min)/4),this.drawAxisLabelZ(v,q,Oi,30))},p.prototype._hsv2rgb=function(v,w,M){var L,X,q,te,ie,oe;switch(te=M*w,ie=Math.floor(v/60),oe=te*(1-Math.abs(v/60%2-1)),ie){case 0:L=te,X=oe,q=0;break;case 1:L=oe,X=te,q=0;break;case 2:L=0,X=te,q=oe;break;case 3:L=0,X=oe,q=te;break;case 4:L=oe,X=0,q=te;break;case 5:L=te,X=0,q=oe;break;default:L=0,X=0,q=0}return"RGB("+parseInt(255*L)+","+parseInt(255*X)+","+parseInt(255*q)+")"},p.prototype._getStrokeWidth=function(v){return void 0!==v?this.showPerspective?1/-v.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},p.prototype._redrawBar=function(v,w,M,L,X,q){var te,ie=this,oe=w.point,fe=this.zRange.min,Ce=[{point:new Y(oe.x-M,oe.y-L,oe.z)},{point:new Y(oe.x+M,oe.y-L,oe.z)},{point:new Y(oe.x+M,oe.y+L,oe.z)},{point:new Y(oe.x-M,oe.y+L,oe.z)}],De=[{point:new Y(oe.x-M,oe.y-L,fe)},{point:new Y(oe.x+M,oe.y-L,fe)},{point:new Y(oe.x+M,oe.y+L,fe)},{point:new Y(oe.x-M,oe.y+L,fe)}];Ce.forEach(function(We){We.screen=ie._convert3Dto2D(We.point)}),De.forEach(function(We){We.screen=ie._convert3Dto2D(We.point)});var Ae=[{corners:Ce,center:Y.avg(De[0].point,De[2].point)},{corners:[Ce[0],Ce[1],De[1],De[0]],center:Y.avg(De[1].point,De[0].point)},{corners:[Ce[1],Ce[2],De[2],De[1]],center:Y.avg(De[2].point,De[1].point)},{corners:[Ce[2],Ce[3],De[3],De[2]],center:Y.avg(De[3].point,De[2].point)},{corners:[Ce[3],Ce[0],De[0],De[3]],center:Y.avg(De[0].point,De[3].point)}];w.surfaces=Ae;for(var Ye=0;Ye<Ae.length;Ye++){var st=this._convertPointToTranslation((te=Ae[Ye]).center);te.dist=this.showPerspective?st.length():-st.z}Ae.sort(function(We,we){return we.dist-We.dist||(We.corners===Ce?1:we.corners===Ce?-1:0)}),v.lineWidth=this._getStrokeWidth(w),v.strokeStyle=q,v.fillStyle=X;for(var it=2;it<Ae.length;it++)this._polygon(v,(te=Ae[it]).corners)},p.prototype._polygon=function(v,w,M,L){if(!(w.length<2)){void 0!==M&&(v.fillStyle=M),void 0!==L&&(v.strokeStyle=L),v.beginPath(),v.moveTo(w[0].screen.x,w[0].screen.y);for(var X=1;X<w.length;++X){var q=w[X];v.lineTo(q.screen.x,q.screen.y)}v.closePath(),v.fill(),v.stroke()}},p.prototype._drawCircle=function(v,w,M,L,X){var q=this._calcRadius(w,X);v.lineWidth=this._getStrokeWidth(w),v.strokeStyle=L,v.fillStyle=M,v.beginPath(),v.arc(w.screen.x,w.screen.y,q,0,2*Math.PI,!0),v.fill(),v.stroke()},p.prototype._getColorsRegular=function(v){var w=240*(1-(v.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(w,1,1),border:this._hsv2rgb(w,1,.8)}},p.prototype._getColorsColor=function(v){var w,M;if("string"==typeof v.point.value)w=v.point.value,M=v.point.value;else{var L=240*(1-(v.point.value-this.valueRange.min)*this.scale.value);w=this._hsv2rgb(L,1,1),M=this._hsv2rgb(L,1,.8)}return{fill:w,border:M}},p.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},p.prototype._calcRadius=function(v,w){var M;return void 0===w&&(w=this._dotSize()),(M=this.showPerspective?w/-v.trans.z:w*(-this.eye.z/this.camera.getArmLength()))<0&&(M=0),M},p.prototype._redrawBarGraphPoint=function(v,w){var M=this.xBarWidth/2,L=this.yBarWidth/2,X=this._getColorsRegular(w);this._redrawBar(v,w,M,L,X.fill,X.border)},p.prototype._redrawBarColorGraphPoint=function(v,w){var M=this.xBarWidth/2,L=this.yBarWidth/2,X=this._getColorsColor(w);this._redrawBar(v,w,M,L,X.fill,X.border)},p.prototype._redrawBarSizeGraphPoint=function(v,w){var M=(w.point.value-this.valueRange.min)/this.valueRange.range(),L=this.xBarWidth/2*(.8*M+.2),X=this.yBarWidth/2*(.8*M+.2),q=this._getColorsSize();this._redrawBar(v,w,L,X,q.fill,q.border)},p.prototype._redrawDotGraphPoint=function(v,w){var M=this._getColorsRegular(w);this._drawCircle(v,w,M.fill,M.border)},p.prototype._redrawDotLineGraphPoint=function(v,w){var M=this._convert3Dto2D(w.bottom);v.lineWidth=1,this._line(v,M,w.screen,this.gridColor),this._redrawDotGraphPoint(v,w)},p.prototype._redrawDotColorGraphPoint=function(v,w){var M=this._getColorsColor(w);this._drawCircle(v,w,M.fill,M.border)},p.prototype._redrawDotSizeGraphPoint=function(v,w){var M=this._dotSize(),L=(w.point.value-this.valueRange.min)/this.valueRange.range(),X=M*this.dotSizeMinFraction,te=X+(M*this.dotSizeMaxFraction-X)*L,ie=this._getColorsSize();this._drawCircle(v,w,ie.fill,ie.border,te)},p.prototype._redrawSurfaceGraphPoint=function(v,w){var M=w.pointRight,L=w.pointTop,X=w.pointCross;if(void 0!==w&&void 0!==M&&void 0!==L&&void 0!==X){var te,ie,q=!0;if(this.showGrayBottom||this.showShadow){var oe=Y.subtract(X.trans,w.trans),fe=Y.subtract(L.trans,M.trans),Ce=Y.crossProduct(oe,fe),De=Ce.length();q=Ce.z>0}if(q){var it,Ye=240*(1-((w.point.z+M.point.z+L.point.z+X.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);this.showShadow?(it=Math.min(1+Ce.x/De/2,1),ie=te=this._hsv2rgb(Ye,1,it)):(te=this._hsv2rgb(Ye,1,it=1),ie=this.axisColor)}else te="gray",ie=this.axisColor;v.lineWidth=this._getStrokeWidth(w),this._polygon(v,[w,M,X,L],te,ie)}},p.prototype._drawGridLine=function(v,w,M){if(void 0!==w&&void 0!==M){var X=240*(1-((w.point.z+M.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);v.lineWidth=2*this._getStrokeWidth(w),v.strokeStyle=this._hsv2rgb(X,1,1),this._line(v,w.screen,M.screen)}},p.prototype._redrawGridGraphPoint=function(v,w){this._drawGridLine(v,w,w.pointRight),this._drawGridLine(v,w,w.pointTop)},p.prototype._redrawLineGraphPoint=function(v,w){void 0!==w.pointNext&&(v.lineWidth=this._getStrokeWidth(w),v.strokeStyle=this.dataColor.stroke,this._line(v,w.screen,w.pointNext.screen))},p.prototype._redrawDataGraph=function(){var w,v=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),w=0;w<this.dataPoints.length;w++)this._pointDrawingMethod.call(this,v,this.dataPoints[w])},p.prototype._storeMousePosition=function(v){this.startMouseX=y(v),this.startMouseY=O(v),this._startCameraOffset=this.camera.getOffset()},p.prototype._onMouseDown=function(v){if(v=v||window.event,this.leftButtonDown&&this._onMouseUp(v),this.leftButtonDown=v.which?1===v.which:1===v.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(v),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var w=this;this.onmousemove=function(M){w._onMouseMove(M)},this.onmouseup=function(M){w._onMouseUp(M)},$.addEventListener(document,"mousemove",w.onmousemove),$.addEventListener(document,"mouseup",w.onmouseup),$.preventDefault(v)}},p.prototype._onMouseMove=function(v){this.moving=!0,v=v||window.event;var w=parseFloat(y(v))-this.startMouseX,M=parseFloat(O(v))-this.startMouseY;if(v&&!0===v.ctrlKey)this.camera.setOffset((this._startCameraOffset.x||0)-w/(.5*this.frame.clientWidth)*this.camera.armLength*.8,(this._startCameraOffset.y||0)+M/(.5*this.frame.clientHeight)*this.camera.armLength*.8),this._storeMousePosition(v);else{var ie=this.startArmRotation.horizontal+w/200,oe=this.startArmRotation.vertical+M/200,Ce=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(ie))<Ce&&(ie=Math.round(ie/Math.PI)*Math.PI-.001),Math.abs(Math.cos(ie))<Ce&&(ie=(Math.round(ie/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(oe))<Ce&&(oe=Math.round(oe/Math.PI)*Math.PI),Math.abs(Math.cos(oe))<Ce&&(oe=(Math.round(oe/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(ie,oe)}this.redraw();var De=this.getCameraPosition();this.emit("cameraPositionChange",De),$.preventDefault(v)},p.prototype._onMouseUp=function(v){this.frame.style.cursor="auto",this.leftButtonDown=!1,$.removeEventListener(document,"mousemove",this.onmousemove),$.removeEventListener(document,"mouseup",this.onmouseup),$.preventDefault(v)},p.prototype._onClick=function(v){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var w=this.frame.getBoundingClientRect(),M=y(v)-w.left,L=O(v)-w.top,X=this._dataPointFromXY(M,L);X&&this.onclick_callback(X.point.data)}$.preventDefault(v)}},p.prototype._onTooltip=function(v){var M=this.frame.getBoundingClientRect(),L=y(v)-M.left,X=O(v)-M.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var q=this._dataPointFromXY(L,X);q!==this.tooltip.dataPoint&&(q?this._showTooltip(q):this._hideTooltip())}else{var te=this;this.tooltipTimeout=setTimeout(function(){te.tooltipTimeout=null;var ie=te._dataPointFromXY(L,X);ie&&te._showTooltip(ie)},300)}}},p.prototype._onTouchStart=function(v){this.touchDown=!0;var w=this;this.ontouchmove=function(M){w._onTouchMove(M)},this.ontouchend=function(M){w._onTouchEnd(M)},$.addEventListener(document,"touchmove",w.ontouchmove),$.addEventListener(document,"touchend",w.ontouchend),this._onMouseDown(v)},p.prototype._onTouchMove=function(v){this._onMouseMove(v)},p.prototype._onTouchEnd=function(v){this.touchDown=!1,$.removeEventListener(document,"touchmove",this.ontouchmove),$.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(v)},p.prototype._onWheel=function(v){v||(v=window.event);var w=0;if(v.wheelDelta?w=v.wheelDelta/120:v.detail&&(w=-v.detail/3),w){var M=this.camera.getArmLength();this.camera.setArmLength(M*(1-w/10)),this.redraw(),this._hideTooltip()}var X=this.getCameraPosition();this.emit("cameraPositionChange",X),$.preventDefault(v)},p.prototype._insideTriangle=function(v,w){var M=w[0],L=w[1],X=w[2];function q(fe){return fe>0?1:fe<0?-1:0}var te=q((L.x-M.x)*(v.y-M.y)-(L.y-M.y)*(v.x-M.x)),ie=q((X.x-L.x)*(v.y-L.y)-(X.y-L.y)*(v.x-L.x)),oe=q((M.x-X.x)*(v.y-X.y)-(M.y-X.y)*(v.x-X.x));return!(0!=te&&0!=ie&&te!=ie||0!=ie&&0!=oe&&ie!=oe||0!=te&&0!=oe&&te!=oe)},p.prototype._dataPointFromXY=function(v,w){var M,X=null,q=null,te=null,ie=new B(v,w);if(this.style===p.STYLE.BAR||this.style===p.STYLE.BARCOLOR||this.style===p.STYLE.BARSIZE)for(M=this.dataPoints.length-1;M>=0;M--){var oe=(X=this.dataPoints[M]).surfaces;if(oe)for(var fe=oe.length-1;fe>=0;fe--){var De=oe[fe].corners,Ye=[De[2].screen,De[3].screen,De[0].screen];if(this._insideTriangle(ie,[De[0].screen,De[1].screen,De[2].screen])||this._insideTriangle(ie,Ye))return X}}else for(M=0;M<this.dataPoints.length;M++){var st=(X=this.dataPoints[M]).screen;if(st){var it=Math.abs(v-st.x),We=Math.abs(w-st.y),we=Math.sqrt(it*it+We*We);(null===te||we<te)&&we<100&&(te=we,q=X)}}return q},p.prototype.hasBars=function(v){return v==p.STYLE.BAR||v==p.STYLE.BARCOLOR||v==p.STYLE.BARSIZE},p.prototype._showTooltip=function(v){var w,M,L;this.tooltip?(w=this.tooltip.dom.content,M=this.tooltip.dom.line,L=this.tooltip.dom.dot):(w=document.createElement("div"),(0,R.default)(w.style,{},this.tooltipStyle.content),w.style.position="absolute",M=document.createElement("div"),(0,R.default)(M.style,{},this.tooltipStyle.line),M.style.position="absolute",L=document.createElement("div"),(0,R.default)(L.style,{},this.tooltipStyle.dot),L.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:w,line:M,dot:L}}),this._hideTooltip(),this.tooltip.dataPoint=v,w.innerHTML="function"==typeof this.showTooltip?this.showTooltip(v.point):"<table><tr><td>"+this.xLabel+":</td><td>"+v.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+v.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+v.point.z+"</td></tr></table>",w.style.left="0",w.style.top="0",this.frame.appendChild(w),this.frame.appendChild(M),this.frame.appendChild(L);var X=w.offsetWidth,q=w.offsetHeight,te=M.offsetHeight,ie=L.offsetWidth,oe=L.offsetHeight,fe=v.screen.x-X/2;fe=Math.min(Math.max(fe,10),this.frame.clientWidth-10-X),M.style.left=v.screen.x+"px",M.style.top=v.screen.y-te+"px",w.style.left=fe+"px",w.style.top=v.screen.y-te-q+"px",L.style.left=v.screen.x-ie/2+"px",L.style.top=v.screen.y-oe/2+"px"},p.prototype._hideTooltip=function(){if(this.tooltip)for(var v in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(v)){var w=this.tooltip.dom[v];w&&w.parentNode&&w.parentNode.removeChild(w)}},p.prototype.setCameraPosition=function(v){T.setCameraPosition(v,this),this.redraw()},p.prototype.setSize=function(v,w){this._setSize(v,w),this.redraw()},ge.exports=p},function(ge,ee,P){P(163),ge.exports=P(7).Object.assign},function(ge,ee,P){var W=P(17);W(W.S+W.F,"Object",{assign:P(164)})},function(ge,ee,P){var W=P(33),R=P(63),V=P(42),H=P(41),$=P(78),Y=Object.assign;ge.exports=!Y||P(28)(function(){var B={},U={},F=Symbol(),T="abcdefghijklmnopqrst";return B[F]=7,T.split("").forEach(function(D){U[D]=D}),7!=Y({},B)[F]||Object.keys(Y({},U)).join("")!=T})?function(U,F){for(var T=H(U),D=arguments.length,C=1,E=R.f,I=V.f;D>C;)for(var y,f=$(arguments[C++]),_=E?W(f).concat(E(f)):W(f),g=_.length,p=0;g>p;)I.call(f,y=_[p++])&&(T[y]=f[y]);return T}:Y},function(ge,ee,P){ge.exports={default:P(166),__esModule:!0}},function(ge,ee,P){P(167),ge.exports=P(7).Math.sign},function(ge,ee,P){var W=P(17);W(W.S,"Math",{sign:P(168)})},function(ge,ee){ge.exports=Math.sign||function(W){return 0==(W=+W)||W!=W?W:W<0?-1:1}},function(ge,ee,P){ge.exports={default:P(170),__esModule:!0}},function(ge,ee,P){P(171);var W=P(7).Object;ge.exports=function(V,H,$){return W.defineProperty(V,H,$)}},function(ge,ee,P){var W=P(17);W(W.S+W.F*!P(21),"Object",{defineProperty:P(20).f})},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var W="string",R="boolean",V="number",H="object",$={fill:{string:W},stroke:{string:W},strokeWidth:{number:V},__type__:{string:W,object:H,undefined:"undefined"}};ee.allOptions={animationAutoStart:{boolean:R,undefined:"undefined"},animationInterval:{number:V},animationPreload:{boolean:R},axisColor:{string:W},backgroundColor:$,xBarWidth:{number:V,undefined:"undefined"},yBarWidth:{number:V,undefined:"undefined"},cameraPosition:{distance:{number:V},horizontal:{number:V},vertical:{number:V},__type__:{object:H}},xCenter:{string:W},yCenter:{string:W},dataColor:$,dotSizeMinFraction:{number:V},dotSizeMaxFraction:{number:V},dotSizeRatio:{number:V},filterLabel:{string:W},gridColor:{string:W},onclick:{function:"function"},keepAspectRatio:{boolean:R},xLabel:{string:W},yLabel:{string:W},zLabel:{string:W},legendLabel:{string:W},xMin:{number:V,undefined:"undefined"},yMin:{number:V,undefined:"undefined"},zMin:{number:V,undefined:"undefined"},xMax:{number:V,undefined:"undefined"},yMax:{number:V,undefined:"undefined"},zMax:{number:V,undefined:"undefined"},showAnimationControls:{boolean:R,undefined:"undefined"},showGrid:{boolean:R},showLegend:{boolean:R,undefined:"undefined"},showPerspective:{boolean:R},showShadow:{boolean:R},showXAxis:{boolean:R},showYAxis:{boolean:R},showZAxis:{boolean:R},xStep:{number:V,undefined:"undefined"},yStep:{number:V,undefined:"undefined"},zStep:{number:V,undefined:"undefined"},style:{number:V,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:R,function:"function"},tooltipStyle:{content:{color:{string:W},background:{string:W},border:{string:W},borderRadius:{string:W},boxShadow:{string:W},padding:{string:W},__type__:{object:H}},line:{borderLeft:{string:W},height:{string:W},width:{string:W},__type__:{object:H}},dot:{border:{string:W},borderRadius:{string:W},height:{string:W},width:{string:W},__type__:{object:H}},__type__:{object:H}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:V,undefined:"undefined"},valueMin:{number:V,undefined:"undefined"},verticalRatio:{number:V},height:{string:W},width:{string:W},__type__:{object:H}}},function(ge,ee,P){var W=P(11),R=P(12),V=P(174),H=P(96),$=P(94),Y=P(34);function B(){this.dataTable=null}B.prototype.initializeData=function(U,F,T){if(void 0!==F){var D;if(Array.isArray(F)&&(F=new W(F)),!(F instanceof W||F instanceof R))throw new Error("Array, DataSet, or DataView expected");if(0!=(D=F.get()).length){this.style=T,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=F,this.dataTable=D;var C=this;this._onChange=function(){U.setData(C.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var E=U.hasBars(T);if(E&&(this.xBarWidth=void 0!==U.defaultXBarWidth?U.defaultXBarWidth:this.getSmallestDifference(D,this.colX)||1,this.yBarWidth=void 0!==U.defaultYBarWidth?U.defaultYBarWidth:this.getSmallestDifference(D,this.colY)||1),this._initializeRange(D,this.colX,U,E),this._initializeRange(D,this.colY,U,E),this._initializeRange(D,this.colZ,U,!1),D[0].hasOwnProperty("style")){this.colValue="style";var I=this.getColumnRange(D,this.colValue);this._setRangeDefaults(I,U.defaultValueMin,U.defaultValueMax),this.valueRange=I}return this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new H(this,"filter",U),this.dataFilter.setOnLoadCallback(function(){U.redraw()})),this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())}}},B.prototype._collectRangeSettings=function(U,F){if(-1==["x","y","z"].indexOf(U))throw new Error("Column '"+U+"' invalid");var D=U.toUpperCase();return{barWidth:this[U+"BarWidth"],min:F["default"+D+"Min"],max:F["default"+D+"Max"],step:F["default"+D+"Step"],range_label:U+"Range",step_label:U+"Step"}},B.prototype._initializeRange=function(U,F,T,D){var E=this._collectRangeSettings(F,T),I=this.getColumnRange(U,F);D&&"z"!=F&&I.expand(E.barWidth/2),this._setRangeDefaults(I,E.min,E.max),this[E.range_label]=I,this[E.step_label]=void 0!==E.step?E.step:I.range()/5},B.prototype.getDistinctValues=function(U,F){void 0===F&&(F=this.dataTable);for(var T=[],D=0;D<F.length;D++){var C=F[D][U]||0;-1===T.indexOf(C)&&T.push(C)}return T.sort(function(E,I){return E-I})},B.prototype.getSmallestDifference=function(U,F){for(var T=this.getDistinctValues(U,F),D=null,C=1;C<T.length;C++){var E=T[C]-T[C-1];(null==D||D>E)&&(D=E)}return D},B.prototype.getColumnRange=function(U,F){for(var T=new V,D=0;D<U.length;D++)T.adjust(U[D][F]);return T},B.prototype.getNumberOfRows=function(){return this.dataTable.length},B.prototype._setRangeDefaults=function(U,F,T){void 0!==F&&(U.min=F),void 0!==T&&(U.max=T),U.max<=U.min&&(U.max=U.min+1)},B.prototype.getDataTable=function(){return this.dataTable},B.prototype.getDataSet=function(){return this.dataSet},B.prototype.getDataPoints=function(U){for(var F=[],T=0;T<U.length;T++){var D=new Y;D.x=U[T][this.colX]||0,D.y=U[T][this.colY]||0,D.z=U[T][this.colZ]||0,D.data=U[T],void 0!==this.colValue&&(D.value=U[T][this.colValue]||0);var C={};C.point=D,C.bottom=new Y(D.x,D.y,this.zRange.min),C.trans=void 0,C.screen=void 0,F.push(C)}return F},B.prototype.initDataAsMatrix=function(U){var F,T,D,C,E=this.getDistinctValues(this.colX,U),I=this.getDistinctValues(this.colY,U),f=this.getDataPoints(U),_=[];for(D=0;D<f.length;D++){var g=E.indexOf((C=f[D]).point.x),p=I.indexOf(C.point.y);void 0===_[g]&&(_[g]=[]),_[g][p]=C}for(F=0;F<_.length;F++)for(T=0;T<_[F].length;T++)_[F][T]&&(_[F][T].pointRight=F<_.length-1?_[F+1][T]:void 0,_[F][T].pointTop=T<_[F].length-1?_[F][T+1]:void 0,_[F][T].pointCross=F<_.length-1&&T<_[F].length-1?_[F+1][T+1]:void 0);return f},B.prototype.getInfo=function(){var U=this.dataFilter;if(U)return U.getLabel()+": "+U.getSelectedValue()},B.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},B.prototype._getDataPoints=function(U){var F=[];if(this.style===$.STYLE.GRID||this.style===$.STYLE.SURFACE)F=this.initDataAsMatrix(U);else if(this._checkValueField(U),F=this.getDataPoints(U),this.style===$.STYLE.LINE)for(var T=0;T<F.length;T++)T>0&&(F[T-1].pointNext=F[T]);return F},B.prototype._checkValueField=function(U){if(this.style===$.STYLE.BARCOLOR||this.style===$.STYLE.BARSIZE||this.style===$.STYLE.DOTCOLOR||this.style===$.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===U[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},ge.exports=B},function(ge,ee,P){function W(){this.min=void 0,this.max=void 0}W.prototype.adjust=function(R){void 0!==R&&((void 0===this.min||this.min>R)&&(this.min=R),(void 0===this.max||this.max<R)&&(this.max=R))},W.prototype.combine=function(R){this.add(R.min),this.add(R.max)},W.prototype.expand=function(R){if(void 0!==R){var V=this.min-R,H=this.max+R;if(V>H)throw new Error("Passed expansion value makes range invalid");this.min=V,this.max=H}},W.prototype.range=function(){return this.max-this.min},W.prototype.center=function(){return(this.min+this.max)/2},ge.exports=W},function(ge,ee,P){var W,V;void 0!==(V="function"==typeof(W=function(){var H=null;return function $(Y,B){var U=B||{preventDefault:!1};if(Y.Manager){var F=Y,T=function(f,_){var g=Object.create(U);return _&&F.assign(g,_),$(new F(f,g),g)};return F.assign(T,F),T.Manager=function(f,_){var g=Object.create(U);return _&&F.assign(g,_),$(new F.Manager(f,g),g)},T}var D=Object.create(Y),C=Y.element;function E(f){return f.match(/[^ ]+/g)}function I(f){if("hammer.input"!==f.type){if(f.srcEvent._handled||(f.srcEvent._handled={}),f.srcEvent._handled[f.type])return;f.srcEvent._handled[f.type]=!0}var _=!1;f.stopPropagation=function(){_=!0};var g=f.srcEvent.stopPropagation.bind(f.srcEvent);"function"==typeof g&&(f.srcEvent.stopPropagation=function(){g(),f.stopPropagation()}),f.firstTarget=H;for(var p=H;p&&!_;){var y=p.hammer;if(y)for(var O,v=0;v<y.length;v++)if(O=y[v]._handlers[f.type])for(var w=0;w<O.length&&!_;w++)O[w](f);p=p.parentNode}}return C.hammer||(C.hammer=[]),C.hammer.push(D),Y.on("hammer.input",function(f){(!0===U.preventDefault||U.preventDefault===f.pointerType)&&f.preventDefault(),f.isFirst&&(H=f.target)}),D._handlers={},D.on=function(f,_){return E(f).forEach(function(g){var p=D._handlers[g];p||(D._handlers[g]=p=[],Y.on(g,I)),p.push(_)}),D},D.off=function(f,_){return E(f).forEach(function(g){var p=D._handlers[g];p&&((p=_?p.filter(function(y){return y!==_}):[]).length>0?D._handlers[g]=p:(Y.off(g,I),delete D._handlers[g]))}),D},D.emit=function(f,_){H=_.target,Y.emit(f,_)},D.destroy=function(){var f=Y.element.hammer,_=f.indexOf(D);-1!==_&&f.splice(_,1),f.length||delete Y.element.hammer,D._handlers={},Y.destroy()},D}})?W.apply(ee,[]):W)&&(ge.exports=V)},function(ge,ee,P){var W;!function(R,V,H,$){var _,Y=["","webkit","Moz","MS","ms","o"],B=V.createElement("div"),U="function",F=Math.round,T=Math.abs,D=Date.now;function C(ye,Se,Be){return setTimeout(O(ye,Be),Se)}function E(ye,Se,Be){return!!Array.isArray(ye)&&(I(ye,Be[Se],Be),!0)}function I(ye,Se,Be){var qe;if(ye)if(ye.forEach)ye.forEach(Se,Be);else if(ye.length!==$)for(qe=0;qe<ye.length;)Se.call(Be,ye[qe],qe,ye),qe++;else for(qe in ye)ye.hasOwnProperty(qe)&&Se.call(Be,ye[qe],qe,ye)}function f(ye,Se,Be){var qe="DEPRECATED METHOD: "+Se+"\n"+Be+" AT \n";return function(){var ct=new Error("get-stack-trace"),Bt=ct&&ct.stack?ct.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Vn=R.console&&(R.console.warn||R.console.log);return Vn&&Vn.call(R.console,qe,Bt),ye.apply(this,arguments)}}_="function"!=typeof Object.assign?function(Se){if(Se===$||null===Se)throw new TypeError("Cannot convert undefined or null to object");for(var Be=Object(Se),qe=1;qe<arguments.length;qe++){var ct=arguments[qe];if(ct!==$&&null!==ct)for(var Bt in ct)ct.hasOwnProperty(Bt)&&(Be[Bt]=ct[Bt])}return Be}:Object.assign;var g=f(function(Se,Be,qe){for(var ct=Object.keys(Be),Bt=0;Bt<ct.length;)(!qe||qe&&Se[ct[Bt]]===$)&&(Se[ct[Bt]]=Be[ct[Bt]]),Bt++;return Se},"extend","Use `assign`."),p=f(function(Se,Be){return g(Se,Be,!0)},"merge","Use `assign`.");function y(ye,Se,Be){var ct,qe=Se.prototype;(ct=ye.prototype=Object.create(qe)).constructor=ye,ct._super=qe,Be&&_(ct,Be)}function O(ye,Se){return function(){return ye.apply(Se,arguments)}}function v(ye,Se){return typeof ye==U?ye.apply(Se&&Se[0]||$,Se):ye}function w(ye,Se){return ye===$?Se:ye}function M(ye,Se,Be){I(te(Se),function(qe){ye.addEventListener(qe,Be,!1)})}function L(ye,Se,Be){I(te(Se),function(qe){ye.removeEventListener(qe,Be,!1)})}function X(ye,Se){for(;ye;){if(ye==Se)return!0;ye=ye.parentNode}return!1}function q(ye,Se){return ye.indexOf(Se)>-1}function te(ye){return ye.trim().split(/\s+/g)}function ie(ye,Se,Be){if(ye.indexOf&&!Be)return ye.indexOf(Se);for(var qe=0;qe<ye.length;){if(Be&&ye[qe][Be]==Se||!Be&&ye[qe]===Se)return qe;qe++}return-1}function oe(ye){return Array.prototype.slice.call(ye,0)}function fe(ye,Se,Be){for(var qe=[],ct=[],Bt=0;Bt<ye.length;){var Vn=Se?ye[Bt][Se]:ye[Bt];ie(ct,Vn)<0&&qe.push(ye[Bt]),ct[Bt]=Vn,Bt++}return Be&&(qe=Se?qe.sort(function(mn,nr){return mn[Se]>nr[Se]}):qe.sort()),qe}function Ce(ye,Se){for(var Be,qe,ct=Se[0].toUpperCase()+Se.slice(1),Bt=0;Bt<Y.length;){if((qe=(Be=Y[Bt])?Be+ct:Se)in ye)return qe;Bt++}return $}var De=1;function Ye(ye){var Se=ye.ownerDocument||ye;return Se.defaultView||Se.parentWindow||R}var it="ontouchstart"in R,We=Ce(R,"PointerEvent")!==$,we=it&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Oe="touch",Qe="mouse",nt=25,ut=1,At=2,Nt=4,ln=8,Mn=1,zn=2,Ei=4,Zt=8,ei=16,Vi=zn|Ei,Oi=Zt|ei,ti=Vi|Oi,cn=["x","y"],gt=["clientX","clientY"];function St(ye,Se){var Be=this;this.manager=ye,this.callback=Se,this.element=ye.element,this.target=ye.options.inputTarget,this.domHandler=function(qe){v(ye.options.enable,[ye])&&Be.handler(qe)},this.init()}function Wn(ye,Se,Be){var qe=Be.pointers.length,ct=Be.changedPointers.length,Bt=Se&ut&&qe-ct==0,Vn=Se&(Nt|ln)&&qe-ct==0;Be.isFirst=!!Bt,Be.isFinal=!!Vn,Bt&&(ye.session={}),Be.eventType=Se,function Dt(ye,Se){var Be=ye.session,qe=Se.pointers,ct=qe.length;Be.firstInput||(Be.firstInput=tr(Se)),ct>1&&!Be.firstMultiple?Be.firstMultiple=tr(Se):1===ct&&(Be.firstMultiple=!1);var Bt=Be.firstInput,Vn=Be.firstMultiple,br=Vn?Vn.center:Bt.center,mn=Se.center=_c(qe);Se.timeStamp=D(),Se.deltaTime=Se.timeStamp-Bt.timeStamp,Se.angle=oi(br,mn),Se.distance=En(br,mn),function Vt(ye,Se){var Be=Se.center,qe=ye.offsetDelta||{},ct=ye.prevDelta||{},Bt=ye.prevInput||{};(Se.eventType===ut||Bt.eventType===Nt)&&(ct=ye.prevDelta={x:Bt.deltaX||0,y:Bt.deltaY||0},qe=ye.offsetDelta={x:Be.x,y:Be.y}),Se.deltaX=ct.x+(Be.x-qe.x),Se.deltaY=ct.y+(Be.y-qe.y)}(Be,Se),Se.offsetDirection=Yi(Se.deltaX,Se.deltaY);var nr=gd(Se.deltaTime,Se.deltaX,Se.deltaY);Se.overallVelocityX=nr.x,Se.overallVelocityY=nr.y,Se.overallVelocity=T(nr.x)>T(nr.y)?nr.x:nr.y,Se.scale=Vn?function Do(ye,Se){return En(Se[0],Se[1],gt)/En(ye[0],ye[1],gt)}(Vn.pointers,qe):1,Se.rotation=Vn?function wc(ye,Se){return oi(Se[1],Se[0],gt)+oi(ye[1],ye[0],gt)}(Vn.pointers,qe):0,Se.maxPointers=Be.prevInput?Se.pointers.length>Be.prevInput.maxPointers?Se.pointers.length:Be.prevInput.maxPointers:Se.pointers.length,function cr(ye,Se){var ct,Bt,Vn,br,Be=ye.lastInterval||Se,qe=Se.timeStamp-Be.timeStamp;if(Se.eventType!=ln&&(qe>nt||Be.velocity===$)){var mn=Se.deltaX-Be.deltaX,nr=Se.deltaY-Be.deltaY,_r=gd(qe,mn,nr);Bt=_r.x,Vn=_r.y,ct=T(_r.x)>T(_r.y)?_r.x:_r.y,br=Yi(mn,nr),ye.lastInterval=Se}else ct=Be.velocity,Bt=Be.velocityX,Vn=Be.velocityY,br=Be.direction;Se.velocity=ct,Se.velocityX=Bt,Se.velocityY=Vn,Se.direction=br}(Be,Se);var _r=ye.element;X(Se.srcEvent.target,_r)&&(_r=Se.srcEvent.target),Se.target=_r}(ye,Be),ye.emit("hammer.input",Be),ye.recognize(Be),ye.session.prevInput=Be}function tr(ye){for(var Se=[],Be=0;Be<ye.pointers.length;)Se[Be]={clientX:F(ye.pointers[Be].clientX),clientY:F(ye.pointers[Be].clientY)},Be++;return{timeStamp:D(),pointers:Se,center:_c(Se),deltaX:ye.deltaX,deltaY:ye.deltaY}}function _c(ye){var Se=ye.length;if(1===Se)return{x:F(ye[0].clientX),y:F(ye[0].clientY)};for(var Be=0,qe=0,ct=0;ct<Se;)Be+=ye[ct].clientX,qe+=ye[ct].clientY,ct++;return{x:F(Be/Se),y:F(qe/Se)}}function gd(ye,Se,Be){return{x:Se/ye||0,y:Be/ye||0}}function Yi(ye,Se){return ye===Se?Mn:T(ye)>=T(Se)?ye<0?zn:Ei:Se<0?Zt:ei}function En(ye,Se,Be){Be||(Be=cn);var qe=Se[Be[0]]-ye[Be[0]],ct=Se[Be[1]]-ye[Be[1]];return Math.sqrt(qe*qe+ct*ct)}function oi(ye,Se,Be){return Be||(Be=cn),180*Math.atan2(Se[Be[1]]-ye[Be[1]],Se[Be[0]]-ye[Be[0]])/Math.PI}St.prototype={handler:function(){},init:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(Ye(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&L(this.element,this.evEl,this.domHandler),this.evTarget&&L(this.target,this.evTarget,this.domHandler),this.evWin&&L(Ye(this.element),this.evWin,this.domHandler)}};var Ri={mousedown:ut,mousemove:At,mouseup:Nt},Qt="mousedown",ju="mousemove mouseup";function ls(){this.evEl=Qt,this.evWin=ju,this.pressed=!1,St.apply(this,arguments)}y(ls,St,{handler:function(Se){var Be=Ri[Se.type];Be&ut&&0===Se.button&&(this.pressed=!0),Be&At&&1!==Se.which&&(Be=Nt),this.pressed&&(Be&Nt&&(this.pressed=!1),this.callback(this.manager,Be,{pointers:[Se],changedPointers:[Se],pointerType:Qe,srcEvent:Se}))}});var Ot={pointerdown:ut,pointermove:At,pointerup:Nt,pointercancel:ln,pointerout:ln},Bl={2:Oe,3:"pen",4:Qe,5:"kinect"},Cn="pointerdown",ho="pointermove pointerup pointercancel";function Ni(){this.evEl=Cn,this.evWin=ho,St.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}R.MSPointerEvent&&!R.PointerEvent&&(Cn="MSPointerDown",ho="MSPointerMove MSPointerUp MSPointerCancel"),y(Ni,St,{handler:function(Se){var Be=this.store,qe=!1,ct=Se.type.toLowerCase().replace("ms",""),Bt=Ot[ct],Vn=Bl[Se.pointerType]||Se.pointerType,br=Vn==Oe,mn=ie(Be,Se.pointerId,"pointerId");Bt&ut&&(0===Se.button||br)?mn<0&&(Be.push(Se),mn=Be.length-1):Bt&(Nt|ln)&&(qe=!0),!(mn<0)&&(Be[mn]=Se,this.callback(this.manager,Bt,{pointers:Be,changedPointers:[Se],pointerType:Vn,srcEvent:Se}),qe&&Be.splice(mn,1))}});var Ys={touchstart:ut,touchmove:At,touchend:Nt,touchcancel:ln};function Ya(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,St.apply(this,arguments)}function Ft(ye,Se){var Be=oe(ye.touches),qe=oe(ye.changedTouches);return Se&(Nt|ln)&&(Be=fe(Be.concat(qe),"identifier",!0)),[Be,qe]}y(Ya,St,{handler:function(Se){var Be=Ys[Se.type];if(Be===ut&&(this.started=!0),this.started){var qe=Ft.call(this,Se,Be);Be&(Nt|ln)&&qe[0].length-qe[1].length==0&&(this.started=!1),this.callback(this.manager,Be,{pointers:qe[0],changedPointers:qe[1],pointerType:Oe,srcEvent:Se})}}});var Gt={touchstart:ut,touchmove:At,touchend:Nt,touchcancel:ln},yd="touchstart touchmove touchend touchcancel";function Mo(){this.evTarget=yd,this.targetIds={},St.apply(this,arguments)}function xc(ye,Se){var Be=oe(ye.touches),qe=this.targetIds;if(Se&(ut|At)&&1===Be.length)return qe[Be[0].identifier]=!0,[Be,Be];var ct,Bt,Vn=oe(ye.changedTouches),br=[],mn=this.target;if(Bt=Be.filter(function(nr){return X(nr.target,mn)}),Se===ut)for(ct=0;ct<Bt.length;)qe[Bt[ct].identifier]=!0,ct++;for(ct=0;ct<Vn.length;)qe[Vn[ct].identifier]&&br.push(Vn[ct]),Se&(Nt|ln)&&delete qe[Vn[ct].identifier],ct++;return br.length?[fe(Bt.concat(br),"identifier",!0),br]:void 0}y(Mo,St,{handler:function(Se){var Be=Gt[Se.type],qe=xc.call(this,Se,Be);qe&&this.callback(this.manager,Be,{pointers:qe[0],changedPointers:qe[1],pointerType:Oe,srcEvent:Se})}});var bi=2500;function bd(){St.apply(this,arguments);var ye=O(this.handler,this);this.touch=new Mo(this.manager,ye),this.mouse=new ls(this.manager,ye),this.primaryTouch=null,this.lastTouches=[]}function yr(ye,Se){ye&ut?(this.primaryTouch=Se.changedPointers[0].identifier,To.call(this,Se)):ye&(Nt|ln)&&To.call(this,Se)}function To(ye){var Se=ye.changedPointers[0];if(Se.identifier===this.primaryTouch){var Be={x:Se.clientX,y:Se.clientY};this.lastTouches.push(Be);var qe=this.lastTouches;setTimeout(function(){var Bt=qe.indexOf(Be);Bt>-1&&qe.splice(Bt,1)},bi)}}function Ci(ye){for(var Se=ye.srcEvent.clientX,Be=ye.srcEvent.clientY,qe=0;qe<this.lastTouches.length;qe++){var ct=this.lastTouches[qe],Bt=Math.abs(Se-ct.x),Vn=Math.abs(Be-ct.y);if(Bt<=25&&Vn<=25)return!0}return!1}y(bd,St,{handler:function(Se,Be,qe){var Bt=qe.pointerType==Qe;if(!(Bt&&qe.sourceCapabilities&&qe.sourceCapabilities.firesTouchEvents)){if(qe.pointerType==Oe)yr.call(this,Be,qe);else if(Bt&&Ci.call(this,qe))return;this.callback(Se,Be,qe)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Fi=Ce(B.style,"touchAction"),Hi=Fi!==$,Cs="compute",ko="auto",Ec="manipulation",Ko="none",Ao="pan-x",Br="pan-y",zl=function Sc(){if(!Hi)return!1;var ye={},Se=R.CSS&&R.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Be){ye[Be]=!Se||R.CSS.supports("touch-action",Be)}),ye}();function Cc(ye,Se){this.manager=ye,this.set(Se)}Cc.prototype={set:function(ye){ye==Cs&&(ye=this.compute()),Hi&&this.manager.element.style&&zl[ye]&&(this.manager.element.style[Fi]=ye),this.actions=ye.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var ye=[];return I(this.manager.recognizers,function(Se){v(Se.options.enable,[Se])&&(ye=ye.concat(Se.getTouchAction()))}),function ba(ye){if(q(ye,Ko))return Ko;var Se=q(ye,Ao),Be=q(ye,Br);return Se&&Be?Ko:Se||Be?Se?Ao:Br:q(ye,Ec)?Ec:ko}(ye.join(" "))},preventDefaults:function(ye){var Se=ye.srcEvent,Be=ye.offsetDirection;if(!this.manager.session.prevented){var qe=this.actions,ct=q(qe,Ko)&&!zl[Ko],Bt=q(qe,Br)&&!zl[Br],Vn=q(qe,Ao)&&!zl[Ao];if(ct&&1===ye.pointers.length&&ye.distance<2&&ye.deltaTime<250)return;return Vn&&Bt||!(ct||Bt&&Be&Vi||Vn&&Be&Oi)?void 0:this.preventSrc(Se)}Se.preventDefault()},preventSrc:function(ye){this.manager.session.prevented=!0,ye.preventDefault()}};var Ka=1,Oo=2,qr=4,zr=8,ui=zr,Xs=16;function Ir(ye){this.options=_({},this.defaults,ye||{}),this.id=function Ae(){return De++}(),this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=Ka,this.simultaneous={},this.requireFail=[]}function Xa(ye){return ye&Xs?"cancel":ye&zr?"end":ye&qr?"move":ye&Oo?"start":""}function Za(ye){return ye==ei?"down":ye==Zt?"up":ye==zn?"left":ye==Ei?"right":""}function Gn(ye,Se){var Be=Se.manager;return Be?Be.get(ye):ye}function Jr(){Ir.apply(this,arguments)}function Ki(){Jr.apply(this,arguments),this.pX=null,this.pY=null}function Io(){Jr.apply(this,arguments)}function Zs(){Ir.apply(this,arguments),this._timer=null,this._input=null}function qt(){Jr.apply(this,arguments)}function on(){Jr.apply(this,arguments)}function _a(){Ir.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function fo(ye,Se){return(Se=Se||{}).recognizers=w(Se.recognizers,fo.defaults.preset),new Je(ye,Se)}Ir.prototype={defaults:{},set:function(ye){return _(this.options,ye),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(ye){if(E(ye,"recognizeWith",this))return this;var Se=this.simultaneous;return Se[(ye=Gn(ye,this)).id]||(Se[ye.id]=ye,ye.recognizeWith(this)),this},dropRecognizeWith:function(ye){return E(ye,"dropRecognizeWith",this)||(ye=Gn(ye,this),delete this.simultaneous[ye.id]),this},requireFailure:function(ye){if(E(ye,"requireFailure",this))return this;var Se=this.requireFail;return-1===ie(Se,ye=Gn(ye,this))&&(Se.push(ye),ye.requireFailure(this)),this},dropRequireFailure:function(ye){if(E(ye,"dropRequireFailure",this))return this;ye=Gn(ye,this);var Se=ie(this.requireFail,ye);return Se>-1&&this.requireFail.splice(Se,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(ye){return!!this.simultaneous[ye.id]},emit:function(ye){var Se=this,Be=this.state;function qe(ct){Se.manager.emit(ct,ye)}Be<zr&&qe(Se.options.event+Xa(Be)),qe(Se.options.event),ye.additionalEvent&&qe(ye.additionalEvent),Be>=zr&&qe(Se.options.event+Xa(Be))},tryEmit:function(ye){if(this.canEmit())return this.emit(ye);this.state=32},canEmit:function(){for(var ye=0;ye<this.requireFail.length;){if(!(this.requireFail[ye].state&(32|Ka)))return!1;ye++}return!0},recognize:function(ye){var Se=_({},ye);if(!v(this.options.enable,[this,Se]))return this.reset(),void(this.state=32);this.state&(ui|Xs|32)&&(this.state=Ka),this.state=this.process(Se),this.state&(Oo|qr|zr|Xs)&&this.tryEmit(Se)},process:function(ye){},getTouchAction:function(){},reset:function(){}},y(Jr,Ir,{defaults:{pointers:1},attrTest:function(ye){var Se=this.options.pointers;return 0===Se||ye.pointers.length===Se},process:function(ye){var Se=this.state,Be=ye.eventType,qe=Se&(Oo|qr),ct=this.attrTest(ye);return qe&&(Be&ln||!ct)?Se|Xs:qe||ct?Be&Nt?Se|zr:Se&Oo?Se|qr:Oo:32}}),y(Ki,Jr,{defaults:{event:"pan",threshold:10,pointers:1,direction:ti},getTouchAction:function(){var ye=this.options.direction,Se=[];return ye&Vi&&Se.push(Br),ye&Oi&&Se.push(Ao),Se},directionTest:function(ye){var Se=this.options,Be=!0,qe=ye.distance,ct=ye.direction,Bt=ye.deltaX,Vn=ye.deltaY;return ct&Se.direction||(Se.direction&Vi?(ct=0===Bt?Mn:Bt<0?zn:Ei,Be=Bt!=this.pX,qe=Math.abs(ye.deltaX)):(ct=0===Vn?Mn:Vn<0?Zt:ei,Be=Vn!=this.pY,qe=Math.abs(ye.deltaY))),ye.direction=ct,Be&&qe>Se.threshold&&ct&Se.direction},attrTest:function(ye){return Jr.prototype.attrTest.call(this,ye)&&(this.state&Oo||!(this.state&Oo)&&this.directionTest(ye))},emit:function(ye){this.pX=ye.deltaX,this.pY=ye.deltaY;var Se=Za(ye.direction);Se&&(ye.additionalEvent=this.options.event+Se),this._super.emit.call(this,ye)}}),y(Io,Jr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ko]},attrTest:function(ye){return this._super.attrTest.call(this,ye)&&(Math.abs(ye.scale-1)>this.options.threshold||this.state&Oo)},emit:function(ye){1!==ye.scale&&(ye.additionalEvent=this.options.event+(ye.scale<1?"in":"out")),this._super.emit.call(this,ye)}}),y(Zs,Ir,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ko]},process:function(ye){var Se=this.options,Be=ye.pointers.length===Se.pointers,qe=ye.distance<Se.threshold,ct=ye.deltaTime>Se.time;if(this._input=ye,!qe||!Be||ye.eventType&(Nt|ln)&&!ct)this.reset();else if(ye.eventType&ut)this.reset(),this._timer=C(function(){this.state=ui,this.tryEmit()},Se.time,this);else if(ye.eventType&Nt)return ui;return 32},reset:function(){clearTimeout(this._timer)},emit:function(ye){this.state===ui&&(ye&&ye.eventType&Nt?this.manager.emit(this.options.event+"up",ye):(this._input.timeStamp=D(),this.manager.emit(this.options.event,this._input)))}}),y(qt,Jr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ko]},attrTest:function(ye){return this._super.attrTest.call(this,ye)&&(Math.abs(ye.rotation)>this.options.threshold||this.state&Oo)}}),y(on,Jr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Vi|Oi,pointers:1},getTouchAction:function(){return Ki.prototype.getTouchAction.call(this)},attrTest:function(ye){var Be,Se=this.options.direction;return Se&(Vi|Oi)?Be=ye.overallVelocity:Se&Vi?Be=ye.overallVelocityX:Se&Oi&&(Be=ye.overallVelocityY),this._super.attrTest.call(this,ye)&&Se&ye.offsetDirection&&ye.distance>this.options.threshold&&ye.maxPointers==this.options.pointers&&T(Be)>this.options.velocity&&ye.eventType&Nt},emit:function(ye){var Se=Za(ye.offsetDirection);Se&&this.manager.emit(this.options.event+Se,ye),this.manager.emit(this.options.event,ye)}}),y(_a,Ir,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ec]},process:function(ye){var Se=this.options,Be=ye.pointers.length===Se.pointers,qe=ye.distance<Se.threshold,ct=ye.deltaTime<Se.time;if(this.reset(),ye.eventType&ut&&0===this.count)return this.failTimeout();if(qe&&ct&&Be){if(ye.eventType!=Nt)return this.failTimeout();var Bt=!this.pTime||ye.timeStamp-this.pTime<Se.interval,Vn=!this.pCenter||En(this.pCenter,ye.center)<Se.posThreshold;if(this.pTime=ye.timeStamp,this.pCenter=ye.center,Vn&&Bt?this.count+=1:this.count=1,this._input=ye,0==this.count%Se.taps)return this.hasRequireFailures()?(this._timer=C(function(){this.state=ui,this.tryEmit()},Se.interval,this),Oo):ui}return 32},failTimeout:function(){return this._timer=C(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ui&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),fo.VERSION="2.0.7",fo.defaults={domEvents:!1,touchAction:Cs,enable:!0,inputTarget:null,inputClass:null,preset:[[qt,{enable:!1}],[Io,{enable:!1},["rotate"]],[on,{direction:Vi}],[Ki,{direction:Vi},["swipe"]],[_a],[_a,{event:"doubletap",taps:2},["tap"]],[Zs]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Je(ye,Se){this.options=_({},fo.defaults,Se||{}),this.options.inputTarget=this.options.inputTarget||ye,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=ye,this.input=function Wt(ye){return new(ye.options.inputClass||(We?Ni:we?Mo:it?bd:ls))(ye,Wn)}(this),this.touchAction=new Cc(this,this.options.touchAction),Si(this,!0),I(this.options.recognizers,function(Be){var qe=this.add(new Be[0](Be[1]));Be[2]&&qe.recognizeWith(Be[2]),Be[3]&&qe.requireFailure(Be[3])},this)}function Si(ye,Se){var qe,Be=ye.element;Be.style&&(I(ye.options.cssProps,function(ct,Bt){qe=Ce(Be.style,Bt),Se?(ye.oldCssProps[qe]=Be.style[qe],Be.style[qe]=ct):Be.style[qe]=ye.oldCssProps[qe]||""}),Se||(ye.oldCssProps={}))}Je.prototype={set:function(ye){return _(this.options,ye),ye.touchAction&&this.touchAction.update(),ye.inputTarget&&(this.input.destroy(),this.input.target=ye.inputTarget,this.input.init()),this},stop:function(ye){this.session.stopped=ye?2:1},recognize:function(ye){var Se=this.session;if(!Se.stopped){this.touchAction.preventDefaults(ye);var Be,qe=this.recognizers,ct=Se.curRecognizer;(!ct||ct&&ct.state&ui)&&(ct=Se.curRecognizer=null);for(var Bt=0;Bt<qe.length;)Be=qe[Bt],2===Se.stopped||ct&&Be!=ct&&!Be.canRecognizeWith(ct)?Be.reset():Be.recognize(ye),!ct&&Be.state&(Oo|qr|zr)&&(ct=Se.curRecognizer=Be),Bt++}},get:function(ye){if(ye instanceof Ir)return ye;for(var Se=this.recognizers,Be=0;Be<Se.length;Be++)if(Se[Be].options.event==ye)return Se[Be];return null},add:function(ye){if(E(ye,"add",this))return this;var Se=this.get(ye.options.event);return Se&&this.remove(Se),this.recognizers.push(ye),ye.manager=this,this.touchAction.update(),ye},remove:function(ye){if(E(ye,"remove",this))return this;if(ye=this.get(ye)){var Se=this.recognizers,Be=ie(Se,ye);-1!==Be&&(Se.splice(Be,1),this.touchAction.update())}return this},on:function(ye,Se){if(ye!==$&&Se!==$){var Be=this.handlers;return I(te(ye),function(qe){Be[qe]=Be[qe]||[],Be[qe].push(Se)}),this}},off:function(ye,Se){if(ye!==$){var Be=this.handlers;return I(te(ye),function(qe){Se?Be[qe]&&Be[qe].splice(ie(Be[qe],Se),1):delete Be[qe]}),this}},emit:function(ye,Se){this.options.domEvents&&function rn(ye,Se){var Be=V.createEvent("Event");Be.initEvent(ye,!0,!0),Be.gesture=Se,Se.target.dispatchEvent(Be)}(ye,Se);var Be=this.handlers[ye]&&this.handlers[ye].slice();if(Be&&Be.length){Se.type=ye,Se.preventDefault=function(){Se.srcEvent.preventDefault()};for(var qe=0;qe<Be.length;)Be[qe](Se),qe++}},destroy:function(){this.element&&Si(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},_(fo,{INPUT_START:ut,INPUT_MOVE:At,INPUT_END:Nt,INPUT_CANCEL:ln,STATE_POSSIBLE:Ka,STATE_BEGAN:Oo,STATE_CHANGED:qr,STATE_ENDED:zr,STATE_RECOGNIZED:ui,STATE_CANCELLED:Xs,STATE_FAILED:32,DIRECTION_NONE:Mn,DIRECTION_LEFT:zn,DIRECTION_RIGHT:Ei,DIRECTION_UP:Zt,DIRECTION_DOWN:ei,DIRECTION_HORIZONTAL:Vi,DIRECTION_VERTICAL:Oi,DIRECTION_ALL:ti,Manager:Je,Input:St,TouchAction:Cc,TouchInput:Mo,MouseInput:ls,PointerEventInput:Ni,TouchMouseInput:bd,SingleTouchInput:Ya,Recognizer:Ir,AttrRecognizer:Jr,Tap:_a,Pan:Ki,Swipe:on,Pinch:Io,Rotate:qt,Press:Zs,on:M,off:L,each:I,merge:p,extend:g,assign:_,inherit:y,bindFn:O,prefixed:Ce}),(typeof R<"u"?R:typeof self<"u"?self:{}).Hammer=fo,(W=function(){return fo}.call(ee,P,ee,ge))!==$&&(ge.exports=W)}(window,document)},function(ge,ee,P){ee.util=P(2),ee.DOMutil=P(14),ee.DataSet=P(11),ee.DataView=P(12),ee.Queue=P(43),ee.Timeline=P(178),ee.Graph2d=P(180),ee.timeline={Core:P(65),DateUtil:P(36),Range:P(64),stack:P(100),TimeStep:P(66),components:{items:{Item:P(38),BackgroundItem:P(103),BoxItem:P(101),PointItem:P(102),RangeItem:P(70)},BackgroundGroup:P(69),Component:P(16),CurrentTime:P(67),CustomTime:P(46),DataAxis:P(107),DataScale:P(108),GraphGroup:P(109),Group:P(68),ItemSet:P(99),Legend:P(112),LineGraph:P(106),TimeAxis:P(45)}},ee.moment=P(9),ee.Hammer=P(10),ee.keycharm=P(35)},function(ge,ee,P){var W=P(9),R=P(2),V=P(11),H=P(12),$=P(64),Y=P(65),B=P(45),U=P(67),F=P(46),T=P(99),D=P(15).printStyle,C=P(105).allOptions,E=P(105).configureOptions,I=P(71).default,f=P(15).default;function _(O,v,w,M){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(w)||w instanceof V||w instanceof H)&&w instanceof Object){var L=M;M=w,w=L}M&&M.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var X=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:W,width:null,height:null,maxHeight:null,minHeight:null},this.options=R.deepExtend({},this.defaultOptions),this._create(O),!M||M&&typeof M.rtl>"u"){this.dom.root.style.visibility="hidden";for(var q,te=this.dom.root;!q&&te;)q=window.getComputedStyle(te,null).direction,te=te.parentElement;this.options.rtl=q&&"rtl"==q.toLowerCase()}else this.options.rtl=M.rtl;this.options.rollingMode=M&&M.rollingMode,this.options.onInitialDrawComplete=M&&M.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return X.timeAxis.step.scale},getStep:function(){return X.timeAxis.step.step},toScreen:X._toScreen.bind(X),toGlobalScreen:X._toGlobalScreen.bind(X),toTime:X._toTime.bind(X),toGlobalTime:X._toGlobalTime.bind(X)}},this.range=new $(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new B(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new U(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new T(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(ie){X.emit("click",X.getEventProperties(ie))},this.dom.root.ondblclick=function(ie){X.emit("doubleClick",X.getEventProperties(ie))},this.dom.root.oncontextmenu=function(ie){X.emit("contextmenu",X.getEventProperties(ie))},this.dom.root.onmouseover=function(ie){X.emit("mouseOver",X.getEventProperties(ie))},window.PointerEvent?(this.dom.root.onpointerdown=function(ie){X.emit("mouseDown",X.getEventProperties(ie))},this.dom.root.onpointermove=function(ie){X.emit("mouseMove",X.getEventProperties(ie))},this.dom.root.onpointerup=function(ie){X.emit("mouseUp",X.getEventProperties(ie))}):(this.dom.root.onmousemove=function(ie){X.emit("mouseMove",X.getEventProperties(ie))},this.dom.root.onmousedown=function(ie){X.emit("mouseDown",X.getEventProperties(ie))},this.dom.root.onmouseup=function(ie){X.emit("mouseUp",X.getEventProperties(ie))}),this.initialFitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!X.initialFitDone)if(X.initialFitDone=!0,null!=X.options.start||null!=X.options.end){if(null==X.options.start||null==X.options.end)var ie=X.getItemRange();X.setWindow(null!=X.options.start?X.options.start:ie.min,null!=X.options.end?X.options.end:ie.max,{animation:!1})}else X.fit({animation:!1});!X.initialDrawDone&&X.initialRangeChangeDone&&(X.initialDrawDone=!0,X.dom.root.style.visibility="visible",X.options.onInitialDrawComplete&&setTimeout(function(){return X.options.onInitialDrawComplete()},0))}}),M&&this.setOptions(M),w&&this.setGroups(w),v&&this.setItems(v),this._redraw()}function g(O){return R.convert(O.data.start,"Date").valueOf()}function p(O){return R.convert(null!=O.data.end?O.data.end:O.data.start,"Date").valueOf()}function y(O,v){var w=O.props.leftContainer.height,M=O.props.left.height,L=v.parent,X=L.top,q=!0,te=O.timeAxis.options.orientation.axis,ie=function(){return"bottom"==te?L.height-v.top-v.height:v.top},oe=-1*O._getScrollTop(),fe=X+ie(),Ce=v.height;return fe<oe?X+w<=X+ie()+Ce&&(X+=ie()-O.itemSet.options.margin.item.vertical):fe+Ce>oe+w?X+=ie()+Ce-w+O.itemSet.options.margin.item.vertical:q=!1,{shouldScroll:q,scrollOffset:X=Math.min(X,M-w),itemTop:fe}}(_.prototype=new Y)._createConfigurator=function(){return new I(this,this.dom.container,E)},_.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},_.prototype.setOptions=function(O){if(!0===f.validate(O,C)&&console.log("%cErrors have been found in the supplied options object.",D),Y.prototype.setOptions.call(this,O),"type"in O&&O.type!==this.options.type){this.options.type=O.type;var w=this.itemsData;if(w){var M=this.getSelection();this.setItems(null),this.setItems(w),this.setSelection(M)}}},_.prototype.setItems=function(O){var v;v=O?O instanceof V||O instanceof H?O:new V(O,{type:{start:"Date",end:"Date"}}):null,this.itemsData=v,this.itemSet&&this.itemSet.setItems(v)},_.prototype.setGroups=function(O){var v;if(O){var w=function(L){return!1!==L.visible};v=O instanceof V||O instanceof H?new H(O,{filter:w}):new V(O.filter(w))}else v=null;this.groupsData=v,this.itemSet.setGroups(v)},_.prototype.setData=function(O){O&&O.groups&&this.setGroups(O.groups),O&&O.items&&this.setItems(O.items)},_.prototype.setSelection=function(O,v){this.itemSet&&this.itemSet.setSelection(O),v&&v.focus&&this.focus(O,v)},_.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},_.prototype.focus=function(O,v){if(this.itemsData&&null!=O){var w=Array.isArray(O)?O:[O],M=this.itemsData.getDataSet().get(w,{type:{start:"Date",end:"Date"}}),L=null,X=null;if(M.forEach(function(it){var We=it.start.valueOf(),we="end"in it?it.end.valueOf():it.start.valueOf();(null===L||We<L)&&(L=We),(null===X||we>X)&&(X=we)}),null!==L&&null!==X){var q=this,te=this.itemSet.items[w[0]],ie=-1*this._getScrollTop(),oe=null,Ce=function(){var We=y(q,te);We.shouldScroll&&We.itemTop!=oe.itemTop&&(q._setScrollTop(-We.scrollOffset),q._redraw())},Ae=(L+X)/2,Ye=Math.max(this.range.end-this.range.start,1.1*(X-L)),st=!v||void 0===v.animation||v.animation;st||(oe={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(Ae-Ye/2,Ae+Ye/2,{animation:st},function(){Ce(),setTimeout(Ce,100)},function(We,we,Oe){var Le=y(q,te);if(oe||(oe=Le),oe.itemTop!=Le.itemTop||oe.shouldScroll){oe.itemTop!=Le.itemTop&&Le.shouldScroll&&(oe=Le,ie=-1*q._getScrollTop());var pt=oe.scrollOffset;q._setScrollTop(-(Oe?pt:ie+(pt-ie)*We)),we||q._redraw()}})}}},_.prototype.fit=function(O,v){var M,w=!O||void 0===O.animation||O.animation,L=this.itemsData&&this.itemsData.getDataSet();1===L.length&&void 0===L.get()[0].end?(M=this.getDataRange(),this.moveTo(M.min.valueOf(),{animation:w},v)):(M=this.getItemRange(),this.range.setRange(M.min,M.max,{animation:w},v))},_.prototype.getItemRange=function(){var O=this.getDataRange(),v=null!==O.min?O.min.valueOf():null,w=null!==O.max?O.max.valueOf():null,M=null,L=null;if(null!=v&&null!=w){var X=w-v;X<=0&&(X=10);var q=X/this.props.center.width,te={},ie=0;if(R.forEach(this.itemSet.items,function(Ye,st){Ye.groupShowing&&(te[st]=Ye.redraw(!0),ie=te[st].length)}),ie>0)for(var fe=0;fe<ie;fe++)R.forEach(te,function(Ye){Ye[fe]()});if(R.forEach(this.itemSet.items,function(Ye){var We,we,st=g(Ye),it=p(Ye);this.options.rtl?(We=st-(Ye.getWidthRight()+10)*q,we=it+(Ye.getWidthLeft()+10)*q):(We=st-(Ye.getWidthLeft()+10)*q,we=it+(Ye.getWidthRight()+10)*q),We<v&&(v=We,M=Ye),we>w&&(w=we,L=Ye)}.bind(this)),M&&L){var Ce=M.getWidthLeft()+10,De=L.getWidthRight()+10,Ae=this.props.center.width-Ce-De;Ae>0&&(this.options.rtl?(v=g(M)-De*X/Ae,w=p(L)+Ce*X/Ae):(v=g(M)-Ce*X/Ae,w=p(L)+De*X/Ae))}}return{min:null!=v?new Date(v):null,max:null!=w?new Date(w):null}},_.prototype.getDataRange=function(){var O=null,v=null,w=this.itemsData&&this.itemsData.getDataSet();return w&&w.forEach(function(M){var L=R.convert(M.start,"Date").valueOf(),X=R.convert(null!=M.end?M.end:M.start,"Date").valueOf();(null===O||L<O)&&(O=L),(null===v||X>v)&&(v=X)}),{min:null!=O?new Date(O):null,max:null!=v?new Date(v):null}},_.prototype.getEventProperties=function(O){var M,v=O.center?O.center.x:O.clientX,w=O.center?O.center.y:O.clientY;M=this.options.rtl?R.getAbsoluteRight(this.dom.centerContainer)-v:v-R.getAbsoluteLeft(this.dom.centerContainer);var L=w-R.getAbsoluteTop(this.dom.centerContainer),X=this.itemSet.itemFromTarget(O),q=this.itemSet.groupFromTarget(O),te=F.customTimeFromTarget(O),ie=this.itemSet.options.snap||null,oe=this.body.util.getScale(),fe=this.body.util.getStep(),Ce=this._toTime(M),De=ie?ie(Ce,oe,fe):Ce,Ae=R.getTarget(O),Ye=null;return null!=X?Ye="item":null!=te?Ye="custom-time":R.hasParent(Ae,this.timeAxis.dom.foreground)||this.timeAxis2&&R.hasParent(Ae,this.timeAxis2.dom.foreground)?Ye="axis":R.hasParent(Ae,this.itemSet.dom.labelSet)?Ye="group-label":R.hasParent(Ae,this.currentTime.bar)?Ye="current-time":R.hasParent(Ae,this.dom.center)&&(Ye="background"),{event:O,item:X?X.id:null,group:q?q.groupId:null,what:Ye,pageX:O.srcEvent?O.srcEvent.pageX:O.pageX,pageY:O.srcEvent?O.srcEvent.pageY:O.pageY,x:M,y:L,time:Ce,snappedTime:De}},_.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},ge.exports=_},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=B(P(19)),H=B(P(0)),Y=B(P(1));function B(C){return C&&C.__esModule?C:{default:C}}var U=P(10),F=P(37),T=P(2),D=function(){function C(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,H.default)(this,C),this.pixelRatio=E,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,Y.default)(C,[{key:"insertTo",value:function(I){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=I,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(I){if("function"!=typeof I)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=I}},{key:"setCloseCallback",value:function(I){if("function"!=typeof I)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=I}},{key:"_isColorString",value:function(I){if("string"==typeof I)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[I]}},{key:"setColor",value:function(I){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==I){var _=void 0,g=this._isColorString(I);if(void 0!==g&&(I=g),!0===T.isString(I)){if(!0===T.isValidRGB(I)){var p=I.substr(4).substr(0,I.length-5).split(",");_={r:p[0],g:p[1],b:p[2],a:1}}else if(!0===T.isValidRGBA(I)){var y=I.substr(5).substr(0,I.length-6).split(",");_={r:y[0],g:y[1],b:y[2],a:y[3]}}else if(!0===T.isValidHex(I)){var O=T.hexToRGB(I);_={r:O.r,g:O.g,b:O.b,a:1}}}else I instanceof Object&&void 0!==I.r&&void 0!==I.g&&void 0!==I.b&&(_={r:I.r,g:I.g,b:I.b,a:void 0!==I.a?I.a:"1.0"});if(void 0===_)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,R.default)(I));this._setColor(_,f)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var I=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=T.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==I.closeCallback&&(I.closeCallback(),I.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(I){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=T.extend({},I)),this.color=I;var _=T.RGBToHSV(I.r,I.g,I.b),g=2*Math.PI,p=this.r*_.s,y=this.centerCoordinates.x+p*Math.sin(g*_.h),O=this.centerCoordinates.y+p*Math.cos(g*_.h);this.colorPickerSelector.style.left=y-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=O-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(I)}},{key:"_setOpacity",value:function(I){this.color.a=I/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(I){var f=T.RGBToHSV(this.color.r,this.color.g,this.color.b);f.v=I/100;var _=T.HSVToRGB(f.h,f.s,f.v);_.a=this.color.a,this.color=_,this._updatePicker()}},{key:"_updatePicker",value:function(){var I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,f=T.RGBToHSV(I.r,I.g,I.b),_=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(_.webkitBackingStorePixelRatio||_.mozBackingStorePixelRatio||_.msBackingStorePixelRatio||_.oBackingStorePixelRatio||_.backingStorePixelRatio||1)),_.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),_.clearRect(0,0,this.colorPickerCanvas.clientWidth,this.colorPickerCanvas.clientHeight),_.putImageData(this.hueCircle,0,0),_.fillStyle="rgba(0,0,0,"+(1-f.v)+")",_.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),_.fill(),this.brightnessRange.value=100*f.v,this.opacityRange.value=100*I.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var f=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var I=document.createElement("DIV");I.style.color="red",I.style.fontWeight="bold",I.style.padding="10px",I.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(I)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var _=this;this.opacityRange.onchange=function(){_._setOpacity(this.value)},this.opacityRange.oninput=function(){_._setOpacity(this.value)},this.brightnessRange.onchange=function(){_._setBrightness(this.value)},this.brightnessRange.oninput=function(){_._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var I=this;this.drag={},this.pinch={},this.hammer=new U(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),F.onTouch(this.hammer,function(f){I._moveSelector(f)}),this.hammer.on("tap",function(f){I._moveSelector(f)}),this.hammer.on("panstart",function(f){I._moveSelector(f)}),this.hammer.on("panmove",function(f){I._moveSelector(f)}),this.hammer.on("panend",function(f){I._moveSelector(f)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var I=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(I.webkitBackingStorePixelRatio||I.mozBackingStorePixelRatio||I.msBackingStorePixelRatio||I.oBackingStorePixelRatio||I.backingStorePixelRatio||1)),I.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var f=this.colorPickerCanvas.clientWidth,_=this.colorPickerCanvas.clientHeight;I.clearRect(0,0,f,_);var g=void 0,p=void 0,y=void 0,O=void 0;this.centerCoordinates={x:.5*f,y:.5*_},this.r=.49*f;var v=2*Math.PI/360,M=1/this.r,L=void 0;for(y=0;y<360;y++)for(O=0;O<this.r;O++)g=this.centerCoordinates.x+O*Math.sin(v*y),p=this.centerCoordinates.y+O*Math.cos(v*y),L=T.HSVToRGB(.002777777777777778*y,O*M,1),I.fillStyle="rgb("+L.r+","+L.g+","+L.b+")",I.fillRect(g-.5,p-.5,2,2);I.strokeStyle="rgba(0,0,0,1)",I.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),I.stroke(),this.hueCircle=I.getImageData(0,0,f,_)}this.generated=!0}},{key:"_moveSelector",value:function(I){var f=this.colorPickerDiv.getBoundingClientRect(),p=.5*this.colorPickerDiv.clientHeight,y=.5*this.colorPickerDiv.clientWidth,O=I.center.x-f.left-y,v=I.center.y-f.top-p,w=Math.atan2(O,v),M=.98*Math.min(Math.sqrt(O*O+v*v),y),L=Math.cos(w)*M+p,X=Math.sin(w)*M+y;this.colorPickerSelector.style.top=L-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=X-.5*this.colorPickerSelector.clientWidth+"px";var q=w/(2*Math.PI);q=q<0?q+1:q;var te=M/this.r,ie=T.RGBToHSV(this.color.r,this.color.g,this.color.b);ie.h=q,ie.s=te;var oe=T.HSVToRGB(ie.h,ie.s,ie.v);oe.a=this.color.a,this.color=oe,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),C}();ee.default=D},function(ge,ee,P){var W=P(9),R=P(2),V=P(11),H=P(12),$=P(64),Y=P(65),B=P(45),U=P(67),F=P(46),T=P(106),D=P(15).printStyle,C=P(113).allOptions,E=P(113).configureOptions,I=P(71).default,f=P(15).default;function _(g,p,y,O){if(!(Array.isArray(y)||y instanceof V||y instanceof H)&&y instanceof Object){var v=O;O=y,y=v}O&&O.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var w=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:W,width:null,height:null,maxHeight:null,minHeight:null},this.options=R.deepExtend({},this.defaultOptions),this._create(g),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:w._toScreen.bind(w),toGlobalScreen:w._toGlobalScreen.bind(w),toTime:w._toTime.bind(w),toGlobalTime:w._toGlobalTime.bind(w)}},this.range=new $(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new B(this.body),this.components.push(this.timeAxis),this.currentTime=new U(this.body),this.components.push(this.currentTime),this.linegraph=new T(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(M){w.emit("click",w.getEventProperties(M))}),this.on("doubletap",function(M){w.emit("doubleClick",w.getEventProperties(M))}),this.dom.root.oncontextmenu=function(M){w.emit("contextmenu",w.getEventProperties(M))},O&&this.setOptions(O),y&&this.setGroups(y),p&&this.setItems(p),this._redraw()}(_.prototype=new Y).setOptions=function(g){!0===f.validate(g,C)&&console.log("%cErrors have been found in the supplied options object.",D),Y.prototype.setOptions.call(this,g)},_.prototype.setItems=function(g){var y,p=null==this.itemsData;y=g?g instanceof V||g instanceof H?g:new V(g,{type:{start:"Date",end:"Date"}}):null,this.itemsData=y,this.linegraph&&this.linegraph.setItems(y),p&&(null!=this.options.start||null!=this.options.end?this.setWindow(null!=this.options.start?this.options.start:null,null!=this.options.end?this.options.end:null,{animation:!1}):this.fit({animation:!1}))},_.prototype.setGroups=function(g){var p;p=g?g instanceof V||g instanceof H?g:new V(g):null,this.groupsData=p,this.linegraph.setGroups(p)},_.prototype.getLegend=function(g,p,y){return void 0===p&&(p=15),void 0===y&&(y=15),void 0!==this.linegraph.groups[g]?this.linegraph.groups[g].getLegend(p,y):"cannot find group:'"+g+"'"},_.prototype.isGroupVisible=function(g){return void 0!==this.linegraph.groups[g]&&this.linegraph.groups[g].visible&&(void 0===this.linegraph.options.groups.visibility[g]||1==this.linegraph.options.groups.visibility[g])},_.prototype.getDataRange=function(){var g=null,p=null;for(var y in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(y)&&1==this.linegraph.groups[y].visible)for(var O=0;O<this.linegraph.groups[y].itemsData.length;O++){var w=R.convert(this.linegraph.groups[y].itemsData[O].x,"Date").valueOf();g=null==g||g>w?w:g,p=null==p||p<w?w:p}return{min:null!=g?new Date(g):null,max:null!=p?new Date(p):null}},_.prototype.getEventProperties=function(g){var y=g.center?g.center.y:g.clientY,O=(g.center?g.center.x:g.clientX)-R.getAbsoluteLeft(this.dom.centerContainer),v=y-R.getAbsoluteTop(this.dom.centerContainer),w=this._toTime(O),M=F.customTimeFromTarget(g),L=R.getTarget(g),X=null;R.hasParent(L,this.timeAxis.dom.foreground)||this.timeAxis2&&R.hasParent(L,this.timeAxis2.dom.foreground)?X="axis":R.hasParent(L,this.linegraph.yAxisLeft.dom.frame)||R.hasParent(L,this.linegraph.yAxisRight.dom.frame)?X="data-axis":R.hasParent(L,this.linegraph.legendLeft.dom.frame)||R.hasParent(L,this.linegraph.legendRight.dom.frame)?X="legend":null!=M?X="custom-time":R.hasParent(L,this.currentTime.bar)?X="current-time":R.hasParent(L,this.dom.center)&&(X="background");var q=[],te=this.linegraph.yAxisLeft,ie=this.linegraph.yAxisRight;return!te.hidden&&this.itemsData.length>0&&q.push(te.screenToValue(v)),!ie.hidden&&this.itemsData.length>0&&q.push(ie.screenToValue(v)),{event:g,what:X,pageX:g.srcEvent?g.srcEvent.pageX:g.pageX,pageY:g.srcEvent?g.srcEvent.pageY:g.pageY,x:O,y:v,time:w,value:q}},_.prototype._createConfigurator=function(){return new I(this,this.dom.container,E)},ge.exports=_},function(ge,ee,P){ee.util=P(2),ee.DOMutil=P(14),ee.DataSet=P(11),ee.DataView=P(12),ee.Queue=P(43),ee.Network=P(182),ee.network={Images:P(116),dotparser:P(114),gephiParser:P(115),allOptions:P(122)},ee.network.convertDot=function(W){return ee.network.dotparser.DOTToGraph(W)},ee.network.convertGephi=function(W,R){return ee.network.gephiParser.parseGephi(W,R)},ee.moment=P(9),ee.Hammer=P(10),ee.keycharm=P(35)},function(ge,ee,P){P(183);var W=P(44),R=P(2),V=P(114),H=P(115),$=P(97),Y=P(184),B=P(116).default,U=P(186).default,F=P(187).default,T=P(214).default,D=P(220).default,C=P(227).default,E=P(229).default,I=P(230).default,f=P(231).default,_=P(232).default,g=P(234).default,p=P(235).default,y=P(237).default,O=P(71).default,v=P(15).default,M=P(15).printStyle,L=P(122),X=L.allOptions,q=L.configureOptions,te=P(238).default;function ie(oe,fe,Ce){var De=this;if(!(this instanceof ie))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Y,clickToUse:!1},R.extend(this.options,this.defaultOptions),this.body={container:oe,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new B(function(){return De.body.emitter.emit("_requestRedraw")}),this.groups=new U,this.canvas=new I(this.body),this.selectionHandler=new g(this.body,this.canvas),this.interactionHandler=new _(this.body,this.canvas,this.selectionHandler),this.view=new f(this.body,this.canvas),this.renderer=new E(this.body,this.canvas),this.physics=new D(this.body),this.layoutEngine=new p(this.body),this.clustering=new C(this.body),this.manipulation=new y(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new F(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new T(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new te(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(Ce),this.setData(fe)}W(ie.prototype),ie.prototype.setOptions=function(oe){var fe=this;if(void 0!==oe){if(!0===v.validate(oe,X)&&console.log("%cErrors have been found in the supplied options object.",M),R.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,oe),oe=this.layoutEngine.setOptions(oe.layout,oe),this.canvas.setOptions(oe),this.groups.setOptions(oe.groups),this.nodesHandler.setOptions(oe.nodes),this.edgesHandler.setOptions(oe.edges),this.physics.setOptions(oe.physics),this.manipulation.setOptions(oe.manipulation,oe,this.options),this.interactionHandler.setOptions(oe.interaction),this.renderer.setOptions(oe.interaction),this.selectionHandler.setOptions(oe.interaction),void 0!==oe.groups&&this.body.emitter.emit("refreshNodes"),"configure"in oe&&(this.configurator||(this.configurator=new O(this,this.body.container,q,this.canvas.pixelRatio)),this.configurator.setOptions(oe.configure)),this.configurator&&!0===this.configurator.options.enabled){var Ae={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};R.deepExtend(Ae.nodes,this.nodesHandler.options),R.deepExtend(Ae.edges,this.edgesHandler.options),R.deepExtend(Ae.layout,this.layoutEngine.options),R.deepExtend(Ae.interaction,this.selectionHandler.options),R.deepExtend(Ae.interaction,this.renderer.options),R.deepExtend(Ae.interaction,this.interactionHandler.options),R.deepExtend(Ae.manipulation,this.manipulation.options),R.deepExtend(Ae.physics,this.physics.options),R.deepExtend(Ae.global,this.canvas.options),R.deepExtend(Ae.global,this.options),this.configurator.setModuleOptions(Ae)}void 0!==oe.clickToUse?!0===oe.clickToUse?void 0===this.activator&&(this.activator=new $(this.canvas.frame),this.activator.on("change",function(){fe.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},ie.prototype._updateVisibleIndices=function(){var oe=this.body.nodes,fe=this.body.edges;for(var Ce in this.body.nodeIndices=[],this.body.edgeIndices=[],oe)oe.hasOwnProperty(Ce)&&!this.clustering._isClusteredNode(Ce)&&!1===oe[Ce].options.hidden&&this.body.nodeIndices.push(oe[Ce].id);for(var De in fe)if(fe.hasOwnProperty(De)){var Ae=fe[De],Ye=oe[Ae.fromId],st=oe[Ae.toId],it=void 0!==Ye&&void 0!==st;!this.clustering._isClusteredEdge(De)&&!1===Ae.options.hidden&&it&&!1===Ye.options.hidden&&!1===st.options.hidden&&this.body.edgeIndices.push(Ae.id)}},ie.prototype.bindEventListeners=function(){var oe=this;this.body.emitter.on("_dataChanged",function(){oe.edgesHandler._updateState(),oe.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){oe.clustering._updateState(),oe._updateVisibleIndices(),oe._updateValueRange(oe.body.nodes),oe._updateValueRange(oe.body.edges),oe.body.emitter.emit("startSimulation"),oe.body.emitter.emit("_requestRedraw")})},ie.prototype.setData=function(oe){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),oe&&oe.dot&&(oe.nodes||oe.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(oe&&oe.options),oe&&oe.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var fe=V.DOTToGraph(oe.dot);this.setData(fe)}else if(oe&&oe.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var Ce=H.parseGephi(oe.gephi);this.setData(Ce)}else this.nodesHandler.setData(oe&&oe.nodes,!0),this.edgesHandler.setData(oe&&oe.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},ie.prototype.destroy=function(){for(var oe in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(oe)&&delete this.body.nodes[oe];for(var fe in this.body.edges)this.body.edges.hasOwnProperty(fe)&&delete this.body.edges[fe];R.recursiveDOMDelete(this.body.container)},ie.prototype._updateValueRange=function(oe){var fe,Ce=void 0,De=void 0,Ae=0;for(fe in oe)if(oe.hasOwnProperty(fe)){var Ye=oe[fe].getValue();void 0!==Ye&&(Ce=void 0===Ce?Ye:Math.min(Ye,Ce),De=void 0===De?Ye:Math.max(Ye,De),Ae+=Ye)}if(void 0!==Ce&&void 0!==De)for(fe in oe)oe.hasOwnProperty(fe)&&oe[fe].setValueRange(Ce,De,Ae)},ie.prototype.isActive=function(){return!this.activator||this.activator.active},ie.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},ie.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},ie.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},ie.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},ie.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},ie.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},ie.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},ie.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},ie.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},ie.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},ie.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},ie.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},ie.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},ie.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},ie.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},ie.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},ie.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},ie.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},ie.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},ie.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},ie.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},ie.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},ie.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},ie.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},ie.prototype.getConnectedNodes=function(oe){return void 0!==this.body.nodes[oe]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},ie.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},ie.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},ie.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},ie.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},ie.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},ie.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},ie.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},ie.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},ie.prototype.getNodeAt=function(){var oe=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==oe&&void 0!==oe.id?oe.id:oe},ie.prototype.getEdgeAt=function(){var oe=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==oe&&void 0!==oe.id?oe.id:oe},ie.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},ie.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},ie.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},ie.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},ie.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},ie.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},ie.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},ie.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},ie.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},ie.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},ie.prototype.getOptionsFromConfigurator=function(){var oe={};return this.configurator&&(oe=this.configurator.getOptions.apply(this.configurator)),oe},ge.exports=ie},function(ge,ee,P){typeof CanvasRenderingContext2D<"u"&&(CanvasRenderingContext2D.prototype.circle=function(W,R,V){this.beginPath(),this.arc(W,R,V,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(W,R,V){this.beginPath(),this.rect(W-V,R-V,2*V,2*V),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(W,R,V){this.beginPath(),R+=.275*(V*=1.15);var H=2*V,$=H/2,Y=Math.sqrt(3)/6*H,B=Math.sqrt(H*H-$*$);this.moveTo(W,R-(B-Y)),this.lineTo(W+$,R+Y),this.lineTo(W-$,R+Y),this.lineTo(W,R-(B-Y)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(W,R,V){this.beginPath(),R-=.275*(V*=1.15);var H=2*V,$=H/2,Y=Math.sqrt(3)/6*H,B=Math.sqrt(H*H-$*$);this.moveTo(W,R+(B-Y)),this.lineTo(W+$,R-Y),this.lineTo(W-$,R-Y),this.lineTo(W,R+(B-Y)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(W,R,V){this.beginPath(),R+=.1*(V*=.82);for(var H=0;H<10;H++){var $=H%2==0?1.3*V:.5*V;this.lineTo(W+$*Math.sin(2*H*Math.PI/10),R-$*Math.cos(2*H*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(W,R,V){this.beginPath(),this.lineTo(W,R+V),this.lineTo(W+V,R),this.lineTo(W,R-V),this.lineTo(W-V,R),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(W,R,V,H,$){var Y=Math.PI/180;V-2*$<0&&($=V/2),H-2*$<0&&($=H/2),this.beginPath(),this.moveTo(W+$,R),this.lineTo(W+V-$,R),this.arc(W+V-$,R+$,$,270*Y,360*Y,!1),this.lineTo(W+V,R+H-$),this.arc(W+V-$,R+H-$,$,0,90*Y,!1),this.lineTo(W+$,R+H),this.arc(W+$,R+H-$,$,90*Y,180*Y,!1),this.lineTo(W,R+$),this.arc(W+$,R+$,$,180*Y,270*Y,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(W,R,V,H){var $=.5522848,Y=V/2*$,B=H/2*$,U=W+V,F=R+H,T=W+V/2,D=R+H/2;this.beginPath(),this.moveTo(W,D),this.bezierCurveTo(W,D-B,T-Y,R,T,R),this.bezierCurveTo(T+Y,R,U,D-B,U,D),this.bezierCurveTo(U,D+B,T+Y,F,T,F),this.bezierCurveTo(T-Y,F,W,D+B,W,D),this.closePath()},CanvasRenderingContext2D.prototype.database=function(W,R,V,H){var B=.3333333333333333*H,U=.5522848,F=V/2*U,T=B/2*U,D=W+V,C=R+B,E=W+V/2,I=R+B/2,f=R+(H-B/2),_=R+H;this.beginPath(),this.moveTo(D,I),this.bezierCurveTo(D,I+T,E+F,C,E,C),this.bezierCurveTo(E-F,C,W,I+T,W,I),this.bezierCurveTo(W,I-T,E-F,R,E,R),this.bezierCurveTo(E+F,R,D,I-T,D,I),this.lineTo(D,f),this.bezierCurveTo(D,f+T,E+F,_,E,_),this.bezierCurveTo(E-F,_,W,f+T,W,f),this.lineTo(W,I)},CanvasRenderingContext2D.prototype.dashedLine=function(W,R,V,H,$){this.beginPath(),this.moveTo(W,R);for(var Y=$.length,B=V-W,U=H-R,F=U/B,T=Math.sqrt(B*B+U*U),D=0,C=!0,E=0,I=$[0];T>=.1;)(I=$[D++%Y])>T&&(I=T),E=Math.sqrt(I*I/(1+F*F)),W+=E=B<0?-E:E,R+=F*E,!0===C?this.lineTo(W,R):this.moveTo(W,R),T-=I,C=!C},CanvasRenderingContext2D.prototype.hexagon=function(W,R,V){this.beginPath();var $=2*Math.PI/6;this.moveTo(W+V,R);for(var Y=1;Y<6;Y++)this.lineTo(W+V*Math.cos($*Y),R+V*Math.sin($*Y));this.closePath()})},function(ge,ee,P){ee.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},ee.en_EN=ee.en,ee.en_US=ee.en,ee.de={edit:"Editieren",del:"L\xf6sche Auswahl",back:"Zur\xfcck",addNode:"Knoten hinzuf\xfcgen",addEdge:"Kante hinzuf\xfcgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",editClusterError:"Cluster k\xf6nnen nicht editiert werden."},ee.de_DE=ee.de,ee.es={edit:"Editar",del:"Eliminar selecci\xf3n",back:"\xc1tras",addNode:"A\xf1adir nodo",addEdge:"A\xf1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},ee.es_ES=ee.es,ee.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},ee.it_IT=ee.it,ee.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},ee.nl_NL=ee.nl,ee.nl_BE=ee.nl,ee["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n\xf3",addEdge:"Adicionar aresta",editNode:"Editar n\xf3",editEdge:"Editar aresta",addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",editClusterError:"Clusters n\xe3o puderam ser editados."},ee["pt-BR"]=ee["pt-br"],ee.pt_BR=ee["pt-br"],ee.pt_br=ee["pt-br"],ee.ru={edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f."},ee.ru_RU=ee.ru,ee.cn={edit:"\u7f16\u8f91",del:"\u5220\u9664\u9009\u5b9a",back:"\u8fd4\u56de",addNode:"\u6dfb\u52a0\u8282\u70b9",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",editNode:"\u7f16\u8f91\u8282\u70b9",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002"},ee.zh_CN=ee.cn},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(B){return B&&B.__esModule?B:{default:B}}var Y=function(){function B(){(0,R.default)(this,B),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,H.default)(B,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var F=this.image.width,T=this.image.height;this.width=F,this.height=T;var D=Math.floor(T/2),C=Math.floor(T/4),E=Math.floor(T/8),I=Math.floor(T/16),f=Math.floor(F/2),_=Math.floor(F/4),g=Math.floor(F/8),p=Math.floor(F/16);this.canvas.width=3*_,this.canvas.height=D,this.coordinates=[[0,0,f,D],[f,0,_,C],[f,C,g,E],[5*g,C,p,I]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var F=this.canvas.getContext("2d"),T=this.coordinates[0];F.drawImage(this.image,T[0],T[1],T[2],T[3]);for(var D=1;D<this.NUM_ITERATIONS;D++){var C=this.coordinates[D-1],E=this.coordinates[D];F.drawImage(this.canvas,C[0],C[1],C[2],C[3],E[0],E[1],E[2],E[3])}}},{key:"drawImageAtPosition",value:function(F,T,D,C,E,I){if(this.initialized())if(T>2){T*=.5;for(var f=0;T>2&&f<this.NUM_ITERATIONS;)T*=.5,f+=1;f>=this.NUM_ITERATIONS&&(f=this.NUM_ITERATIONS-1);var _=this.coordinates[f];F.drawImage(this.canvas,_[0],_[1],_[2],_[3],D,C,E,I)}else F.drawImage(this.image,D,C,E,I)}}]),B}();ee.default=Y},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(U){return U&&U.__esModule?U:{default:U}}var Y=P(2),B=function(){function U(){(0,R.default)(this,U),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Y.extend(this.options,this.defaultOptions)}return(0,H.default)(U,[{key:"setOptions",value:function(T){var D=["useDefaultGroups"];if(void 0!==T)for(var C in T)T.hasOwnProperty(C)&&-1===D.indexOf(C)&&this.add(C,T[C])}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(T){var C=this.groups[T];if(void 0===C&&(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var E=this.groupIndex%this.groupsArray.length;this.groupIndex++,(C={}).color=this.groups[this.groupsArray[E]],this.groups[T]=C}else{var I=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(C={}).color=this.defaultGroups[I],this.groups[T]=C}return C}},{key:"add",value:function(T,D){return this.groups[T]=D,this.groupsArray.push(T),D}}]),U}();ee.default=B},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(D){return D&&D.__esModule?D:{default:D}}var Y=P(2),B=P(11),U=P(12),F=P(47).default,T=function(){function D(C,E,I,f){var _=this;if((0,R.default)(this,D),this.body=C,this.images=E,this.groups=I,this.layoutEngine=f,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(p,y){_.add(y.items)},update:function(p,y){_.update(y.items,y.data,y.oldData)},remove:function(p,y){_.remove(y.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(p,y,O,v){return y===p?.5:Math.max(0,1/(y-p)*(v-p))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Y.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,H.default)(D,[{key:"bindEventListeners",value:function(){var E=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){Y.forEach(E.nodesListeners,function(I,f){E.body.data.nodes&&E.body.data.nodes.off(f,I)}),delete E.body.functions.createNode,delete E.nodesListeners.add,delete E.nodesListeners.update,delete E.nodesListeners.remove,delete E.nodesListeners})}},{key:"setOptions",value:function(E){if(void 0!==E){if(F.parseOptions(this.options,E),void 0!==E.shape)for(var I in this.body.nodes)this.body.nodes.hasOwnProperty(I)&&this.body.nodes[I].updateShape();if(void 0!==E.font)for(var f in this.body.nodes)this.body.nodes.hasOwnProperty(f)&&(this.body.nodes[f].updateLabelModule(),this.body.nodes[f].needsRefresh());if(void 0!==E.size)for(var _ in this.body.nodes)this.body.nodes.hasOwnProperty(_)&&this.body.nodes[_].needsRefresh();(void 0!==E.hidden||void 0!==E.physics)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(E){var I=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=this.body.data.nodes;if(E instanceof B||E instanceof U)this.body.data.nodes=E;else if(Array.isArray(E))this.body.data.nodes=new B,this.body.data.nodes.add(E);else{if(E)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new B}if(f&&Y.forEach(this.nodesListeners,function(p,y){f.off(y,p)}),this.body.nodes={},this.body.data.nodes){var _=this;Y.forEach(this.nodesListeners,function(p,y){_.body.data.nodes.on(y,p)});var g=this.body.data.nodes.getIds();this.add(g,!0)}!1===I&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(E){for(var I=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=void 0,_=[],g=0;g<E.length;g++){var p=this.body.data.nodes.get(f=E[g]),y=this.create(p);_.push(y),this.body.nodes[f]=y}this.layoutEngine.positionInitially(_),!1===I&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(E,I,f){for(var _=this.body.nodes,g=!1,p=0;p<E.length;p++){var y=E[p],O=_[y],v=I[p];void 0!==O?O.setOptions(v)&&(g=!0):(g=!0,O=this.create(v),_[y]=O)}!g&&void 0!==f&&(g=I.some(function(w,M){var L=f[M];return L&&L.level!==w.level})),this.body.emitter.emit(!0===g?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(E){for(var I=this.body.nodes,f=0;f<E.length;f++)delete I[E[f]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(E){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:F)(E,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var E=this,I=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Y.forEach(this.body.nodes,function(f,_){var g=E.body.data.nodes.get(_);void 0!==g&&(!0===I&&f.setOptions({x:null,y:null}),f.setOptions({fixed:!1}),f.setOptions(g))})}},{key:"getPositions",value:function(E){var I={};if(void 0!==E){if(!0===Array.isArray(E)){for(var f=0;f<E.length;f++)if(void 0!==this.body.nodes[E[f]]){var _=this.body.nodes[E[f]];I[E[f]]={x:Math.round(_.x),y:Math.round(_.y)}}}else if(void 0!==this.body.nodes[E]){var g=this.body.nodes[E];I[E]={x:Math.round(g.x),y:Math.round(g.y)}}}else for(var p=0;p<this.body.nodeIndices.length;p++){var y=this.body.nodes[this.body.nodeIndices[p]];I[this.body.nodeIndices[p]]={x:Math.round(y.x),y:Math.round(y.y)}}return I}},{key:"storePositions",value:function(){var E=[],I=this.body.data.nodes.getDataSet();for(var f in I._data)if(I._data.hasOwnProperty(f)){var _=this.body.nodes[f];(I._data[f].x!=Math.round(_.x)||I._data[f].y!=Math.round(_.y))&&E.push({id:_.id,x:Math.round(_.x),y:Math.round(_.y)})}I.update(E)}},{key:"getBoundingBox",value:function(E){if(void 0!==this.body.nodes[E])return this.body.nodes[E].shape.boundingBox}},{key:"getConnectedNodes",value:function(E,I){var f=[];if(void 0!==this.body.nodes[E])for(var _=this.body.nodes[E],g={},p=0;p<_.edges.length;p++){var y=_.edges[p];"to"!==I&&y.toId==_.id?void 0===g[y.fromId]&&(f.push(y.fromId),g[y.fromId]=!0):"from"!==I&&y.fromId==_.id&&void 0===g[y.toId]&&(f.push(y.toId),g[y.toId]=!0)}return f}},{key:"getConnectedEdges",value:function(E){var I=[];if(void 0!==this.body.nodes[E])for(var f=this.body.nodes[E],_=0;_<f.edges.length;_++)I.push(f.edges[_].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",E);return I}},{key:"moveNode",value:function(E,I,f){var _=this;void 0!==this.body.nodes[E]?(this.body.nodes[E].x=Number(I),this.body.nodes[E].y=Number(f),setTimeout(function(){_.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",E)}}]),D}();ee.default=T},function(ge,ee,P){ge.exports={default:P(189),__esModule:!0}},function(ge,ee,P){P(49),P(60),ge.exports=P(190)},function(ge,ee,P){var W=P(86),R=P(13)("iterator"),V=P(31);ge.exports=P(7).isIterable=function(H){var $=Object(H);return void 0!==$[R]||"@@iterator"in $||V.hasOwnProperty(W($))}},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(F){return F&&F.__esModule?F:{default:F}}var Y=P(192).default,B=P(48).default,U=function(){function F(T,D,C,E){var I=this;(0,R.default)(this,F),this.ctx=T,this.parent=D,this.lines=new Y(function(g,p){if(void 0===g)return 0;var y=I.parent.getFormattingValues(T,C,E,p),O=0;return""!==g&&(O=I.ctx.measureText(g).width),{width:O,values:y}})}return(0,H.default)(F,[{key:"process",value:function(D){if(!B.isValidLabel(D))return this.lines.finalize();var C=this.parent.fontOptions;D=(D=D.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var E=String(D).split("\n"),I=E.length;if(C.multi)for(var f=0;f<I;f++){var _=this.splitBlocks(E[f],C.multi);if(void 0!==_){if(0===_.length){this.lines.newLine("");continue}if(C.maxWdt>0)for(var g=0;g<_.length;g++)this.splitStringIntoLines(_[g].text,_[g].mod,!0);else for(var O=0;O<_.length;O++)this.lines.append(_[O].text,_[O].mod);this.lines.newLine()}}else if(C.maxWdt>0)for(var M=0;M<I;M++)this.splitStringIntoLines(E[M]);else for(var L=0;L<I;L++)this.lines.newLine(E[L]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(D){var C="none";return"markdown"===D||"md"===D?C="markdown":(!0===D||"html"===D)&&(C="html"),C}},{key:"splitHtmlBlocks",value:function(D){for(var C=[],E={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":E.bold&&E.ital?"boldital":E.bold?"bold":E.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(C.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(f){" "===f&&(E.spacing=!0),E.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=f&&(this.buffer+=f)}};E.position<D.length;){var I=D.charAt(E.position);/[ \t]/.test(I)?E.mono?E.add(I):E.spacing=!0:/</.test(I)?E.mono||E.bold||!/<b>/.test(D.substr(E.position,3))?E.mono||E.ital||!/<i>/.test(D.substr(E.position,3))?!E.mono&&/<code>/.test(D.substr(E.position,6))?(E.emitBlock(),E.mono=!0,E.modStack.unshift("mono"),E.position+=5):!E.mono&&"bold"===E.mod()&&/<\/b>/.test(D.substr(E.position,4))?(E.emitBlock(),E.bold=!1,E.modStack.shift(),E.position+=3):!E.mono&&"ital"===E.mod()&&/<\/i>/.test(D.substr(E.position,4))?(E.emitBlock(),E.ital=!1,E.modStack.shift(),E.position+=3):"mono"===E.mod()&&/<\/code>/.test(D.substr(E.position,7))?(E.emitBlock(),E.mono=!1,E.modStack.shift(),E.position+=6):E.add(I):(E.emitBlock(),E.ital=!0,E.modStack.unshift("ital"),E.position+=2):(E.emitBlock(),E.bold=!0,E.modStack.unshift("bold"),E.position+=2):/&/.test(I)?/&lt;/.test(D.substr(E.position,4))?(E.add("<"),E.position+=3):/&amp;/.test(D.substr(E.position,5))?(E.add("&"),E.position+=4):E.add("&"):E.add(I),E.position++}return E.emitBlock(),C}},{key:"splitMarkdownBlocks",value:function(D){for(var C=[],E={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":E.bold&&E.ital?"boldital":E.bold?"bold":E.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(C.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(f){" "===f&&(E.spacing=!0),E.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=f&&(this.buffer+=f)}};E.position<D.length;){var I=D.charAt(E.position);/[ \t]/.test(I)?(E.mono?E.add(I):E.spacing=!0,E.beginable=!0):/\\/.test(I)?E.position<D.length+1&&(E.position++,I=D.charAt(E.position),/ \t/.test(I)?E.spacing=!0:(E.add(I),E.beginable=!1)):E.mono||E.bold||!E.beginable&&!E.spacing||!/\*/.test(I)?E.mono||E.ital||!E.beginable&&!E.spacing||!/\_/.test(I)?!E.mono&&(E.beginable||E.spacing)&&/`/.test(I)?(E.emitBlock(),E.mono=!0,E.modStack.unshift("mono")):!E.mono&&"bold"===E.mod()&&/\*/.test(I)?E.position===D.length-1||/[.,_` \t\n]/.test(D.charAt(E.position+1))?(E.emitBlock(),E.bold=!1,E.modStack.shift()):E.add(I):!E.mono&&"ital"===E.mod()&&/\_/.test(I)?E.position===D.length-1||/[.,*` \t\n]/.test(D.charAt(E.position+1))?(E.emitBlock(),E.ital=!1,E.modStack.shift()):E.add(I):E.mono&&"mono"===E.mod()&&/`/.test(I)?E.position===D.length-1||/[.,*_ \t\n]/.test(D.charAt(E.position+1))?(E.emitBlock(),E.mono=!1,E.modStack.shift()):E.add(I):(E.add(I),E.beginable=!1):(E.emitBlock(),E.ital=!0,E.modStack.unshift("ital")):(E.emitBlock(),E.bold=!0,E.modStack.unshift("bold")),E.position++}return E.emitBlock(),C}},{key:"splitBlocks",value:function(D,C){var E=this.decodeMarkupSystem(C);return"none"===E?[{text:D,mod:"normal"}]:"markdown"===E?this.splitMarkdownBlocks(D):"html"===E?this.splitHtmlBlocks(D):void 0}},{key:"overMaxWidth",value:function(D){var C=this.ctx.measureText(D).width;return this.lines.curWidth()+C>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(D){for(var C="",E=0;E<D.length;){var f=C+(""===C?"":" ")+D[E];if(this.overMaxWidth(f))break;C=f,E++}return E}},{key:"getLongestFitWord",value:function(D){for(var C=0;C<D.length&&!this.overMaxWidth(D.slice(0,C));)C++;return C}},{key:"splitStringIntoLines",value:function(D){for(var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",E=arguments.length>2&&void 0!==arguments[2]&&arguments[2],I=(D=(D=D.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");I.length>0;){var f=this.getLongestFit(I);if(0===f){var _=I[0],g=this.getLongestFitWord(_);this.lines.newLine(_.slice(0,g),C),I[0]=_.slice(g)}else{var p=f;" "===I[f-1]?f--:" "===I[p]&&p++;var y=I.slice(0,f).join("");f==I.length&&E?this.lines.append(y,C):this.lines.newLine(y,C),I=I.slice(p)}}}}]),F}();ee.default=U},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=B(P(90)),H=B(P(0)),Y=B(P(1));function B(F){return F&&F.__esModule?F:{default:F}}var U=function(){function F(T){(0,H.default)(this,F),this.measureText=T,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,Y.default)(F,[{key:"_add",value:function(D,C){var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[D]&&(this.lines[D]={width:0,height:0,blocks:[]});var I=C;(void 0===C||""===C)&&(I=" ");var f=this.measureText(I,E),_=(0,R.default)({},f.values);_.text=C,_.width=f.width,_.mod=E,(void 0===C||""===C)&&(_.width=0),this.lines[D].blocks.push(_),this.lines[D].width+=_.width}},{key:"curWidth",value:function(){var D=this.lines[this.current];return void 0===D?0:D.width}},{key:"append",value:function(D){this._add(this.current,D,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal")}},{key:"newLine",value:function(D){this._add(this.current,D,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal"),this.current++}},{key:"determineLineHeights",value:function(){for(var D=0;D<this.lines.length;D++){var C=this.lines[D],E=0;if(void 0!==C.blocks)for(var I=0;I<C.blocks.length;I++){var f=C.blocks[I];E<f.height&&(E=f.height)}C.height=E}}},{key:"determineLabelSize",value:function(){for(var D=0,C=0,E=0;E<this.lines.length;E++){var I=this.lines[E];I.width>D&&(D=I.width),C+=I.height}this.width=D,this.height=C}},{key:"removeEmptyBlocks",value:function(){for(var D=[],C=0;C<this.lines.length;C++){var E=this.lines[C];if(0!==E.blocks.length&&(C!==this.lines.length-1||0!==E.width)){var I={};(0,R.default)(I,E),I.blocks=[];for(var f=void 0,_=[],g=0;g<E.blocks.length;g++){var p=E.blocks[g];0!==p.width?_.push(p):void 0===f&&(f=p)}0===_.length&&void 0!==f&&_.push(f),I.blocks=_,D.push(I)}}return D}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var D=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:D}}}]),F}();ee.default=U},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){(0,H.default)(this,_);var O=(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y));return O._setMargins(y),O}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"resize",value:function(p){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(y,O)){var v=this.getDimensionsFromLabel(p,y,O);this.width=v.width+this.margin.right+this.margin.left,this.height=v.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(p,y,O,v,w,M){this.resize(p,v,w),this.left=y-this.width/2,this.top=O-this.height/2,this.initContextForDraw(p,M),p.roundRect(this.left,this.top,this.width,this.height,M.borderRadius),this.performFill(p,M),this.updateBoundingBox(y,O,p,v,w),this.labelModule.draw(p,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,v,w)}},{key:"updateBoundingBox",value:function(p,y,O,v,w){this._updateBoundingBox(p,y,O,v,w),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(p,y){this.resize(p);var O=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(y)),Math.abs(this.height/2/Math.sin(y)))+O}}]),_}(E(P(23)).default);ee.default=I},function(ge,ee,P){P(195),ge.exports=P(7).Object.getPrototypeOf},function(ge,ee,P){var W=P(41),R=P(85);P(87)("getPrototypeOf",function(){return function(H){return R(W(H))}})},function(ge,ee,P){ge.exports={default:P(197),__esModule:!0}},function(ge,ee,P){P(198),ge.exports=P(7).Object.setPrototypeOf},function(ge,ee,P){var W=P(17);W(W.S,"Object",{setPrototypeOf:P(199).set})},function(ge,ee,P){var W=P(32),R=P(27),V=function(H,$){if(R(H),!W($)&&null!==$)throw TypeError($+": can't set as prototype!")};ge.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(H,$,Y){try{(Y=P(80)(Function.call,P(89).f(Object.prototype,"__proto__").set,2))(H,[]),$=!(H instanceof Array)}catch{$=!0}return function(U,F){return V(U,F),$?U.__proto__=F:Y(U,F),U}}({},!1):void 0),check:V}},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){(0,H.default)(this,_);var O=(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y));return O._setMargins(y),O}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"resize",value:function(p){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(y,O)){var v=this.getDimensionsFromLabel(p,y,O),w=Math.max(v.width+this.margin.right+this.margin.left,v.height+this.margin.top+this.margin.bottom);this.options.size=w/2,this.width=w,this.height=w,this.radius=this.width/2}}},{key:"draw",value:function(p,y,O,v,w,M){this.resize(p,v,w),this.left=y-this.width/2,this.top=O-this.height/2,this._drawRawCircle(p,y,O,M),this.updateBoundingBox(y,O),this.labelModule.draw(p,this.left+this.textSize.width/2+this.margin.left,O,v,w)}},{key:"updateBoundingBox",value:function(p,y){this.boundingBox.top=y-this.options.size,this.boundingBox.left=p-this.options.size,this.boundingBox.right=p+this.options.size,this.boundingBox.bottom=y+this.options.size}},{key:"distanceToBorder",value:function(p,y){return this.resize(p),.5*this.width}}]),_}(E(P(73)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y,O,v){(0,H.default)(this,_);var w=(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y));return w.setImages(O,v),w}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"resize",value:function(p){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var w=2*this.options.size;return this.width=w,this.height=w,void(this.radius=.5*this.width)}this.needsRefresh(y,O)&&this._resizeImage()}},{key:"draw",value:function(p,y,O,v,w,M){this.switchImages(v),this.resize(),this.left=y-this.width/2,this.top=O-this.height/2,this._drawRawCircle(p,y,O,M),p.save(),p.clip(),this._drawImageAtPosition(p,M),p.restore(),this._drawImageLabel(p,y,O,v,w),this.updateBoundingBox(y,O)}},{key:"updateBoundingBox",value:function(p,y){this.boundingBox.top=y-this.options.size,this.boundingBox.left=p-this.options.size,this.boundingBox.right=p+this.options.size,this.boundingBox.bottom=y+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(p,y){return this.resize(p),.5*this.width}}]),_}(E(P(73)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){(0,H.default)(this,_);var O=(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y));return O._setMargins(y),O}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"resize",value:function(p,y,O){if(this.needsRefresh(y,O)){var w=this.getDimensionsFromLabel(p,y,O).width+this.margin.right+this.margin.left;this.width=w,this.height=w,this.radius=this.width/2}}},{key:"draw",value:function(p,y,O,v,w,M){this.resize(p,v,w),this.left=y-this.width/2,this.top=O-this.height/2,this.initContextForDraw(p,M),p.database(y-this.width/2,O-this.height/2,this.width,this.height),this.performFill(p,M),this.updateBoundingBox(y,O,p,v,w),this.labelModule.draw(p,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,v,w)}},{key:"distanceToBorder",value:function(p,y){return this._distanceToBorder(p,y)}}]),_}(E(P(23)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"draw",value:function(p,y,O,v,w,M){this._drawShape(p,"diamond",4,y,O,v,w,M)}},{key:"distanceToBorder",value:function(p,y){return this._distanceToBorder(p,y)}}]),_}(E(P(24)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"draw",value:function(p,y,O,v,w,M){this._drawShape(p,"circle",2,y,O,v,w,M)}},{key:"distanceToBorder",value:function(p,y){return this.resize(p),this.options.size}}]),_}(E(P(24)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"resize",value:function(p){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(y,O)){var v=this.getDimensionsFromLabel(p,y,O);this.height=2*v.height,this.width=v.width+v.height,this.radius=.5*this.width}}},{key:"draw",value:function(p,y,O,v,w,M){this.resize(p,v,w),this.left=y-.5*this.width,this.top=O-.5*this.height,this.initContextForDraw(p,M),p.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(p,M),this.updateBoundingBox(y,O,p,v,w),this.labelModule.draw(p,y,O,v,w)}},{key:"distanceToBorder",value:function(p,y){this.resize(p);var O=.5*this.width,v=.5*this.height,w=Math.sin(y)*O,M=Math.cos(y)*v;return O*v/Math.sqrt(w*w+M*M)}}]),_}(E(P(23)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){(0,H.default)(this,_);var O=(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y));return O._setMargins(y),O}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"resize",value:function(p,y,O){this.needsRefresh(y,O)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(p,y,O,v,w,M){this.resize(p,v,w),this.options.icon.size=this.options.icon.size||50,this.left=y-this.width/2,this.top=O-this.height/2,this._icon(p,y,O,v,w,M),void 0!==this.options.label&&this.labelModule.draw(p,this.left+this.iconSize.width/2+this.margin.left,O+this.height/2+5,v),this.updateBoundingBox(y,O)}},{key:"updateBoundingBox",value:function(p,y){if(this.boundingBox.top=y-.5*this.options.icon.size,this.boundingBox.left=p-.5*this.options.icon.size,this.boundingBox.right=p+.5*this.options.icon.size,this.boundingBox.bottom=y+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5)}}},{key:"_icon",value:function(p,y,O,v,w,M){var L=Number(this.options.icon.size);void 0!==this.options.icon.code?(p.font=(v?"bold ":"")+L+"px "+this.options.icon.face,p.fillStyle=this.options.icon.color||"black",p.textAlign="center",p.textBaseline="middle",this.enableShadow(p,M),p.fillText(this.options.icon.code,y,O),this.disableShadow(p,M)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(p,y){return this._distanceToBorder(p,y)}}]),_}(E(P(23)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y,O,v){(0,H.default)(this,_);var w=(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y));return w.setImages(O,v),w}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"resize",value:function(p){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var w=2*this.options.size;return this.width=w,void(this.height=w)}this.needsRefresh(y,O)&&this._resizeImage()}},{key:"draw",value:function(p,y,O,v,w,M){this.switchImages(v),this.resize(),this.left=y-this.width/2,this.top=O-this.height/2,!0===this.options.shapeProperties.useBorderWithImage&&(p.lineWidth=Math.min(this.width,(v?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),p.beginPath(),p.strokeStyle=v?this.options.color.highlight.border:w?this.options.color.hover.border:this.options.color.border,p.fillStyle=v?this.options.color.highlight.background:w?this.options.color.hover.background:this.options.color.background,p.rect(this.left-.5*p.lineWidth,this.top-.5*p.lineWidth,this.width+p.lineWidth,this.height+p.lineWidth),p.fill(),this.performStroke(p,M),p.closePath()),this._drawImageAtPosition(p,M),this._drawImageLabel(p,y,O,v,w),this.updateBoundingBox(y,O)}},{key:"updateBoundingBox",value:function(p,y){this.resize(),this._updateBoundingBox(p,y),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(p,y){return this._distanceToBorder(p,y)}}]),_}(E(P(73)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"draw",value:function(p,y,O,v,w,M){this._drawShape(p,"square",2,y,O,v,w,M)}},{key:"distanceToBorder",value:function(p,y){return this._distanceToBorder(p,y)}}]),_}(E(P(24)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"draw",value:function(p,y,O,v,w,M){this._drawShape(p,"hexagon",4,y,O,v,w,M)}},{key:"distanceToBorder",value:function(p,y){return this._distanceToBorder(p,y)}}]),_}(E(P(24)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"draw",value:function(p,y,O,v,w,M){this._drawShape(p,"star",4,y,O,v,w,M)}},{key:"distanceToBorder",value:function(p,y){return this._distanceToBorder(p,y)}}]),_}(E(P(24)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){(0,H.default)(this,_);var O=(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y));return O._setMargins(y),O}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"resize",value:function(p,y,O){this.needsRefresh(y,O)&&(this.textSize=this.labelModule.getTextSize(p,y,O),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(p,y,O,v,w,M){this.resize(p,v,w),this.left=y-this.width/2,this.top=O-this.height/2,this.enableShadow(p,M),this.labelModule.draw(p,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,v,w),this.disableShadow(p,M),this.updateBoundingBox(y,O,p,v,w)}},{key:"distanceToBorder",value:function(p,y){return this._distanceToBorder(p,y)}}]),_}(E(P(23)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"draw",value:function(p,y,O,v,w,M){this._drawShape(p,"triangle",3,y,O,v,w,M)}},{key:"distanceToBorder",value:function(p,y){return this._distanceToBorder(p,y)}}]),_}(E(P(24)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"draw",value:function(p,y,O,v,w,M){this._drawShape(p,"triangleDown",3,y,O,v,w,M)}},{key:"distanceToBorder",value:function(p,y){return this._distanceToBorder(p,y)}}]),_}(E(P(24)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(D){return D&&D.__esModule?D:{default:D}}var Y=P(2),B=P(11),U=P(12),F=P(74).default,T=function(){function D(C,E,I){var f=this;(0,R.default)(this,D),this.body=C,this.images=E,this.groups=I,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(g,p){f.add(p.items)},update:function(g,p){f.update(p.items)},remove:function(g,p){f.remove(p.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(g,p,y,O){return p===g?.5:Math.max(0,1/(p-g)*(O-g))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Y.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,H.default)(D,[{key:"bindEventListeners",value:function(){var E=this;this.body.emitter.on("_forceDisableDynamicCurves",function(I){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===I&&(I="continuous");var _=!1;for(var g in E.body.edges)if(E.body.edges.hasOwnProperty(g)){var y=E.body.data.edges._data[g];if(void 0!==y){var O=y.smooth;void 0!==O&&!0===O.enabled&&"dynamic"===O.type&&(E.body.edges[g].setOptions(void 0===I?{smooth:!1}:{smooth:{type:I}}),_=!0)}}!0===f&&!0===_&&E.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){E.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){Y.forEach(E.edgesListeners,function(I,f){E.body.data.edges&&E.body.data.edges.off(f,I)}),delete E.body.functions.createEdge,delete E.edgesListeners.add,delete E.edgesListeners.update,delete E.edgesListeners.remove,delete E.edgesListeners})}},{key:"setOptions",value:function(E){if(void 0!==E){F.parseOptions(this.options,E,!0,this.defaultOptions,!0);var I=!1;if(void 0!==E.smooth)for(var f in this.body.edges)this.body.edges.hasOwnProperty(f)&&(I=this.body.edges[f].updateEdgeType()||I);if(void 0!==E.font)for(var _ in this.body.edges)this.body.edges.hasOwnProperty(_)&&this.body.edges[_].updateLabelModule();(void 0!==E.hidden||void 0!==E.physics||!0===I)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(E){var I=this,f=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=this.body.data.edges;if(E instanceof B||E instanceof U)this.body.data.edges=E;else if(Array.isArray(E))this.body.data.edges=new B,this.body.data.edges.add(E);else{if(E)throw new TypeError("Array or DataSet expected");this.body.data.edges=new B}if(_&&Y.forEach(this.edgesListeners,function(p,y){_.off(y,p)}),this.body.edges={},this.body.data.edges){Y.forEach(this.edgesListeners,function(p,y){I.body.data.edges.on(y,p)});var g=this.body.data.edges.getIds();this.add(g,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===f&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(E){for(var I=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=this.body.edges,_=this.body.data.edges,g=0;g<E.length;g++){var p=E[g],y=f[p];y&&y.disconnect();var O=_.get(p,{showInternalIds:!0});f[p]=this.create(O)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===I&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(E){for(var I=this.body.edges,f=this.body.data.edges,_=!1,g=0;g<E.length;g++){var p=E[g],y=f.get(p),O=I[p];void 0!==O?(O.disconnect(),_=O.setOptions(y)||_,O.connect()):(this.body.edges[p]=this.create(y),_=!0)}!0===_?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(E){var I=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==E.length){var f=this.body.edges;Y.forEach(E,function(_){var g=f[_];void 0!==g&&g.remove()}),I&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var E=this;Y.forEach(this.body.edges,function(I,f){var _=E.body.data.edges._data[f];void 0!==_&&I.setOptions(_)})}},{key:"create",value:function(E){return new F(E,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var E,I=this.body.nodes,f=this.body.edges;for(E in I)I.hasOwnProperty(E)&&(I[E].edges=[]);for(E in f)if(f.hasOwnProperty(E)){var _=f[E];_.from=null,_.to=null,_.connect()}}},{key:"getConnectedNodes",value:function(E){var I=[];if(void 0!==this.body.edges[E]){var f=this.body.edges[E];void 0!==f.fromId&&I.push(f.fromId),void 0!==f.toId&&I.push(f.toId)}return I}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var E=this,I=[];Y.forEach(this.body.edges,function(f,_){var g=E.body.nodes[f.toId],p=E.body.nodes[f.fromId];void 0!==g&&!0===g.isCluster||void 0!==p&&!0===p.isCluster||(void 0===g||void 0===p)&&I.push(_)}),this.remove(I,!1)}},{key:"_addMissingEdges",value:function(){var E=this.body.edges,f=[];this.body.data.edges.forEach(function(_,g){void 0===E[g]&&f.push(g)}),this.add(f,!0)}}]),D}();ee.default=T},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=f(P(30)),H=f(P(3)),Y=f(P(0)),U=f(P(1)),T=f(P(4)),C=f(P(5));function f(g){return g&&g.__esModule?g:{default:g}}var _=function(g){function p(y,O,v){return(0,Y.default)(this,p),(0,T.default)(this,(p.__proto__||(0,H.default)(p)).call(this,y,O,v))}return(0,C.default)(p,g),(0,U.default)(p,[{key:"_line",value:function(O,v,w){this._bezierCurve(O,v,w[0],w[1])}},{key:"_getViaCoordinates",value:function(){var O=this.from.x-this.to.x,v=this.from.y-this.to.y,w=void 0,M=void 0,L=void 0,X=void 0,q=this.options.smooth.roundness;return(Math.abs(O)>Math.abs(v)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(M=this.from.y,X=this.to.y,w=this.from.x-q*O,L=this.to.x+q*O):(M=this.from.y-q*v,X=this.to.y+q*v,w=this.from.x,L=this.to.x),[{x:w,y:M},{x:L,y:X}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(O,v){return this._findBorderPositionBezier(O,v)}},{key:"_getDistanceToEdge",value:function(O,v,w,M,L,X){var q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),te=(0,R.default)(q,2);return this._getDistanceToBezierEdge(O,v,w,M,L,X,te[0],te[1])}},{key:"getPoint",value:function(O){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),w=(0,R.default)(v,2),M=w[0],L=w[1],X=O,q=[];return q[0]=Math.pow(1-X,3),q[1]=3*X*Math.pow(1-X,2),q[2]=3*Math.pow(X,2)*(1-X),q[3]=Math.pow(X,3),{x:q[0]*this.fromPoint.x+q[1]*M.x+q[2]*L.x+q[3]*this.toPoint.x,y:q[0]*this.fromPoint.y+q[1]*M.y+q[2]*L.y+q[3]*this.toPoint.y}}}]),p}(f(P(216)).default);ee.default=_},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"_getDistanceToBezierEdge",value:function(p,y,O,v,w,M,L,X){var q=1e9,te=void 0,ie=void 0,oe=void 0,fe=void 0,Ce=void 0,De=p,Ae=y,Ye=[0,0,0,0];for(ie=1;ie<10;ie++)oe=.1*ie,Ye[0]=Math.pow(1-oe,3),Ye[1]=3*oe*Math.pow(1-oe,2),Ye[2]=3*Math.pow(oe,2)*(1-oe),Ye[3]=Math.pow(oe,3),fe=Ye[0]*p+Ye[1]*L.x+Ye[2]*X.x+Ye[3]*O,Ce=Ye[0]*y+Ye[1]*L.y+Ye[2]*X.y+Ye[3]*v,ie>0&&(q=(te=this._getDistanceToLine(De,Ae,fe,Ce,w,M))<q?te:q),De=fe,Ae=Ce;return q}}]),_}(E(P(75)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=f(P(30)),H=f(P(3)),Y=f(P(0)),U=f(P(1)),T=f(P(4)),C=f(P(5));function f(g){return g&&g.__esModule?g:{default:g}}var _=function(g){function p(y,O,v){(0,Y.default)(this,p);var w=(0,T.default)(this,(p.__proto__||(0,H.default)(p)).call(this,y,O,v));return w._boundFunction=function(){w.positionBezierNode()},w.body.emitter.on("_repositionBezierNodes",w._boundFunction),w}return(0,C.default)(p,g),(0,U.default)(p,[{key:"setOptions",value:function(O){var v=!1;this.options.physics!==O.physics&&(v=!0),this.options=O,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===v&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var O="edgeId:"+this.id,v=this.body.functions.createNode({id:O,shape:"circle",physics:!0,hidden:!0});this.body.nodes[O]=v,this.via=v,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(O,v,w){this._bezierCurve(O,v,w)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(O){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,w=O,M=void 0,L=void 0;if(this.from===this.to){var X=this._getCircleData(this.from),q=(0,R.default)(X,3),ie=q[1],oe=q[2],fe=2*Math.PI*(1-w);M=q[0]+oe*Math.sin(fe),L=ie+oe-oe*(1-Math.cos(fe))}else M=Math.pow(1-w,2)*this.fromPoint.x+2*w*(1-w)*v.x+Math.pow(w,2)*this.toPoint.x,L=Math.pow(1-w,2)*this.fromPoint.y+2*w*(1-w)*v.y+Math.pow(w,2)*this.toPoint.y;return{x:M,y:L}}},{key:"_findBorderPosition",value:function(O,v){return this._findBorderPositionBezier(O,v,this.via)}},{key:"_getDistanceToEdge",value:function(O,v,w,M,L,X){return this._getDistanceToBezierEdge(O,v,w,M,L,X,this.via)}}]),p}(f(P(75)).default);ee.default=_},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"_line",value:function(p,y,O){this._bezierCurve(p,y,O)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var p=void 0,y=void 0,O=this.options.smooth.roundness,v=this.options.smooth.type,w=Math.abs(this.from.x-this.to.x),M=Math.abs(this.from.y-this.to.y);if("discrete"===v||"diagonalCross"===v){var L=void 0,X=void 0;L=X=w<=M?O*M:O*w,this.from.x>this.to.x&&(L=-L),this.from.y>=this.to.y&&(X=-X),p=this.from.x+L,y=this.from.y+X,"discrete"===v&&(w<=M?p=w<O*M?this.from.x:p:y=M<O*w?this.from.y:y)}else if("straightCross"===v){var q=(1-O)*w,te=(1-O)*M;w<=M?(q=0,this.from.y<this.to.y&&(te=-te)):(this.from.x<this.to.x&&(q=-q),te=0),p=this.to.x+q,y=this.to.y+te}else if("horizontal"===v){var ie=(1-O)*w;this.from.x<this.to.x&&(ie=-ie),p=this.to.x+ie,y=this.from.y}else if("vertical"===v){var oe=(1-O)*M;this.from.y<this.to.y&&(oe=-oe),p=this.from.x,y=this.to.y+oe}else if("curvedCW"===v){w=this.to.x-this.from.x,M=this.from.y-this.to.y;var fe=Math.sqrt(w*w+M*M),Ce=Math.PI,Ae=(Math.atan2(M,w)+(.5*O+.5)*Ce)%(2*Ce);p=this.from.x+(.5*O+.5)*fe*Math.sin(Ae),y=this.from.y+(.5*O+.5)*fe*Math.cos(Ae)}else if("curvedCCW"===v){w=this.to.x-this.from.x,M=this.from.y-this.to.y;var Ye=Math.sqrt(w*w+M*M),st=Math.PI,We=(Math.atan2(M,w)+(.5*-O+.5)*st)%(2*st);p=this.from.x+(.5*O+.5)*Ye*Math.sin(We),y=this.from.y+(.5*O+.5)*Ye*Math.cos(We)}else{var we=void 0,Oe=void 0;we=Oe=w<=M?O*M:O*w,this.from.x>this.to.x&&(we=-we),this.from.y>=this.to.y&&(Oe=-Oe),p=this.from.x+we,y=this.from.y+Oe,w<=M?p=this.from.x<=this.to.x?this.to.x<p?this.to.x:p:this.to.x>p?this.to.x:p:y=this.from.y>=this.to.y?this.to.y>y?this.to.y:y:this.to.y<y?this.to.y:y}return{x:p,y}}},{key:"_findBorderPosition",value:function(p,y){return this._findBorderPositionBezier(p,y,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).via)}},{key:"_getDistanceToEdge",value:function(p,y,O,v,w,M){var L=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(p,y,O,v,w,M,L)}},{key:"getPoint",value:function(p){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),O=p;return{x:Math.pow(1-O,2)*this.fromPoint.x+2*O*(1-O)*y.x+Math.pow(O,2)*this.toPoint.x,y:Math.pow(1-O,2)*this.fromPoint.y+2*O*(1-O)*y.y+Math.pow(O,2)*this.toPoint.y}}}]),_}(E(P(75)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"_line",value:function(p,y){p.beginPath(),p.moveTo(this.fromPoint.x,this.fromPoint.y),p.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(p,y),p.stroke(),this.disableShadow(p,y)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(p){return{x:(1-p)*this.fromPoint.x+p*this.toPoint.x,y:(1-p)*this.fromPoint.y+p*this.toPoint.y}}},{key:"_findBorderPosition",value:function(p,y){var O=this.to,v=this.from;p.id===this.from.id&&(O=this.from,v=this.to);var w=Math.atan2(O.y-v.y,O.x-v.x),M=O.x-v.x,L=O.y-v.y,X=Math.sqrt(M*M+L*L),te=(X-p.distanceToBorder(y,w))/X,ie={};return ie.x=(1-te)*v.x+te*O.x,ie.y=(1-te)*v.y+te*O.y,ie}},{key:"_getDistanceToEdge",value:function(p,y,O,v,w,M){return this._getDistanceToLine(p,y,O,v,w,M)}}]),_}(E(P(118)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=B(P(8)),H=B(P(0)),Y=B(P(1));function B(y){return y&&y.__esModule?y:{default:y}}var U=P(120).default,F=P(221).default,T=P(222).default,D=P(223).default,C=P(224).default,E=P(121).default,I=P(225).default,f=P(226).default,_=P(2),g=P(119).default,p=function(){function y(O){(0,H.default)(this,y),this.body=O,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},_.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,Y.default)(y,[{key:"bindEventListeners",value:function(){var v=this;this.body.emitter.on("initPhysics",function(){v.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){v.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){v.stopSimulation(),v.ready=!1}),this.body.emitter.on("disablePhysics",function(){v.physicsEnabled=!1,v.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){v.setOptions(v.options),!0===v.ready&&v.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===v.ready&&v.startSimulation()}),this.body.emitter.on("stopSimulation",function(){v.stopSimulation()}),this.body.emitter.on("destroy",function(){v.stopSimulation(!1),v.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){v.updatePhysicsData()})}},{key:"setOptions",value:function(v){void 0!==v&&(!1===v?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===v?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,_.selectiveNotDeepExtend(["stabilization"],this.options,v),_.mergeOptions(this.options,v,"stabilization"),void 0===v.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var v;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new I(this.body,this.physicsBody,v=this.options.forceAtlas2Based),this.edgesSolver=new D(this.body,this.physicsBody,v),this.gravitySolver=new f(this.body,this.physicsBody,v)):"repulsion"===this.options.solver?(this.nodesSolver=new F(this.body,this.physicsBody,v=this.options.repulsion),this.edgesSolver=new D(this.body,this.physicsBody,v),this.gravitySolver=new E(this.body,this.physicsBody,v)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new T(this.body,this.physicsBody,v=this.options.hierarchicalRepulsion),this.edgesSolver=new C(this.body,this.physicsBody,v),this.gravitySolver=new E(this.body,this.physicsBody,v)):(this.nodesSolver=new U(this.body,this.physicsBody,v=this.options.barnesHut),this.edgesSolver=new D(this.body,this.physicsBody,v),this.gravitySolver=new E(this.body,this.physicsBody,v)),this.modelOptions=v}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var v=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===v&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===v&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var v=Date.now();this.physicsTick(),(Date.now()-v<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var v=this,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(function(){v.body.emitter.emit("stabilized",{iterations:w}),v.startedStabilization=!1,v.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var v=this.body.nodes,w=this.body.edges;for(var M in v)v.hasOwnProperty(M)&&!0===v[M].options.physics&&this.physicsBody.physicsNodeIndices.push(v[M].id);for(var L in w)w.hasOwnProperty(L)&&!0===w[L].options.physics&&this.physicsBody.physicsEdgeIndices.push(w[L].id);for(var X=0;X<this.physicsBody.physicsNodeIndices.length;X++){var q=this.physicsBody.physicsNodeIndices[X];this.physicsBody.forces[q]={x:0,y:0},void 0===this.physicsBody.velocities[q]&&(this.physicsBody.velocities[q]={x:0,y:0})}for(var te in this.physicsBody.velocities)void 0===v[te]&&delete this.physicsBody.velocities[te]}},{key:"revert",value:function(){var v=(0,R.default)(this.previousStates),w=this.body.nodes,M=this.physicsBody.velocities;this.referenceState={};for(var L=0;L<v.length;L++){var X=v[L];void 0!==w[X]?!0===w[X].options.physics&&(this.referenceState[X]={positions:{x:w[X].x,y:w[X].y}},M[X].x=this.previousStates[X].vx,M[X].y=this.previousStates[X].vy,w[X].x=this.previousStates[X].x,w[X].y=this.previousStates[X].y):delete this.previousStates[X]}}},{key:"_evaluateStepQuality",value:function(){var w=void 0,L=this.body.nodes,X=this.referenceState;for(var te in this.referenceState)if(this.referenceState.hasOwnProperty(te)&&void 0!==L[te]&&(w=L[te].y-X[te].positions.y,Math.sqrt(Math.pow(L[te].x-X[te].positions.x,2)+Math.pow(w,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var v=this.physicsBody.physicsNodeIndices,w=0,M=0,X=0;X<v.length;X++){var te=this._performStep(v[X]);w=Math.max(w,te),M+=te}this.adaptiveTimestepEnabled=M/v.length<5,this.stabilized=w<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(v,w,M){v+=(w-this.modelOptions.damping*v)/M*this.timestep;var q=this.options.maxVelocity||1e9;return Math.abs(v)>q&&(v=v>0?q:-q),v}},{key:"_performStep",value:function(v){var w=this.body.nodes[v],M=this.physicsBody.forces[v],L=this.physicsBody.velocities[v];return this.previousStates[v]={x:w.x,y:w.y,vx:L.x,vy:L.y},!1===w.options.fixed.x?(L.x=this.calculateComponentVelocity(L.x,M.x,w.options.mass),w.x+=L.x*this.timestep):(M.x=0,L.x=0),!1===w.options.fixed.y?(L.y=this.calculateComponentVelocity(L.y,M.y,w.options.mass),w.y+=L.y*this.timestep):(M.y=0,L.y=0),Math.sqrt(Math.pow(L.x,2)+Math.pow(L.y,2))}},{key:"_freezeNodes",value:function(){var v=this.body.nodes;for(var w in v)if(v.hasOwnProperty(w)&&v[w].x&&v[w].y){var M=v[w].options.fixed;this.freezeCache[w]={x:M.x,y:M.y},M.x=!0,M.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var v=this.body.nodes;for(var w in v)v.hasOwnProperty(w)&&void 0!==this.freezeCache[w]&&(v[w].options.fixed.x=this.freezeCache[w].x,v[w].options.fixed.y=this.freezeCache[w].y);this.freezeCache={}}},{key:"stabilize",value:function(){var v=this,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof w&&(w=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",w)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=w,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return v._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var v=this,w=function(){return!1===v.stabilized&&v.stabilizationIterations<v.targetIterations},M=function(){v.body.emitter.emit("stabilizationProgress",{iterations:v.stabilizationIterations,total:v.targetIterations})};this._startStabilizing()&&M();for(var L=0;w()&&L<this.options.stabilization.updateInterval;)this.physicsTick(),L++;M(),w()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(v){for(var w=0;w<this.physicsBody.physicsNodeIndices.length;w++){var M=this.physicsBody.physicsNodeIndices[w],L=this.body.nodes[M],X=this.physicsBody.forces[M],ie=Math.sqrt(Math.pow(X.x,2)+Math.pow(X.x,2)),oe=Math.min(Math.max(5,ie),15),fe=3*oe,Ce=_.HSVToHex((180-180*Math.min(1,Math.max(0,.03*ie)))/360,1,1),De={x:L.x+20*X.x,y:L.y+20*X.y};v.lineWidth=oe,v.strokeStyle=Ce,v.beginPath(),v.moveTo(L.x,L.y),v.lineTo(De.x,De.y),v.stroke();var Ae=Math.atan2(X.y,X.x);v.fillStyle=Ce,g.draw(v,{type:"arrow",point:De,angle:Ae,length:fe}),v.fill()}}}]),y}();ee.default=p},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(B){return B&&B.__esModule?B:{default:B}}var Y=function(){function B(U,F,T){(0,R.default)(this,B),this.body=U,this.physicsBody=F,this.setOptions(T)}return(0,H.default)(B,[{key:"setOptions",value:function(F){this.options=F}},{key:"solve",value:function(){for(var F,T,D,C,E,I,f,_,g=this.body.nodes,p=this.physicsBody.physicsNodeIndices,y=this.physicsBody.forces,O=this.options.nodeDistance,v=-2/3/O,M=0;M<p.length-1;M++){f=g[p[M]];for(var L=M+1;L<p.length;L++)F=(_=g[p[L]]).x-f.x,T=_.y-f.y,0===(D=Math.sqrt(F*F+T*T))&&(F=D=.1*Math.random()),D<2*O&&(I=D<.5*O?1:v*D+1.3333333333333333,E=T*(I/=D),y[f.id].x-=C=F*I,y[f.id].y-=E,y[_.id].x+=C,y[_.id].y+=E)}}}]),B}();ee.default=Y},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(B){return B&&B.__esModule?B:{default:B}}var Y=function(){function B(U,F,T){(0,R.default)(this,B),this.body=U,this.physicsBody=F,this.setOptions(T)}return(0,H.default)(B,[{key:"setOptions",value:function(F){this.options=F}},{key:"solve",value:function(){var F,T,D,C,E,I,f,_,g,p,y=this.body.nodes,O=this.physicsBody.physicsNodeIndices,v=this.physicsBody.forces,w=this.options.nodeDistance;for(g=0;g<O.length-1;g++)for(f=y[O[g]],p=g+1;p<O.length;p++)if(f.level===(_=y[O[p]]).level){F=_.x-f.x,T=_.y-f.y;I=(D=Math.sqrt(F*F+T*T))<w?-Math.pow(.05*D,2)+Math.pow(.05*w,2):0,0===D?D=.01:I/=D,E=T*I,v[f.id].x-=C=F*I,v[f.id].y-=E,v[_.id].x+=C,v[_.id].y+=E}}}]),B}();ee.default=Y},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(B){return B&&B.__esModule?B:{default:B}}var Y=function(){function B(U,F,T){(0,R.default)(this,B),this.body=U,this.physicsBody=F,this.setOptions(T)}return(0,H.default)(B,[{key:"setOptions",value:function(F){this.options=F}},{key:"solve",value:function(){for(var F=void 0,T=void 0,D=this.physicsBody.physicsEdgeIndices,C=this.body.edges,I=void 0,f=void 0,_=0;_<D.length;_++)!0===(T=C[D[_]]).connected&&T.toId!==T.fromId&&void 0!==this.body.nodes[T.toId]&&void 0!==this.body.nodes[T.fromId]&&(void 0!==T.edgeType.via?(f=T.from,this._calculateSpringForce(T.to,I=T.edgeType.via,.5*(F=void 0===T.options.length?this.options.springLength:T.options.length)),this._calculateSpringForce(I,f,.5*F)):this._calculateSpringForce(T.from,T.to,F=void 0===T.options.length?1.5*this.options.springLength:T.options.length))}},{key:"_calculateSpringForce",value:function(F,T,D){var C=F.x-T.x,E=F.y-T.y,I=Math.max(Math.sqrt(C*C+E*E),.01),f=this.options.springConstant*(D-I)/I,_=C*f,g=E*f;void 0!==this.physicsBody.forces[F.id]&&(this.physicsBody.forces[F.id].x+=_,this.physicsBody.forces[F.id].y+=g),void 0!==this.physicsBody.forces[T.id]&&(this.physicsBody.forces[T.id].x-=_,this.physicsBody.forces[T.id].y-=g)}}]),B}();ee.default=Y},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(B){return B&&B.__esModule?B:{default:B}}var Y=function(){function B(U,F,T){(0,R.default)(this,B),this.body=U,this.physicsBody=F,this.setOptions(T)}return(0,H.default)(B,[{key:"setOptions",value:function(F){this.options=F}},{key:"solve",value:function(){for(var F,T,D,C,E,I,f,_,g=this.body.edges,p=.5,y=this.physicsBody.physicsEdgeIndices,O=this.physicsBody.physicsNodeIndices,v=this.physicsBody.forces,w=0;w<O.length;w++){var M=O[w];v[M].springFx=0,v[M].springFy=0}for(var L=0;L<y.length;L++)!0===(T=g[y[L]]).connected&&(F=void 0===T.options.length?this.options.springLength:T.options.length,D=T.from.x-T.to.x,C=T.from.y-T.to.y,_=Math.sqrt(D*D+C*C),E=D*(f=this.options.springConstant*(F-(_=0===_?.01:_))/_),I=C*f,T.to.level!=T.from.level?(void 0!==v[T.toId]&&(v[T.toId].springFx-=E,v[T.toId].springFy-=I),void 0!==v[T.fromId]&&(v[T.fromId].springFx+=E,v[T.fromId].springFy+=I)):(void 0!==v[T.toId]&&(v[T.toId].x-=p*E,v[T.toId].y-=p*I),void 0!==v[T.fromId]&&(v[T.fromId].x+=p*E,v[T.fromId].y+=p*I)));f=1;for(var X,q,te=0;te<O.length;te++){var ie=O[te];X=Math.min(f,Math.max(-f,v[ie].springFx)),q=Math.min(f,Math.max(-f,v[ie].springFy)),v[ie].x+=X,v[ie].y+=q}for(var oe=0,fe=0,Ce=0;Ce<O.length;Ce++){var De=O[Ce];oe+=v[De].x,fe+=v[De].y}for(var Ae=oe/O.length,Ye=fe/O.length,st=0;st<O.length;st++){var it=O[st];v[it].x-=Ae,v[it].y-=Ye}}}]),B}();ee.default=Y},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"_calculateForces",value:function(p,y,O,v,w){0===p&&(y=p=.1*Math.random()),this.overlapAvoidanceFactor<1&&v.shape.radius&&(p=Math.max(.1+this.overlapAvoidanceFactor*v.shape.radius,p-v.shape.radius));var L=this.options.gravitationalConstant*w.mass*v.options.mass*(v.edges.length+1)/Math.pow(p,2),q=O*L;this.physicsBody.forces[v.id].x+=y*L,this.physicsBody.forces[v.id].y+=q}}]),_}(E(P(120)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=E(P(3)),H=E(P(0)),Y=E(P(1)),U=E(P(4)),T=E(P(5));function E(f){return f&&f.__esModule?f:{default:f}}var I=function(f){function _(g,p,y){return(0,H.default)(this,_),(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y))}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"_calculateForces",value:function(p,y,O,v,w){if(p>0){var L=this.options.centralGravity*(w.edges.length+1)*w.options.mass;v[w.id].x=y*L,v[w.id].y=O*L}}}]),_}(E(P(121)).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=F(P(8)),H=F(P(6)),Y=F(P(0)),U=F(P(1));function F(_){return _&&_.__esModule?_:{default:_}}var T=P(2),D=P(76).default,C=P(228).default,E=P(74).default,I=P(47).default,f=function(){function _(g){var p=this;(0,Y.default)(this,_),this.body=g,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},T.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){p.clusteredNodes={},p.clusteredEdges={}})}return(0,U.default)(_,[{key:"clusterByHubsize",value:function(p,y){void 0===p?p=this._getHubSize():"object"===(typeof p>"u"?"undefined":(0,H.default)(p))&&(y=this._checkOptions(p),p=this._getHubSize());for(var O=[],v=0;v<this.body.nodeIndices.length;v++){var w=this.body.nodes[this.body.nodeIndices[v]];w.edges.length>=p&&O.push(w.id)}for(var M=0;M<O.length;M++)this.clusterByConnection(O[M],y,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var p=this,y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===y.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");y=this._checkOptions(y);var v={},w={};T.forEach(this.body.nodes,function(M,L){var X=D.cloneOptions(M);!0===y.joinCondition(X)&&(v[L]=M,T.forEach(M.edges,function(q){void 0===p.clusteredEdges[q.id]&&(w[q.id]=q)}))}),this._cluster(v,w,y,O)}},{key:"clusterByEdgeCount",value:function(p,y){var O=this,v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y=this._checkOptions(y);for(var w=[],M={},L=void 0,X=void 0,q=void 0,te=function(Ae){var Ye={},st={},it=O.body.nodeIndices[Ae],We=O.body.nodes[it];if(void 0===M[it]){q=0,X=[];for(var we=0;we<We.edges.length;we++)void 0===O.clusteredEdges[(L=We.edges[we]).id]&&(L.toId!==L.fromId&&q++,X.push(L));if(q===p){oe=function(At){if(null==y.joinCondition)return!0;var Nt=D.cloneOptions(At);return y.joinCondition(Nt)};for(var Oe=!0,Le=0;Le<X.length;Le++){var Qe=O._getConnectedId(L=X[Le],it);if(!oe(We)){Oe=!1;break}st[L.id]=L,Ye[it]=We,Ye[Qe]=O.body.nodes[Qe],M[it]=!0}if((0,R.default)(Ye).length>0&&(0,R.default)(st).length>0&&!0===Oe)if(void 0!==(Ce=function(){for(var At=0;At<w.length;++At)for(var Nt in Ye)if(void 0!==w[At].nodes[Nt])return w[At]}())){for(var pt in Ye)void 0===Ce.nodes[pt]&&(Ce.nodes[pt]=Ye[pt]);for(var nt in st)void 0===Ce.edges[nt]&&(Ce.edges[nt]=st[nt])}else w.push({nodes:Ye,edges:st})}}},ie=0;ie<this.body.nodeIndices.length;ie++){var oe,Ce;te(ie)}for(ie=0;ie<w.length;ie++)this._cluster(w[ie].nodes,w[ie].edges,y,!1);!0===v&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(p){this.clusterByEdgeCount(1,p,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterBridges",value:function(p){this.clusterByEdgeCount(2,p,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterByConnection",value:function(p,y){var O=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===p)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[p])throw new Error("The nodeId given to clusterByConnection does not exist!");var v=this.body.nodes[p];void 0===(y=this._checkOptions(y,v)).clusterNodeProperties.x&&(y.clusterNodeProperties.x=v.x),void 0===y.clusterNodeProperties.y&&(y.clusterNodeProperties.y=v.y),void 0===y.clusterNodeProperties.fixed&&(y.clusterNodeProperties.fixed={},y.clusterNodeProperties.fixed.x=v.options.fixed.x,y.clusterNodeProperties.fixed.y=v.options.fixed.y);var w={},M={},L=v.id,X=D.cloneOptions(v);w[L]=v;for(var q=0;q<v.edges.length;q++){var te=v.edges[q];if(void 0===this.clusteredEdges[te.id]){var ie=this._getConnectedId(te,L);if(void 0===this.clusteredNodes[ie])if(ie!==L)if(void 0===y.joinCondition)M[te.id]=te,w[ie]=this.body.nodes[ie];else{var oe=D.cloneOptions(this.body.nodes[ie]);!0===y.joinCondition(X,oe)&&(M[te.id]=te,w[ie]=this.body.nodes[ie])}else M[te.id]=te}}var fe=(0,R.default)(w).map(function(Ye){return w[Ye].id});for(Ce in w)if(w.hasOwnProperty(Ce))for(var Ce=w[Ce],De=0;De<Ce.edges.length;De++){var Ae=Ce.edges[De];fe.indexOf(this._getConnectedId(Ae,Ce.id))>-1&&(M[Ae.id]=Ae)}this._cluster(w,M,y,O)}},{key:"_createClusterEdges",value:function(p,y,O,v){for(var w=void 0,M=void 0,L=void 0,X=void 0,q=void 0,te=void 0,ie=(0,R.default)(p),oe=[],fe=0;fe<ie.length;fe++){L=p[M=ie[fe]];for(var Ce=0;Ce<L.edges.length;Ce++)void 0===this.clusteredEdges[(w=L.edges[Ce]).id]&&(w.toId==w.fromId?y[w.id]=w:w.toId==M?(X=O.id,te=q=w.fromId):(q=O.id,te=X=w.toId),void 0===p[te]&&oe.push({edge:w,fromId:q,toId:X}))}for(var De=[],Ae=function(Oe){for(var Le=0;Le<De.length;Le++){var Qe=De[Le];if(Oe.fromId===Qe.fromId&&Oe.toId===Qe.toId||Oe.fromId===Qe.toId&&Oe.toId===Qe.fromId)return Qe}return null},Ye=0;Ye<oe.length;Ye++){var st=oe[Ye],it=st.edge,We=Ae(st);null===We?(We=this._createClusteredEdge(st.fromId,st.toId,it,v),De.push(We)):We.clusteringEdgeReplacingIds.push(it.id),this.body.edges[it.id].edgeReplacedById=We.id,this._backupEdgeOptions(it),it.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===p.clusterEdgeProperties&&(p.clusterEdgeProperties={}),void 0===p.clusterNodeProperties&&(p.clusterNodeProperties={}),p}},{key:"_cluster",value:function(p,y,O){var v=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],w=[];for(var M in p)p.hasOwnProperty(M)&&void 0!==this.clusteredNodes[M]&&w.push(M);for(var L=0;L<w.length;++L)delete p[w[L]];if(0!=(0,R.default)(p).length&&(1!=(0,R.default)(p).length||1==O.clusterNodeProperties.allowSingleNodeCluster)){var X=T.deepExtend({},O.clusterNodeProperties);if(void 0!==O.processProperties){var q=[];for(var te in p)if(p.hasOwnProperty(te)){var ie=D.cloneOptions(p[te]);q.push(ie)}var oe=[];for(var fe in y)if(y.hasOwnProperty(fe)&&"clusterEdge:"!==fe.substr(0,12)){var Ce=D.cloneOptions(y[fe],"edge");oe.push(Ce)}if(!(X=O.processProperties(X,q,oe)))throw new Error("The processProperties function does not return properties!")}void 0===X.id&&(X.id="cluster:"+T.randomUUID());var De=X.id;void 0===X.label&&(X.label="cluster");var Ae=void 0;void 0===X.x&&(Ae=this._getClusterPosition(p),X.x=Ae.x),void 0===X.y&&(void 0===Ae&&(Ae=this._getClusterPosition(p)),X.y=Ae.y),X.id=De;var Ye=this.body.functions.createNode(X,C);Ye.containedNodes=p,Ye.containedEdges=y,Ye.clusterEdgeProperties=O.clusterEdgeProperties,this.body.nodes[X.id]=Ye,this._clusterEdges(p,y,X,O.clusterEdgeProperties),X.id=void 0,!0===v&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(p){void 0===this.clusteredEdges[p.id]&&(this.clusteredEdges[p.id]={physics:p.options.physics})}},{key:"_restoreEdge",value:function(p){var y=this.clusteredEdges[p.id];void 0!==y&&(p.setOptions({physics:y.physics}),delete this.clusteredEdges[p.id])}},{key:"isCluster",value:function(p){return void 0!==this.body.nodes[p]?!0===this.body.nodes[p].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(p){for(var y=(0,R.default)(p),O=p[y[0]].x,v=p[y[0]].x,w=p[y[0]].y,M=p[y[0]].y,L=void 0,X=1;X<y.length;X++)O=(L=p[y[X]]).x<O?L.x:O,v=L.x>v?L.x:v,w=L.y<w?L.y:w,M=L.y>M?L.y:M;return{x:.5*(O+v),y:.5*(w+M)}}},{key:"openCluster",value:function(p,y){var O=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===p)throw new Error("No clusterNodeId supplied to openCluster.");var v=this.body.nodes[p];if(void 0===v)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==v.isCluster||void 0===v.containedNodes||void 0===v.containedEdges)throw new Error("The node:"+p+" is not a valid cluster.");var w=this.findNode(p),M=w.indexOf(p)-1;if(M>=0)return this.body.nodes[w[M]]._openChildCluster(p),delete this.body.nodes[p],void(!0===O&&this.body.emitter.emit("_dataChanged"));var q=v.containedNodes,te=v.containedEdges;if(void 0!==y&&void 0!==y.releaseFunction&&"function"==typeof y.releaseFunction){var ie={},oe={x:v.x,y:v.y};for(var fe in q)if(q.hasOwnProperty(fe)){var Ce=this.body.nodes[fe];ie[fe]={x:Ce.x,y:Ce.y}}var De=y.releaseFunction(oe,ie);for(var Ae in q)if(q.hasOwnProperty(Ae)){var Ye=this.body.nodes[Ae];void 0!==De[Ae]&&(Ye.x=void 0===De[Ae].x?v.x:De[Ae].x,Ye.y=void 0===De[Ae].y?v.y:De[Ae].y)}}else T.forEach(q,function(Ei){!1===Ei.options.fixed.x&&(Ei.x=v.x),!1===Ei.options.fixed.y&&(Ei.y=v.y)});for(var st in q)if(q.hasOwnProperty(st)){var it=this.body.nodes[st];it.vx=v.vx,it.vy=v.vy,it.setOptions({physics:!0}),delete this.clusteredNodes[st]}for(var We=[],we=0;we<v.edges.length;we++)We.push(v.edges[we]);for(var Oe=0;Oe<We.length;Oe++){for(var Le=We[Oe],Qe=this._getConnectedId(Le,p),pt=this.clusteredNodes[Qe],nt=0;nt<Le.clusteringEdgeReplacingIds.length;nt++){var At=this.body.edges[Le.clusteringEdgeReplacingIds[nt]];if(void 0!==At)if(void 0!==pt){var Nt=this.body.nodes[pt.clusterId];Nt.containedEdges[At.id]=At,delete te[At.id];var ln=At.fromId,Mn=At.toId;At.toId==Qe?Mn=pt.clusterId:ln=pt.clusterId,this._createClusteredEdge(ln,Mn,At,Nt.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(At)}Le.remove()}for(var zn in te)te.hasOwnProperty(zn)&&this._restoreEdge(te[zn]);delete this.body.nodes[p],!0===O&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(p){var y=[];if(!0===this.isCluster(p)){var O=this.body.nodes[p].containedNodes;for(var v in O)O.hasOwnProperty(v)&&y.push(this.body.nodes[v].id)}return y}},{key:"findNode",value:function(p){for(var y=[],v=0,w=void 0;void 0!==this.clusteredNodes[p]&&v<100;){if(void 0===(w=this.body.nodes[p]))return[];y.push(w.id),p=this.clusteredNodes[p].clusterId,v++}return void 0===(w=this.body.nodes[p])?[]:(y.push(w.id),y.reverse(),y)}},{key:"updateClusteredNode",value:function(p,y){if(void 0===p)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===y)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[p])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[p].setOptions(y),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(p,y){if(void 0===p)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===y)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[p])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var O=this.getClusteredEdges(p),v=0;v<O.length;v++)this.body.edges[O[v]].setOptions(y);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(p){for(var y=[],v=0;void 0!==p&&void 0!==this.body.edges[p]&&v<100;)y.push(this.body.edges[p].id),p=this.body.edges[p].edgeReplacedById,v++;return y.reverse(),y}},{key:"getBaseEdge",value:function(p){return this.getBaseEdges(p)[0]}},{key:"getBaseEdges",value:function(p){for(var y=[p],O=[],v=[],M=0;y.length>0&&M<100;){var L=y.pop();if(void 0!==L){var X=this.body.edges[L];if(void 0!==X){M++;var q=X.clusteringEdgeReplacingIds;if(void 0===q)v.push(L);else for(var te=0;te<q.length;++te){var ie=q[te];-1!==y.indexOf(q)||-1!==O.indexOf(q)||y.push(ie)}O.push(L)}}}return v}},{key:"_getConnectedId",value:function(p,y){return p.toId!=y?p.toId:p.fromId}},{key:"_getHubSize",value:function(){for(var p=0,y=0,O=0,v=0,w=0;w<this.body.nodeIndices.length;w++){var M=this.body.nodes[this.body.nodeIndices[w]];M.edges.length>v&&(v=M.edges.length),p+=M.edges.length,y+=Math.pow(M.edges.length,2),O+=1}p/=O;var L=(y/=O)-Math.pow(p,2),X=Math.sqrt(L),q=Math.floor(p+2*X);return q>v&&(q=v),q}},{key:"_createClusteredEdge",value:function(p,y,O,v,w){var M=D.cloneOptions(O,"edge");T.deepExtend(M,v),M.from=p,M.to=y,M.id="clusterEdge:"+T.randomUUID(),void 0!==w&&T.deepExtend(M,w);var L=this.body.functions.createEdge(M);return L.clusteringEdgeReplacingIds=[O.id],L.connect(),this.body.edges[L.id]=L,L}},{key:"_clusterEdges",value:function(p,y,O,v){if(y instanceof E){var M={};M[y.id]=y,y=M}if(p instanceof I){var X={};X[p.id]=p,p=X}if(null==O)throw new Error("_clusterEdges: parameter clusterNode required");for(var q in void 0===v&&(v=O.clusterEdgeProperties),this._createClusterEdges(p,y,O,v),y)if(y.hasOwnProperty(q)&&void 0!==this.body.edges[q]){var te=this.body.edges[q];this._backupEdgeOptions(te),te.setOptions({physics:!1})}for(var ie in p)p.hasOwnProperty(ie)&&(this.clusteredNodes[ie]={clusterId:O.id,node:this.body.nodes[ie]},this.body.nodes[ie].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(p){if(void 0!==p){var y=this.clusteredNodes[p];if(void 0!==y){var O=y.clusterId;if(void 0!==O)return this.body.nodes[O]}}}},{key:"_filter",value:function(p,y){var O=[];return T.forEach(p,function(v){y(v)&&O.push(v)}),O}},{key:"_updateState",value:function(){var p=this,y=void 0,O=[],v=[],w=function(fe){T.forEach(p.body.nodes,function(Ce){!0===Ce.isCluster&&fe(Ce)})};for(y in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(y)&&void 0===this.body.nodes[y]&&O.push(y);w(function(oe){for(var fe=0;fe<O.length;fe++)delete oe.containedNodes[O[fe]]});for(var L=0;L<O.length;L++)delete this.clusteredNodes[O[L]];T.forEach(this.clusteredEdges,function(oe){var fe=p.body.edges[oe];(void 0===fe||!fe.endPointsValid())&&v.push(oe)}),w(function(oe){T.forEach(oe.containedEdges,function(fe,Ce){!fe.endPointsValid()&&-1===v.indexOf(Ce)&&v.push(Ce)})}),T.forEach(this.body.edges,function(oe,fe){var Ce=!0,De=oe.clusteringEdgeReplacingIds;if(void 0!==De){var Ae=0;T.forEach(De,function(Ye){var st=p.body.edges[Ye];void 0!==st&&st.endPointsValid()&&(Ae+=1)}),Ce=Ae>0}(!oe.endPointsValid()||!Ce)&&v.push(fe)}),w(function(oe){T.forEach(v,function(fe){delete oe.containedEdges[fe],T.forEach(oe.edges,function(Ce,De){Ce.id!==fe?Ce.clusteringEdgeReplacingIds=p._filter(Ce.clusteringEdgeReplacingIds,function(Ae){return-1===v.indexOf(Ae)}):oe.edges[De]=null}),oe.edges=p._filter(oe.edges,function(Ce){return null!==Ce})})}),T.forEach(v,function(oe){delete p.clusteredEdges[oe]}),T.forEach(v,function(oe){delete p.body.edges[oe]});var X=(0,R.default)(this.body.edges);T.forEach(X,function(oe){var fe=p.body.edges[oe],Ce=p._isClusteredNode(fe.fromId)||p._isClusteredNode(fe.toId);if(Ce!==p._isClusteredEdge(fe.id)){if(!Ce)throw new Error("remove edge from clustering not implemented!");var De=p._getClusterNodeForNode(fe.fromId);void 0!==De&&p._clusterEdges(p.body.nodes[fe.fromId],fe,De);var Ae=p._getClusterNodeForNode(fe.toId);void 0!==Ae&&p._clusterEdges(p.body.nodes[fe.toId],fe,Ae)}});for(var q=!1,te=!0,ie=function(){var fe=[];w(function(De){var Ae=(0,R.default)(De.containedNodes).length,Ye=!0===De.options.allowSingleNodeCluster;(Ye&&Ae<1||!Ye&&Ae<2)&&fe.push(De.id)});for(var Ce=0;Ce<fe.length;++Ce)p.openCluster(fe[Ce],{},!1);te=fe.length>0,q=q||te};te;)ie();q&&this._updateState()}},{key:"_isClusteredNode",value:function(p){return void 0!==this.clusteredNodes[p]}},{key:"_isClusteredEdge",value:function(p){return void 0!==this.clusteredEdges[p]}}]),_}();ee.default=f},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=D(P(3)),H=D(P(0)),Y=D(P(1)),U=D(P(4)),T=D(P(5));function D(f){return f&&f.__esModule?f:{default:f}}var C=P(2),I=function(f){function _(g,p,y,O,v,w){(0,H.default)(this,_);var M=(0,U.default)(this,(_.__proto__||(0,R.default)(_)).call(this,g,p,y,O,v,w));return M.isCluster=!0,M.containedNodes={},M.containedEdges={},M}return(0,T.default)(_,f),(0,Y.default)(_,[{key:"_openChildCluster",value:function(p){var y=this,O=this.body.nodes[p];if(void 0===this.containedNodes[p])throw new Error("node with id: "+p+" not in current cluster");if(!O.isCluster)throw new Error("node with id: "+p+" is not a cluster");delete this.containedNodes[p],C.forEach(O.edges,function(v){delete y.containedEdges[v.id]}),C.forEach(O.containedNodes,function(v,w){y.containedNodes[w]=v}),O.containedNodes={},C.forEach(O.containedEdges,function(v,w){y.containedEdges[w]=v}),O.containedEdges={},C.forEach(O.edges,function(v){C.forEach(y.edges,function(w){var M=w.clusteringEdgeReplacingIds.indexOf(v.id);-1!==M&&(C.forEach(v.clusteringEdgeReplacingIds,function(L){w.clusteringEdgeReplacingIds.push(L),y.body.edges[L].edgeReplacedById=w.id}),w.clusteringEdgeReplacingIds.splice(M,1))})}),O.edges=[]}}]),_}(P(47).default);ee.default=I},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(F){return F&&F.__esModule?F:{default:F}}var B=P(2),U=function(){function F(T,D){(0,R.default)(this,F),function Y(){var F;void 0!==window&&(F=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===F?function(T){T()}:F}(),this.body=T,this.canvas=D,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},B.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,H.default)(F,[{key:"bindEventListeners",value:function(){var D=this;this.body.emitter.on("dragStart",function(){D.dragging=!0}),this.body.emitter.on("dragEnd",function(){D.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){D._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===D.renderingActive&&D._redraw()}),this.body.emitter.on("_blockRedraw",function(){D.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){D.allowRedraw=!0,D.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){D.renderRequests+=1,D.renderingActive=!0,D._startRendering()}),this.body.emitter.on("_stopRendering",function(){D.renderRequests-=1,D.renderingActive=D.renderRequests>0,D.renderTimer=void 0}),this.body.emitter.on("destroy",function(){D.renderRequests=0,D.allowRedraw=!1,D.renderingActive=!1,!0===D.requiresTimeout?clearTimeout(D.renderTimer):window.cancelAnimationFrame(D.renderTimer),D.body.emitter.off()})}},{key:"setOptions",value:function(D){void 0!==D&&B.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,D)}},{key:"_requestNextFrame",value:function(D,C){if(!(typeof window>"u")){var E=void 0,I=window;return!0===this.requiresTimeout?E=I.setTimeout(D,C):I.requestAnimationFrame&&(E=I.requestAnimationFrame(D)),E}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var D=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){D._redraw(!1)},0))}},{key:"_redraw",value:function(){var D=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),this.canvas.setTransform();var C=this.canvas.getContext(),E=this.canvas.frame.canvas.clientWidth,I=this.canvas.frame.canvas.clientHeight;if(C.clearRect(0,0,E,I),0===this.canvas.frame.clientWidth)return;C.save(),C.translate(this.body.view.translation.x,this.body.view.translation.y),C.scale(this.body.view.scale,this.body.view.scale),C.beginPath(),this.body.emitter.emit("beforeDrawing",C),C.closePath(),!1===D&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(C),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(C,D),C.beginPath(),this.body.emitter.emit("afterDrawing",C),C.closePath(),C.restore(),!0===D&&C.clearRect(0,0,E,I)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var D=this.canvas.getContext();D.save(),D.translate(this.body.view.translation.x,this.body.view.translation.y),D.scale(this.body.view.scale,this.body.view.scale);var C=this.body.nodes,E=void 0;for(var I in C)C.hasOwnProperty(I)&&((E=C[I]).resize(D),E.updateBoundingBox(D,E.selected));D.restore()}},{key:"_drawNodes",value:function(D){for(var C=arguments.length>1&&void 0!==arguments[1]&&arguments[1],E=this.body.nodes,I=this.body.nodeIndices,f=void 0,_=[],p=this.canvas.DOMtoCanvas({x:-20,y:-20}),y=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),O={top:p.y,left:p.x,bottom:y.y,right:y.x},v=0;v<I.length;v++)(f=E[I[v]]).isSelected()?_.push(I[v]):!0===C||!0===f.isBoundingBoxOverlappingWith(O)?f.draw(D):f.updateBoundingBox(D,f.selected);for(var w=0;w<_.length;w++)(f=E[_[w]]).draw(D)}},{key:"_drawEdges",value:function(D){for(var C=this.body.edges,E=this.body.edgeIndices,I=void 0,f=0;f<E.length;f++)!0===(I=C[E[f]]).connected&&I.draw(D)}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var D=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=D.indexOf("msie 9.0")||-1!=D.indexOf("safari")&&D.indexOf("chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),F}();ee.default=U},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(T){return T&&T.__esModule?T:{default:T}}var Y=P(10),B=P(37),U=P(2),F=function(){function T(D){(0,R.default)(this,T),this.body=D,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},U.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,H.default)(T,[{key:"bindEventListeners",value:function(){var C=this;this.body.emitter.once("resize",function(E){0!==E.width&&(C.body.view.translation.x=.5*E.width),0!==E.height&&(C.body.view.translation.y=.5*E.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){C.hammerFrame.destroy(),C.hammer.destroy(),C._cleanUp()})}},{key:"setOptions",value:function(C){var E=this;void 0!==C&&U.selectiveDeepExtend(["width","height","autoResize"],this.options,C),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===E.setSize()&&E.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),U.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),U.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/C,this.cameraState.previousHeight=this.frame.canvas.height/C,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/C,y:.5*this.frame.canvas.height/C}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var C=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,E=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,I=this.cameraState.scale;1!=C&&1!=E?I=.5*this.cameraState.scale*(C+E):1!=C?I=this.cameraState.scale*C:1!=E&&(I=this.cameraState.scale*E),this.body.view.scale=I;var f=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),_={x:f.x-this.cameraState.position.x,y:f.y-this.cameraState.position.y};this.body.view.translation.x+=_.x*this.body.view.scale,this.body.view.translation.y+=_.y*this.body.view.scale}}},{key:"_prepareValue",value:function(C){if("number"==typeof C)return C+"px";if("string"==typeof C){if(-1!==C.indexOf("%")||-1!==C.indexOf("px"))return C;if(-1===C.indexOf("%"))return C+"px"}throw new Error("Could not use the value supplied for width or height:"+C)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var C=document.createElement("DIV");C.style.color="red",C.style.fontWeight="bold",C.style.padding="10px",C.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(C)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var C=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Y(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Y.DIRECTION_ALL}),B.onTouch(this.hammer,function(E){C.body.eventListeners.onTouch(E)}),this.hammer.on("tap",function(E){C.body.eventListeners.onTap(E)}),this.hammer.on("doubletap",function(E){C.body.eventListeners.onDoubleTap(E)}),this.hammer.on("press",function(E){C.body.eventListeners.onHold(E)}),this.hammer.on("panstart",function(E){C.body.eventListeners.onDragStart(E)}),this.hammer.on("panmove",function(E){C.body.eventListeners.onDrag(E)}),this.hammer.on("panend",function(E){C.body.eventListeners.onDragEnd(E)}),this.hammer.on("pinch",function(E){C.body.eventListeners.onPinch(E)}),this.frame.canvas.addEventListener("mousewheel",function(E){C.body.eventListeners.onMouseWheel(E)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(E){C.body.eventListeners.onMouseWheel(E)}),this.frame.canvas.addEventListener("mousemove",function(E){C.body.eventListeners.onMouseMove(E)}),this.frame.canvas.addEventListener("contextmenu",function(E){C.body.eventListeners.onContext(E)}),this.hammerFrame=new Y(this.frame),B.onRelease(this.hammerFrame,function(E){C.body.eventListeners.onRelease(E)})}},{key:"setSize",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;C=this._prepareValue(C),E=this._prepareValue(E);var I=!1,f=this.frame.canvas.width,_=this.frame.canvas.height,g=this.pixelRatio;if(this._setPixelRatio(),C!=this.options.width||E!=this.options.height||this.frame.style.width!=C||this.frame.style.height!=E)this._getCameraState(g),this.frame.style.width=C,this.frame.style.height=E,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=C,this.options.height=E,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},I=!0;else{var p=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),y=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==p||this.frame.canvas.height!==y)&&this._getCameraState(g),this.frame.canvas.width!==p&&(this.frame.canvas.width=p,I=!0),this.frame.canvas.height!==y&&(this.frame.canvas.height=y,I=!0)}return!0===I&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(f/this.pixelRatio),oldHeight:Math.round(_/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,I}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var C=this.getContext();if(void 0===C)throw new Error("Could not get canvax context");var E=1;return typeof window<"u"&&(E=window.devicePixelRatio||1),E/(C.webkitBackingStorePixelRatio||C.mozBackingStorePixelRatio||C.msBackingStorePixelRatio||C.oBackingStorePixelRatio||C.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var C=this.getContext();if(void 0===C)throw new Error("Could not get canvax context");C.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(C){return(C-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(C){return C*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(C){return(C-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(C){return C*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(C){return{x:this._XconvertCanvasToDOM(C.x),y:this._YconvertCanvasToDOM(C.y)}}},{key:"DOMtoCanvas",value:function(C){return{x:this._XconvertDOMtoCanvas(C.x),y:this._YconvertDOMtoCanvas(C.y)}}}]),T}();ee.default=F},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(F){return F&&F.__esModule?F:{default:F}}var Y=P(2),B=P(76).default,U=function(){function F(T,D){var C=this;(0,R.default)(this,F),this.body=T,this.canvas=D,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){C.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,H.default)(F,[{key:"setOptions",value:function(){this.options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},{key:"fit",value:function(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},C=arguments.length>1&&void 0!==arguments[1]&&arguments[1],E=void 0,I=void 0;if((void 0===D.nodes||0===D.nodes.length)&&(D.nodes=this.body.nodeIndices),!0===C){var f=0;for(var _ in this.body.nodes)this.body.nodes.hasOwnProperty(_)&&!0===this.body.nodes[_].predefinedPosition&&(f+=1);if(f>.5*this.body.nodeIndices.length)return void this.fit(D,!1);E=B.getRange(this.body.nodes,D.nodes),I=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,I*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes"),E=B.getRange(this.body.nodes,D.nodes);var O=1.1*Math.abs(E.maxX-E.minX),v=1.1*Math.abs(E.maxY-E.minY),w=this.canvas.frame.canvas.clientWidth/O,M=this.canvas.frame.canvas.clientHeight/v;I=w<=M?w:M}(I>1||0===I)&&(I=1);var L=B.findCenter(E);this.moveTo({position:L,scale:I,animation:D.animation})}},{key:"focus",value:function(D){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==this.body.nodes[D]?(C.position={x:this.body.nodes[D].x,y:this.body.nodes[D].y},C.lockedOnNode=D,this.moveTo(C)):console.log("Node: "+D+" cannot be found.")}},{key:"moveTo",value:function(D){void 0!==D?(void 0===D.offset&&(D.offset={x:0,y:0}),void 0===D.offset.x&&(D.offset.x=0),void 0===D.offset.y&&(D.offset.y=0),void 0===D.scale&&(D.scale=this.body.view.scale),void 0===D.position&&(D.position=this.getViewPosition()),void 0===D.animation&&(D.animation={duration:0}),!1===D.animation&&(D.animation={duration:0}),!0===D.animation&&(D.animation={}),void 0===D.animation.duration&&(D.animation.duration=1e3),void 0===D.animation.easingFunction&&(D.animation.easingFunction="easeInOutQuad"),this.animateView(D)):D={}}},{key:"animateView",value:function(D){if(void 0!==D){this.animationEasingFunction=D.animation.easingFunction,this.releaseNode(),!0===D.locked&&(this.lockedOnNodeId=D.lockedOnNode,this.lockedOnNodeOffset=D.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=D.scale,this.body.view.scale=this.targetScale;var C=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),E={x:C.x-D.position.x,y:C.y-D.position.y};this.targetTranslation={x:this.sourceTranslation.x+E.x*this.targetScale+D.offset.x,y:this.sourceTranslation.y+E.y*this.targetScale+D.offset.y},0===D.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*D.animation.duration*.001)||1/60,this.animationEasingFunction=D.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var D_x=this.body.nodes[this.lockedOnNodeId].x,D_y=this.body.nodes[this.lockedOnNodeId].y,C=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),I=this.body.view.translation;this.body.view.translation={x:I.x+(C.x-D_x)*this.body.view.scale+this.lockedOnNodeOffset.x,y:I.y+(C.y-D_y)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var D=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===D?1:this.easingTime;var C=Y.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*C,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*C,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*C},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),F}();ee.default=U},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(T){return T&&T.__esModule?T:{default:T}}var Y=P(2),B=P(233).default,U=P(104).default,F=function(){function T(D,C,E){(0,R.default)(this,T),this.body=D,this.canvas=C,this.selectionHandler=E,this.navigationHandler=new B(D,C),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},Y.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,H.default)(T,[{key:"bindEventListeners",value:function(){var C=this;this.body.emitter.on("destroy",function(){clearTimeout(C.popupTimer),delete C.body.functions.getPointer})}},{key:"setOptions",value:function(C){void 0!==C&&(Y.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,C),Y.mergeOptions(this.options,C,"keyboard"),C.tooltip&&(Y.extend(this.options.tooltip,C.tooltip),C.tooltip.color&&(this.options.tooltip.color=Y.parseColor(C.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(C){return{x:C.x-Y.getAbsoluteLeft(this.canvas.frame.canvas),y:C.y-Y.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(C){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(C.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(C){var E=this.getPointer(C.center);this.checkSelectionChanges(E,C,this.selectionHandler.options.multiselect&&(C.changedPointers[0].ctrlKey||C.changedPointers[0].metaKey)),this.selectionHandler._generateClickEvent("click",C,E)}},{key:"onDoubleTap",value:function(C){var E=this.getPointer(C.center);this.selectionHandler._generateClickEvent("doubleClick",C,E)}},{key:"onHold",value:function(C){var E=this.getPointer(C.center);this.checkSelectionChanges(E,C,this.selectionHandler.options.multiselect),this.selectionHandler._generateClickEvent("click",C,E),this.selectionHandler._generateClickEvent("hold",C,E)}},{key:"onRelease",value:function(C){if((new Date).valueOf()-this.touchTime>10){var E=this.getPointer(C.center);this.selectionHandler._generateClickEvent("release",C,E),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(C){var E=this.getPointer({x:C.clientX,y:C.clientY});this.selectionHandler._generateClickEvent("oncontext",C,E)}},{key:"checkSelectionChanges",value:function(C,E){var I=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=this.selectionHandler.getSelection(),_=!1;_=!0===I?this.selectionHandler.selectAdditionalOnPoint(C):this.selectionHandler.selectOnPoint(C);var g=this.selectionHandler.getSelection(),p=this._determineDifference(f,g),y=this._determineDifference(g,f);p.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",E,C,f),_=!0),p.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",E,C,f),_=!0),y.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",E,C),_=!0),y.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",E,C),_=!0),!0===_&&this.selectionHandler._generateClickEvent("select",E,C)}},{key:"_determineDifference",value:function(C,E){var I=function(_,g){for(var p=[],y=0;y<_.length;y++){var O=_[y];-1===g.indexOf(O)&&p.push(O)}return p};return{nodes:I(C.nodes,E.nodes),edges:I(C.edges,E.edges)}}},{key:"onDragStart",value:function(C){void 0===this.drag.pointer&&this.onTouch(C);var E=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Y.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==E&&!0===this.options.dragNodes){this.drag.nodeId=E.id,!1===E.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(E)),this.selectionHandler._generateClickEvent("dragStart",C,this.drag.pointer);var I=this.selectionHandler.selectionObj.nodes;for(var f in I)if(I.hasOwnProperty(f)){var _=I[f],g={id:_.id,node:_,x:_.x,y:_.y,xFixed:_.options.fixed.x,yFixed:_.options.fixed.y};_.options.fixed.x=!0,_.options.fixed.y=!0,this.drag.selection.push(g)}}else this.selectionHandler._generateClickEvent("dragStart",C,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(C){var E=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var I=this.getPointer(C.center),f=this.drag.selection;if(f&&f.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",C,I);var _=I.x-this.drag.pointer.x,g=I.y-this.drag.pointer.y;f.forEach(function(O){var v=O.node;!1===O.xFixed&&(v.x=E.canvas._XconvertDOMtoCanvas(E.canvas._XconvertCanvasToDOM(O.x)+_)),!1===O.yFixed&&(v.y=E.canvas._YconvertDOMtoCanvas(E.canvas._YconvertCanvasToDOM(O.y)+g))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",C,I,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(C);this.body.view.translation={x:this.drag.translation.x+(I.x-this.drag.pointer.x),y:this.drag.translation.y+(I.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(C){this.drag.dragging=!1;var E=this.drag.selection;E&&E.length?(E.forEach(function(I){I.node.options.fixed.x=I.xFixed,I.node.options.fixed.y=I.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",C,this.getPointer(C.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",C,this.getPointer(C.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(C){var E=this.getPointer(C.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*C.scale,E)}},{key:"zoom",value:function(C,E){if(!0===this.options.zoomView){var I=this.body.view.scale;C<1e-5&&(C=1e-5),C>10&&(C=10);var f=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(f=this.canvas.DOMtoCanvas(this.drag.pointer));var _=this.body.view.translation,g=C/I,p=(1-g)*E.x+_.x*g,y=(1-g)*E.y+_.y*g;if(this.body.view.scale=C,this.body.view.translation={x:p,y},null!=f){var O=this.canvas.canvasToDOM(f);this.drag.pointer.x=O.x,this.drag.pointer.y=O.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",I<C?{direction:"+",scale:this.body.view.scale,pointer:E}:{direction:"-",scale:this.body.view.scale,pointer:E})}}},{key:"onMouseWheel",value:function(C){if(!0===this.options.zoomView){var E=0;if(C.wheelDelta?E=C.wheelDelta/120:C.detail&&(E=-C.detail/3),0!==E){var I=this.body.view.scale,f=E/10;E<0&&(f/=1-f),I*=1+f;var _=this.getPointer({x:C.clientX,y:C.clientY});this.zoom(I,_)}C.preventDefault()}}},{key:"onMouseMove",value:function(C){var E=this,I=this.getPointer({x:C.clientX,y:C.clientY}),f=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(I),!1===this.popup.hidden&&(f=!0,this.popup.setPosition(I.x+3,I.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===f&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return E._checkShowPopup(I)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(C,I)}},{key:"_checkShowPopup",value:function(C){var E=this.canvas._XconvertDOMtoCanvas(C.x),I=this.canvas._YconvertDOMtoCanvas(C.y),f={left:E,top:I,right:E,bottom:I},_=void 0===this.popupObj?void 0:this.popupObj.id,g=!1,p="node";if(void 0===this.popupObj){for(var y=this.body.nodeIndices,O=this.body.nodes,v=void 0,w=[],M=0;M<y.length;M++)!0===(v=O[y[M]]).isOverlappingWith(f)&&void 0!==v.getTitle()&&w.push(y[M]);w.length>0&&(this.popupObj=O[w[w.length-1]],g=!0)}if(void 0===this.popupObj&&!1===g){for(var L=this.body.edgeIndices,X=this.body.edges,q=void 0,te=[],ie=0;ie<L.length;ie++)!0===(q=X[L[ie]]).isOverlappingWith(f)&&!0===q.connected&&void 0!==q.getTitle()&&te.push(L[ie]);te.length>0&&(this.popupObj=X[te[te.length-1]],p="edge")}void 0!==this.popupObj?this.popupObj.id!==_&&(void 0===this.popup&&(this.popup=new U(this.canvas.frame)),this.popup.popupTargetType=p,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(C.x+3,C.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(C){var E=this.selectionHandler._pointerToPositionObject(C),I=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(I=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(E))){var f=this.selectionHandler.getNodeAt(C);I=void 0!==f&&f.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(C)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(I=this.body.edges[this.popup.popupTargetId].isOverlappingWith(E));!1===I&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),T}();ee.default=F},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(T){return T&&T.__esModule?T:{default:T}}var Y=P(10),B=P(37),U=P(35),F=function(){function T(D,C){var E=this;(0,R.default)(this,T),this.body=D,this.canvas=C,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){E.activated=!0,E.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){E.activated=!1,E.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==E.keycharm&&E.keycharm.destroy()}),this.options={}}return(0,H.default)(T,[{key:"setOptions",value:function(C){void 0!==C&&(this.options=C,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var C=0;C<this.navigationHammers.length;C++)this.navigationHammers[C].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var C=this;this.cleanNavigation(),this.navigationDOM={};var E=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],I=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var f=0;f<E.length;f++){this.navigationDOM[E[f]]=document.createElement("div"),this.navigationDOM[E[f]].className="vis-button vis-"+E[f],this.navigationDOM.wrapper.appendChild(this.navigationDOM[E[f]]);var _=new Y(this.navigationDOM[E[f]]);B.onTouch(_,"_fit"===I[f]?this._fit.bind(this):this.bindToRedraw.bind(this,I[f])),this.navigationHammers.push(_)}var g=new Y(this.canvas.frame);B.onRelease(g,function(){C._stopMovement()}),this.navigationHammers.push(g),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(C){void 0===this.boundFunctions[C]&&(this.boundFunctions[C]=this[C].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[C]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(C){void 0!==this.boundFunctions[C]&&(this.body.emitter.off("initRedraw",this.boundFunctions[C]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[C])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var C in this.boundFunctions)this.boundFunctions.hasOwnProperty(C)&&(this.body.emitter.off("initRedraw",this.boundFunctions[C]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var E=this.body.view.scale*(1+this.options.keyboard.speed.zoom),I=this.body.view.translation,f=E/this.body.view.scale,_=(1-f)*this.canvas.canvasViewCenter.x+I.x*f,g=(1-f)*this.canvas.canvasViewCenter.y+I.y*f;this.body.view.scale=E,this.body.view.translation={x:_,y:g},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var E=this.body.view.scale/(1+this.options.keyboard.speed.zoom),I=this.body.view.translation,f=E/this.body.view.scale,_=(1-f)*this.canvas.canvasViewCenter.x+I.x*f,g=(1-f)*this.canvas.canvasViewCenter.y+I.y*f;this.body.view.scale=E,this.body.view.translation={x:_,y:g},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var C=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=U(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){C.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){C.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){C.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){C.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){C.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){C.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){C.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){C.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){C.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){C.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){C.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){C.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){C.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){C.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){C.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){C.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){C.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){C.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){C.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){C.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){C.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){C.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){C.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){C.unbindFromRedraw("_zoomOut")},"keyup")))}}]),T}();ee.default=F},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(T){return T&&T.__esModule?T:{default:T}}var Y=P(47).default,B=P(74).default,U=P(2),F=function(){function T(D,C){var E=this;(0,R.default)(this,T),this.body=D,this.canvas=C,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},U.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){E.updateSelection()})}return(0,H.default)(T,[{key:"setOptions",value:function(C){void 0!==C&&U.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,C)}},{key:"selectOnPoint",value:function(C){var E=!1;if(!0===this.options.selectable){var I=this.getNodeAt(C)||this.getEdgeAt(C);this.unselectAll(),void 0!==I&&(E=this.selectObject(I)),this.body.emitter.emit("_requestRedraw")}return E}},{key:"selectAdditionalOnPoint",value:function(C){var E=!1;if(!0===this.options.selectable){var I=this.getNodeAt(C)||this.getEdgeAt(C);void 0!==I&&(E=!0,!0===I.isSelected()?this.deselectObject(I):this.selectObject(I),this.body.emitter.emit("_requestRedraw"))}return E}},{key:"_initBaseEvent",value:function(C,E){var I={};return I.pointer={DOM:{x:E.x,y:E.y},canvas:this.canvas.DOMtoCanvas(E)},I.event=C,I}},{key:"_generateClickEvent",value:function(C,E,I,f){var _=arguments.length>4&&void 0!==arguments[4]&&arguments[4],g=this._initBaseEvent(E,I);if(!0===_)g.nodes=[],g.edges=[];else{var p=this.getSelection();g.nodes=p.nodes,g.edges=p.edges}void 0!==f&&(g.previousSelection=f),"click"==C&&(g.items=this.getClickedItems(I)),this.body.emitter.emit(C,g)}},{key:"selectObject",value:function(C){return void 0!==C&&(C instanceof Y&&!0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges)&&this._selectConnectedEdges(C),C.select(),this._addToSelection(C),!0)}},{key:"deselectObject",value:function(C){!0===C.isSelected()&&(C.selected=!1,this._removeFromSelection(C))}},{key:"_getAllNodesOverlappingWith",value:function(C){for(var E=[],I=this.body.nodes,f=0;f<this.body.nodeIndices.length;f++){var _=this.body.nodeIndices[f];I[_].isOverlappingWith(C)&&E.push(_)}return E}},{key:"_pointerToPositionObject",value:function(C){var E=this.canvas.DOMtoCanvas(C);return{left:E.x-1,top:E.y+1,right:E.x+1,bottom:E.y-1}}},{key:"getNodeAt",value:function(C){var E=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],I=this._pointerToPositionObject(C),f=this._getAllNodesOverlappingWith(I);if(f.length>0)return!0===E?this.body.nodes[f[f.length-1]]:f[f.length-1]}},{key:"_getEdgesOverlappingWith",value:function(C,E){for(var I=this.body.edges,f=0;f<this.body.edgeIndices.length;f++){var _=this.body.edgeIndices[f];I[_].isOverlappingWith(C)&&E.push(_)}}},{key:"_getAllEdgesOverlappingWith",value:function(C){var E=[];return this._getEdgesOverlappingWith(C,E),E}},{key:"getEdgeAt",value:function(C){for(var E=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],I=this.canvas.DOMtoCanvas(C),f=10,_=null,g=this.body.edges,p=0;p<this.body.edgeIndices.length;p++){var y=this.body.edgeIndices[p],O=g[y];if(O.connected){var X=O.edgeType.getDistanceToEdge(O.from.x,O.from.y,O.to.x,O.to.y,I.x,I.y);X<f&&(_=y,f=X)}}if(null!==_)return!0===E?this.body.edges[_]:_}},{key:"_addToSelection",value:function(C){C instanceof Y?this.selectionObj.nodes[C.id]=C:this.selectionObj.edges[C.id]=C}},{key:"_addToHover",value:function(C){C instanceof Y?this.hoverObj.nodes[C.id]=C:this.hoverObj.edges[C.id]=C}},{key:"_removeFromSelection",value:function(C){C instanceof Y?(delete this.selectionObj.nodes[C.id],this._unselectConnectedEdges(C)):delete this.selectionObj.edges[C.id]}},{key:"unselectAll",value:function(){for(var C in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(C)&&this.selectionObj.nodes[C].unselect();for(var E in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(E)&&this.selectionObj.edges[E].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var C=0;for(var E in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(E)&&(C+=1);return C}},{key:"_getSelectedNode",value:function(){for(var C in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(C))return this.selectionObj.nodes[C]}},{key:"_getSelectedEdge",value:function(){for(var C in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(C))return this.selectionObj.edges[C]}},{key:"_getSelectedEdgeCount",value:function(){var C=0;for(var E in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(E)&&(C+=1);return C}},{key:"_getSelectedObjectCount",value:function(){var C=0;for(var E in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(E)&&(C+=1);for(var I in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(I)&&(C+=1);return C}},{key:"_selectionIsEmpty",value:function(){for(var C in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(C))return!1;for(var E in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(E))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var C in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(C)&&this.selectionObj.nodes[C].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(C){for(var E=0;E<C.edges.length;E++){var I=C.edges[E];I.select(),this._addToSelection(I)}}},{key:"_hoverConnectedEdges",value:function(C){for(var E=0;E<C.edges.length;E++){var I=C.edges[E];I.hover=!0,this._addToHover(I)}}},{key:"_unselectConnectedEdges",value:function(C){for(var E=0;E<C.edges.length;E++){var I=C.edges[E];I.unselect(),this._removeFromSelection(I)}}},{key:"emitBlurEvent",value:function(C,E,I){var f=this._initBaseEvent(C,E);!0===I.hover&&(I.hover=!1,I instanceof Y?(f.node=I.id,this.body.emitter.emit("blurNode",f)):(f.edge=I.id,this.body.emitter.emit("blurEdge",f)))}},{key:"emitHoverEvent",value:function(C,E,I){var f=this._initBaseEvent(C,E),_=!1;return!1===I.hover&&(I.hover=!0,this._addToHover(I),_=!0,I instanceof Y?(f.node=I.id,this.body.emitter.emit("hoverNode",f)):(f.edge=I.id,this.body.emitter.emit("hoverEdge",f))),_}},{key:"hoverObject",value:function(C,E){var I=this.getNodeAt(E);void 0===I&&(I=this.getEdgeAt(E));var f=!1;for(var _ in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(_)&&(void 0===I||I instanceof Y&&I.id!=_||I instanceof B)&&(this.emitBlurEvent(C,E,this.hoverObj.nodes[_]),delete this.hoverObj.nodes[_],f=!0);for(var g in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(g)&&(!0===f?(this.hoverObj.edges[g].hover=!1,delete this.hoverObj.edges[g]):(void 0===I||I instanceof B&&I.id!=g||I instanceof Y&&!I.hover)&&(this.emitBlurEvent(C,E,this.hoverObj.edges[g]),delete this.hoverObj.edges[g],f=!0));void 0!==I&&(f=f||this.emitHoverEvent(C,E,I),I instanceof Y&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(I)),!0===f&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var C=[];if(!0===this.options.selectable)for(var E in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(E)&&C.push(this.selectionObj.nodes[E].id);return C}},{key:"getSelectedEdges",value:function(){var C=[];if(!0===this.options.selectable)for(var E in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(E)&&C.push(this.selectionObj.edges[E].id);return C}},{key:"setSelection",value:function(C){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},I=void 0,f=void 0;if(!C||!C.nodes&&!C.edges)throw"Selection must be an object with nodes and/or edges properties";if((E.unselectAll||void 0===E.unselectAll)&&this.unselectAll(),C.nodes)for(I=0;I<C.nodes.length;I++){var _=this.body.nodes[f=C.nodes[I]];if(!_)throw new RangeError('Node with id "'+f+'" not found');this.selectObject(_,E.highlightEdges)}if(C.edges)for(I=0;I<C.edges.length;I++){var g=this.body.edges[f=C.edges[I]];if(!g)throw new RangeError('Edge with id "'+f+'" not found');this.selectObject(g)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(C){if(!C||void 0===C.length)throw"Selection must be an array with ids";this.setSelection({nodes:C},{highlightEdges:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]})}},{key:"selectEdges",value:function(C){if(!C||void 0===C.length)throw"Selection must be an array with ids";this.setSelection({edges:C})}},{key:"updateSelection",value:function(){for(var C in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(C)&&(this.body.nodes.hasOwnProperty(C)||delete this.selectionObj.nodes[C]);for(var E in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(E)&&(this.body.edges.hasOwnProperty(E)||delete this.selectionObj.edges[E])}},{key:"getClickedItems",value:function(C){for(var E=this.canvas.DOMtoCanvas(C),I=[],f=this.body.nodeIndices,_=this.body.nodes,g=f.length-1;g>=0;g--){var y=_[f[g]].getItemsOnPoint(E);I.push.apply(I,y)}for(var O=this.body.edgeIndices,v=this.body.edges,w=O.length-1;w>=0;w--){var L=v[O[w]].getItemsOnPoint(E);I.push.apply(I,L)}return I}}]),T}();ee.default=F},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=D(P(30)),H=D(P(6)),Y=D(P(8)),U=D(P(0)),T=D(P(1));function D(y){return y&&y.__esModule?y:{default:y}}var C=P(2),E=P(76).default,I=P(236),f=I.HorizontalStrategy,_=I.VerticalStrategy,g=function(){function y(){(0,U.default)(this,y),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,T.default)(y,[{key:"addRelation",value:function(v,w){void 0===this.childrenReference[v]&&(this.childrenReference[v]=[]),this.childrenReference[v].push(w),void 0===this.parentReference[w]&&(this.parentReference[w]=[]),this.parentReference[w].push(v)}},{key:"checkIfTree",value:function(){for(var v in this.parentReference)if(this.parentReference[v].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(v,w){void 0!==w&&void 0===this.trees[v.id]&&(this.trees[v.id]=w,this.treeIndex=Math.max(w,this.treeIndex))}},{key:"ensureLevel",value:function(v){void 0===this.levels[v]&&(this.levels[v]=0)}},{key:"getMaxLevel",value:function(v){var w=this,M={};return function X(q){if(void 0!==M[q])return M[q];var te=w.levels[q];if(w.childrenReference[q]){var ie=w.childrenReference[q];if(ie.length>0)for(var oe=0;oe<ie.length;oe++)te=Math.max(te,X(ie[oe]))}return M[q]=te,te}(v)}},{key:"levelDownstream",value:function(v,w){void 0===this.levels[w.id]&&(void 0===this.levels[v.id]&&(this.levels[v.id]=0),this.levels[w.id]=this.levels[v.id]+1)}},{key:"setMinLevelToZero",value:function(v){var w=1e9;for(var M in v)v.hasOwnProperty(M)&&void 0!==this.levels[M]&&(w=Math.min(this.levels[M],w));for(var L in v)v.hasOwnProperty(L)&&void 0!==this.levels[L]&&(this.levels[L]-=w)}},{key:"getTreeSize",value:function(v,w){var M=1e9,L=-1e9,X=1e9,q=-1e9;for(var te in this.trees)if(this.trees.hasOwnProperty(te)&&this.trees[te]===w){var ie=v[te];M=Math.min(ie.x,M),L=Math.max(ie.x,L),X=Math.min(ie.y,X),q=Math.max(ie.y,q)}return{min_x:M,max_x:L,min_y:X,max_y:q}}},{key:"hasSameParent",value:function(v,w){var M=this.parentReference[v.id],L=this.parentReference[w.id];if(void 0===M||void 0===L)return!1;for(var X=0;X<M.length;X++)for(var q=0;q<L.length;q++)if(M[X]==L[q])return!0;return!1}},{key:"inSameSubNetwork",value:function(v,w){return this.trees[v.id]===this.trees[w.id]}},{key:"getLevels",value:function(){return(0,Y.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(v,w){void 0===this.distributionOrdering[w]&&(this.distributionOrdering[w]=[]);var M=!1,L=this.distributionOrdering[w];for(var X in L)if(L[X]===v){M=!0;break}M||(this.distributionOrdering[w].push(v),this.distributionIndex[v.id]=this.distributionOrdering[w].length-1)}}]),y}(),p=function(){function y(O){(0,U.default)(this,y),this.body=O,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},C.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,T.default)(y,[{key:"bindEventListeners",value:function(){var v=this;this.body.emitter.on("_dataChanged",function(){v.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){v.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){v.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===v.options.hierarchical.enabled){var w=v.direction.curveType();v.body.emitter.emit("_forceDisableDynamicCurves",w,!1)}})}},{key:"setOptions",value:function(v,w){if(void 0!==v){var M=this.options.hierarchical,L=M.enabled;if(C.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,v),C.mergeOptions(this.options,v,"hierarchical"),void 0!==v.randomSeed&&(this.initialRandomSeed=v.randomSeed),!0===M.enabled)return!0===L&&this.body.emitter.emit("refresh",!0),"RL"===M.direction||"DU"===M.direction?M.levelSeparation>0&&(M.levelSeparation*=-1):M.levelSeparation<0&&(M.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(w);if(!0===L)return this.body.emitter.emit("refresh"),C.deepExtend(w,this.optionsBackup)}return w}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(v){if(!0===this.options.hierarchical.enabled){var w=this.optionsBackup.physics;void 0===v.physics||!0===v.physics?(v.physics={enabled:void 0===w.enabled||w.enabled,solver:"hierarchicalRepulsion"},w.enabled=void 0===w.enabled||w.enabled,w.solver=w.solver||"barnesHut"):"object"===(0,H.default)(v.physics)?(w.enabled=void 0===v.physics.enabled||v.physics.enabled,w.solver=v.physics.solver||"barnesHut",v.physics.solver="hierarchicalRepulsion"):!1!==v.physics&&(w.solver="barnesHut",v.physics={solver:"hierarchicalRepulsion"});var M=this.direction.curveType();if(void 0===v.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},v.edges={smooth:!1};else if(void 0===v.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},v.edges.smooth=!1;else if("boolean"==typeof v.edges.smooth)this.optionsBackup.edges={smooth:v.edges.smooth},v.edges.smooth={enabled:v.edges.smooth,type:M};else{var L=v.edges.smooth;void 0!==L.type&&"dynamic"!==L.type&&(M=L.type),this.optionsBackup.edges={smooth:void 0===L.enabled||L.enabled,type:void 0===L.type?"dynamic":L.type,roundness:void 0===L.roundness?.5:L.roundness,forceDirection:void 0!==L.forceDirection&&L.forceDirection},v.edges.smooth={enabled:void 0===L.enabled||L.enabled,type:M,roundness:void 0===L.roundness?.5:L.roundness,forceDirection:void 0!==L.forceDirection&&L.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",M)}return v}},{key:"seededRandom",value:function(){var v=1e4*Math.sin(this.randomSeed++);return v-Math.floor(v)}},{key:"positionInitially",value:function(v){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var w=v.length+50,M=0;M<v.length;M++){var L=v[M],X=2*Math.PI*this.seededRandom();void 0===L.x&&(L.x=w*Math.cos(X)),void 0===L.y&&(L.y=w*Math.sin(X))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var v=this.body.nodeIndices,w=0,M=0;M<v.length;M++)!0===this.body.nodes[v[M]].predefinedPosition&&(w+=1);if(w<.5*v.length){var q=0,ie={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(v.length>150){for(var oe=v.length;v.length>150&&q<=10;){var fe=v.length;if((q+=1)%3==0?this.body.modules.clustering.clusterBridges(ie):this.body.modules.clustering.clusterOutliers(ie),fe==v.length&&q%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*oe)})}q>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(v,this.body.edgeIndices,!0),this._shiftToCenter();for(var Ae=0;Ae<v.length;Ae++){var Ye=this.body.nodes[v[Ae]];!1===Ye.predefinedPosition&&(Ye.x+=70*(.5-this.seededRandom()),Ye.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var v=E.getRangeCore(this.body.nodes,this.body.nodeIndices),w=E.findCenter(v),M=0;M<this.body.nodeIndices.length;M++){var L=this.body.nodes[this.body.nodeIndices[M]];L.x-=w.x,L.y-=w.y}}},{key:"_declusterAll",value:function(){for(var v=!0;!0===v;){v=!1;for(var w=0;w<this.body.nodeIndices.length;w++)!0===this.body.nodes[this.body.nodeIndices[w]].isCluster&&(v=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[w],{},!1));!0===v&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var v=void 0,w=void 0,M=!1,L=!1;for(w in this.lastNodeOnLevel={},this.hierarchical=new g,this.body.nodes)this.body.nodes.hasOwnProperty(w)&&(void 0!==(v=this.body.nodes[w]).options.level?(M=!0,this.hierarchical.levels[w]=v.options.level):L=!0);if(!0===L&&!0===M)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===L){var X=this.options.hierarchical.sortMethod;"hubsize"===X?this._determineLevelsByHubsize():"directed"===X?this._determineLevelsDirected():"custom"===X&&this._determineLevelsCustomCallback()}for(var q in this.body.nodes)this.body.nodes.hasOwnProperty(q)&&this.hierarchical.ensureLevel(q);var te=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(te),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var v=this,w=!1,M={},X=function(we,Oe){var Le=v.hierarchical.trees;for(var Qe in Le)Le.hasOwnProperty(Qe)&&Le[Qe]===we&&v.direction.shift(Qe,Oe)},q=function(){for(var we=[],Oe=0;Oe<v.hierarchical.numTrees();Oe++)we.push(v.direction.getTreeSize(Oe));return we},te=function We(we,Oe){if(!Oe[we.id]&&(Oe[we.id]=!0,v.hierarchical.childrenReference[we.id])){var Le=v.hierarchical.childrenReference[we.id];if(Le.length>0)for(var Qe=0;Qe<Le.length;Qe++)We(v.body.nodes[Le[Qe]],Oe)}},ie=function(we){var Oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,Le=1e9,Qe=1e9,pt=1e9,nt=-1e9;for(var ut in we)if(we.hasOwnProperty(ut)){var At=v.body.nodes[ut],Nt=v.hierarchical.levels[At.id],ln=v.direction.getPosition(At),Mn=v._getSpaceAroundNode(At,we),zn=(0,R.default)(Mn,2),Zt=zn[1];Le=Math.min(zn[0],Le),Qe=Math.min(Zt,Qe),Nt<=Oe&&(pt=Math.min(ln,pt),nt=Math.max(ln,nt))}return[pt,nt,Le,Qe]},fe=function(we,Oe,Le){for(var Qe=v.hierarchical,pt=0;pt<Oe.length;pt++){var ut=Qe.distributionOrdering[Oe[pt]];if(ut.length>1)for(var At=0;At<ut.length-1;At++){var Nt=ut[At],ln=ut[At+1];Qe.hasSameParent(Nt,ln)&&Qe.inSameSubNetwork(Nt,ln)&&we(Nt,ln,Le)}}},Ce=function(we,Oe){var Le=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Qe=v.direction.getPosition(we),pt=v.direction.getPosition(Oe),nt=Math.abs(pt-Qe),ut=v.options.hierarchical.nodeSpacing;if(nt>ut){var At={},Nt={};te(we,At),te(Oe,Nt);var ln=function(we,Oe){var Le=v.hierarchical.getMaxLevel(we.id),Qe=v.hierarchical.getMaxLevel(Oe.id);return Math.min(Le,Qe)}(we,Oe),Mn=ie(At,ln),zn=ie(Nt,ln),Ei=Mn[1],Zt=zn[0],ei=zn[2];if(Math.abs(Ei-Zt)>ut){var Oi=Ei-Zt+ut;Oi<-ei+ut&&(Oi=-ei+ut),Oi<0&&(v._shiftBlock(Oe.id,Oi),w=!0,!0===Le&&v._centerParent(Oe))}}},De=function(we,Oe){for(var Le=Oe.id,Qe=Oe.edges,pt=v.hierarchical.levels[Oe.id],nt=v.options.hierarchical.levelSeparation*v.options.hierarchical.levelSeparation,ut={},At=[],Nt=0;Nt<Qe.length;Nt++){var ln=Qe[Nt];if(ln.toId!=ln.fromId){var Mn=ln.toId==Le?ln.from:ln.to;ut[Qe[Nt].id]=Mn,v.hierarchical.levels[Mn.id]<pt&&At.push(ln)}}var cn,gt,St,Wt,Wn,Vt,cr,zn=function(cn,gt){for(var St=0,Wt=0;Wt<gt.length;Wt++)if(void 0!==ut[gt[Wt].id]){var Wn=v.direction.getPosition(ut[gt[Wt].id])-cn;St+=Wn/Math.sqrt(Wn*Wn+nt)}return St},Ei=function(cn,gt){for(var St=0,Wt=0;Wt<gt.length;Wt++)if(void 0!==ut[gt[Wt].id]){var Wn=v.direction.getPosition(ut[gt[Wt].id])-cn;St-=nt*Math.pow(Wn*Wn+nt,-1.5)}return St},Zt=function(cn,gt){for(var St=v.direction.getPosition(Oe),Wt={},Wn=0;Wn<cn;Wn++){var Dt=zn(St,gt),Vt=Ei(St,gt);if(void 0!==Wt[St-=Math.max(-40,Math.min(40,Math.round(Dt/Vt)))])break;Wt[St]=Wn}return St},Oi=Zt(we,At);(function(cn){var gt=v.direction.getPosition(Oe);if(void 0===M[Oe.id]){var St={};te(Oe,St),M[Oe.id]=St}var Wt=ie(M[Oe.id]),Wn=Wt[2],Vt=cn-gt,cr=0;Vt>0?cr=Math.min(Vt,Wt[3]-v.options.hierarchical.nodeSpacing):Vt<0&&(cr=-Math.min(-Vt,Wn-v.options.hierarchical.nodeSpacing)),0!=cr&&(v._shiftBlock(Oe.id,cr),w=!0)})(Oi),cn=Oi=Zt(we,Qe),gt=v.direction.getPosition(Oe),St=v._getSpaceAroundNode(Oe),Wt=(0,R.default)(St,2),Wn=Wt[0],cr=gt,(Vt=cn-gt)>0?cr=Math.min(gt+(Wt[1]-v.options.hierarchical.nodeSpacing),cn):Vt<0&&(cr=Math.max(gt-(Wn-v.options.hierarchical.nodeSpacing),cn)),cr!==gt&&(v.direction.setPosition(Oe,cr),w=!0)};!0===this.options.hierarchical.blockShifting&&(function(we){var Oe=v.hierarchical.getLevels();Oe=Oe.reverse();for(var Le=0;Le<5&&(w=!1,fe(Ce,Oe,!0),!0===w);Le++);}(),function(){for(var we in v.body.nodes)v.body.nodes.hasOwnProperty(we)&&v._centerParent(v.body.nodes[we])}()),!0===this.options.hierarchical.edgeMinimization&&function(we){var Oe=v.hierarchical.getLevels();Oe=Oe.reverse();for(var Le=0;Le<we;Le++){w=!1;for(var Qe=0;Qe<Oe.length;Qe++)for(var nt=v.hierarchical.distributionOrdering[Oe[Qe]],ut=0;ut<nt.length;ut++)De(1e3,nt[ut]);if(!0!==w)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var we=v.hierarchical.getLevels();we=we.reverse();for(var Oe=0;Oe<we.length;Oe++)for(var Qe=v.hierarchical.distributionOrdering[we[Oe]],pt=0;pt<Qe.length;pt++)v._centerParent(Qe[pt])}(),function(){for(var we=q(),Oe=0,Le=0;Le<we.length-1;Le++)X(Le+1,Oe+=we[Le].max-we[Le+1].min+v.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(v,w){var M=!0;void 0===w&&(M=!1);var L=this.hierarchical.levels[v.id];if(void 0!==L){var X=this.hierarchical.distributionIndex[v.id],q=this.direction.getPosition(v),te=this.hierarchical.distributionOrdering[L],ie=1e9,oe=1e9;if(0!==X){var fe=te[X-1];(!0===M&&void 0===w[fe.id]||!1===M)&&(ie=q-this.direction.getPosition(fe))}if(X!=te.length-1){var De=te[X+1];if(!0===M&&void 0===w[De.id]||!1===M){var Ae=this.direction.getPosition(De);oe=Math.min(oe,Ae-q)}}return[ie,oe]}return[0,0]}},{key:"_centerParent",value:function(v){if(this.hierarchical.parentReference[v.id])for(var w=this.hierarchical.parentReference[v.id],M=0;M<w.length;M++){var L=w[M],X=this.body.nodes[L],q=this.hierarchical.childrenReference[L];if(void 0!==q){var te=this._getCenterPosition(q),ie=this.direction.getPosition(X),oe=this._getSpaceAroundNode(X),fe=(0,R.default)(oe,2),Ce=fe[0],De=fe[1],Ae=ie-te;(Ae<0&&Math.abs(Ae)<De-this.options.hierarchical.nodeSpacing||Ae>0&&Math.abs(Ae)<Ce-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(X,te)}}}},{key:"_placeNodesByHierarchy",value:function(v){for(var w in this.positionedNodes={},v)if(v.hasOwnProperty(w)){var M=(0,Y.default)(v[w]);M=this._indexArrayToNodes(M),this.direction.sort(M);for(var L=0,X=0;X<M.length;X++){var q=M[X];if(void 0===this.positionedNodes[q.id]){var te=this.options.hierarchical.nodeSpacing,ie=te*L;L>0&&(ie=this.direction.getPosition(M[X-1])+te),this.direction.setPosition(q,ie,w),this._validatePositionAndContinue(q,w,ie),L++}}}}},{key:"_placeBranchNodes",value:function(v,w){var M=this.hierarchical.childrenReference[v];if(void 0!==M){for(var L=[],X=0;X<M.length;X++)L.push(this.body.nodes[M[X]]);this.direction.sort(L);for(var q=0;q<L.length;q++){var te=L[q],ie=this.hierarchical.levels[te.id];if(!(ie>w&&void 0===this.positionedNodes[te.id]))return;var fe,oe=this.options.hierarchical.nodeSpacing;fe=0===q?this.direction.getPosition(this.body.nodes[v]):this.direction.getPosition(L[q-1])+oe,this.direction.setPosition(te,fe,ie),this._validatePositionAndContinue(te,ie,fe)}var Ce=this._getCenterPosition(L);this.direction.setPosition(this.body.nodes[v],Ce,w)}}},{key:"_validatePositionAndContinue",value:function(v,w,M){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[w]){var L=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[w]]);if(M-L<this.options.hierarchical.nodeSpacing){var X=L+this.options.hierarchical.nodeSpacing-M,q=this._findCommonParent(this.lastNodeOnLevel[w],v.id);this._shiftBlock(q.withChild,X)}}this.lastNodeOnLevel[w]=v.id,this.positionedNodes[v.id]=!0,this._placeBranchNodes(v.id,w)}}},{key:"_indexArrayToNodes",value:function(v){for(var w=[],M=0;M<v.length;M++)w.push(this.body.nodes[v[M]]);return w}},{key:"_getDistribution",value:function(){var v={},w=void 0,M=void 0;for(w in this.body.nodes)if(this.body.nodes.hasOwnProperty(w)){var L=void 0===this.hierarchical.levels[w]?0:this.hierarchical.levels[w];this.direction.fix(M=this.body.nodes[w],L),void 0===v[L]&&(v[L]={}),v[L][w]=M}return v}},{key:"_getActiveEdges",value:function(v){var w=this,M=[];return C.forEach(v.edges,function(L){-1!==w.body.edgeIndices.indexOf(L.id)&&M.push(L)}),M}},{key:"_getHubSizes",value:function(){var v=this,w={};C.forEach(this.body.nodeIndices,function(X){var te=v._getActiveEdges(v.body.nodes[X]).length;w[te]=!0});var L=[];return C.forEach(w,function(X){L.push(Number(X))}),L.sort(function(X,q){return q-X}),L}},{key:"_determineLevelsByHubsize",value:function(){for(var v=this,w=function(ie,oe){v.hierarchical.levelDownstream(ie,oe)},M=this._getHubSizes(),L=function(ie){var oe=M[ie];if(0===oe)return"break";C.forEach(v.body.nodeIndices,function(fe){oe===v._getActiveEdges(v.body.nodes[fe]).length&&v._crawlNetwork(w,fe)})},X=0;X<M.length&&"break"!==L(X);++X);}},{key:"_determineLevelsCustomCallback",value:function(){var v=this;this._crawlNetwork(function(q,te,ie){var oe=v.hierarchical.levels[q.id];void 0===oe&&(oe=v.hierarchical.levels[q.id]=1e5);var fe=(E.cloneOptions(q,"node"),E.cloneOptions(te,"node"),void E.cloneOptions(ie,"edge"));v.hierarchical.levels[te.id]=oe+fe}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var v=this;this._crawlNetwork(function(q,te,ie){var oe=v.hierarchical.levels[q.id],fe=v.hierarchical.levels[te.id];(function(q){return C.forEach(v.body.edges,function(te){if(te.toId===q.fromId&&te.fromId===q.toId)return!0}),!1})(ie)&&void 0!==oe&&void 0!==fe||(void 0===oe&&(oe=v.hierarchical.levels[q.id]=1e4),v.hierarchical.levels[te.id]=ie.toId==te.id?oe+1:oe-1)}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var v=this;this._crawlNetwork(function(L,X){v.hierarchical.levels[X.id]>v.hierarchical.levels[L.id]&&v.hierarchical.addRelation(L.id,X.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var v=this,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},M=arguments[1],L={},X=function Ce(De,Ae){if(void 0===L[De.id]){v.hierarchical.setTreeIndex(De,Ae),L[De.id]=!0;for(var Ye=void 0,st=v._getActiveEdges(De),it=0;it<st.length;it++){var We=st[it];!0===We.connected&&De.id!=(Ye=We.toId==De.id?We.from:We.to).id&&(w(De,Ye,We),Ce(Ye,Ae))}}};if(void 0===M)for(var q=0,te=0;te<this.body.nodeIndices.length;te++){var ie=this.body.nodeIndices[te];void 0===L[ie]&&(X(this.body.nodes[ie],q),q+=1)}else{var fe=this.body.nodes[M];if(void 0===fe)return void console.error("Node not found:",M);X(fe)}}},{key:"_shiftBlock",value:function(v,w){var M=this,L={};!function q(te){if(!L[te]){L[te]=!0,M.direction.shift(te,w);var ie=M.hierarchical.childrenReference[te];if(void 0!==ie)for(var oe=0;oe<ie.length;oe++)q(ie[oe])}}(v)}},{key:"_findCommonParent",value:function(v,w){var M=this,L={};return function te(ie,oe){var fe=M.hierarchical.parentReference[oe];if(void 0!==fe)for(var Ce=0;Ce<fe.length;Ce++){var De=fe[Ce];ie[De]=!0,te(ie,De)}}(L,v),function te(ie,oe){var fe=M.hierarchical.parentReference[oe];if(void 0!==fe)for(var Ce=0;Ce<fe.length;Ce++){var De=fe[Ce];if(void 0!==ie[De])return{foundParent:De,withChild:oe};var Ae=te(ie,De);if(null!==Ae.foundParent)return Ae}return{foundParent:null,withChild:oe}}(L,w)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new _(this):new f(this)}},{key:"_getCenterPosition",value:function(v){for(var w=1e9,M=-1e9,L=0;L<v.length;L++){var te=this.direction.getPosition(void 0!==v[L].id?v[L]:this.body.nodes[v[L]]);w=Math.min(w,te),M=Math.max(M,te)}return.5*(w+M)}}]),y}();ee.default=p},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0}),ee.VerticalStrategy=ee.HorizontalStrategy=void 0;var R=D(P(3)),H=D(P(4)),Y=D(P(5)),U=D(P(0)),T=D(P(1));function D(f){return f&&f.__esModule?f:{default:f}}var C=function(){function f(){(0,U.default)(this,f)}return(0,T.default)(f,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(g){return this.fake_use(g),this.abstract()}},{key:"setPosition",value:function(g,p){this.fake_use(g,p,arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0),this.abstract()}},{key:"getTreeSize",value:function(g){return this.fake_use(g),this.abstract()}},{key:"sort",value:function(g){this.fake_use(g),this.abstract()}},{key:"fix",value:function(g,p){this.fake_use(g,p),this.abstract()}},{key:"shift",value:function(g,p){this.fake_use(g,p),this.abstract()}}]),f}(),E=function(f){function _(g){(0,U.default)(this,_);var p=(0,H.default)(this,(_.__proto__||(0,R.default)(_)).call(this));return p.layout=g,p}return(0,Y.default)(_,f),(0,T.default)(_,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(p){return p.x}},{key:"setPosition",value:function(p,y){var O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==O&&this.layout.hierarchical.addToOrdering(p,O),p.x=y}},{key:"getTreeSize",value:function(p){var y=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,p);return{min:y.min_x,max:y.max_x}}},{key:"sort",value:function(p){p.sort(function(y,O){return void 0===y.x||void 0===O.x?0:y.x-O.x})}},{key:"fix",value:function(p,y){p.y=this.layout.options.hierarchical.levelSeparation*y,p.options.fixed.y=!0}},{key:"shift",value:function(p,y){this.layout.body.nodes[p].x+=y}}]),_}(C),I=function(f){function _(g){(0,U.default)(this,_);var p=(0,H.default)(this,(_.__proto__||(0,R.default)(_)).call(this));return p.layout=g,p}return(0,Y.default)(_,f),(0,T.default)(_,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(p){return p.y}},{key:"setPosition",value:function(p,y){var O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==O&&this.layout.hierarchical.addToOrdering(p,O),p.y=y}},{key:"getTreeSize",value:function(p){var y=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,p);return{min:y.min_y,max:y.max_y}}},{key:"sort",value:function(p){p.sort(function(y,O){return void 0===y.y||void 0===O.y?0:y.y-O.y})}},{key:"fix",value:function(p,y){p.x=this.layout.options.hierarchical.levelSeparation*y,p.options.fixed.x=!0}},{key:"shift",value:function(p,y){this.layout.body.nodes[p].y+=y}}]),_}(C);ee.HorizontalStrategy=I,ee.VerticalStrategy=E},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=D(P(8)),H=D(P(19)),Y=D(P(6)),U=D(P(0)),T=D(P(1));function D(_){return _&&_.__esModule?_:{default:_}}var C=P(2),E=P(10),I=P(37),f=function(){function _(g,p,y){var O=this;(0,U.default)(this,_),this.body=g,this.canvas=p,this.selectionHandler=y,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},C.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){O._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,T.default)(_,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(p,y,O){void 0!==y&&(this.options.locale=void 0!==y.locale?y.locale:O.locale,this.options.locales=void 0!==y.locales?y.locales:O.locales),void 0!==p&&("boolean"==typeof p?this.options.enabled=p:(this.options.enabled=!0,C.deepExtend(this.options,p)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var p=this.selectionHandler._getSelectedNodeCount(),y=this.selectionHandler._getSelectedEdgeCount(),O=p+y,v=this.options.locales[this.options.locale],w=!1;!1!==this.options.addNode&&(this._createAddNodeButton(v),w=!0),!1!==this.options.addEdge&&(!0===w?this._createSeperator(1):w=!0,this._createAddEdgeButton(v)),1===p&&"function"==typeof this.options.editNode?(!0===w?this._createSeperator(2):w=!0,this._createEditNodeButton(v)):1===y&&0===p&&!1!==this.options.editEdge&&(!0===w?this._createSeperator(3):w=!0,this._createEditEdgeButton(v)),0!==O&&(p>0&&!1!==this.options.deleteNode||0===p&&!1!==this.options.deleteEdge)&&(!0===w&&this._createSeperator(4),this._createDeleteButton(v)),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var p=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(p),this._createSeperator(),this._createDescription(p.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var p=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var y=this.selectionHandler._getSelectedNode();if(void 0!==y){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==y.isCluster){var O=C.deepExtend({},y.options,!1);if(O.x=y.x,O.y=y.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(O,function(v){null!=v&&"editNode"===p.inMode&&p.body.data.nodes.getDataSet().update(v),p.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var p=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(p),this._createSeperator(),this._createDescription(p.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,Y.default)(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var y=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(y),this._createSeperator(),this._createDescription(y.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var O=this.body.edges[this.edgeBeingEditedId],v=this._getNewTargetNode(O.from.x,O.from.y),w=this._getNewTargetNode(O.to.x,O.to.y);this.temporaryIds.nodes.push(v.id),this.temporaryIds.nodes.push(w.id),this.body.nodes[v.id]=v,this.body.nodeIndices.push(v.id),this.body.nodes[w.id]=w,this.body.nodeIndices.push(w.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(M){var L=O.edgeType.findBorderPositions(M);!1===v.selected&&(v.x=L.from.x,v.y=L.from.y),!1===w.selected&&(w.x=L.to.x,w.y=L.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var p=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(p.from,p.to)}}},{key:"deleteSelected",value:function(){var p=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var y=this.selectionHandler.getSelectedNodes(),O=this.selectionHandler.getSelectedEdges(),v=void 0;if(y.length>0){for(var w=0;w<y.length;w++)if(!0===this.body.nodes[y[w]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(v=this.options.deleteNode)}else O.length>0&&"function"==typeof this.options.deleteEdge&&(v=this.options.deleteEdge);if("function"==typeof v){var M={nodes:y,edges:O};if(2!==v.length)throw new Error("The function for delete does not support two arguments (data, callback)");v(M,function(L){null!=L&&"delete"===p.inMode?(p.body.data.edges.getDataSet().remove(L.edges),p.body.data.nodes.getDataSet().remove(L.nodes),p.body.emitter.emit("startSimulation"),p.showManipulatorToolbar()):(p.body.emitter.emit("startSimulation"),p.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(O),this.body.data.nodes.getDataSet().remove(y),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(p,y){var O=C.deepExtend({},this.options.controlNodeStyle);O.id="targetNode"+C.randomUUID(),O.hidden=!1,O.physics=!1,O.x=p,O.y=y;var v=this.body.functions.createNode(O);return v.shape.boundingBox={left:p,right:p,top:y,bottom:y},v}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},C.recursiveDOMDelete(this.editModeDiv);var y=this._createButton("editMode","vis-button vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(y),this._bindHammerToDiv(y,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(C.recursiveDOMDelete(this.editModeDiv),C.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var p=0;p<this.manipulationHammers.length;p++)this.manipulationHammers[p].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),C.recursiveDOMDelete(this.manipulationDiv),C.recursiveDOMDelete(this.editModeDiv),C.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+p]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+p].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+p])}},{key:"_createAddNodeButton",value:function(p){var y=this._createButton("addNode","vis-button vis-add",p.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(y),this._bindHammerToDiv(y,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(p){var y=this._createButton("addEdge","vis-button vis-connect",p.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(y),this._bindHammerToDiv(y,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(p){var y=this._createButton("editNode","vis-button vis-edit",p.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(y),this._bindHammerToDiv(y,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(p){var y=this._createButton("editEdge","vis-button vis-edit",p.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(y),this._bindHammerToDiv(y,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(p){var O=this._createButton("delete",this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",p.del||this.options.locales.en.del);this.manipulationDiv.appendChild(O),this._bindHammerToDiv(O,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(p){var y=this._createButton("back","vis-button vis-back",p.back||this.options.locales.en.back);this.manipulationDiv.appendChild(y),this._bindHammerToDiv(y,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(p,y,O){var v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[p+"Div"]=document.createElement("div"),this.manipulationDOM[p+"Div"].className=y,this.manipulationDOM[p+"Label"]=document.createElement("div"),this.manipulationDOM[p+"Label"].className=v,this.manipulationDOM[p+"Label"].innerHTML=O,this.manipulationDOM[p+"Div"].appendChild(this.manipulationDOM[p+"Label"]),this.manipulationDOM[p+"Div"]}},{key:"_createDescription",value:function(p){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",p))}},{key:"_temporaryBindEvent",value:function(p,y){this.temporaryEventFunctions.push({event:p,boundFunction:y}),this.body.emitter.on(p,y)}},{key:"_temporaryBindUI",value:function(p,y){if(void 0===this.body.eventListeners[p])throw new Error("This UI function does not exist. Typo? You tried: "+p+" possible are: "+(0,H.default)((0,R.default)(this.body.eventListeners)));this.temporaryUIFunctions[p]=this.body.eventListeners[p],this.body.eventListeners[p]=y}},{key:"_unbindTemporaryUIs",value:function(){for(var p in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(p)&&(this.body.eventListeners[p]=this.temporaryUIFunctions[p],delete this.temporaryUIFunctions[p]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var p=0;p<this.temporaryEventFunctions.length;p++)this.body.emitter.off(this.temporaryEventFunctions[p].event,this.temporaryEventFunctions[p].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(p,y){var O=new E(p,{});I.onTouch(O,y),this.manipulationHammers.push(O)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var p=0;p<this.temporaryIds.edges.length;p++){this.body.edges[this.temporaryIds.edges[p]].disconnect(),delete this.body.edges[this.temporaryIds.edges[p]];var y=this.body.edgeIndices.indexOf(this.temporaryIds.edges[p]);-1!==y&&this.body.edgeIndices.splice(y,1)}for(var O=0;O<this.temporaryIds.nodes.length;O++){delete this.body.nodes[this.temporaryIds.nodes[O]];var v=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[O]);-1!==v&&this.body.nodeIndices.splice(v,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(p){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(p.center),this.lastTouch.translation=C.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(p){var O=this.selectionHandler._pointerToPositionObject(this.lastTouch),v=this.body.nodes[this.temporaryIds.nodes[0]],w=this.body.nodes[this.temporaryIds.nodes[1]],M=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var L=v.isOverlappingWith(O),X=w.isOverlappingWith(O);!0===L?(this.selectedControlNode=v,M.edgeType.from=v):!0===X&&(this.selectedControlNode=w,M.edgeType.to=w),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(p){this.body.emitter.emit("disablePhysics");var y=this.body.functions.getPointer(p.center),O=this.canvas.DOMtoCanvas(y);void 0!==this.selectedControlNode?(this.selectedControlNode.x=O.x,this.selectedControlNode.y=O.y):this.body.view.translation={x:this.lastTouch.translation.x+(y.x-this.lastTouch.x),y:this.lastTouch.translation.y+(y.y-this.lastTouch.y)},this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(p){var y=this.body.functions.getPointer(p.center),O=this.selectionHandler._pointerToPositionObject(y),v=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var w=this.selectionHandler._getAllNodesOverlappingWith(O),M=void 0,L=w.length-1;L>=0;L--)if(w[L]!==this.selectedControlNode.id){M=this.body.nodes[w[L]];break}void 0!==M&&void 0!==this.selectedControlNode?!0===M.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(M.id,v.to.id):this._performEditEdge(v.from.id,M.id):(v.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(p){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(p.center),this.lastTouch.translation=C.extend({},this.body.view.translation);var O=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==O)if(!0===O.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var v=this._getNewTargetNode(O.x,O.y);this.body.nodes[v.id]=v,this.body.nodeIndices.push(v.id);var w=this.body.functions.createEdge({id:"connectionEdge"+C.randomUUID(),from:O.id,to:v.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[w.id]=w,this.body.edgeIndices.push(w.id),this.temporaryIds.nodes.push(v.id),this.temporaryIds.edges.push(w.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(p){var y=this.body.functions.getPointer(p.center);if(void 0!==this.temporaryIds.nodes[0]){var O=this.body.nodes[this.temporaryIds.nodes[0]];O.x=this.canvas._XconvertDOMtoCanvas(y.x),O.y=this.canvas._YconvertDOMtoCanvas(y.y),this.body.emitter.emit("_redraw")}else this.body.view.translation={x:this.lastTouch.translation.x+(y.x-this.lastTouch.x),y:this.lastTouch.translation.y+(y.y-this.lastTouch.y)}}},{key:"_finishConnect",value:function(p){var y=this.body.functions.getPointer(p.center),O=this.selectionHandler._pointerToPositionObject(y),v=void 0;void 0!==this.temporaryIds.edges[0]&&(v=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var w=this.selectionHandler._getAllNodesOverlappingWith(O),M=void 0,L=w.length-1;L>=0;L--)if(-1===this.temporaryIds.nodes.indexOf(w[L])){M=this.body.nodes[w[L]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==M&&(!0===M.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[v]&&void 0!==this.body.nodes[M.id]&&this._performAddEdge(v,M.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(p){this.selectionHandler._generateClickEvent("dragStart",p,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(p){var y=this,O={id:C.randomUUID(),x:p.pointer.canvas.x,y:p.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(O,function(v){null!=v&&"addNode"===y.inMode&&(y.body.data.nodes.getDataSet().add(v),y.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(O),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(p,y){var O=this,v={from:p,to:y};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(v,function(w){null!=w&&"addEdge"===O.inMode&&(O.body.data.edges.getDataSet().add(w),O.selectionHandler.unselectAll(),O.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(v),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(p,y){var O=this,v={id:this.edgeBeingEditedId,from:p,to:y,label:this.body.data.edges._data[this.edgeBeingEditedId].label},w=this.options.editEdge;if("object"===(typeof w>"u"?"undefined":(0,Y.default)(w))&&(w=w.editWithoutDrag),"function"==typeof w){if(2!==w.length)throw new Error("The function for edit does not support two arguments (data, callback)");w(v,function(M){null==M||"editEdge"!==O.inMode?(O.body.edges[v.id].updateEdgeType(),O.body.emitter.emit("_redraw"),O.showManipulatorToolbar()):(O.body.data.edges.getDataSet().update(M),O.selectionHandler.unselectAll(),O.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(v),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),_}();ee.default=f},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=F(P(30)),H=F(P(0)),Y=F(P(1)),U=F(P(239));function F(D){return D&&D.__esModule?D:{default:D}}var T=function(){function D(C,E,I){(0,H.default)(this,D),this.body=C,this.springLength=E,this.springConstant=I,this.distanceSolver=new U.default}return(0,Y.default)(D,[{key:"setOptions",value:function(E){E&&(E.springLength&&(this.springLength=E.springLength),E.springConstant&&(this.springConstant=E.springConstant))}},{key:"solve",value:function(E,I){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_=this.distanceSolver.getDistances(this.body,E,I);this._createL_matrix(_),this._createK_matrix(_),this._createE_matrix();for(var y=0,O=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),w=1e9,M=0,L=0,X=0,q=0,te=0;w>.01&&y<O;){y+=1;var ie=this._getHighestEnergyNode(f),oe=(0,R.default)(ie,4);for(M=oe[0],L=oe[2],X=oe[3],q=w=oe[1],te=0;q>1&&te<5;){te+=1,this._moveNode(M,L,X);var fe=this._getEnergy(M),Ce=(0,R.default)(fe,3);q=Ce[0],L=Ce[1],X=Ce[2]}}}},{key:"_getHighestEnergyNode",value:function(E){for(var I=this.body.nodeIndices,f=this.body.nodes,_=0,g=I[0],p=0,y=0,O=0;O<I.length;O++){var v=I[O];if(!1===f[v].predefinedPosition||!0===f[v].isCluster&&!0===E||!0===f[v].options.fixed.x||!0===f[v].options.fixed.y){var w=this._getEnergy(v),M=(0,R.default)(w,3),L=M[0];_<L&&(_=L,g=v,p=M[1],y=M[2])}}return[g,_,p,y]}},{key:"_getEnergy",value:function(E){var I=(0,R.default)(this.E_sums[E],2),f=I[0],_=I[1];return[Math.sqrt(Math.pow(f,2)+Math.pow(_,2)),f,_]}},{key:"_moveNode",value:function(E,I,f){for(var _=this.body.nodeIndices,g=this.body.nodes,p=0,y=0,O=0,v=g[E].x,w=g[E].y,M=this.K_matrix[E],L=this.L_matrix[E],X=0;X<_.length;X++){var q=_[X];if(q!==E){var te=g[q].x,ie=g[q].y,oe=M[q],fe=L[q],Ce=1/Math.pow(Math.pow(v-te,2)+Math.pow(w-ie,2),1.5);p+=oe*(1-fe*Math.pow(w-ie,2)*Ce),y+=oe*(fe*(v-te)*(w-ie)*Ce),O+=oe*(1-fe*Math.pow(v-te,2)*Ce)}}var We=(I/p+f/y)/(y/p-O/y);g[E].x+=-(y*We+I)/p,g[E].y+=We,this._updateE_matrix(E)}},{key:"_createL_matrix",value:function(E){var I=this.body.nodeIndices,f=this.springLength;this.L_matrix=[];for(var _=0;_<I.length;_++){this.L_matrix[I[_]]={};for(var g=0;g<I.length;g++)this.L_matrix[I[_]][I[g]]=f*E[I[_]][I[g]]}}},{key:"_createK_matrix",value:function(E){var I=this.body.nodeIndices,f=this.springConstant;this.K_matrix=[];for(var _=0;_<I.length;_++){this.K_matrix[I[_]]={};for(var g=0;g<I.length;g++)this.K_matrix[I[_]][I[g]]=f*Math.pow(E[I[_]][I[g]],-2)}}},{key:"_createE_matrix",value:function(){var E=this.body.nodeIndices,I=this.body.nodes;this.E_matrix={},this.E_sums={};for(var f=0;f<E.length;f++)this.E_matrix[E[f]]=[];for(var _=0;_<E.length;_++){for(var g=E[_],p=I[g].x,y=I[g].y,O=0,v=0,w=_;w<E.length;w++){var M=E[w];if(M!==g){var L=I[M].x,X=I[M].y,q=1/Math.sqrt(Math.pow(p-L,2)+Math.pow(y-X,2));this.E_matrix[g][w]=[this.K_matrix[g][M]*(p-L-this.L_matrix[g][M]*(p-L)*q),this.K_matrix[g][M]*(y-X-this.L_matrix[g][M]*(y-X)*q)],this.E_matrix[M][_]=this.E_matrix[g][w],O+=this.E_matrix[g][w][0],v+=this.E_matrix[g][w][1]}}this.E_sums[g]=[O,v]}}},{key:"_updateE_matrix",value:function(E){for(var I=this.body.nodeIndices,f=this.body.nodes,_=this.E_matrix[E],g=this.K_matrix[E],p=this.L_matrix[E],y=f[E].x,O=f[E].y,v=0,w=0,M=0;M<I.length;M++){var L=I[M];if(L!==E){var X=_[M],q=X[0],te=X[1],ie=f[L].x,oe=f[L].y,fe=1/Math.sqrt(Math.pow(y-ie,2)+Math.pow(O-oe,2)),Ce=g[L]*(y-ie-p[L]*(y-ie)*fe),De=g[L]*(O-oe-p[L]*(O-oe)*fe);_[M]=[Ce,De],v+=Ce,w+=De;var Ae=this.E_sums[L];Ae[0]+=Ce-q,Ae[1]+=De-te}}this.E_sums[E]=[v,w]}}]),D}();ee.default=T},function(ge,ee,P){Object.defineProperty(ee,"__esModule",{value:!0});var R=$(P(0)),H=$(P(1));function $(B){return B&&B.__esModule?B:{default:B}}var Y=function(){function B(){(0,R.default)(this,B)}return(0,H.default)(B,[{key:"getDistances",value:function(F,T,D){for(var C={},E=F.edges,I=0;I<T.length;I++){var _={};C[T[I]]=_;for(var g=0;g<T.length;g++)_[T[g]]=I==g?0:1e9}for(var p=0;p<D.length;p++){var y=E[D[p]];!0===y.connected&&void 0!==C[y.fromId]&&void 0!==C[y.toId]&&(C[y.fromId][y.toId]=1,C[y.toId][y.fromId]=1)}for(var O=T.length,v=0;v<O;v++)for(var w=T[v],M=C[w],L=0;L<O-1;L++)for(var X=T[L],q=C[X],te=L+1;te<O;te++){var ie=T[te],oe=C[ie],fe=Math.min(q[ie],q[w]+M[ie]);q[ie]=fe,oe[X]=fe}return C}}]),B}();ee.default=Y}])},156:Ga=>{function ge(P,W,R,V,H,$,Y){try{var B=P[$](Y),U=B.value}catch(F){return void R(F)}B.done?W(U):Promise.resolve(U).then(V,H)}Ga.exports=function ee(P){return function(){var W=this,R=arguments;return new Promise(function(V,H){var $=P.apply(W,R);function Y(U){ge($,V,H,Y,B,"next",U)}function B(U){ge($,V,H,Y,B,"throw",U)}Y(void 0)})}},Ga.exports.__esModule=!0,Ga.exports.default=Ga.exports}},Ga=>{Ga(Ga.s=316)}]);